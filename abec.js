"use strict";


// defn :: (main constants) : useful for if another script overwrites something
// ----------------------------------------------------------------------------------------------------------------------------
    const MAIN = globalThis; // context
    const VOID = (function(){}()); // undefined
    const NULL = null; // syntax sugar
    const TRUE = (!0);
    const FALS = (!1);
// ----------------------------------------------------------------------------------------------------------------------------




// func :: bake : define immutable property .. shorhand for Object.defineProperty and all required constituents
// ----------------------------------------------------------------------------------------------------------------------------
    const bake = function bake(p,v,x,s)
    {
        if(((typeof p)==="function")&&(v===VOID)){if(!p.name){return}; v=p; p=v.name}; // named function
        if(!x){x=MAIN}; // if no context is given then MAIN is assumed
        if(((typeof p)!="string")){return}; if(!x.hasOwnProperty){return}; // validation
        if(v===VOID){v=x[p]; if(v===VOID){return}}; // value is already in context, or undefined
        if(s){Object.defineProperty(x,p,{value:v})} // soft .. not bake -but saves duplication
        else{Object.defineProperty(x,p,{writable:false,enumerable:false,configurable:false,value:v})}; // harden, or fail
        return v; // all is well
    };

    bake(bake); // harden unbaked
    bake("MAIN",MAIN); bake("VOID",VOID); bake("NULL",NULL); bake("TRUE",TRUE); bake("FALS",FALS);
// ----------------------------------------------------------------------------------------------------------------------------




// func :: hard/soft : define something in another context (e.g global) -from within any other context .. immutable -or mutable
// ----------------------------------------------------------------------------------------------------------------------------
    bake(function hard(p,v,x){return bake(p,v,x)});   // syntax sugar for bake hard .. immutable
    bake(function soft(p,v,x){return bake(p,v,x,1)}); // syntax sugar for bake soft .. mutable
// ----------------------------------------------------------------------------------------------------------------------------




// func :: defn : define immutable globals .. syntax sugar .. returns true if all went well
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function defn(o)
    {
        let t,f; t=(typeof o); f=0; // t:type .. f:fail

        if(t=="string")
        {
            let l=o.trim(); if(!l){return}; // validation
            l.split(" ").forEach((i)=>{i=i.trim(); if(!i){f++;return}; bake(i,`:${i}:`)});
            return (f?(!1):(!0)); // if all defined then return true, else false
        };

        if(t=="object")
        {
            if(Object.keys(o).length<1){return}; // validation
            for(let k in o)
            {
                if(((typeof k)!="string")||(k.length<1)||!o.hasOwnProperty(k)){f++;continue}; // validation
                bake(k,o[k]);
            };
            return (f?(!1):(!0)); // if all defined then return true, else false
        };

        // .. or return undefined
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: (dump/moan) : console.log & console.error shorthands
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function dump(){console.log.apply(console,([].slice.call(arguments)))});
    hard(function moan(m)
    {
        let a=([].slice.call(arguments)); if(isKnob(m)){m=text(m); a[0]=m};
        a.unshift("\x1b[31m%s\x1b[0m"); console.error.apply(console,a);
    });
// ----------------------------------------------------------------------------------------------------------------------------




// defn :: (global constants) : to use everywhere .. mostly for shorthand .. syntax-sugar
// ----------------------------------------------------------------------------------------------------------------------------
    defn("A B C D E F G H I J K L M N O P Q R S T U V W X Y Z");
    defn("OK NA TL TM TR RT RM RB BR BM BL LB LM LT MM");
    defn("ANY ALL");
    defn("INIT AUTO COOL DARK LITE INFO GOOD NEED WARN FAIL NEXT SKIP STOP DONE ACTV NONE BUSY KEYS VALS ONCE EVRY BFOR AFTR");
    defn("UNTL EVNT FILL TILE SPAN OPEN SHUT SELF VERT HORZ DEEP OKAY DUMP");
    defn("CLIENT SERVER SILENT UNIQUE COPIES FORCED EXCEPT");

    defn
    ({
        CRUDREFS:`count fetch using alter write claim touch where group order limit parse shape apply erase purge debug dbase
        table field sproc funct after basis named param parts yield`,

        DIRINDEX:`aard.html aard.htm aard.js aard.md index.html index.htm index.js index.md README.md`,
    });
// ----------------------------------------------------------------------------------------------------------------------------
// 10,000 max



// defn :: ENVITYPE : string reference as the type of environment this script is running in
// ----------------------------------------------------------------------------------------------------------------------------
    defn({ENVITYPE:(function()
    {
        if(((typeof window)!="undefined")&&((typeof __dirname)!="string")){return "web"};
        if(((typeof browser)!="undefined")&&!!browser.browserAction&&((typeof browser.browserAction.getPopup)=="function"))
        {return "ext"}; return "njs";
    }())});

    defn({CLIENTSIDE:(ENVITYPE!="njs"), SERVERSIDE:(ENVITYPE=="njs")});

    defn({WEB:((ENVITYPE=="web")?"web":""), EXT:((ENVITYPE=="ext")?"ext":""), NJS:((ENVITYPE=="njs")?"njs":"")});
// ----------------------------------------------------------------------------------------------------------------------------




// func :: runsAt : to use when expected to run at CLIENT or SERVER
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function runsAt(w)
    {
        if((w!=CLIENT)&&(w!=SERVER)){return}; let m=`only available at ${w}`; // validation
        if((w==CLIENT)&&(ENVITYPE=="njs")){fail(m); return FALS};
        if((w==SERVER)&&(ENVITYPE!="njs")){fail(m); return FALS};
        return TRUE;
    });
// ----------------------------------------------------------------------------------------------------------------------------




// defn :: PROTOCOL : string reference as the URL-schema of the environment this script is running in
// ----------------------------------------------------------------------------------------------------------------------------
    defn({PROTOCOL:(function()
    {
        if(ENVITYPE=="web"){return (location.protocol+"").split(":").join("")};
        if(ENVITYPE=="njs"){return "file"};
        return "webext";
    }())});
// ----------------------------------------------------------------------------------------------------------------------------




// defn :: HOSTNAME : string reference as the name of the machine this script is running in
// ----------------------------------------------------------------------------------------------------------------------------
    defn({HOSTNAME:(function()
    {
        if(ENVITYPE=="web"){return location.hostname};
        if(ENVITYPE=="njs"){let os,hn; os=require("os"); hn=os.hostname(); os=VOID; return hn};
        return ":webext:";
    }())});
// ----------------------------------------------------------------------------------------------------------------------------




// defn :: HOSTPURL : string reference as a path-URL of the host running this script
// ----------------------------------------------------------------------------------------------------------------------------
    defn({HOSTPURL:(function()
    {
        if(ENVITYPE=="web"){return (PROTOCOL+"://"+HOSTNAME)};
        if(ENVITYPE=="njs"){return process.cwd()};
        return "webext";
    }())});
// ----------------------------------------------------------------------------------------------------------------------------




// func :: span : length of anything .. spanIs -to verify/assert span
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function span(d,x)
    {
        if((d===NULL)||(d===VOID)||(!d&&isNaN(d))){return 0};  if(!isNaN(d)){d=(d+"")};
        if(x&&((typeof x)=="string")&&((typeof d)=="string")){d=(d.split(x).length-1); return d};
        let s=d.length; if(!isNaN(s)){return s;};
        try{s=Object.getOwnPropertyNames(d).length; return s;}
        catch(e){return 0;}
    });

    hard(function spanIs(d,g,l){let s=(((typeof d)=='number')?d:span(d)); g=(g||0); l=(l||s); return ((s>=g)&&(s<=l))});
// ----------------------------------------------------------------------------------------------------------------------------



// shiv :: (types) : shorthands to identify variables .. g & l is "greater-than" & "less-than" -which counts items inside v
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function isVoid(v){return ((v===VOID)||(v===null))});
    hard(function isBool(v){return ((v===TRUE)||(v===FALS))});
    hard(function isBare(v)
    {
        let w=what(v); if(w=="func"){v=v.parted(); return (span(v.body)<1)};
        return (isin("text,list,knob",w)?(span(v)<1):VOID);
    });

    hard(function isNumr(v,g,l){if(!((typeof v)==='number')||isNaN(v)){return FALS}; return (isVoid(g)||spanIs(v,g,l))});
    hard(function isFrac(v,g,l){if(!(isNumr(v)&&((v+'').indexOf('.')>0))){return FALS}; return (isVoid(g)||spanIs(v,g,l))});
    hard(function isInum(v,g,l){if(!isNumr(v)||isFrac(v)){return FALS}; return (isVoid(g)||spanIs(v,g,l))});

    hard(function isText(v,g,l){if(!((typeof v)==='string')){return FALS}; return (isVoid(g)||spanIs(v,g,l))});
    hard(function isWord(v,g,l){if(!test(trim(v,'_'),/^([a-zA-Z])([a-zA-Z0-9_]{1,35})+$/)){return}; return (isVoid(g)||spanIs(v,g,l))});
    hard(function isJson(v,g,l){return (isin(['[]','{}','""'],wrapOf(v))?TRUE:FALS);});
    hard(function isPath(v,g,l){if(!test(v,/^([a-zA-Z0-9-\/\._@~$]){1,432}$/)){return FALS}; return (((v[0]=='/')||(v[0]=='.'))&&(isVoid(g)||spanIs(v,g,l)))});
    hard(function isDurl(v,g,l){return (isText(v)&&(v.indexOf('data:')===0)&&(v.indexOf(';base64,')>0));});
    hard(function isPurl(v,g,l)
    {
        if(!isText(v)){return FALS}; let t=v.split("?")[0].split("://")[1]; if(!t){return FALS};
        return (isVoid(g)||spanIs(v,g,l));
    });

    hard(function isList(v,g,l)
    {
        let t=Object.prototype.toString.call(v).toLowerCase();
        if((t.indexOf('arra')<0)&&(t.indexOf('argu')<0)&&(t.indexOf('list')<0)&&(t.indexOf('coll')<0)){return FALS};
        return (isVoid(g)||spanIs(v,g,l))
    });

    hard(function isData(v,g,l)
    {
        if(!isList(v)||!isKnob(v[0])){return FALS};
        let frk,lrk; frk=keys(v[0]).join(""); lrk=keys(v[(v.length-1)]).join("");
        if((frk.length<1)||(frk!==lrk)){return FALS};
        return (isVoid(g)||spanIs(v,g,l))
    });

    hard(function isKnob(v,g,l) // KNOB = Key-Notation OBject
    {if(((typeof v)!='object')||isList(v)){return FALS}; return (isVoid(g)||spanIs(v,g,l))});

    hard(function isFunc(v,g,l){if(!((typeof v)==='function')){return FALS}; return TRUE});

    hard(function isNode(v,g,l)
    {
        if(isVoid(v)||((typeof v)!='object')){return FALS}; if((typeof v.getBoundingClientRect)!='function'){return FALS};
        return (isVoid(g)||spanIs(v.childNodes.length,g,l));
    });

    hard(function isTemp(v){return (v instanceof DocumentFragment)});

    hard(function isFold(v,g,l)
    {
        if(CLIENTSIDE){return}; // ?
        if(!isPath(v)){return}; if(!disk.exists(v)){return};
        let r=disk.stat(v).isDirectory(); if(!r||!g){return r};
        r=disk.readdir(v); return spanIs(r,g,l);
    });

    hard(function isFile(v,g,l)
    {
        if(CLIENTSIDE){return}; // ?
        if(!isPath(v)){return}; if(!disk.exists(v)){return};
        let r=disk.stat(v); if(!r.isFile()){return}; r=r.size;
        if(!g){return r}; return spanIs(r,g,l);
    });

    hard(function isDeep(a,g,l)
    {
        let r=FALS; if(isText(a))
        {
            if(!expect.path(a)){return}; if(CLIENTSIDE){fail("context :: isDeep(path) only works server-side"); return};
            if(!isFold(a)){return FALS}; a=disk.scandir(a);
        };

        if(!isFunc(a.forEach)){return FALS}; // must be enumerable object/array
        a.forEach((v)=>{if(isin("list,knob,func",what(v))){r=TRUE}});
        return r;
    });
// ----------------------------------------------------------------------------------------------------------------------------




// shiv :: (trim) : trim either white-space or substring from begin -and/or end of string
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function ltrim(t,c)
    {
        if(!isText(t,1)){return t}; if(c===VOID){return t.replace(/^\s+/g,'')};
        if(isNumr(c)){c=(c+'')}; if(!isText(c)){return t}; let s=c.length; while(t.indexOf(c)===0){t=t.slice(s);}; return t;
    });

    hard(function rtrim(t,c)
    {
        if(!isText(t,1)){return t}; if(c===VOID){return t.replace(/\s+$/g,'')};
        if(isNumr(c)){c=(c+'')}; if(!isText(c)){return t}; let s=c.length;
        while(t.slice((0-s))==c){t=t.slice(0,(t.length-s));};
        return t;
    });

    hard(function trim(t,b,e)
    {
        if(!isText(t,1)){return t}; if((b===VOID)&&(e===VOID)){return t.trim();}; if(isNumr(b)){b=(b+'')};
        if(e===VOID){e=b}else if(isNumr(e)){e=(b+'')}; if(b===e){t=rtrim(ltrim(t,b),e); return t;};
        if(b&&!e){return ltrim(t,b)}; if(e&&!b){return rtrim(t,e)}; return t;
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: part : split once on first occurance of delimeter
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function part(t,a)
    {
        var c,i,b,e,s; c=isin(t,a); if(!c){return};
        s=c.length; i=t.indexOf(c);  b=((i>0)?t.slice(0,i):'');  e=(t[(i+s)]?t.slice((i+s)):'');  return [b,c,e];
    });

    hard(function rpart(t,a)
    {
        var c,i,b,e,a,s;  c=isin(t,a); if(!c){return};
        s=c.length; i=t.lastIndexOf(c); b=((i>0)?t.slice(0,i):''); e=(t[(i+s)]?t.slice((i+s)):'');  return [b,c,e];
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: diff : get the difference between 2 of anything
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function diff(a1,a2)
    {
        let t1,t2,tv; t1=what(a1); t2=what(a2);
        if((span(a1)<1)||(span(a2)<1)||(t1!==t2)){return};

        if(t1 == "numr"){return ((a1>a2)?(a1-a2):(a2-a1))} // returns number
        else if(t1 == "text"){a1=a1.split(a2); a2=a2.split(a1)} // returns list
        else if(t1 == "knob"){a1=keys(a1); a2=keys(a2)} // returns list
        else if(t1 == "func"){a1=a1.parted().body; a2=a2.parted().body} // returns list
        else if(t1 != "list"){moan("cannot get the diff of `"+t1+"`")}; // add more options above this line

        if(!isList(a1)){return [VOID]}; // expected to return list but method to convert to list is undefined above
        return a1.filter((i)=>{return (a2.indexOf(i)<0)});
    });
// ----------------------------------------------------------------------------------------------------------------------------




// shiv :: (case) : set -and test text-case
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function lowerCase(v){if(!isText(v,1)){return v}; return v.toLowerCase()});
    hard(function upperCase(v){if(!isText(v,1)){return v}; return v.toUpperCase()});
    hard(function proprCase(v){if(!isText(v,1)){return v}; return (v[0].toUpperCase()+(v[1]?v.substring(1).toLowerCase():''))});
    hard(function camelCase(v,camlBack)
    {
        if(!isText(v,1)){return v}; v=v.toLowerCase().split(' ').join('-'); let r='';
        v.split('-').forEach((i)=>{r+=proprCase(i)});
        if(!camlBack){return r;}; let f=r.slice(0,1); r=r.slice(1); return (f.toLowerCase()+r);
    });

    hard(function isLowerCase(v){return (v===lowerCase(v));});
    hard(function isUpperCase(v){return (v===upperCase(v));});
    hard(function isProprCase(v){return (v===proprCase(v));});
    hard(function isCamelCase(v,cb){return (v===camelCase(v,cb));});
// ----------------------------------------------------------------------------------------------------------------------------




// func :: escapeHtml : sanitise text for safer HTML rendering
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function escapeHtml(text)
    {
        if(!isText(text)){return text};

        var map = // object
        {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#039;",
        };

        return text.replace(/[&<>"']/g, function(m){return map[m];});
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: test : test a string against some Regex pattern
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function test(v,x)
    {
        if(((typeof v)!="string")||(v.length<1)){return FALS}; if(!x){return};
        if((typeof x)=="string"){if(wrapOf(x)!=="//"){return}; x=(new RegExp(x));}; if(!x){return};
        if(x.constructor&&(x.constructor.name=="RegExp")){return (x.test(v)?TRUE:FALS)};
        if(isFunc(x)){return x(v)};
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: what : concise `typeof` .. returns 4-letter word, or undefined
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function what(v)
    {
        let l=("Void,Bool,Numr,Text,List,Knob,Func").split(",");
        for(let i in l){if(!l.hasOwnProperty(i)){continue}; if(MAIN[`is${l[i]}`](v)){return l[i].toLowerCase()}};
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: keys/vals : return a list of own-keys, or own-values of an object .. returns empty array if invalid
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function keys(o,x)
    {
        if(!isKnob(o)&&!isList(o)&&!isFunc(o)){return []}; // validation .. array is expected as return value
        let r=Object.getOwnPropertyNames(o); if(!isNumr(x)){return r}; // get properties .. return all
        if(x<0){x=((r.length-1)+x)}; return r[x];
    });

    hard(function vals(o,x)
    {
      let r=[]; keys(o).forEach((k)=>{r.push(o[k])});
      if(!isNumr(x)){return r}; if(x<0){x=((r.length-1)+x)};
      return r[x];
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: seen : returns the value of the first occurence in given context -or undefined .. if no x is given -MAIN is assumed
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function seen(f,x)
    {
        if(isVoid(x)&&isText(f,1)){return (new Function(`try{return ${f};}catch(e){};`))();}; // global / constant
        if(!x||(x===TRUE)||(f===VOID)){return}; // validation .. no search-able context, or trying to find `undefined`
        if(isNumr(x)){x=(x+""); if(isNumr(f)){f=(f+"");}}; // turn numbers into strings for searching
        if(!isFunc(x.indexOf)){x=keys(x);}; if(!x.length){return}; // validation
        if(!isList(f)){return ((x.indexOf(f)>-1)?f:VOID)}; // single search
        for(let i in f){if(!f.hasOwnProperty(i)){continue}; if(x.indexOf(f[i])>-1){return f[i]}}; // bulk search
    });

    hard(function isin(x,f){return seen(f,x)}); // syntax sugar .. reversed params for `seen`
// ----------------------------------------------------------------------------------------------------------------------------




// func :: mean : parse text into meaning
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function mean(v,km,vm, s,k,r)
    {
        if(!isText(v,1)){return};  let t=v.trim();  if(!t){return t}; v=VOID; // obvious stuff out the way
        try{let r=JSON.parse(t); return r}catch(e){}; // JSON does most of the heavy lifting
        if((t.startsWith("function ")||t.startsWith("("))&&(isin(t,["){",")=>",")\n"])&&isin(t,"}")))
        {
            r=(new Function("let f="+t+"\nreturn f"))();
            return r;
        };
        t=t.split(";").join("\n"); if(isin(t,"\n"))
        {
            r={}; t.split("\n").forEach((l)=>
            {
                let o=mean(l,km,vm); if(!isKnob(o)){r[span(r)]=o; return};
                k=keys(o)[0]; r[k]=o[k];
            });
            return r;
        };

        if(isin(t,['"',"`"])){return v}; // ignore multi-line or too complex
        s=part(t,":"); if(s)
        {k=trim(s[0]," "); if(isin(k,[" ",","])){return t}; if(km){k=km(k)}; v=mean(s[2]); if(vm){v=vm(v)}; return {[k]:v}};
        if(!isin(t,",")){return t}; // not a list
        r=[]; t.split(",").forEach((i)=>{r.radd(mean(i))});
        return r;
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: text : parse meaning into text
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function text(v,w, r)
    {
        if((v===VOID)||isFunc(v)||isText(v)){return (v+"")};
        try{r=JSON.stringify(v);}catch(e){r=(v+"")};
        return (r||"");
    });
    hard(function textOf(v,w){return text(v,w)});
// ----------------------------------------------------------------------------------------------------------------------------




// func :: bool : parse implicit boolean
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function bool(x)
    {
        if(isBool(x)){return x}; if(span(x)<1){return FALS};
        if(isNumr(x)){return ((x<1)?FALS:TRUE)};

        if(isText(x))
        {
            x=lowerCase(trim(x)); if(!test(x,/[a-z0-1\+\-]{1,8}/)){return};
            if(isin(`+ 1 y ok yes true good okay positive`,x)){return TRUE};
            if(isin(`- 0 n no bad fals null false negative`,x)){return FALS};
            return;
        };

        if(isList(x)||isKnob(x)){return bool(vals(x)[0])};
        return;
    });
    hard(function boolOf(x){return bool(x)});
// ----------------------------------------------------------------------------------------------------------------------------




// func :: bore : get/set/rip keys of objects by dot -or slash delimiter
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function bore(o,k,v)
    {
        if(((typeof k)!='string')||(k.trim().length<1)||isin(k,"*")){return}; // invalid
        if(seen("/",k)&&!seen(".",k)){k=k.split("/").join(".")}; // slashes to dots
        let t=""; k.split(".").forEach((i)=>{t+=(!isNaN(i)?`[${i}]`:`.${i}`)}); k=t;
        if(v===VOID){return (new Function("a",`return a${k}`))(o)}; // get
        if(v===NULL){(new Function("a",`delete a.${k}`))(o); return TRUE}; // rip
        (new Function("a","z",`a.${k}=z`))(o,v); return TRUE; // set
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: rename : define/change the name of a function
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function rename(f,n)
    {
        let t,p,r; if(isText(f)){t=f; f=n; n=t}; // swap args
        if(((typeof f)!='function')||((typeof n)!='string')||(n.trim().length<1)){return}; // validate
        p=f.parted(); if(p.name){p.name=n}; t=p.toString(); r=(new Function("a",`return {[a]:${t}}[a];`))(n);
        return r;
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: copyOf : duplicate .. if numr or text then n repeats n-times
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function copyOf(v,n, r)
    {
        if(isVoid(v)||(v===null)||(v==="")||isBool(v)){return v};
        if(isNumr(v)||isText(v)){if(!n){return v}; v=(v+''); n=parseInt(n); r=''; for(let i=0;i<n;i++){r+=v}; return r};
        if(((typeof Element)!=="undefined")&&(v instanceof Element)){return (v.cloneNode(true))};
        if(isList(v)){r=[]; v=([].slice.call(v)); v.forEach((i)=>{r.push(copyOf(i))}); return r};
        if(isFunc(v)){r=new Function('return ' + this.toString())(); this.forEach((v,k)=>{r[k]=copyOf(v)}); return r;};
        if(isKnob(v)){r={}; for(let k in v){if(!v.hasOwnProperty(k)){continue}; r[k]=copyOf(v[k])}; return r};
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: extend : define hardened properties -- neat shorthand to define multiple immutable properties of multiple targets
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function extend()
    {
        var a = [].slice.call(arguments);
        var z = function(d)
        {
            if(!isKnob(d)){return}; let r,o; r=TRUE; o={writable:FALS,enumerable:FALS,configurable:FALS,value:VOID};
            a.forEach((i)=>
            {
                if((("o,f").indexOf((typeof i)[0])<0)){r=FALS; moan("extend only words with objects and functions"); return};
                for(let p in d)
                {
                    if(!d.hasOwnProperty(p)){continue;}; let w,v,c,t,q; w=VOID; v=VOID; c=VOID; v=d[p]; t=(typeof v)[0];
                    if(!p.startsWith("hard ")&&!p.startsWith("soft ")){p=("hard "+p);}; // must be `hard` or `soft`
                    p=p.split(" "); w=p.shift(); p=p.pop().trim(); w=((w=="soft")?TRUE:FALS); // hard/soft determines writable
                    if(isin("o,f",t)){q=copyOf(o); q.value=p; Object.defineProperty(v,"name",q)};
                    c=copyOf(o); c.writable=w; c.value=v; try{Object.defineProperty(i,p,c)}catch(e){r=FALS;};
                };
                return r;
            });
        }; z.with=z;

        return z;
    });

    extend(Math)({name:'Math'});  extend(console)({name:'console'});
// ----------------------------------------------------------------------------------------------------------------------------




// func :: isConstructor : check if given arg is a constructor
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function isConstructor(f)
    {
        try{new f();}catch(e){if(e.message.indexOf('not a constructor')>=0){return FALS;}};
        return TRUE;
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: listOf : convert into list
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function listOf(a)
    {
        if(isList(a))
        {
            if(!!a.forEach&&!!a.pop){return a};
            return ([].slice.call(a));
        };
        return [a];
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: pathOf : get path from string
// ----------------------------------------------------------------------------------------------------------------------------
   hard(function pathOf(v)
   {
      if(!isText(v)){return}; let r=trim(v); if(!r){return}; if(isPath(r)){return r;}; if(r.startsWith("~")){return ("/"+r);};
      if(!isText(v,2)){return}; r=v; if(isin(r,'://')){r=r.split('://')[1]}; r=part(r,'/'); if(!r){return};
      r=('/'+r[2]); r=r.split('//').join('/'); r=r.split(' ').join('_'); r=r.split('?')[0];
      return (isPath(r)?r:VOID);
   });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: twig : get path from string - minus the last item after `/`
// ----------------------------------------------------------------------------------------------------------------------------
   hard(function twig(v)
   {
       let r=pathOf(v); if(!r){return};
       return r.split("/").rpop(TRUE).join("/");
   });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: leaf : base-name from path
// ---------------------------------------------------------------------------------------------------------------------------------------------
   hard(function leaf(p)
   {
      let r=pathOf(p); if(!r){r=pathOf('/'+p); if(!r){return}}; let b=r.split('/').pop(); return b;
   });
// ---------------------------------------------------------------------------------------------------------------------------------------------




// func :: fext : get valid file extension from path
// ----------------------------------------------------------------------------------------------------------------------------
   hard(function fext(p)
   {
      let r=pathOf(p); if(!r){r=pathOf('/'+p); if(!r){return}}; let b=r.split('/').pop();
      if(!isin(b,'.')){return}; r=b.split('.').pop();
      if(test(r,/^[a-zA-Z0-9]{1,8}$/)){return r};
   });
// ----------------------------------------------------------------------------------------------------------------------------




// shiv :: (wrap) : related to distinct first and last character pairs in text
// --------------------------------------------------------------------------------------------------------------------------------------------
   hard(function isWrap(v, r,l)
   {
      if(!isText(v,2)){return FALS}; r=(v.slice(0,1)+v.slice(-1)); l="\"\" '' `` {} [] () <> // :: \\\\ **".split(" ");
      return ((l.indexOf(r)<0)?FALS:r);
   });

   hard(function wrapOf(v, w){w=isWrap(v); return (w?w:'')});
   hard(function unwrap(v, w){w=isWrap(v); return (w?v.slice(1,-1):v)});
// --------------------------------------------------------------------------------------------------------------------------------------------




// func :: akin : check if needle is similar to hastack .. as in: "begins-with", "ends-with" or "contains" .. marked with `*`
// ----------------------------------------------------------------------------------------------------------------------------
   hard(function akin(h,n, l,f,p,b,e)
   {
      if(!isText(h,1)||!isText(n,1)){return (h==n)}; if(n.indexOf("*")<0){return (h==n)}; // validate
      if(n.indexOf("**")>-1){if(n.startsWith('**')||n.endsWith("**")){return;}}; // validate
      if(n==="*"){return TRUE;}; if(n.length<2){return}; // for * or invalid
      if(wrapOf(n)==="**"){n=unwrap(n); return (h.indexOf(n)>-1)}; // contains
      if(n.startsWith("*")){n=ltrim(n,"*"); return h.endsWith(n);}; // ends-with
      if(n.slice(-1)==='*'){n=rtrim(n,"*"); return h.startsWith(n);}; // starts-with
      if(n.indexOf("**")<1){return FALS;}; p=n.split("**");
      b=akin(h,(p[0]+"*")); e=akin(h,("*"+p[1])); return (b&&e); // starts-&-ends-with
   });
// ----------------------------------------------------------------------------------------------------------------------------




// tool :: time : returns seconds
// ----------------------------------------------------------------------------------------------------------------------------
   extend(MAIN)
   ({
      round:function round(n,d, r)
      {
         if(isList(n)){n.forEach((v,k)=>{n[k]=round(v,d)}); return n};
         if(!isNumr(n)){return}; if(isInum(n)){return n}; if(!d||!isInum(d)){return Math.round(n)}; r=n.toFixed(d); r=rtrim(rtrim(r,'0'),'.');
         r=(r*1); return r;
      },
      time:function time(d, r)
      {
         r=((isText(d)?Date.parse(d):Date.now()) / 1000);
         return (isInum(d)?round(r,d):Math.round(r));
      },
   });
// ----------------------------------------------------------------------------------------------------------------------------




// shiv :: (array) : tools for arrays
// ----------------------------------------------------------------------------------------------------------------------------
   extend(Array.prototype)
   ({
      ladd:function ladd(i){this.unshift(i); return this},
      radd:function radd(i){this[this.length]=i; return this},

      lpop:function lpop(n, r)
      {
          if(!n){r=this.shift(); return r;};
          if(n===TRUE){this.shift(); return this;};
      },
      rpop:function rpop(n, r)
      {
          if(!n){r=this.pop(); return r;};
          if(n===TRUE){this.pop(); return this;};
      },
      xpop:function xpop(f,n)
      {
          let x=this.indexOf(f); if(i > -1){this.splice(x,1)};
          return this;
      },

      item:function item(x){if(!isInum(x)){return}; if(x<0){x=(this.length+x)}; return this[x];},
      last:function last(i){let z=(this.length-1); if(i){return z}; return ((z<0)?VOID:this[z])},
   });

   const ladd = function ladd(a,i){a.ladd(i); return a};
   const radd = function radd(a,i){a.radd(i); return a};

   const lpop = function lpop(a,i){let r=a.lpop(); return r};
   const rpop = function rpop(a,i){let r=a.rpop(); return r};
   const xpop = function xpop(a,i){let r=a.xpop(); return r};

   const last = function last(a,i){let r=a.last(i); return r};

   const args = function args(a)
   {
       if(span(a)<1){return [];}; // void or empty
       if(!isList(a)){a=[a];}; // thing to arguments array
       if(isList(a[0])){a=a[0];}; // sub-arguments-array
       a=([].slice.call(a));
       return a;
   };
// ----------------------------------------------------------------------------------------------------------------------------




// shiv :: (array) : tools for objects
// ----------------------------------------------------------------------------------------------------------------------------
   extend(Object.prototype)
   ({
       forEach:function forEach(cb)
       {
           for(let k in this)
           {
               if(!this.hasOwnProperty(k)){continue};
               let r=cb.apply(this,[this[k],k]); if(r===STOP){break};
           };
       },
   });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: nodeName : of element
// ----------------------------------------------------------------------------------------------------------------------------
   hard(function nodeName(o)
   {
      if(isNode(o)){return o.nodeName.toLowerCase()}; if(isKnob(o)){return keys(o)[0]};
   });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: fail : trigger error
// ----------------------------------------------------------------------------------------------------------------------------
    extend(MAIN)
    ({
        fail:function fail(m, a,n,f,l,s,p,o)
        {
           if(MAIN.HALT){return}; MAIN.HALT=1; if(MAIN.Busy){Busy.tint('red')}; tick.after(2000,()=>{MAIN.HALT=0});
           if(wrapOf(m)=="{}"){m=JSON.parse(m);};
           if(isText(m))
           {
               if(isin(m,"evnt: ")&&isin(m,"\nmesg: "))
               {
                   a=m.split("\n"); lpop(a); m=part(a[0],": ")[2]; n=part(m,' - ');
                   if(n&&isWord(n[0])){m=n[2];n=n[0]}else{n="Undefined"};
                   f=part(a[1],": ")[2]; l=part(a[2],": ")[2]; a=decode.jso(atob(part(a[3],": ")[2]));
                   s=[]; a.forEach((i)=>{radd(s,`${i.func} ${i.file} ${i.line}`)}); o={evnt:n,mesg:m,file:f,line:l,stak:s};
                   if(seenFail(o)){return}; emit("FAIL",o); return;
               };
               if(!isin(m,' :: ')){m=('Usage :: '+m);}; n=part(m,' :: '); m=n[2]; n=n[0]; s=stak(); p=(s[0]||"").split(" ");
               o={evnt:n,mesg:m,file:p[1],line:p[2],stak:s}; m=copyOf(o); moan(o);
               if(seenFail(o)){return}; emit("FAIL",o); return;
           };
           if(!isKnob(m)){console.error(m); alert("an error has occurred, me scuzi"); return};
           m.evnt=(m.evnt||m.name); if(!m.evnt){p=part(m.mesg," - "); if(p&&isWord(p[0])){m.evnt=p[0]; m.mesg=p[2]}};
           m.stak=(m.stak||stak());
           if(isKnob(m.stak[0])){s=[]; m.stak.forEach((i)=>{radd(s,`${i.func} ${i.file} ${i.line}`)}); m.stak=s};
           if(seenFail(m)){return}; emit("FAIL",m); return true;
       },

       seenFail:function seenFail(d, r)
       {
           d=md5(`${d.evnt}${d.mesg}${d.file}${d.line}`); r=(this.hash==d); this.hash=d; return r;
       }.bind({hash:""}),
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: jack : intercept class-constructors or methods
// ----------------------------------------------------------------------------------------------------------------------------
    const jack = function(k,v,x)
    {
        if(((typeof k)!='string')||!k.trim()){return}; // invalid reference
        if(!!v&&((typeof v)!='function')){return}; // invalid callback func
        if(!v){return this[k]}; // return existing definition, or undefined
        if(k in this){this[k].list[(this[k].list.length)]=v; return}; //add
        if(!x||((typeof x)!='object')){x=VOID}; //  validate once as object
        let h,n,c,f; h=k.split('.'); n=h.pop(); h=h.join('.'); //short vars
        this[k]={func:bore(MAIN,k),list:[v],evnt:x}; // callback definition
        h=(h?bore(MAIN,h):MAIN); c=isConstructor(this[k].func); //obj & con
        this[k].cons=c; bore(MAIN,k,null); //set cons & delete the original

        f=function()
        {
            let n,r,j,a,z,q; j='_fake_'; r=stak(0,j); r=(r||'').split(' ')[0];
            if(r.startsWith(j)||(r.indexOf(`.${j}`)>0)){n=(r.split(j).pop())};
            if(!n&&(r=='new')&&!!this.constructor){n=this.constructor.name;};
            if(!n){console.error(`can't jack "${r}"`);return}; r=jack(n);
            a=([].slice.call(arguments)); for(let p in r.list)
            {if(!r.list.hasOwnProperty(p)){continue}; let i=rename(j,r.list[p]);
            q=i.apply(this,a); if(q!=VOID){break};}; if(!Array.isArray(q)){q=[q]};
            try{if(!r.cons){z=r.func.apply(this,q)}else
            {z=(new (Function.prototype.bind.apply(r.func,[null].concat(a))));}}
            catch(e){if(!!r.evnt&&!!r.evnt.error){r.evnt.error(e)}
            else{console.error(e)};return}; if(!!r.evnt&&!!z.addEventListener)
            {for(let en in r.evnt){if(r.evnt.hasOwnProperty(en))
            {z.addEventListener(en,r.evnt[en],false)}}}; return z;
        };

        if(!c){f=rename(`_fake_${k}`,f)}; bake(h,n,f);
        try{h[n].prototype=Object.create(this[k].func.prototype)}catch(e){};
    }.bind({});

    bake(jack);

    hard(function hijack(l,f)
    {
        if(isList(l)){l.forEach((i)=>{jack(i,f)})};
        if(isKnob(l)){l.forEach((v,k)=>{jack(k,v)})};
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: stak : get call-stack .. returns array of text (per stack-item) .. should be compatible with all modern platforms
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function stak(x,a, e,s,r,h,o)
    {
        a=(a||""); e=(new Error(".")); s=e.stack.split("\n"); s.shift(); r=[];
        o=["_fake_"]; // omit
        s.forEach((i)=>
        {
            if((ENVITYPE=="web")&&(i.indexOf(HOSTPURL)<0)){return}; // web security
            let p,c,f,l,q; q=1; p=i.trim().split(HOSTPURL);
            c=p[0].split("@").join("").split("at ").join("").trim(); c=c.split(" ")[0]; if(!c){c="anon"};
            o.forEach((y)=>{if(((c.indexOf(y)==0)||(c.indexOf("."+y)>0))&&(a.indexOf(y)<0)){q=0}}); if(!q){return};
            p=(p[1]||p[0]).split(" "); f=p[0]; if(f.indexOf(":")>0){p=f.split(":"); f=p[0]}else{p=p.pop().split(":")};
            if((c=="stak")||(f=="/")){return}; l=p[1]; l=([c,f,l]).join(" "); if(l.indexOf(" at ")>-1){return};
            r[r.length]=l;
        });
        if(!isNaN(x*1)){return r[x]}; return r;
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: enthen : syntax sugar & promise-er
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function enthen(obj,fnc)
    {
        if(!expect["knob,func"](obj)){return}; if(!expect.func(fnc)){return}; // validation
        if(!!obj.then&&!obj.then.enthen){moan("object.then is not undefined .. it will be replaced!",obj)}; // warning
        if(isFunc(fnc)&&!fnc.name){rename(fnc,"then")}; // give caller a name

        obj.assign({then:fnc}).then.assign({enthen:1});
        // obj.assign({then:fnc});
        tick.after(0,()=>{delete obj.then}); // now you see me
        return obj;
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: herald : upgrade given object to listen `upon` and `emit` events in its own scope
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function herald(o)
    {
        if(!o){o={}}; // validate

        if(!o.upon)
        {
            extend(o)
            ({
                upon:function upon(en,cb,bl,dj)
                {
                    let me=(this||MAIN);
                    if(isKnob(en)){en.forEach((v,k)=>{me.upon(k,v)}); return me};
                    if(!me.upon.events[en]){me.upon.events[en]=[]}; me.upon.events[en].push(cb);
                    if(me.on&&!me.on.heralded){me.on(en,cb); return me};
                    if(me.addEventListener){me.addEventListener(en,cb,(bl?true:false)); return me};
                    return me;
                },
            });
            extend(o.upon)({events:{}});
        };

        if(!o.listen){extend(o)({listen:function listen(en,cb,bl){return this.upon(en,cb,bl)}})};
        if(!o.on){extend(o)({on:function on(en,cb,bl){return this.upon(en,cb,bl)}}); extend(o.on)({heralded:TRUE})};

        if(!o.when){extend(o)({when:function when(en,bl)
        {
            if(!this){fail("context issue .. `this` is undefined in heralded object.when"); return};
            enthen(this,function(cb){return this.upon(en,cb,bl)});
            return this;
        }})};


        // if(!!o.emit)
        // {
        //     let ae=o.emit.revise((obj)=>
        //     {
        //         obj.body.ladd(`enthen(this);`);
        //         obj.body[obj.body.last(1)]=`return this;`;
        //         return obj;
        //     });
        //     bake("emit",ae,o,1);
        // };


        if(!o.emit){extend(o)({emit:function emit(en,ev)
        {
            let me=(this||MAIN);
            if(me.dispatchEvent){me.dispatchEvent((new CustomEvent(en,{detail:ev})))}
            else{(me.upon.events[en]||[]).forEach((cb)=>{cb.apply(me,[{detail:ev}])})};
            enthen(me,function(cb){cb.apply(this,[]); return this}); return me;
        }})};

        if(!o.signal){extend(o)({signal:function signal(en,ev){return this.emit(en,ev)}})};

        if(!o.hush){extend(o)({hush:function hush(en,ev)
        {
            let me=(this||MAIN); if(!me.upon.events[en]){return me};
            if(!ev){delete me.upon.events[en]; return me};
            if(me.removeListener){me.removeEventListener(en,ev)};
            me.upon.events[en].xpop(ev); return me;
        }})};

        if(!o.revoke){extend(o)({revoke:function revoke(en,ev){return this.hush(en,ev)}})};

        return o;
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: tick : nice syntax for setTimeout and setInterval
// ----------------------------------------------------------------------------------------------------------------------------
    extend(MAIN)
    ({
        tick:
        {
            after:function after(frst,scnd)
            {
                if(isFrac(frst)){frst=Math.floor(frst*1000)}; // fraction to seconds
                if(!isFunc(scnd)){moan("2nd arg must be a function"); return}; // validation

                if(isNumr(frst)){let timr=setTimeout(scnd,frst); return timr}; // simple timeout
                if(isFunc(frst)&&isFunc(scnd)){scnd(frst());}; // syntax sugar
            },


            every:function every(frst,scnd,slow,lmit)
            {
                if(isFrac(frst)){frst=Math.floor(frst*1000)}; // fraction to seconds
                if(!isFunc(scnd)){moan("2nd arg must be a function"); return}; // validation
                if(!isInum(slow)||(slow<0)){slow=0}; if(!isInum(lmit)||(lmit<0)){lmit=null}; // normalize to prevent issues

                if(isNumr(frst))
                {
                    lmit=slow; if(!lmit){return setInterval(scnd,frst)}; // simple interval
                    let timr=setInterval(()=>{scnd(); lmit--; if(lmit<0){clearInterval(timr)};},frst);
                    return timr;
                };

                if(isFunc(frst)&&isFunc(scnd))
                {
                    let timr=setInterval(()=>
                    {
                        if(lmit!==null){lmit--; if(lmit<0){clearInterval(timr); return}};
                        let resl=frst(); if(resl||(resl===0)){scnd(resl)};
                    },slow);
                    return timr;
                };
            },


            until:function until(frst,scnd,slow,lmit)
            {
                if(!isFunc(frst)){fail("1st arg must be a function"); return}; // validation
                if(!isFunc(scnd)){fail("2nd arg must be a function"); return}; // validation
                if(!isInum(slow)||(slow<0)){slow=0}; if(!isInum(lmit)||(lmit<0)){lmit=null};

                let timr=setInterval(()=>
                {
                    if(lmit!==null){lmit--; if(lmit<0){clearInterval(timr); return}};
                    let resl=frst(); if(resl||(resl===0)){clearInterval(timr); scnd(resl);};
                },slow);
                return timr;
            },
        },


        after:function after(a){return function runAfter(b){return tick.after(a,b);}},
        every:function every(a,s,l){return function runEvery(b){return tick.every(a,b,s,l);}},
        until:function until(a,s,l){return function runUntil(b){return tick.until(a,b,s,l);}},

        when:function when(a){return {then:function then(b)
        {
            if(isWord(a)){return upon(a,b)};
            return tick.until(a,b);
        }}},
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: trap : neat Proxy
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function trap(trgt,nick)
    {
        if(isText(trgt)){nick=trgt; trgt=(seen(trgt)||function(){});}; // given string
        return function(o)
        {
            if(isFunc(o)){o={get:o,set:o,apply:o,construct:o}};
            let r=(new Proxy(trgt,o)); if(!isWord(nick)){return r};
            extend(MAIN)({[nick]:r}); return r;
        };
    });

    extend(Object.prototype,Function.prototype)
    ({
        trap:function trap(o)
        {
            if(isFunc(o)){o={get:o,set:o,apply:o,construct:o}};
            if(!isKnob(o)){moan("invalid argument"); return}; // validation
            return (new Proxy(this,o));
        },
    });
// ----------------------------------------------------------------------------------------------------------------------------




// tool :: expect : for validation .. usage: expect.bool(123); // throws error because 123 is not boolean
// ----------------------------------------------------------------------------------------------------------------------------
    trap("expect")
    ({
        get:function(o,k)
        {
            return function(v,c)
            {
                let gvn,exp,r,m,e; r=FALS; m=""; e="";

                if(k=="envi")
                {
                    if(!isin("web,ext,njs",v)){moan("wrong ENVITYPE string given"); return}; if(ENVITYPE==v){return TRUE};
                    v=upperCase(v); fail(`environment :: expecting ${v} context`); return FALS;
                };

                if(k=="args")
                {
                    gvn=(v||{}); exp=(c||{}); if(!exp.forEach){return}; exp.forEach((v,k)=>
                    {
                        if(!isText(v,1)||e){return}; if(!v.indexOf(",")<0){v+=",0"};
                        let p,t,f,c,w; p=v.split(","); t=p[0]; f=seen('is'+proprCase(t)); c=(p[2]*1);
                        if(f&&f(gvn[k],c)){r=TRUE}else{r=FALS; e=`${k} as :${t}:`;}
                    });

                    if(r){return r}; if(c>0){m=` -which must contain ${c} item(s) or more`};
                    fail(`type :: expecting ${e}${m}`); return r;
                };

                k=k.split(' ').join(",").split(",");
                k.forEach((i)=>{let f=seen('is'+proprCase(i)); if(f&&f(v,c)){r=TRUE}});
                if(r){return r}; // no issues .. all is well
                k=k.join(', or '); if(isNumr(c)){m=` -which must contain ${c} item(s) or more`};
                fail('type :: expecting '+k+m);
            };
        },
        apply:function(o,x,a, r)
        {
            a=a[0]; if(!isKnob(a)){fail('calling `expect` directly requires an object');return}; r=true;
            a.forEach((v,k)=>{let f=seen('is'+proprCase(k)); if(f&&!f(v)){fail('type :: expecting '+k); r=false;}});
            return r;
        },
    });
// ----------------------------------------------------------------------------------------------------------------------------




// shiv :: md5 : hashing function .. usage: md5("whatever");
// ----------------------------------------------------------------------------------------------------------------------------
   !function(n){"use strict";function t(n,t){var r=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(r>>16)<<16|65535&r}function r(n,t){return n<<t|n>>>32-t}function e(n,e,o,u,c,f){return t(r(t(t(e,n),t(u,f)),c),o)}function o(n,t,r,o,u,c,f){return e(t&r|~t&o,n,t,u,c,f)}function u(n,t,r,o,u,c,f){return e(t&o|r&~o,n,t,u,c,f)}function c(n,t,r,o,u,c,f){return e(t^r^o,n,t,u,c,f)}function f(n,t,r,o,u,c,f){return e(r^(t|~o),n,t,u,c,f)}function i(n,r){n[r>>5]|=128<<r%32,n[14+(r+64>>>9<<4)]=r;var e,i,a,d,h,l=1732584193,g=-271733879,v=-1732584194,m=271733878;for(e=0;e<n.length;e+=16)i=l,a=g,d=v,h=m,g=f(g=f(g=f(g=f(g=c(g=c(g=c(g=c(g=u(g=u(g=u(g=u(g=o(g=o(g=o(g=o(g,v=o(v,m=o(m,l=o(l,g,v,m,n[e],7,-680876936),g,v,n[e+1],12,-389564586),l,g,n[e+2],17,606105819),m,l,n[e+3],22,-1044525330),v=o(v,m=o(m,l=o(l,g,v,m,n[e+4],7,-176418897),g,v,n[e+5],12,1200080426),l,g,n[e+6],17,-1473231341),m,l,n[e+7],22,-45705983),v=o(v,m=o(m,l=o(l,g,v,m,n[e+8],7,1770035416),g,v,n[e+9],12,-1958414417),l,g,n[e+10],17,-42063),m,l,n[e+11],22,-1990404162),v=o(v,m=o(m,l=o(l,g,v,m,n[e+12],7,1804603682),g,v,n[e+13],12,-40341101),l,g,n[e+14],17,-1502002290),m,l,n[e+15],22,1236535329),v=u(v,m=u(m,l=u(l,g,v,m,n[e+1],5,-165796510),g,v,n[e+6],9,-1069501632),l,g,n[e+11],14,643717713),m,l,n[e],20,-373897302),v=u(v,m=u(m,l=u(l,g,v,m,n[e+5],5,-701558691),g,v,n[e+10],9,38016083),l,g,n[e+15],14,-660478335),m,l,n[e+4],20,-405537848),v=u(v,m=u(m,l=u(l,g,v,m,n[e+9],5,568446438),g,v,n[e+14],9,-1019803690),l,g,n[e+3],14,-187363961),m,l,n[e+8],20,1163531501),v=u(v,m=u(m,l=u(l,g,v,m,n[e+13],5,-1444681467),g,v,n[e+2],9,-51403784),l,g,n[e+7],14,1735328473),m,l,n[e+12],20,-1926607734),v=c(v,m=c(m,l=c(l,g,v,m,n[e+5],4,-378558),g,v,n[e+8],11,-2022574463),l,g,n[e+11],16,1839030562),m,l,n[e+14],23,-35309556),v=c(v,m=c(m,l=c(l,g,v,m,n[e+1],4,-1530992060),g,v,n[e+4],11,1272893353),l,g,n[e+7],16,-155497632),m,l,n[e+10],23,-1094730640),v=c(v,m=c(m,l=c(l,g,v,m,n[e+13],4,681279174),g,v,n[e],11,-358537222),l,g,n[e+3],16,-722521979),m,l,n[e+6],23,76029189),v=c(v,m=c(m,l=c(l,g,v,m,n[e+9],4,-640364487),g,v,n[e+12],11,-421815835),l,g,n[e+15],16,530742520),m,l,n[e+2],23,-995338651),v=f(v,m=f(m,l=f(l,g,v,m,n[e],6,-198630844),g,v,n[e+7],10,1126891415),l,g,n[e+14],15,-1416354905),m,l,n[e+5],21,-57434055),v=f(v,m=f(m,l=f(l,g,v,m,n[e+12],6,1700485571),g,v,n[e+3],10,-1894986606),l,g,n[e+10],15,-1051523),m,l,n[e+1],21,-2054922799),v=f(v,m=f(m,l=f(l,g,v,m,n[e+8],6,1873313359),g,v,n[e+15],10,-30611744),l,g,n[e+6],15,-1560198380),m,l,n[e+13],21,1309151649),v=f(v,m=f(m,l=f(l,g,v,m,n[e+4],6,-145523070),g,v,n[e+11],10,-1120210379),l,g,n[e+2],15,718787259),m,l,n[e+9],21,-343485551),l=t(l,i),g=t(g,a),v=t(v,d),m=t(m,h);return[l,g,v,m]}function a(n){var t,r="",e=32*n.length;for(t=0;t<e;t+=8)r+=String.fromCharCode(n[t>>5]>>>t%32&255);return r}function d(n){var t,r=[];for(r[(n.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var e=8*n.length;for(t=0;t<e;t+=8)r[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return r}function h(n){return a(i(d(n),8*n.length))}function l(n,t){var r,e,o=d(n),u=[],c=[];for(u[15]=c[15]=void 0,o.length>16&&(o=i(o,8*n.length)),r=0;r<16;r+=1)u[r]=909522486^o[r],c[r]=1549556828^o[r];return e=i(u.concat(d(t)),512+8*t.length),a(i(c.concat(e),640))}function g(n){var t,r,e="";for(r=0;r<n.length;r+=1)t=n.charCodeAt(r),e+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return e}function v(n){return unescape(encodeURIComponent(n))}function m(n){return h(v(n))}function p(n){return g(m(n))}function s(n,t){return l(v(n),v(t))}function C(n,t){return g(s(n,t))}function A(n,t,r){return t?r?s(t,n):C(t,n):r?m(n):p(n)}"function"==typeof define&&define.amd?define(function(){return A}):"object"==typeof module&&module.exports?module.exports=A:n.md5=A; MAIN.md5=A}(MAIN); hard("md5",md5);
// ----------------------------------------------------------------------------------------------------------------------------




// shiv :: sha1 : hashing function .. usage: sha1("whatever");
// ----------------------------------------------------------------------------------------------------------------------------
   !function(){"use strict";function t(t){t?(f[0]=f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0,this.blocks=f):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}var h="object"==typeof window?window:{},s=!h.JS_SHA1_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;s&&(h=global);var i=!h.JS_SHA1_NO_COMMON_JS&&"object"==typeof module&&module.exports,e="function"==typeof define&&define.amd,r="0123456789abcdef".split(""),o=[-2147483648,8388608,32768,128],n=[24,16,8,0],a=["hex","array","digest","arrayBuffer"],f=[],u=function(h){return function(s){return new t(!0).update(s)[h]()}},c=function(){var h=u("hex");s&&(h=p(h)),h.create=function(){return new t},h.update=function(t){return h.create().update(t)};for(var i=0;i<a.length;++i){var e=a[i];h[e]=u(e)}return h},p=function(t){var h=eval("require('crypto')"),s=eval("require('buffer').Buffer"),i=function(i){if("string"==typeof i)return h.createHash("sha1").update(i,"utf8").digest("hex");if(i.constructor===ArrayBuffer)i=new Uint8Array(i);else if(void 0===i.length)return t(i);return h.createHash("sha1").update(new s(i)).digest("hex")};return i};t.prototype.update=function(t){if(!this.finalized){var s="string"!=typeof t;s&&t.constructor===h.ArrayBuffer&&(t=new Uint8Array(t));for(var i,e,r=0,o=t.length||0,a=this.blocks;r<o;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),s)for(e=this.start;r<o&&e<64;++r)a[e>>2]|=t[r]<<n[3&e++];else for(e=this.start;r<o&&e<64;++r)(i=t.charCodeAt(r))<128?a[e>>2]|=i<<n[3&e++]:i<2048?(a[e>>2]|=(192|i>>6)<<n[3&e++],a[e>>2]|=(128|63&i)<<n[3&e++]):i<55296||i>=57344?(a[e>>2]|=(224|i>>12)<<n[3&e++],a[e>>2]|=(128|i>>6&63)<<n[3&e++],a[e>>2]|=(128|63&i)<<n[3&e++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++r)),a[e>>2]|=(240|i>>18)<<n[3&e++],a[e>>2]|=(128|i>>12&63)<<n[3&e++],a[e>>2]|=(128|i>>6&63)<<n[3&e++],a[e>>2]|=(128|63&i)<<n[3&e++]);this.lastByteIndex=e,this.bytes+=e-this.start,e>=64?(this.block=a[16],this.start=e-64,this.hash(),this.hashed=!0):this.start=e}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},t.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,h=this.lastByteIndex;t[16]=this.block,t[h>>2]|=o[3&h],this.block=t[16],h>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},t.prototype.hash=function(){var t,h,s=this.h0,i=this.h1,e=this.h2,r=this.h3,o=this.h4,n=this.blocks;for(t=16;t<80;++t)h=n[t-3]^n[t-8]^n[t-14]^n[t-16],n[t]=h<<1|h>>>31;for(t=0;t<20;t+=5)s=(h=(i=(h=(e=(h=(r=(h=(o=(h=s<<5|s>>>27)+(i&e|~i&r)+o+1518500249+n[t]<<0)<<5|o>>>27)+(s&(i=i<<30|i>>>2)|~s&e)+r+1518500249+n[t+1]<<0)<<5|r>>>27)+(o&(s=s<<30|s>>>2)|~o&i)+e+1518500249+n[t+2]<<0)<<5|e>>>27)+(r&(o=o<<30|o>>>2)|~r&s)+i+1518500249+n[t+3]<<0)<<5|i>>>27)+(e&(r=r<<30|r>>>2)|~e&o)+s+1518500249+n[t+4]<<0,e=e<<30|e>>>2;for(;t<40;t+=5)s=(h=(i=(h=(e=(h=(r=(h=(o=(h=s<<5|s>>>27)+(i^e^r)+o+1859775393+n[t]<<0)<<5|o>>>27)+(s^(i=i<<30|i>>>2)^e)+r+1859775393+n[t+1]<<0)<<5|r>>>27)+(o^(s=s<<30|s>>>2)^i)+e+1859775393+n[t+2]<<0)<<5|e>>>27)+(r^(o=o<<30|o>>>2)^s)+i+1859775393+n[t+3]<<0)<<5|i>>>27)+(e^(r=r<<30|r>>>2)^o)+s+1859775393+n[t+4]<<0,e=e<<30|e>>>2;for(;t<60;t+=5)s=(h=(i=(h=(e=(h=(r=(h=(o=(h=s<<5|s>>>27)+(i&e|i&r|e&r)+o-1894007588+n[t]<<0)<<5|o>>>27)+(s&(i=i<<30|i>>>2)|s&e|i&e)+r-1894007588+n[t+1]<<0)<<5|r>>>27)+(o&(s=s<<30|s>>>2)|o&i|s&i)+e-1894007588+n[t+2]<<0)<<5|e>>>27)+(r&(o=o<<30|o>>>2)|r&s|o&s)+i-1894007588+n[t+3]<<0)<<5|i>>>27)+(e&(r=r<<30|r>>>2)|e&o|r&o)+s-1894007588+n[t+4]<<0,e=e<<30|e>>>2;for(;t<80;t+=5)s=(h=(i=(h=(e=(h=(r=(h=(o=(h=s<<5|s>>>27)+(i^e^r)+o-899497514+n[t]<<0)<<5|o>>>27)+(s^(i=i<<30|i>>>2)^e)+r-899497514+n[t+1]<<0)<<5|r>>>27)+(o^(s=s<<30|s>>>2)^i)+e-899497514+n[t+2]<<0)<<5|e>>>27)+(r^(o=o<<30|o>>>2)^s)+i-899497514+n[t+3]<<0)<<5|i>>>27)+(e^(r=r<<30|r>>>2)^o)+s-899497514+n[t+4]<<0,e=e<<30|e>>>2;this.h0=this.h0+s<<0,this.h1=this.h1+i<<0,this.h2=this.h2+e<<0,this.h3=this.h3+r<<0,this.h4=this.h4+o<<0},t.prototype.hex=function(){this.finalize();var t=this.h0,h=this.h1,s=this.h2,i=this.h3,e=this.h4;return r[t>>28&15]+r[t>>24&15]+r[t>>20&15]+r[t>>16&15]+r[t>>12&15]+r[t>>8&15]+r[t>>4&15]+r[15&t]+r[h>>28&15]+r[h>>24&15]+r[h>>20&15]+r[h>>16&15]+r[h>>12&15]+r[h>>8&15]+r[h>>4&15]+r[15&h]+r[s>>28&15]+r[s>>24&15]+r[s>>20&15]+r[s>>16&15]+r[s>>12&15]+r[s>>8&15]+r[s>>4&15]+r[15&s]+r[i>>28&15]+r[i>>24&15]+r[i>>20&15]+r[i>>16&15]+r[i>>12&15]+r[i>>8&15]+r[i>>4&15]+r[15&i]+r[e>>28&15]+r[e>>24&15]+r[e>>20&15]+r[e>>16&15]+r[e>>12&15]+r[e>>8&15]+r[e>>4&15]+r[15&e]},t.prototype.toString=t.prototype.hex,t.prototype.digest=function(){this.finalize();var t=this.h0,h=this.h1,s=this.h2,i=this.h3,e=this.h4;return[t>>24&255,t>>16&255,t>>8&255,255&t,h>>24&255,h>>16&255,h>>8&255,255&h,s>>24&255,s>>16&255,s>>8&255,255&s,i>>24&255,i>>16&255,i>>8&255,255&i,e>>24&255,e>>16&255,e>>8&255,255&e]},t.prototype.array=t.prototype.digest,t.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),h=new DataView(t);return h.setUint32(0,this.h0),h.setUint32(4,this.h1),h.setUint32(8,this.h2),h.setUint32(12,this.h3),h.setUint32(16,this.h4),t};var y=c();i?module.exports=y:(h.sha1=y,e&&define(function(){return y})); MAIN.sha1=y}(); hard("sha1",sha1);
// ----------------------------------------------------------------------------------------------------------------------------




// shim :: performance.now : for server side
// ----------------------------------------------------------------------------------------------------------------------------
    if(SERVERSIDE)
    {
        extend(MAIN)({performance:{now: function now(bgn)
        {
            if (!bgn){return process.hrtime()};
            var end = process.hrtime(bgn);
            return Math.round((end[0]*1000) + (end[1]/1000000));
        }}});
    };
// ----------------------------------------------------------------------------------------------------------------------------




// func :: expose : returns a list of items found in string wrapped inside string-pair
// ----------------------------------------------------------------------------------------------------------------------------
   hard(function expose(t,b,e,x)
   {
      if(!isText(t,1)||!isText(b,1)||!isText(e,1)||(t.indexOf(b)<0)||(t.indexOf(e)<0)){return};  // validate
      let r,ml,xb,xe,xs,bl,el; bl=b.length; el=e.length; ml=(bl+el); if(t.length<(ml+1)){return}; r=[];
      do
      {
         xb=t.indexOf(b); if(xb<0){break}; xe=t.indexOf(e,(xb+bl)); if(xe<0){break};
         xs=t.slice((xb+bl),xe); if(!x||test(xs,x)){r.push(xs); t=t.slice((xe+el));}else{t=t.slice(xe);};
      }
      while((t.length>ml)&&(xb>-1)&&(xe>-1))
      return ((r.length>0)?r:VOID);
   });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: hash : make a hash of any value .. `f` is expected as function -or hash-algorithm-name as function
// ----------------------------------------------------------------------------------------------------------------------------
   hard(function hash(v,f)
   {
      v=((v!==VOID)?text(v):(performance.now()+''+(Math.random().toString(36).slice(2,12))));
      if(!f){f="md5"}; if(isWord(f)){f=seen(f)}; if(!expect.func(f)){return};
      return f(v);
   });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: swap : replace substrings .. yes it's a bit slower than [whatever], but it's handy and has no "issues"
// ----------------------------------------------------------------------------------------------------------------------------
   hard(function swap(s,f,r)
   {
      if(!isText(s)){return}; if(isNumr(f)){f=(f+'')}; if(isNumr(r)){r=(r+'')}; // normalize
      if(isText(f)&&isText(r)){s=s.split(f).join(r); return s}; // all text
      if(isList(f)&&isText(r)){f.forEach((i,x)=>{s=s.split(i).join(r);}); return s}; // list of things to find & replace with r
      if(isList(f)&&isList(r)){f.forEach((i,x)=>{s=s.split(i).join(r[x]);}); return s}; // find & replace in order of f & r
      return s;
   });

   extend(String.prototype)
   ({
       swap:function swap(f,r){return MAIN.swap(this,f,r);}, // to use like: "whatever".swap("ever","what"); // whatwhat
   });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: reckon : calculate simple expressions in text .. works with mesurement-units too
// ----------------------------------------------------------------------------------------------------------------------------
    const reckon = function(txt,vrs, wrp,lst,opk,prt,lft,opr,rgt,rsl,tmp)
    {
        txt=trim(txt); if(!isText(txt,3)){return}; if(!isKnob(vrs)){vrs={}};
        opk=keys(this); wrp=wrapOf(txt); if(wrp=="()"){txt=unwrap(txt);};

        prt=part(txt,opk); if(!prt){return}; lft=mean(prt[0]); opr=prt[1]; rgt=mean(prt[2]); if(!this[opr]){return};
        if(!isNaN(lft)){lft*=1}; if(!isNaN(rgt)){rgt*=1}; let l,o,r;
        if(isText(lft)){l=bore(vrs,lft)}; if(l!=VOID){lft=l};
        if(isText(rgt)){r=bore(vrs,rgt)}; if(r!=VOID){rgt=r};

        tmp=part(rgt,opk); if(!tmp){rsl=this[opr](lft,rgt); return rsl;};
        return rsl;
    }
    .bind
    ({
        ' <= ':function(l,r){return (l<=r);},
        ' >= ':function(l,r){return (l>=r);},
        ' ~ ':function(l,r){return (isin(l,"*")?akin(r,l):akin(l,r));},
        ' = ':function(l,r){return (l===r);},
        ' + ':function(l,r){return (l+r);},
        ' - ':function(l,r){return (l-r);},
        ' / ':function(l,r){return (l/r);},
        ' % ':function(l,r){return (l%r);},
        ' < ':function(l,r){return (l<r);},
        ' > ':function(l,r){return (l>r);},
        ' | ':function(l,r){return (l||r);},
        ' & ':function(l,r){return (l&&r);},
        ' * ':function(l,r){return (l*r);},
    });
// ----------------------------------------------------------------------------------------------------------------------------




// shim :: (Object.indexOf) : find an object key like this: {foo:123}.indexOf(123); // foo
// ----------------------------------------------------------------------------------------------------------------------------
    extend(Object.prototype)
    ({
        indexOf:function indexOf(x)
        {
            let k,v,i; k=keys(this); v=vals(this); i=v.indexOf(x);
            if(i<0){return i}; return k[i];
        },

        join:function join(x)
        {
            if(span(keys(x))<1){return this};
            x.forEach((v,k)=>{this[k]=v});
            return this;
        },
    });
// ----------------------------------------------------------------------------------------------------------------------------




// shim :: (Function.join) : extend function to access properties like `this.whatever` -even externally
// ----------------------------------------------------------------------------------------------------------------------------
    extend(Function.prototype)
    ({
        join:function join(o)
        {
            if(!expect.knob(o)){return};
            let r=this.bind(o); o.forEach((v,k)=>{r[k]=v});
            return r;
        },
    });
// ----------------------------------------------------------------------------------------------------------------------------




// sham :: (Function.revise) : change how a function works in place .. meta-programming
// ----------------------------------------------------------------------------------------------------------------------------
    extend(Function.prototype)
    ({
        parted:function parted()
        {
            let txt,prt,nme,aro,arg,bdy,rsl; txt=this.toString(); prt=part(txt,"{");

            nme=prt[0].split("(")[0].trim(); aro=(nme?"":"=>");
            arg=prt[0].split(")")[0].split("(")[1].split(" ").join(""); arg=(arg?arg.split(","):[]);
            bdy=rpart(prt[2],"}")[0].trim(); bdy=(bdy?bdy.split("\n"):[]);  rsl={name:nme,args:arg,arro:aro,body:bdy};

            rsl.toString=function()
            {
                let rsl=(this.name+"("+this.args.join(",")+")"+this.arro+"\n{\n"+this.body.join("\n")+"\n};");
            }.bind(rsl);

            return rsl;
        },

        revise:function revise(fnc)
        {
            if(!expect.func(fnc)){return}; let rsl=this.parted().toString();
            return mean(rsl);
        },
    });
// ----------------------------------------------------------------------------------------------------------------------------




// shim :: (Object.prototype) : CRUD functionality
// ----------------------------------------------------------------------------------------------------------------------------
    extend(Object.prototype)
    ({
        "soft update":function update(atr)
        {
            if(!expect.knob(atr)){return};
            let rsl,lst; rsl=copyOf(this); lst=keys(rsl);
            atr.forEach((v,k)=>{if(!isin(lst,k)){moan(`undefined key: ${k}`); return}; rsl[k]=v});
            return rsl;
        },

        "soft modify":function modify(atr)
        {
            if(!expect.knob(atr)){return};
            let rsl,lst; rsl={}; lst=keys(this);
            this.forEach((v,k)=>{if(!isin(lst,k)){moan(`undefined key: ${k}`); return}; rsl[(atr[k]||k)]=v});
            return rsl;
        },

        assign:function assign(obj)
        {
            if(!expect.knob(obj)){return};
            obj.forEach((v,k)=>{this[k]=v});
            return this;
        },
    });
// ----------------------------------------------------------------------------------------------------------------------------




// shim :: (Array.prototype) : misc functionality
// ----------------------------------------------------------------------------------------------------------------------------
    extend(Array.prototype)
    ({
        assign:function assign(what)
        {
            let resl = {};  if(isKnob(what)){what=vals(what)};  if(!isList(what,1)){return this};
            what.forEach((name,indx)=>{resl[name]=this[indx]});
            return resl;
        },


        random:function random(num)
        {
            let a=copyOf(this);
            for (let i=(a.length-1); i>0; i--)
            {
                let j = Math.floor(Math.random()*(i+1));
                [a[i], a[j]] = [a[j], a[i]];
            }

            if(!isInum(num)||(num<1)){return ((num<1)?[]:a)};
            return a.slice(0,num);
        },
    });
// ----------------------------------------------------------------------------------------------------------------------------




// shim :: (Array.prototype) : CRUD functionality
// ----------------------------------------------------------------------------------------------------------------------------
    extend(Array.prototype)
    ({
        insert:function insert(opt)
        {
            if((this.length>1)&&!expect.data(this)){return}; // CRUD validation
            let okl,nkl,rsl; rsl=true;

            if(isList(opt))
            {
                if(!expect.data(opt)){return}; // validation
                okl=keys(this[0]); opt.forEach((row)=>
                {
                    if(!rsl){return}; // failed before
                    if(okl!==keys(row)){rsl=false; fail("column missmatch"); return};
                    this.radd(row);
                });
                return rsl;
            };
        },



        select:function select(opt)
        {
            if((this.length>1)&&!expect.data(this)){return}; // CRUD validation
            if(isin(["*",UNIQUE,COPIES],opt)){opt=((opt=="*")?{fetch:"*"}:{fetch:"*",where:opt});};
            if(!expect.knob(opt,1)){return []}; // SELECT validation

            if(isText(opt.fetch)&&(wrapOf(opt.fetch)!="::")&&isin(opt.fetch,[":"," ",","]))
            {opt.fetch=(isin(opt.fetch,": ")?opt.fetch:mean(opt.fetch.swap(" ","\n")));};
            if(isWord(opt.fetch)){opt.fetch={[opt.fetch]:opt.fetch};};

            if(isList(opt.fetch)){opt.fetch=opt.fetch.assign(opt.fetch);};
            if(isText(opt.order)){opt.order=trim(opt.order); if(!isin(opt.order,":")){opt.order+=":ASC"}};

            let rsl=[];  let dne=0;  let uni={};  for(let k in this)
            {
                if(!this.hasOwnProperty(k)){continue};
                let add,itm,tmp,lst,val,hsh,spn; add={}; itm=this[k];

                if(opt.fetch=="*"){add=itm}
                else if(isKnob(opt.fetch))
                {
                    if(!isKnob(itm)){itm={value:itm};}; lst=keys(itm);
                    opt.fetch.forEach((v,k)=>
                    {
                        val=bore(itm,k); if(val!=VOID){add[v]=val};
                    });
                };

                if(isText(opt.where,1))
                {
                    if(opt.where==UNIQUE)
                    {
                        spn=span(add); hsh=hash((spn>0)?add:itm);
                        if(uni[hsh]){continue}; add=((spn>0)?add:itm); uni[hsh]=1;
                    }
                    else if(opt.where==COPIES)
                    {
                        spn=span(add); hsh=hash((spn>0)?add:itm);
                        if(uni[hsh]){add=((spn>0)?add:itm)}else{add={}}; uni[hsh]=1;
                    }
                    else if(!reckon(opt.where,itm.join(add))){continue};
                };

                if(isFunc(opt.apply)){add=opt.apply(((span(add)>0)?add:itm),itm)};

                if(span(add)>0)
                {
                    dne++; rsl.radd(add);
                    if(isInum(opt.limit) && (dne>=opt.limit))
                    {break;};
                };
            };

            if(isText(opt.order,5))
            {
                let prt,col,ord,lst,bfr,ref; prt=opt.order.split(":"); col=prt[0]; ord=upperCase(prt[1]);
                lst=rsl; rsl=[]; bfr=[]; ref=[]; if(!isin("ASC,DSC",ord)){ord="ASC";};

                lst.forEach((obj,idx)=>
                {
                    let val=bore(obj,col); // get deep value by reference
                    if(val==VOID){moan(`undefined field: "${col}"`); return}; // invalid field-name
                    bfr.radd(val); ref.radd(val);
                });

                bfr=bfr.sort(); if(ord=="DSC"){bfr=bfr.reverse()};
                bfr.forEach((itm)=>{let oir=ref.indexOf(itm); rsl.radd(lst[oir]);});
            };

            return rsl;
        },



        "delete": function(opt) // `delete` is a reserved word, but this works
        {
            if((this.length>1)&&!expect.data(this)){return}; // CRUD validation
            if(!expect.knob(opt,1)){return}; // DELETE validation
            let rsl,dne; rsl=[]; dne=0; for(let k in this)
            {
                if(!this.hasOwnProperty(k)){continue};
                let row,tmp,add; row=this[k]; add=1;

                if(isText(opt.where,1) && reckon(opt.where,row)){add=0; dne++};

                if(add){rsl.radd(row)};
                if(isNumr(opt.limit)&&(dne>=opt.limit)){break};
            };

            return rsl;
        },



        update:function update(opt)
        {
            if((this.length>1)&&!expect.data(this)){return}; // CRUD validation
            if(!expect.knob(opt,1)){return}; // UPDATE validation

            let rsl,dne; rsl=[]; dne=0; for(let k in this)
            {
                if(!this.hasOwnProperty(k)){continue};
                let itm,row; itm=this[k]; row=VOID;

                if(isText(opt.where,1) && reckon(opt.where,row) && isKnob(opt.write))
                {row=itm.update(opt.write)};

                if(!row && isKnob(opt.write)){row=itm.update(opt.write)};

                if(!!row && isFunc(opt.apply)){row=opt.apply(row,itm)};

                if(isKnob(row)){rsl.radd(row); dne++}else{rsl.radd(itm)};
                if(isNumr(opt.limit)&&(dne>=opt.limit)){break};
            };

            return rsl;
        },



        modify:function modify(opt)
        {
            if(isFunc(opt))
            {
                let rsl=[]; this.forEach((v,k)=>{let r=opt.apply(this,[v,k]); if(r!==VOID){rsl.radd(r)}});
                return rsl;
            };

            if((this.length>1)&&!expect.data(this)){return}; // CRUD validation
            if(!expect.knob(opt,1)){return []}; // MODIFY validation

            if(isKnob(opt.alter))
            {
                let rsl=[]; this.forEach((row)=>
                {rsl.radd(row.modify(opt.alter));});

                return rsl; // TODO :: do not return here
            };
        },
    });
// ----------------------------------------------------------------------------------------------------------------------------




// shim :: (libs) : misc tools
// ----------------------------------------------------------------------------------------------------------------------------
    if(SERVERSIDE)
    {
        hard("http",require("http"));
        hard("fsys",require("fs"));


        extend(fsys).with
        ({
            "soft rootPath": process.cwd(),

            dirIndex: function dirIndex(pth,cbf)
            {
                if(!expect.path(pth)){return}; let x;

                if(!isFunc(cbf))
                {
                    try{x = fsys.readdirSync(pth)}catch(e){return};
                    x=isin(DIRINDEX,x); return x;
                };

                fsys.readdir(pth,(err,lst)=>
                {
                    cbf(isList(lst)?isin(DIRINDEX,lst):err);
                });
            },
            dirIndexSync: function dirIndexSync(pth){return fsys.dirIndex(pth)},

            scandir: function scandir(pth,cbf)
            {
                if(!expect.path(pth)){return}; pth=rtrim(pth,"/"); let l,r; r={};

                if(!isFunc(cbf))
                {
                    try{l = fsys.readdirSync(pth)}catch(e){return};
                    l.forEach((i)=>{let p=(pth+"/"+i); r[i]=(isFold(p)?[]:"")});
                    return r;
                };

                fsys.readdir(pth,(err,lst)=>
                {
                    cbf(lst||err);
                });
            },
            scandirSync: function scandirSync(pth){return fsys.scandir(pth)},
        });


        hard(function btoa(arg)
        {return Buffer.from(arg).toString("base64");});

        hard(function atob(arg)
        {return Buffer.from(arg,"base64").toString();});
    }
    else
    {
        bake("http",
        {
            request:function request(opt,cbf, xhr)
            {
                if(isText(opt)){opt={target:opt};}; if(!isKnob(opt)){moan("invalid 1st argument"); return};
                if(!isKnob(opt.listen)){opt.listen={}}; if(isFunc(cbf)){opt.listen.loadend=cbf};
                xhr=(new XMLHttpRequest()); xhr.open((opt.method||"GET"),opt.target);
                opt.listen.forEach((v,k)=>{xhr.addEventListener(k,v)});
                if(isKnob(opt.header)){opt.header.forEach((v,k)=>{xhr.setRequestHeader(k,v)})};
                xhr.send((opt.convey?text(opt.convey):null));
            }
        });

        bake("fsys",
        {
            readFile:function readFile(pt,cb)
            {
                http.request(pt,function()
                {
                    let hd=mean(this.getAllResponseHeaders(),(k)=>{return camelCase(k,1)},(v)=>
                    {if(!isin(v,"=")){return v}; v=mean(v.swap(["=",","],[":",";"])); return v});
                    this.assign({path:pt}); cb(this.response,hd,this);
                });
            },
        });
    };
// ----------------------------------------------------------------------------------------------------------------------------




// tool :: encode/decode : unified syntax for various encoding and decoding methods
// ----------------------------------------------------------------------------------------------------------------------------
    extend(MAIN)
    ({
        encode:
        {
            blo:function(arg1,type)
            {
                if(isList(arg1)||isText(arg1))
                {
                    var resl = (new Blob([arg1],{type:(type||'text/plain')}));
                    return resl;
                };

                if(isKnob(arg1)&&(isText(arg1.mime)||isText(arg1.type))&&!!arg1.data)
                {
                    let l,s,a,r; s=arg1.data.length; l=(new Array(s));
                    for(let i=0; i<s; i++){l[i]=arg1.data.charCodeAt(i)};
                    a=(new Uint8Array(l)); r=(new Blob([a],{type:trim(arg1.mime)}));
                    return r;
                };
            },

            jso:function jso(what)
            {
                let resl=VOID; try{resl=JSON.stringify(what)}catch(e){};
                return resl;
            },

            b64:function b64(what)
            {
                let resl=VOID; try{resl=btoa(what)}catch(e){};
                return resl;
            },

            uri:function uri(what)
            {
                let resl=VOID; try{resl=encodeURIComponent(what)}catch(e){};
                return resl;
            },

            atr:function atr(o)
            {
                if(!isKnob(o)){return}; let r=[];
                o.forEach((v,k)=>{r.radd(`${k}="${v}"`)});
                r=r.join(" "); return r;
            },

            pty:function pty(o)
            {
                if(!isKnob(o)){return}; let r=[];
                o.forEach((v,k)=>{r.radd(`${k}: ${v}`)});
                r=r.join(";"); return r;
            },
        },


        decode:
        {
            blo:function blo(d,f)
            {
                if((d instanceof Blob)||(!!d&&isPath(`/${d.type}`)&&isInum(d.size)&&isInum(d.lastModified)))
                {
                    var p=(new FileReader()); p.onloadend=function(){f(p.result);};
                    p.readAsDataURL(d); return;
                };

                if(isKnob(d)&&(isText(d.mime)||isText(d.type)))
                {
                    let r=encode.BLOB(d.type);
                    if(!r){fail("Type :: invalid blob(ish) object"); return};
                    decode.BLOB(r,f); return;
                };

                fail("Args :: invalid 1st parameter");
            },

            jso:function jso(what)
            {
                let resl=VOID; try{resl=JSON.parse(what)}catch(e){};
                return resl;
            },

            b64:function b64(what)
            {
                let resl=VOID; try{resl=atob(what)}catch(e){};
                return resl;
            },

            uri:function uri(what)
            {
                let resl=VOID; try{resl=decodeURIComponent(what)}catch(e){};
                return resl;
            },

            atr:function atr(d)
            {
                if(isText(d)){d=d.trim()}; if(!isText(d,1)){return}; let l,r,k;
                l=d.split('\n').join(' '); l+=' '; l=swap(l,['   ','  '],' '); r={};
                l.split('" ').forEach((i)=>{i=i.trim().split('="'); k=trim(i[0]); if(!k){return}; let v=sval(i[1]); r[k]=v});
                return r;
            },

            pty:function pty(d)
            {
                return mean(d);
            },
        },
    });
// ----------------------------------------------------------------------------------------------------------------------------




// tool :: vars : less smelly globals
// ----------------------------------------------------------------------------------------------------------------------------
    extend(Math)
    ({
        rand:function rand(min,max)
        {
            return Math.floor(Math.random()*(max-min+1)+min);
        },
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: wack : kick out hackers
// ----------------------------------------------------------------------------------------------------------------------------
    extend(MAIN)
    ({
        wack:function wack(arg)
        {
            let msg=decode.b64(this.msg).split("|");

            if(isList(arg))
            {msg=msg.concat(arg); this.msg=encode.b64(msg.join("|")); return TRUE;}; // added messages

            msg=msg.random(1); if(arg){return msg}; // return message instead of wacking
            if(SERVERSIDE){moan(msg); return}; // .. may be handy some time
            moan("forbidden"); HEAD.innerHTML=""; BODY.innerHTML=msg;
        }
        .bind
        ({
            msg:"aW5zZXJ0IDUwYyBhbmQgdHJ5IGFnYWlufHN0b3AgYnJlYWtpbmcgc2ghdHxiZXR0ZXIgbHVjayBuZXh0IHRpbWV8b2theSBmaW5lLCB5b3Ugd2lufHRoYW5rIHlvdSBnZW5pdXMsIG5vdyBpdCdzIGJyb2tlbnxoYXZpbmcgZnVuP3xkb2VzIHRoaXMgbWFrZSB5b3UgaGFwcHk/fG5leHQgc3RvcDogSG9nd2FydHN8T2gsIHNheSEgY2FuIHlvdSBzZWUsIGJ5IHRoZSBkYXduJ3MgZWFybHkgbGlnaHQsIHRoYXQgeW91J3JlIHdhc3RpbmcgeW91ciB0aW1lfHlvdSBnb3R0YSBhc2sgeW91cnNlbGY6ICJkbyBJIGZlZWwgbHVja3k/Inx0aGlzIGlzIGFib3V0IGFzIGV4Y2l0aW5nIGFzIHdhdGNoaW5nIHdvcm1zIHByb2NyZWF0ZXx5b3UgZGlkIGl0ISBvaCBoYWlsIHRoZSBkZXN0cm95ZXIhIGJyaW5nZXIgb2YgYm9yZWRvbXx3b3VsZCB5b3UgbGlrZSBmcmllcyB3aXRoIHRoYXQ/",
        }),
    });
// ----------------------------------------------------------------------------------------------------------------------------




// tool :: vars : less smelly globals .. denies access if not authorized by: function-name AND file-path
// ----------------------------------------------------------------------------------------------------------------------------
    extend(MAIN)
    ({
        vars:function vars(arg,alo)
        {
            let frm=stak(0); if(!frm){wack(); return};
            frm=frm.split(" "); frm.pop();

            if(isText(arg))
            {
                arg=trim(arg); if(!expect.text(arg,1)){return};
                if(!isin(keys(this),arg)){return}; // undefined
                let obj=this[arg]; if(!isin(obj.auth,frm)){wack(); return};
                return obj.data;
            };

            if(!expect.knob(arg,1)){return}; if(isText(alo,1)){alo=[alo];};

            arg.forEach((v,k)=>
            {
                if(!isin(keys(this),k)){this[k]={auth:(alo||[]).ladd(frm),data:v}; return};
                if(!isin(this[k].auth,frm)){wack(); return STOP};
                if(alo&&!isin(this[k].auth,alo)){this[k].auth.radd(alow)};
                this[k].data=v;
            });
        }
        .bind({}),
    });
// ----------------------------------------------------------------------------------------------------------------------------




// tool :: file : disk tools
// ----------------------------------------------------------------------------------------------------------------------------
    trap("disk")({get:function(tgt,key,val)
    {
        if(!isFunc(fsys[key])){return tgt[key];};
        return function()
        {
            let a,k,r,z; a=listOf(arguments); k=this.k; z=last(a);
            if(isPath(a[0])&&!a[0].startsWith(".")){a[0]=("."+a[0])};
            if(!isFunc(z)){k+="Sync"};
            return fsys[k].apply(fsys,a);
        }.bind({k:rtrim(key,"Sync")});
    }});

    extend(disk)
    ({
        "soft rootPath": (fsys.rootPath),
    });
// ----------------------------------------------------------------------------------------------------------------------------




// tool :: server : for server and client
// ----------------------------------------------------------------------------------------------------------------------------
    extend(MAIN)
    ({
        server:
        {
            config:
            {
                mimeType:mean(decode.b64(`M2dwIDogdmlkZW8vM2dwcAphdSA6IGF1ZGlvL2Jhc2ljCmF2aSA6IHZpZGVvL3gtbXN2aWRlbwpiaW4gOiBhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0KYm1wIDogaW1hZ2UvYm1wCmNydCA6IGFwcGxpY2F0aW9uL3gteDUwOS1jYS1jZXJ0CmNzcyA6IHRleHQvY3NzCmNzdiA6IHRleHQvY3N2CmZvbGQgOiBpbm9kZS9kaXJlY3RvcnkKZmlsZSA6IGZpbGUvdW5rbm93bgpub25lIDogbm9uZS91bmRlZmluZWQKZmxhYyA6IGF1ZGlvL3gtZmxhYwpmbnQgOiB0ZXh0L2NzcwpnaWYgOiBpbWFnZS9naWYKaHRtIDogdGV4dC9odG1sCmh0bWwgOiB0ZXh0L2h0bWwKaWNvIDogaW1hZ2UveC1pY29uCmljcyA6IHRleHQvY2FsZW5kYXIKaW1nIDogaW1hZ2UvcG5nCmluZiA6IHRleHQvcGxhaW4KaXNvIDogYXBwbGljYXRpb24veC1pc285NjYwLWltYWdlCmphciA6IGFwcGxpY2F0aW9uL2phdmEtYXJjaGl2ZQpqcGVnIDogaW1hZ2UvanBlZwpqcGcgOiBpbWFnZS9qcGVnCmpzIDogYXBwbGljYXRpb24vamF2YXNjcmlwdApqc20gOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0CmpzbyA6IGFwcGxpY2F0aW9uL2pzb24KanNvbiA6IGFwcGxpY2F0aW9uL2pzb24KbWQgOiB0ZXh0L3gtbWFya2Rvd24KbWt2IDogdmlkZW8veC1tYXRyb3NrYQptb2JpIDogYXBwbGljYXRpb24veC1tb2JpcG9ja2V0LWVib29rCm1wMyA6IGF1ZGlvL21wZWcKbXA0IDogdmlkZW8vbXA0Cm1wZWcgOiB2aWRlby9tcGVnCm9nYSA6IGF1ZGlvL29nZwpvZ2cgOiBhdWRpby9vZ2cKb2d2IDogdmlkZW8vb2dnCm9neCA6IGFwcGxpY2F0aW9uL29nZwpvdGYgOiBhcHBsaWNhdGlvbi94LWZvbnQtb3RmCnBkZiA6IGFwcGxpY2F0aW9uL3BkZgpwbmcgOiBpbWFnZS9wbmcKcGhwIDogYXBwbGljYXRpb24veC1odHRwZC1waHAKc2RiIDogYXBwbGljYXRpb24vZGF0YWJhc2UKc25kIDogYXVkaW8vb2dnCnNxbCA6IGFwcGxpY2F0aW9uL3NxbApzdmcgOiBpbWFnZS9zdmcreG1sCnN2Z3ogOiBpbWFnZS9zdmcreG1sCnN3ZiA6IGFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoCnR0ZiA6IGFwcGxpY2F0aW9uL3gtZm9udC10dGYKdHh0IDogdGV4dC9wbGFpbgp1cmkgOiB0ZXh0L3VyaS1saXN0CnVybCA6IHBsdWcvbGluawp2bXAgOiB0ZXh0L3ZhbXAKdmNmIDogdGV4dC94LXZjYXJkCnZjcyA6IHRleHQveC12Y2FsZW5kYXIKd2F2IDogYXVkaW8veC13YXYKd2ViYSA6IGF1ZGlvL3dlYm0Kd2VibSA6IHZpZGVvL3dlYm0Kd2VicCA6IGltYWdlL3dlYnAKd29mZiA6IGFwcGxpY2F0aW9uL2ZvbnQtd29mZgp3b2ZmMiA6IGFwcGxpY2F0aW9uL2ZvbnQtd29mZjIKeG1sIDogYXBwbGljYXRpb24veG1sCnppcCA6IGFwcGxpY2F0aW9uL3ppcAp3ZWJtYW5pZmVzdCA6IGFwcGxpY2F0aW9uL2pzb24=`)),

                botMatch: mean(`bot,crawl,fetch,find,grab,scan,search,site,slurp,spider,wget,curl`),

                readDirs: FALS,

                reRoutes: {"/favicon.ico":"/view/favicon.ico"},

                authKeys:
                {
                    "127.0.0.1":hash(),
                },
            },


            create:function create(addr,path,indx)
            {
                if(!addr){addr="127.0.0.1"}; if(!path){path=""};

                let host = http.createServer(function(req,rsp)
                {
                    if(!!this.upon.events[req.method]){return}; // already handled

                    let rp,np,mt,fd,tv; rp=process.cwd(); np=(rtrim(req.url,"/")||"/"); tv=server.config.reRoutes[np];
                    if(isInum(tv,3)&&(tv!=200)){rsp.writeHead(tv); rsp.end(); return}; if(isPath(tv)){np=tv}; tv=VOID;
                    if(np=="/"){np=(indx||(np+disk.dirIndex(process.cwd())))};
                    if(!np.startsWith(path)){np=(path+np)}; let dr; dr=0;

                    if(!disk.exists(np)){rsp.writeHead(404); rsp.end(); return}; // undefined

                    if(req.method=="GET")
                    {
                        if(isFold(np)){dr=1; tv=(indx||disk.dirIndex(np)); if(tv){np+=tv; dr=0}};

                        if(!dr)
                        {
                            mt=server.config.mimeType[fext(np)];  fd=disk.readFile(np);  rsp.statusCode=200;
                            rsp.setHeader("Content-type",(mt||"text/plain")); rsp.end(fd);
                            return;
                        };

                        if(!server.config.readDirs){rsp.writeHead(403); rsp.end(); return}; // forbidden
                        dr=disk.readdir(np); rsp.statusCode=200; rsp.setHeader("Content-type","application/json");
                        rsp.end(text(dr)); return;
                    };

                    rsp.writeHead(405); rsp.end();
                });

                extend(host)({path:path,addr:(addr+"")}); addr=addr.split(":"); if(!addr[1]){addr[1]=2592};
                host.listen(addr[1],addr[0]); herald(host);

                dump(`\nhttp server running .. http://${addr[0]}:${addr[1]}\n`);
                return host;
            },


            select:function select(opt,cbf)
            {
                if(isPath(opt)){opt={using:opt}}; if(!isKnob(opt)){moan("1st arg is invalid"); return};
                if(isFunc(cbf)){opt.yield=cbf}; if(!isFunc(opt.yield)){moan("invalid options/arguments"); return};
                disk.readFile(opt.using,function(rsp,hdr)
                {
                    if(isFunc(opt.apply)){rsp=opt.apply(rsp,hdr);};
                    opt.yield(rsp,hdr);
                });
            },
        }
    });
// ----------------------------------------------------------------------------------------------------------------------------




// func :: requires : load & run files
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function load()
    {
        var arg,cbf,rsl,dne,thn; arg=args(arguments); cbf=rpop(arg);
        if(!isFunc(cbf)){arg.radd(cbf); cbf=VOID}; // no callback as last arg .. add it back
        rsl=[]; dne=[0,span(arg)];

        thn=function then()
        {
            return this.then.apply(null,args(arguments));
        }.join({then:function then(tfa)
        {
            if(isFunc(tfa)){this.done=tfa; return};
            if(isFunc(this.done)){this.done.apply(this.done,args(arguments))};
        }.join({done:cbf})});

        arg.forEach((pth)=>
        {
            let fun,ext; ext=fext(pathOf(pth));
            fun=function(wut){dne[0]++; rsl.radd(wut||this); if(dne[0]==dne[1]){tick.after(0,()=>{thn.apply(thn,rsl)})}};

            if(SERVERSIDE)
            {
                if(ext=="js"){fun(require(pth)); return};
                if(ext=="json"){fun(decode.jso(disk.readFile(pth))); return};
                fun(disk.readFile(pth)); return;
            };

            if(!render.handle[ext]){fail(`missing handler for "${ext}"`); return STOP};
            let dja=select(`[src="${pth}"]`); if(dja){fun(dja[0]); return};
            render.handle[ext](pth,(rsl)=>
            {
                if(isin("js,css",ext)){HEAD.insert(rsl);};
                fun(rsl);
            });
        });

        return thn;
    });
// ----------------------------------------------------------------------------------------------------------------------------




// defn :: (dom-crud) : CRUD for the DOM .. runs clientSide
// ----------------------------------------------------------------------------------------------------------------------------
    if(CLIENTSIDE)
    {
        hard(function create(obj)
        {
            if(isWord(obj)){return document.createElement(obj)}; // done .. only text given as tag-name
            if(!expect.knob(obj,1)){return}; // validation
            let tmp,tag,def,ext,kds,rsl; tmp=keys(obj); tag=tmp[0]; def=obj[tag]; delete obj[tag]; // tag-name
            if(!isText(def)||(isText(def)&&!def.startsWith("#")&&!def.startsWith("."))){kds=def; def=VOID}; // quick-atr
            ext=isin(tmp,["$","contents","children"]); if(ext){kds=obj[ext]; delete obj[ext]}; // contents
            rsl=document.createElement(tag); if(!def&&!kds&&(span(obj)<1)){return rsl}; // done .. no attributes nor contents

            if(isText(def,2)){def.split(" ").forEach((d)=> // for quick attributes
            {
                let c=d.slice(0,1); d=d.slice(1); if((c=="#")){obj.id=d; obj.name=d}
                else if(c=="."){if(!obj.class){obj.class=""}; obj.class=obj.class.split(" ").radd(d).join(" ").trim()}});
            };

            rsl.modify(obj); if(kds){rsl.insert(kds)};
            return rsl;
        });


        hard(function select(def)
        {
            return document.documentElement.select(def);
        });


        hard(function remove()
        {
            return document.documentElement.remove.apply(document.documentElement,args(arguments));
        });


        extend(Element.prototype)
        ({
            lookup:function(c,n, r,w,s,d)
            {
                if(c=='^'){return this.parentNode}; if(c=='^^'){c='^',n=2}; d=["^","<",">"];
                if(c=='<'){return this.previousSibling}; if(c=='>'){return this.nextSibling}; if(!isText(c,1)){return};
                if((c=='<<')||(c=='>>')){r=this.parentNode; return (!r?VOID:((c=='<<')?r.firstElementChild:r.lastElementChild))};
                if(!isin(d,c)||!isInum(n)||(n<1)){return this}; s=rpart(c,d); if(s&&!isNaN(s[2])){n=s[2]}; n=(n*1);
                r=this; w=((c=='^')?'parentNode':((c=='<')?'previousSibling':'nextSibling'));
                while(n){n--; if(!!r[w]){r=r[w]}else{break}}; // find
                return r; // returns found-relative, or self if relative-not-found
            },

            select:function select(def)
            {
                if(!isText(def,1)){return}; let chr,qry,rsl,lst,tmp; chr=def.slice(0,1); qry="querySelectorAll"; rsl=[];
                if(isin("^<>",chr)){return this.lookup(def);}; // parents & siblings
                if(def=="*") // all children .. omit empty `#text` nodes
                {
                    listOf(this.childNodes).forEach((n)=>{if(((n.nodeName!='#text')||n.textContent.trim())){rsl.radd(n)}});
                    return rsl;
                };
                lst=this[qry](`:scope ${def}`);
                if((lst.length<1)&&(chr=='#')&&(def.indexOf(" ")<1)){def=def.slice(1); lst=this[qry](`:scope [name=${def}]`)};
                if(lst.length<1){return}; listOf(lst).forEach((n)=> // fixed querySelector bug
                {
                    if(isin(def,"[value=")){tmp=part(def,"=")[2]; tmp=unwrap(rpart(tmp,"]")[0]); if(n.value!=tmp){return}};
                    rsl.radd(n);
                });
                if(rsl.length<1){return}; if(chr=="#"){rsl=rsl[0]}; // implied
                return rsl;
            },

            modify:function modify(obj)
            {
                if(!expect.knob(obj)){return}; // validation
                obj.forEach((v,k)=>
                {
                    if(!isFunc(v)&&!isKnob(v)&&(k!='innerHTML')){this.setAttribute(k,v);}; // normal attribute
                    if(k=='class'){k='className'}; // prep attribute name for JS
                    this[k]=v; // set attribute as property -which possibly triggers some intrinsic JS event
                });
                return this;
            },

            insert:function insert(v)
            {
                if(v==VOID){return this}; let t=nodeName(this);
                if(isList(v)){var s=this; listOf(v).forEach((o)=>{s.insert(o)});return s}; // works with nodelist also
                if(t=='img'){return this}; // TODO :: impose?
                if(t=='input'){this.value=text(v); return this}; // form input text
                if(isNode(v)||isTemp(v)){this.appendChild(v); return this}; // normal DOM-node append
                if(isKnob(v)){let n=create(v); if(!isNode(n)){return this}; this.appendChild(n);return this}; //create & append
                if(isText(v)&&(wrapOf(trim(v))=='<>')){this.innerHTML=v; return this}; // insert as html
                if(!isText(v)){v=text(v);}; // convert any non-text to text .. circular, boolean, number, function, etc.
                if(isin(['code','text'],t)){this.textContent=v; return this;}; // insert as TEXT
                if(isin("style,script,pre,span,h1,h2,h3,h4,h5,h6,p,a,i,b",t)){this.innerHTML=v; return this}; // insert as HTML
                let n=create('span'); n.innerHTML=v; this.appendChild(n); return this; // append text as span
            },

            remove:function remove()
            {
                let a=args(arguments); a.forEach((d)=>
                {
                    if(isText(d)){d=this.select(d);}; if(!isList(d)){d=[d]};
                    d.forEach((n)=>{if(!isNode(n)){return}; n.parentNode.removeChild(n)});
                });
                return TRUE;
            },
        });
    };
// ----------------------------------------------------------------------------------------------------------------------------




// defn :: (tools) : client-side
// ----------------------------------------------------------------------------------------------------------------------------
    if(CLIENTSIDE)
    {
        herald(MAIN); herald(document); herald(Element.prototype);


        extend(HTMLImageElement.prototype)
        ({
            toDataURL:function(m,q)
            {
                let c=document.createElement("canvas");
                c.width=this.naturalWidth; c.height=this.naturalHeight;
                c.getContext("2d").drawImage(this,0,0);
                c=c.toDataURL(m,q); return c;
            },
        });


        const copyToClipboard = str =>
        {
            let el=document.createElement("textarea"); el.value=str;
            el.setAttribute("readonly",""); el.style.position="absolute";
            el.style.left="-9999px"; BODY.appendChild(el); el.select();
            document.execCommand("copy"); BODY.removeChild(el);
        };
        bake(copyToClipboard);


        hard(function render(src,tgt,cbf)
        {
            if(isFunc(tgt)){cbf=tgt; tgt=VOID};
            if(!isNode(tgt)){tgt=BODY}; if(!isFunc(cbf)){cbf=function(){}}; tgt.innderHTML="";
            if(isPath(src)||isPurl(src))
            {
                let ext=fext(pathOf(src));
                if(!ext||!render.handle[ext]){fail(`missing handler for "${ext}" .. user render.modify()`); return};
                render.handle[ext](src,(rsl)=>{tgt.insert(rsl); cbf(rsl)});
                return;
            };
            src=create({div:src}).select("*"); tgt.insert(src); cbf(src);
        });

        extend(render)
        ({
            handle:
            {
                js:function js(src,cbf){cbf(create({script:"",src:src}));},
                css:function css(src,cbf){cbf(create({link:"",rel:"stylesheet",href:src}));},
                jpg:function jpg(src,cbf){cbf(create({img:"",src:src}));},
                png:function png(src,cbf){cbf(create({img:"",src:src}));},
                gif:function gif(src,cbf){cbf(create({img:"",src:src}));},
                txt:function txt(src,cbf){disk.readFile(src,(rsp)=>{cbf(create({pre:rsp}))});},
                htm:function htm(src,cbf){disk.readFile(src,(rsp)=>{cbf(create({div:rsp}).select("*"))});},
                html:function html(src,cbf){render.handle.htm(src,cbf);},
                jpeg:function jpeg(src,cbf){cbf(create({img:"",src:src}));},
                webp:function webp(src,cbf){cbf(create({img:"",src:src}));},
                json:function json(src,cbf){disk.readFile(src,(rsp)=>{cbf(decode.jso(rsp))});},
            },
            modify:function modify(obj)
            {
                extend(this.handle)(obj);
            },
        });

        extend(Element.prototype)
        ({
            render:function render(def,cbf)
            {
                MAIN.render(def,this,cbf);
            },
        });


        hard(function rect(a)
        {
            if(isText(a)){a=select(a)}; if(!isNode(a)){fail("reference :: expecting node or #nodeID");return};
            if(!a.parentNode){fail("lookup :: node is not attached to the DOM .. yet");return};
            let r=decode.jso(encode.jso(a.getBoundingClientRect())); r.forEach((v,k)=>{r[k]=Math.round(v)});
            return r;
        });
    };
// ----------------------------------------------------------------------------------------------------------------------------




// defn :: (ornate) : client-side .. style
// ----------------------------------------------------------------------------------------------------------------------------
    hard(function ornate(arg,ctx)
    {
        if(isText(arg)&&(!ctx||isText(ctx)))
        {
            arg=trim(arg); if(span(arg)<6){return}; if(!isin(arg,"{")){arg=decode.b64(arg)};
            if(!ctx){ctx=("#ornate_"+hash())}; ctx=create({style:ctx,$:arg}); HEAD.insert(ctx);
            return ctx;
        };

        if(isNode(ctx)){ctx=[ctx]}; if(!isList(ctx)){moan("expecting list"); return};

        ctx.forEach((n)=>
        {
            if(!isNode(n)){moan("expecting list item as node"); return};
            if(isText(arg)){n.setAttribute("style",arg)}
            else if(isKnob(arg)){arg.forEach((v,k)=>{if(isNumr(v)&&!isin("zIndex,opacity",k)){v=(v+"px")}; n.style[k]=v})};
        });

        return TRUE;
    });
// ----------------------------------------------------------------------------------------------------------------------------




// tool :: (Element.prototype) : enclan/declan .. add/remove classNames of an element
// ----------------------------------------------------------------------------------------------------------------------------
    if(CLIENTSIDE)
    {
       extend(Element.prototype)
       ({
          enclan:function()
          {
             let c,l,a,slf; slf=this; c=(slf.className||'').trim(); l=(c?c.split(' '):[]); a=args(arguments);
             a.forEach((v,k)=>{v=ltrim(v,'.'); if(!isin(l,v)){l.push(v);}});
             this.className=l.join(' ');
          },


          declan:function()
          {
             var c,l,a,x; c=(this.className||'').trim(); l=(c?c.split(' '):[]); a=listOf(arguments);
             a.forEach((i)=>{x=l.indexOf(ltrim(i,'.')); if(x>-1){l.splice(x,1)}}); this.className=l.join(' ');
          },


          reclan:function()
          {
             var a; a=listOf(arguments); a.forEach((i)=>
             {
                if(!isText(i)||!isin(i,':')){return}; let p=i.split(':'); let f=p[0].trim(); let t=p[1].trim();
                if(!f||!t){return}; this.declan(f); this.enclan(t);
             });
          },


          inclan:function()
          {
             var a,c,r; a=listOf(arguments); c=(this.className||'').trim(); r=FALS;
             a.forEach((i)=>{i=ltrim(i,'.'); if(isin(c),i){r=TRUE;return STOP}});
             return r;
          },


          enbool:function(w)
          {
             if(!isText(w,1)){return}; this[w]=true; this.setAttribute(w,w); this.enclan(w);
          },


          debool:function(w)
          {
             if(!isText(w,1)){return}; this[w]=false; this.removeAttribute(w); this.declan(w);
          },
       });
    };
// ----------------------------------------------------------------------------------------------------------------------------




// tool :: (Element.prototype) : assort .. sort node placement order either by `sorted` (arg/parent), or `placed` of siblings
// ----------------------------------------------------------------------------------------------------------------------------
    if(CLIENTSIDE)
    {
       extend(Element.prototype)
       ({
          assort:function(r, f,w)
          {
             if(!r){r=this.sorted}; w=`assort rule: ${r}`; f=`invalid ${w}`;  let prts,slct,attr,ordr,indx,fltr;
             if(!isText(r,6)||!isin(r,"::")){fail(f);return}; prts=part(r,"::"); slct=trim(prts[0]);
             prts=part(trim(prts[2]),":"); if(!slct||!prts){return}; attr=trim(prts[0]); ordr=lowerCase(trim(prts[2]));
             if(!attr||!ordr){return}; slct=this.select(slct); if(!slct){return}; indx={};
             slct.forEach((n)=>{let a=bore(n,attr); if(isVoid(a)){return}; indx[a]=n; remove(n)});
             fltr=(keys(indx)).sort(); if(ordr=="dsc"){fltr.reverse()}; fltr.forEach((i)=>{this.appendChild(indx[i])});
          },
       });
    };
// ----------------------------------------------------------------------------------------------------------------------------




// tool :: device : events
// ----------------------------------------------------------------------------------------------------------------------------
    if(CLIENTSIDE)
    {
        extend(MAIN)
        ({
            device:
            {
                vars:
                {
                    axis:{x:0,y:0}, btns:{}, busy:{}, last:{},
                },
                keyCombo:"",
                getCombo:function getCombo(how)
                {
                    this.keyCombo=keys(this.vars.btns).join(" ").trim();
                    if((how!=SILENT)&&isin(this.keyCombo," "))
                    {emit("KeyCombo",this.keyCombo); emit(this.keyCombo)};
                    return this.keyCombo;
                },
            },
        });

        MAIN.upon("mousemove",function(e)
        {
            let na,oa,en,be; be="MouseMove"; oa=device.vars.axis; na={x:e.clientX,y:e.clientY}; emit((be+"Any"),na);
            en=((na.x>oa.x)?"Rigt":((na.x<oa.x)?"Left":((na.y>oa.y)?"Down":((na.y<oa.y)?"Up":""))));
            if(!en){return}; en=(be+en); device.vars.axis=na; emit(en,na); device.vars.last="mouse";
            if(device.vars.busy.mouse){clearTimeout(device.vars.busy.mouse)}else{emit(be+"Begin")};
            device.vars.busy.mouse=tick.after(300,()=>
            {delete device.vars.busy.mouse; delete device.vars.btns[en]; emit(be+"End")});
        });

        MAIN.upon("wheel",function(me)
        {
            let x=(Math.round(me.deltaX)||0); let y=(Math.round(me.deltaY)||0); let ew,sw,sl,bx,xr,xd,xp,a;
            let d; if(!x){x=0;}; if(!y){y=0;}; if(me.deltaMode==1){x*=12; y*=12}; let eh,sh,st,el,yr,yd,yp,p;
            el=me.target; bx=rect(el); ew=bx.width; eh=bx.height; sw=el.scrollWidth; sh=el.scrollHeight;
            d=((sw>ew)?((x>0)?R:((x<0)?L:M)):((sh>eh)?((y>0)?D:((y<0)?U:M)):M)); let z;
            a=((d==M)?M:(((d==L)||(d==R))?X:Y)); sl=el.scrollLeft; st=el.scrollTop;
            p=round(((a==X)?((sl+ew)/sw):((st+eh)/sh)),1);
            z=round((a==M)?0:((a==X)?(sw-(sl+ew)):(sh-(st+eh)))); let crd=[x,y,d,a,p,z];

            emit("MouseWheel",crd); if(device.vars.busy.wheel){clearTimeout(device.vars.busy.wheel);}
            else{emit("WheelBegin",crd)}; device.vars.busy.wheel=tick.after(300,()=>
            {delete device.vars.busy.wheel; emit("WheelEnd",crd)});
        });

        MAIN.upon("mousedown",function(e)
        {
            let cb,en; cb=((e.which<2)?"Left":((e.which==2)?"Middle":"Right")); device.vars.last="mouse";
            en=(cb+"Click"); device.vars.btns[en]=1; device.getCombo(); let tap=(device.vars.taps||0); tap++;
            if((cb!="Left")||(tap<2)){emit(en); return}; device.vars.taps=tap;
            if(device.vars.busy.tap){clearTimeout(device.vars.busy.tap)};
            device.vars.busy.tap=tick.after(120,()=>
            {delete device.vars.busy.tap; delete device.vars.taps; emit("tap"+tap);});

        });

        MAIN.upon("mouseup",function(e)
        {
            let cb,en; cb=((e.which<2)?"Left":((e.which==2)?"Middle":"Right")); device.vars.last="mouse";
            en=("MouseUp"+cb); delete device.vars.btns[(cb+"Click")]; device.getCombo(SILENT); emit(en);
        });

        MAIN.upon("keydown",function(e)
        {
            let cb; cb=e.key; if(e.keyCode==91){cb="Meta";}else if(cb==" "){cb="Space"}; device.vars.last="keyboard";
            device.vars.btns[cb]=1; device.getCombo(); emit("KeyDown",cb);
        });

        MAIN.upon("keyup",function(e)
        {
            let cb; cb=e.key; if(e.keyCode==91){cb="Meta";}else if(cb==" "){cb="Space"}; device.vars.last="keyboard";
            delete device.vars.btns[cb]; device.getCombo(); emit("KeyUp",cb);
        });

        MAIN.upon("keypress",function(e)
        {
            let cb; cb=e.key; if(e.keyCode==91){cb="Meta";}else if(cb==" "){cb="Space"}; emit("KeyPress",cb);
             device.vars.last="keyboard"; if(e.repeat){emit("KeyRepeat",cb)};
            if(device.vars.busy.keyboard){clearTimeout(device.vars.busy.keyboard)}else{emit("TypingBegin")};
            device.vars.busy.keyboard=tick.after(300,()=>{delete device.vars.busy.keyboard; emit("TypingEnd")});
        });

        MAIN.upon("contextmenu",function(e)
        {
            if(device.vars.last=="mouse"){e.preventDefault(); return false;};
        });

        MAIN.upon("resize",function(e)
        {
            if(device.vars.busy.resize){clearTimeout(device.vars.busy.resize)}else{emit("ResizeBegin")};
            device.vars.busy.resize=tick.after(300,()=>{delete device.vars.busy.resize; emit("ResizeEnd")});
        });

        MAIN.upon("blur",function(e)
        {
            device.vars.btns={};
        });


        upon("load",()=>
        {
            if(seen("HEAD")){return}; // window.onload was triggered before
            defn({HEAD:document.head, BODY:document.body}); // global shorthands
            tick.after(10,()=>{emit("domReady")}); // DOM has fully loaded
            tick.after(90,()=>{emit("allReady")}); // ALL has fully loaded .. probably
        });
    };
// ----------------------------------------------------------------------------------------------------------------------------




// sham :: THREE : three.js library .. https://github.com/mrdoob/three.js .. clone date: 2021-02-09 .. keep this updated!
// ----------------------------------------------------------------------------------------------------------------------------
    if(CLIENTSIDE)
    {
        upon("domReady",function()
        {
            (function(for_THREE_main)
            {
                HEAD.insert({script:`#THREE_main`,$:decode.b64(`Ly8gdGhyZWVqcy5vcmcvbGljZW5zZQohZnVuY3Rpb24odCxlKXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP2UoZXhwb3J0cyk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJleHBvcnRzIl0sZSk6ZSgodD0idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczp0fHxzZWxmKS5USFJFRT17fSl9KHRoaXMsKGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0Ijt2b2lkIDA9PT1OdW1iZXIuRVBTSUxPTiYmKE51bWJlci5FUFNJTE9OPU1hdGgucG93KDIsLTUyKSksdm9pZCAwPT09TnVtYmVyLmlzSW50ZWdlciYmKE51bWJlci5pc0ludGVnZXI9ZnVuY3Rpb24odCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0JiZpc0Zpbml0ZSh0KSYmTWF0aC5mbG9vcih0KT09PXR9KSx2b2lkIDA9PT1NYXRoLnNpZ24mJihNYXRoLnNpZ249ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MD8tMTp0PjA/MTordH0pLCJuYW1lImluIEZ1bmN0aW9uLnByb3RvdHlwZT09ITEmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdW5jdGlvbi5wcm90b3R5cGUsIm5hbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1N0cmluZygpLm1hdGNoKC9eXHMqZnVuY3Rpb25ccyooW15cKFxzXSopLylbMV19fSksdm9pZCAwPT09T2JqZWN0LmFzc2lnbiYmKE9iamVjdC5hc3NpZ249ZnVuY3Rpb24odCl7aWYobnVsbD09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QiKTtmb3IodmFyIGU9T2JqZWN0KHQpLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgaT1hcmd1bWVudHNbbl07aWYobnVsbCE9aSlmb3IodmFyIHIgaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxyKSYmKGVbcl09aVtyXSl9cmV0dXJuIGV9KTt2YXIgZT1mdW5jdGlvbih0KXt2YXIgZSxuPU9iamVjdC5wcm90b3R5cGUsaT1uLmhhc093blByb3BlcnR5LHI9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYT1yLml0ZXJhdG9yfHwiQEBpdGVyYXRvciIsbz1yLmFzeW5jSXRlcmF0b3J8fCJAQGFzeW5jSXRlcmF0b3IiLHM9ci50b1N0cmluZ1RhZ3x8IkBAdG9TdHJpbmdUYWciO2Z1bmN0aW9uIGModCxlLG4pe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksdFtlXX10cnl7Yyh7fSwiIil9Y2F0Y2godCl7Yz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bn19ZnVuY3Rpb24gbCh0LGUsbixpKXt2YXIgcj1lJiZlLnByb3RvdHlwZSBpbnN0YW5jZW9mIHY/ZTp2LGE9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSksbz1uZXcgTChpfHxbXSk7cmV0dXJuIGEuX2ludm9rZT1mdW5jdGlvbih0LGUsbil7dmFyIGk9aDtyZXR1cm4gZnVuY3Rpb24ocixhKXtpZihpPT09cCl0aHJvdyBuZXcgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZihpPT09Zil7aWYoInRocm93Ij09PXIpdGhyb3cgYTtyZXR1cm4gQygpfWZvcihuLm1ldGhvZD1yLG4uYXJnPWE7Oyl7dmFyIG89bi5kZWxlZ2F0ZTtpZihvKXt2YXIgcz1UKG8sbik7aWYocyl7aWYocz09PW0pY29udGludWU7cmV0dXJuIHN9fWlmKCJuZXh0Ij09PW4ubWV0aG9kKW4uc2VudD1uLl9zZW50PW4uYXJnO2Vsc2UgaWYoInRocm93Ij09PW4ubWV0aG9kKXtpZihpPT09aCl0aHJvdyBpPWYsbi5hcmc7bi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyl9ZWxzZSJyZXR1cm4iPT09bi5tZXRob2QmJm4uYWJydXB0KCJyZXR1cm4iLG4uYXJnKTtpPXA7dmFyIGM9dSh0LGUsbik7aWYoIm5vcm1hbCI9PT1jLnR5cGUpe2lmKGk9bi5kb25lP2Y6ZCxjLmFyZz09PW0pY29udGludWU7cmV0dXJue3ZhbHVlOmMuYXJnLGRvbmU6bi5kb25lfX0idGhyb3ciPT09Yy50eXBlJiYoaT1mLG4ubWV0aG9kPSJ0aHJvdyIsbi5hcmc9Yy5hcmcpfX19KHQsbixvKSxhfWZ1bmN0aW9uIHUodCxlLG4pe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6dC5jYWxsKGUsbil9fWNhdGNoKHQpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOnR9fX10LndyYXA9bDt2YXIgaD0ic3VzcGVuZGVkU3RhcnQiLGQ9InN1c3BlbmRlZFlpZWxkIixwPSJleGVjdXRpbmciLGY9ImNvbXBsZXRlZCIsbT17fTtmdW5jdGlvbiB2KCl7fWZ1bmN0aW9uIGcoKXt9ZnVuY3Rpb24geSgpe312YXIgeD17fTt4W2FdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3ZhciBfPU9iamVjdC5nZXRQcm90b3R5cGVPZixiPV8mJl8oXyhSKFtdKSkpO2ImJmIhPT1uJiZpLmNhbGwoYixhKSYmKHg9Yik7dmFyIHc9eS5wcm90b3R5cGU9di5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh4KTtmdW5jdGlvbiBNKHQpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7Yyh0LGUsKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnZva2UoZSx0KX0pKX0pKX1mdW5jdGlvbiBTKHQsZSl7ZnVuY3Rpb24gbihyLGEsbyxzKXt2YXIgYz11KHRbcl0sdCxhKTtpZigidGhyb3ciIT09Yy50eXBlKXt2YXIgbD1jLmFyZyxoPWwudmFsdWU7cmV0dXJuIGgmJiJvYmplY3QiPT10eXBlb2YgaCYmaS5jYWxsKGgsIl9fYXdhaXQiKT9lLnJlc29sdmUoaC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbih0KXtuKCJuZXh0Iix0LG8scyl9KSwoZnVuY3Rpb24odCl7bigidGhyb3ciLHQsbyxzKX0pKTplLnJlc29sdmUoaCkudGhlbigoZnVuY3Rpb24odCl7bC52YWx1ZT10LG8obCl9KSwoZnVuY3Rpb24odCl7cmV0dXJuIG4oInRocm93Iix0LG8scyl9KSl9cyhjLmFyZyl9dmFyIHI7dGhpcy5faW52b2tlPWZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gYSgpe3JldHVybiBuZXcgZSgoZnVuY3Rpb24oZSxyKXtuKHQsaSxlLHIpfSkpfXJldHVybiByPXI/ci50aGVuKGEsYSk6YSgpfX1mdW5jdGlvbiBUKHQsbil7dmFyIGk9dC5pdGVyYXRvcltuLm1ldGhvZF07aWYoaT09PWUpe2lmKG4uZGVsZWdhdGU9bnVsbCwidGhyb3ciPT09bi5tZXRob2Qpe2lmKHQuaXRlcmF0b3IucmV0dXJuJiYobi5tZXRob2Q9InJldHVybiIsbi5hcmc9ZSxUKHQsbiksInRocm93Ij09PW4ubWV0aG9kKSlyZXR1cm4gbTtuLm1ldGhvZD0idGhyb3ciLG4uYXJnPW5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2QiKX1yZXR1cm4gbX12YXIgcj11KGksdC5pdGVyYXRvcixuLmFyZyk7aWYoInRocm93Ij09PXIudHlwZSlyZXR1cm4gbi5tZXRob2Q9InRocm93IixuLmFyZz1yLmFyZyxuLmRlbGVnYXRlPW51bGwsbTt2YXIgYT1yLmFyZztyZXR1cm4gYT9hLmRvbmU/KG5bdC5yZXN1bHROYW1lXT1hLnZhbHVlLG4ubmV4dD10Lm5leHRMb2MsInJldHVybiIhPT1uLm1ldGhvZCYmKG4ubWV0aG9kPSJuZXh0IixuLmFyZz1lKSxuLmRlbGVnYXRlPW51bGwsbSk6YToobi5tZXRob2Q9InRocm93IixuLmFyZz1uZXcgVHlwZUVycm9yKCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdCIpLG4uZGVsZWdhdGU9bnVsbCxtKX1mdW5jdGlvbiBFKHQpe3ZhciBlPXt0cnlMb2M6dFswXX07MSBpbiB0JiYoZS5jYXRjaExvYz10WzFdKSwyIGluIHQmJihlLmZpbmFsbHlMb2M9dFsyXSxlLmFmdGVyTG9jPXRbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKGUpfWZ1bmN0aW9uIEEodCl7dmFyIGU9dC5jb21wbGV0aW9ufHx7fTtlLnR5cGU9Im5vcm1hbCIsZGVsZXRlIGUuYXJnLHQuY29tcGxldGlvbj1lfWZ1bmN0aW9uIEwodCl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOiJyb290In1dLHQuZm9yRWFjaChFLHRoaXMpLHRoaXMucmVzZXQoITApfWZ1bmN0aW9uIFIodCl7aWYodCl7dmFyIG49dFthXTtpZihuKXJldHVybiBuLmNhbGwodCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQubmV4dClyZXR1cm4gdDtpZighaXNOYU4odC5sZW5ndGgpKXt2YXIgcj0tMSxvPWZ1bmN0aW9uIG4oKXtmb3IoOysrcjx0Lmxlbmd0aDspaWYoaS5jYWxsKHQscikpcmV0dXJuIG4udmFsdWU9dFtyXSxuLmRvbmU9ITEsbjtyZXR1cm4gbi52YWx1ZT1lLG4uZG9uZT0hMCxufTtyZXR1cm4gby5uZXh0PW99fXJldHVybntuZXh0OkN9fWZ1bmN0aW9uIEMoKXtyZXR1cm57dmFsdWU6ZSxkb25lOiEwfX1yZXR1cm4gZy5wcm90b3R5cGU9dy5jb25zdHJ1Y3Rvcj15LHkuY29uc3RydWN0b3I9ZyxnLmRpc3BsYXlOYW1lPWMoeSxzLCJHZW5lcmF0b3JGdW5jdGlvbiIpLHQuaXNHZW5lcmF0b3JGdW5jdGlvbj1mdW5jdGlvbih0KXt2YXIgZT0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4hIWUmJihlPT09Z3x8IkdlbmVyYXRvckZ1bmN0aW9uIj09PShlLmRpc3BsYXlOYW1lfHxlLm5hbWUpKX0sdC5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQseSk6KHQuX19wcm90b19fPXksYyh0LHMsIkdlbmVyYXRvckZ1bmN0aW9uIikpLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodyksdH0sdC5hd3JhcD1mdW5jdGlvbih0KXtyZXR1cm57X19hd2FpdDp0fX0sTShTLnByb3RvdHlwZSksUy5wcm90b3R5cGVbb109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdC5Bc3luY0l0ZXJhdG9yPVMsdC5hc3luYz1mdW5jdGlvbihlLG4saSxyLGEpe3ZvaWQgMD09PWEmJihhPVByb21pc2UpO3ZhciBvPW5ldyBTKGwoZSxuLGksciksYSk7cmV0dXJuIHQuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9vOm8ubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRvbmU/dC52YWx1ZTpvLm5leHQoKX0pKX0sTSh3KSxjKHcscywiR2VuZXJhdG9yIiksd1thXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx3LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgR2VuZXJhdG9yXSJ9LHQua2V5cz1mdW5jdGlvbih0KXt2YXIgZT1bXTtmb3IodmFyIG4gaW4gdCllLnB1c2gobik7cmV0dXJuIGUucmV2ZXJzZSgpLGZ1bmN0aW9uIG4oKXtmb3IoO2UubGVuZ3RoOyl7dmFyIGk9ZS5wb3AoKTtpZihpIGluIHQpcmV0dXJuIG4udmFsdWU9aSxuLmRvbmU9ITEsbn1yZXR1cm4gbi5kb25lPSEwLG59fSx0LnZhbHVlcz1SLEwucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpMLHJlc2V0OmZ1bmN0aW9uKHQpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PWUsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5hcmc9ZSx0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChBKSwhdClmb3IodmFyIG4gaW4gdGhpcykidCI9PT1uLmNoYXJBdCgwKSYmaS5jYWxsKHRoaXMsbikmJiFpc05hTigrbi5zbGljZSgxKSkmJih0aGlzW25dPWUpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5kb25lPSEwO3ZhciB0PXRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24odCl7aWYodGhpcy5kb25lKXRocm93IHQ7dmFyIG49dGhpcztmdW5jdGlvbiByKGkscil7cmV0dXJuIHMudHlwZT0idGhyb3ciLHMuYXJnPXQsbi5uZXh0PWksciYmKG4ubWV0aG9kPSJuZXh0IixuLmFyZz1lKSwhIXJ9Zm9yKHZhciBhPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTthPj0wOy0tYSl7dmFyIG89dGhpcy50cnlFbnRyaWVzW2FdLHM9by5jb21wbGV0aW9uO2lmKCJyb290Ij09PW8udHJ5TG9jKXJldHVybiByKCJlbmQiKTtpZihvLnRyeUxvYzw9dGhpcy5wcmV2KXt2YXIgYz1pLmNhbGwobywiY2F0Y2hMb2MiKSxsPWkuY2FsbChvLCJmaW5hbGx5TG9jIik7aWYoYyYmbCl7aWYodGhpcy5wcmV2PG8uY2F0Y2hMb2MpcmV0dXJuIHIoby5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PG8uZmluYWxseUxvYylyZXR1cm4gcihvLmZpbmFsbHlMb2MpfWVsc2UgaWYoYyl7aWYodGhpcy5wcmV2PG8uY2F0Y2hMb2MpcmV0dXJuIHIoby5jYXRjaExvYywhMCl9ZWxzZXtpZighbCl0aHJvdyBuZXcgRXJyb3IoInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5Iik7aWYodGhpcy5wcmV2PG8uZmluYWxseUxvYylyZXR1cm4gcihvLmZpbmFsbHlMb2MpfX19fSxhYnJ1cHQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgcj10aGlzLnRyeUVudHJpZXNbbl07aWYoci50cnlMb2M8PXRoaXMucHJldiYmaS5jYWxsKHIsImZpbmFsbHlMb2MiKSYmdGhpcy5wcmV2PHIuZmluYWxseUxvYyl7dmFyIGE9cjticmVha319YSYmKCJicmVhayI9PT10fHwiY29udGludWUiPT09dCkmJmEudHJ5TG9jPD1lJiZlPD1hLmZpbmFsbHlMb2MmJihhPW51bGwpO3ZhciBvPWE/YS5jb21wbGV0aW9uOnt9O3JldHVybiBvLnR5cGU9dCxvLmFyZz1lLGE/KHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLm5leHQ9YS5maW5hbGx5TG9jLG0pOnRoaXMuY29tcGxldGUobyl9LGNvbXBsZXRlOmZ1bmN0aW9uKHQsZSl7aWYoInRocm93Ij09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm4iYnJlYWsiPT09dC50eXBlfHwiY29udGludWUiPT09dC50eXBlP3RoaXMubmV4dD10LmFyZzoicmV0dXJuIj09PXQudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPXQuYXJnLHRoaXMubWV0aG9kPSJyZXR1cm4iLHRoaXMubmV4dD0iZW5kIik6Im5vcm1hbCI9PT10LnR5cGUmJmUmJih0aGlzLm5leHQ9ZSksbX0sZmluaXNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tlXTtpZihuLmZpbmFsbHlMb2M9PT10KXJldHVybiB0aGlzLmNvbXBsZXRlKG4uY29tcGxldGlvbixuLmFmdGVyTG9jKSxBKG4pLG19fSxjYXRjaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgbj10aGlzLnRyeUVudHJpZXNbZV07aWYobi50cnlMb2M9PT10KXt2YXIgaT1uLmNvbXBsZXRpb247aWYoInRocm93Ij09PWkudHlwZSl7dmFyIHI9aS5hcmc7QShuKX1yZXR1cm4gcn19dGhyb3cgbmV3IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKX0sZGVsZWdhdGVZaWVsZDpmdW5jdGlvbih0LG4saSl7cmV0dXJuIHRoaXMuZGVsZWdhdGU9e2l0ZXJhdG9yOlIodCkscmVzdWx0TmFtZTpuLG5leHRMb2M6aX0sIm5leHQiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz1lKSxtfX0sdH0oIm9iamVjdCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM6e30pO3RyeXtyZWdlbmVyYXRvclJ1bnRpbWU9ZX1jYXRjaCh0KXtGdW5jdGlvbigiciIsInJlZ2VuZXJhdG9yUnVudGltZSA9IHIiKShlKX12YXIgbj0iMTI2ZGV2IixpPTEwMCxyPTMwMCxhPTMwMSxvPTMwMixzPTMwMyxjPTMwNCxsPTMwNix1PTMwNyxoPTFlMyxkPTEwMDEscD0xMDAyLGY9MTAwMyxtPTEwMDQsdj0xMDA1LGc9MTAwNix5PTEwMDcseD0xMDA4LF89MTAwOSxiPTEwMTIsdz0xMDE0LE09MTAxNSxTPTEwMTYsVD0xMDIwLEU9MTAyMixBPTEwMjMsTD0xMDI2LFI9MTAyNyxDPTMzNzc2LFA9MzM3NzcsRD0zMzc3OCxJPTMzNzc5LE89MzU4NDAsTj0zNTg0MSxCPTM1ODQyLHo9MzU4NDMsRj0zNzQ5MixIPTM3NDk2LEc9MjMwMCxVPTIzMDEsaz0yMzAyLFY9MjQwMCxXPTI0MDEsaj0yNDAyLHE9MjUwMCxYPTI1MDEsWT0zZTMsWj0zMDAxLEo9MzAwNyxRPTMwMDIsSz0zMDA0LCQ9MzAwNSx0dD0zMDA2LGV0PTc2ODAsbnQ9MzUwNDQsaXQ9MzUwNDgscnQ9IjMwMCBlcyI7ZnVuY3Rpb24gYXQodCxlLG4saSxyLGEsbyl7dHJ5e3ZhciBzPXRbYV0obyksYz1zLnZhbHVlfWNhdGNoKHQpe3JldHVybiB2b2lkIG4odCl9cy5kb25lP2UoYyk6UHJvbWlzZS5yZXNvbHZlKGMpLnRoZW4oaSxyKX1mdW5jdGlvbiBvdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaS5rZXksaSl9fWZ1bmN0aW9uIHN0KHQsZSxuKXtyZXR1cm4gZSYmb3QodC5wcm90b3R5cGUsZSksbiYmb3QodCxuKSx0fWZ1bmN0aW9uIGN0KHQsZSl7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCx0Ll9fcHJvdG9fXz1lfWZ1bmN0aW9uIGx0KHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gdH1mdW5jdGlvbiB1dCh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLGk9bmV3IEFycmF5KGUpO248ZTtuKyspaVtuXT10W25dO3JldHVybiBpfWZ1bmN0aW9uIGh0KHQsZSl7dmFyIG47aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBTeW1ib2x8fG51bGw9PXRbU3ltYm9sLml0ZXJhdG9yXSl7aWYoQXJyYXkuaXNBcnJheSh0KXx8KG49ZnVuY3Rpb24odCxlKXtpZih0KXtpZigic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIHV0KHQsZSk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKHQpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/dXQodCxlKTp2b2lkIDB9fSh0KSl8fGUmJnQmJiJudW1iZXIiPT10eXBlb2YgdC5sZW5ndGgpe24mJih0PW4pO3ZhciBpPTA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGk+PXQubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTp0W2krK119fX10aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9cmV0dXJuKG49dFtTeW1ib2wuaXRlcmF0b3JdKCkpLm5leHQuYmluZChuKX1mdW5jdGlvbiBkdCgpe31PYmplY3QuYXNzaWduKGR0LnByb3RvdHlwZSx7YWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PXRoaXMuX2xpc3RlbmVycyYmKHRoaXMuX2xpc3RlbmVycz17fSk7dmFyIG49dGhpcy5fbGlzdGVuZXJzO3ZvaWQgMD09PW5bdF0mJihuW3RdPVtdKSwtMT09PW5bdF0uaW5kZXhPZihlKSYmblt0XS5wdXNoKGUpfSxoYXNFdmVudExpc3RlbmVyOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dGhpcy5fbGlzdGVuZXJzKXJldHVybiExO3ZhciBuPXRoaXMuX2xpc3RlbmVycztyZXR1cm4gdm9pZCAwIT09blt0XSYmLTEhPT1uW3RdLmluZGV4T2YoZSl9LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDAhPT10aGlzLl9saXN0ZW5lcnMpe3ZhciBuPXRoaXMuX2xpc3RlbmVyc1t0XTtpZih2b2lkIDAhPT1uKXt2YXIgaT1uLmluZGV4T2YoZSk7LTEhPT1pJiZuLnNwbGljZShpLDEpfX19LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dGhpcy5fbGlzdGVuZXJzKXt2YXIgZT10aGlzLl9saXN0ZW5lcnNbdC50eXBlXTtpZih2b2lkIDAhPT1lKXt0LnRhcmdldD10aGlzO2Zvcih2YXIgbj1lLnNsaWNlKDApLGk9MCxyPW4ubGVuZ3RoO2k8cjtpKyspbltpXS5jYWxsKHRoaXMsdCl9fX19KTtmb3IodmFyIHB0PVtdLGZ0PTA7ZnQ8MjU2O2Z0KyspcHRbZnRdPShmdDwxNj8iMCI6IiIpK2Z0LnRvU3RyaW5nKDE2KTt2YXIgbXQsdnQ9MTIzNDU2NyxndD17REVHMlJBRDpNYXRoLlBJLzE4MCxSQUQyREVHOjE4MC9NYXRoLlBJLGdlbmVyYXRlVVVJRDpmdW5jdGlvbigpe3ZhciB0PTQyOTQ5NjcyOTUqTWF0aC5yYW5kb20oKXwwLGU9NDI5NDk2NzI5NSpNYXRoLnJhbmRvbSgpfDAsbj00Mjk0OTY3Mjk1Kk1hdGgucmFuZG9tKCl8MCxpPTQyOTQ5NjcyOTUqTWF0aC5yYW5kb20oKXwwO3JldHVybihwdFsyNTUmdF0rcHRbdD4+OCYyNTVdK3B0W3Q+PjE2JjI1NV0rcHRbdD4+MjQmMjU1XSsiLSIrcHRbMjU1JmVdK3B0W2U+PjgmMjU1XSsiLSIrcHRbZT4+MTYmMTV8NjRdK3B0W2U+PjI0JjI1NV0rIi0iK3B0WzYzJm58MTI4XStwdFtuPj44JjI1NV0rIi0iK3B0W24+PjE2JjI1NV0rcHRbbj4+MjQmMjU1XStwdFsyNTUmaV0rcHRbaT4+OCYyNTVdK3B0W2k+PjE2JjI1NV0rcHRbaT4+MjQmMjU1XSkudG9VcHBlckNhc2UoKX0sY2xhbXA6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBNYXRoLm1heChlLE1hdGgubWluKG4sdCkpfSxldWNsaWRlYW5Nb2R1bG86ZnVuY3Rpb24odCxlKXtyZXR1cm4odCVlK2UpJWV9LG1hcExpbmVhcjpmdW5jdGlvbih0LGUsbixpLHIpe3JldHVybiBpKyh0LWUpKihyLWkpLyhuLWUpfSxsZXJwOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4oMS1uKSp0K24qZX0sZGFtcDpmdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gZ3QubGVycCh0LGUsMS1NYXRoLmV4cCgtbippKSl9LHBpbmdwb25nOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTEpLGUtTWF0aC5hYnMoZ3QuZXVjbGlkZWFuTW9kdWxvKHQsMiplKS1lKX0sc21vb3Roc3RlcDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ8PWU/MDp0Pj1uPzE6KHQ9KHQtZSkvKG4tZSkpKnQqKDMtMip0KX0sc21vb3RoZXJzdGVwOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdDw9ZT8wOnQ+PW4/MToodD0odC1lKS8obi1lKSkqdCp0Kih0Kig2KnQtMTUpKzEwKX0scmFuZEludDpmdW5jdGlvbih0LGUpe3JldHVybiB0K01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooZS10KzEpKX0scmFuZEZsb2F0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrTWF0aC5yYW5kb20oKSooZS10KX0scmFuZEZsb2F0U3ByZWFkOmZ1bmN0aW9uKHQpe3JldHVybiB0KiguNS1NYXRoLnJhbmRvbSgpKX0sc2VlZGVkUmFuZG9tOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiYodnQ9dCUyMTQ3NDgzNjQ3KSwoKHZ0PTE2ODA3KnZ0JTIxNDc0ODM2NDcpLTEpLzIxNDc0ODM2NDZ9LGRlZ1RvUmFkOmZ1bmN0aW9uKHQpe3JldHVybiB0Kmd0LkRFRzJSQUR9LHJhZFRvRGVnOmZ1bmN0aW9uKHQpe3JldHVybiB0Kmd0LlJBRDJERUd9LGlzUG93ZXJPZlR3bzpmdW5jdGlvbih0KXtyZXR1cm4gMD09KHQmdC0xKSYmMCE9PXR9LGNlaWxQb3dlck9mVHdvOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdygyLE1hdGguY2VpbChNYXRoLmxvZyh0KS9NYXRoLkxOMikpfSxmbG9vclBvd2VyT2ZUd286ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucG93KDIsTWF0aC5mbG9vcihNYXRoLmxvZyh0KS9NYXRoLkxOMikpfSxzZXRRdWF0ZXJuaW9uRnJvbVByb3BlckV1bGVyOmZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIGE9TWF0aC5jb3Msbz1NYXRoLnNpbixzPWEobi8yKSxjPW8obi8yKSxsPWEoKGUraSkvMiksdT1vKChlK2kpLzIpLGg9YSgoZS1pKS8yKSxkPW8oKGUtaSkvMikscD1hKChpLWUpLzIpLGY9bygoaS1lKS8yKTtzd2l0Y2gocil7Y2FzZSJYWVgiOnQuc2V0KHMqdSxjKmgsYypkLHMqbCk7YnJlYWs7Y2FzZSJZWlkiOnQuc2V0KGMqZCxzKnUsYypoLHMqbCk7YnJlYWs7Y2FzZSJaWFoiOnQuc2V0KGMqaCxjKmQscyp1LHMqbCk7YnJlYWs7Y2FzZSJYWlgiOnQuc2V0KHMqdSxjKmYsYypwLHMqbCk7YnJlYWs7Y2FzZSJZWFkiOnQuc2V0KGMqcCxzKnUsYypmLHMqbCk7YnJlYWs7Y2FzZSJaWVoiOnQuc2V0KGMqZixjKnAscyp1LHMqbCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLndhcm4oIlRIUkVFLk1hdGhVdGlsczogLnNldFF1YXRlcm5pb25Gcm9tUHJvcGVyRXVsZXIoKSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAiK3IpfX19LHl0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpc1ZlY3RvcjIiLHt2YWx1ZTohMH0pLHRoaXMueD10LHRoaXMueT1lfXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnNldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLng9dCx0aGlzLnk9ZSx0aGlzfSxlLnNldFNjYWxhcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54PXQsdGhpcy55PXQsdGhpc30sZS5zZXRYPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLng9dCx0aGlzfSxlLnNldFk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueT10LHRoaXN9LGUuc2V0Q29tcG9uZW50PWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQpe2Nhc2UgMDp0aGlzLng9ZTticmVhaztjYXNlIDE6dGhpcy55PWU7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImluZGV4IGlzIG91dCBvZiByYW5nZTogIit0KX1yZXR1cm4gdGhpc30sZS5nZXRDb21wb25lbnQ9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gdGhpcy54O2Nhc2UgMTpyZXR1cm4gdGhpcy55O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICIrdCl9fSxlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnkpfSxlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD10LngsdGhpcy55PXQueSx0aGlzfSxlLmFkZD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDAhPT1lPyhjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjI6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLmFkZFZlY3RvcnModCxlKSk6KHRoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXMpfSxlLmFkZFNjYWxhcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Kz10LHRoaXMueSs9dCx0aGlzfSxlLmFkZFZlY3RvcnM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54PXQueCtlLngsdGhpcy55PXQueStlLnksdGhpc30sZS5hZGRTY2FsZWRWZWN0b3I9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54Kz10LngqZSx0aGlzLnkrPXQueSplLHRoaXN9LGUuc3ViPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMCE9PWU/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMjogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMuc3ViVmVjdG9ycyh0LGUpKToodGhpcy54LT10LngsdGhpcy55LT10LnksdGhpcyl9LGUuc3ViU2NhbGFyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngtPXQsdGhpcy55LT10LHRoaXN9LGUuc3ViVmVjdG9ycz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLng9dC54LWUueCx0aGlzLnk9dC55LWUueSx0aGlzfSxlLm11bHRpcGx5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQueCx0aGlzLnkqPXQueSx0aGlzfSxlLm11bHRpcGx5U2NhbGFyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqPXQsdGhpcy55Kj10LHRoaXN9LGUuZGl2aWRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngvPXQueCx0aGlzLnkvPXQueSx0aGlzfSxlLmRpdmlkZVNjYWxhcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tdWx0aXBseVNjYWxhcigxL3QpfSxlLmFwcGx5TWF0cml4Mz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLngsbj10aGlzLnksaT10LmVsZW1lbnRzO3JldHVybiB0aGlzLng9aVswXSplK2lbM10qbitpWzZdLHRoaXMueT1pWzFdKmUraVs0XSpuK2lbN10sdGhpc30sZS5taW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD1NYXRoLm1pbih0aGlzLngsdC54KSx0aGlzLnk9TWF0aC5taW4odGhpcy55LHQueSksdGhpc30sZS5tYXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD1NYXRoLm1heCh0aGlzLngsdC54KSx0aGlzLnk9TWF0aC5tYXgodGhpcy55LHQueSksdGhpc30sZS5jbGFtcD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodC54LE1hdGgubWluKGUueCx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgodC55LE1hdGgubWluKGUueSx0aGlzLnkpKSx0aGlzfSxlLmNsYW1wU2NhbGFyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueD1NYXRoLm1heCh0LE1hdGgubWluKGUsdGhpcy54KSksdGhpcy55PU1hdGgubWF4KHQsTWF0aC5taW4oZSx0aGlzLnkpKSx0aGlzfSxlLmNsYW1wTGVuZ3RoPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5sZW5ndGgoKTtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIobnx8MSkubXVsdGlwbHlTY2FsYXIoTWF0aC5tYXgodCxNYXRoLm1pbihlLG4pKSl9LGUuZmxvb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PU1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9TWF0aC5mbG9vcih0aGlzLnkpLHRoaXN9LGUuY2VpbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5jZWlsKHRoaXMueCksdGhpcy55PU1hdGguY2VpbCh0aGlzLnkpLHRoaXN9LGUucm91bmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PU1hdGgucm91bmQodGhpcy54KSx0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpLHRoaXN9LGUucm91bmRUb1plcm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PXRoaXMueDwwP01hdGguY2VpbCh0aGlzLngpOk1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9dGhpcy55PDA/TWF0aC5jZWlsKHRoaXMueSk6TWF0aC5mbG9vcih0aGlzLnkpLHRoaXN9LGUubmVnYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD0tdGhpcy54LHRoaXMueT0tdGhpcy55LHRoaXN9LGUuZG90PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqdC54K3RoaXMueSp0Lnl9LGUuY3Jvc3M9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCp0LnktdGhpcy55KnQueH0sZS5sZW5ndGhTcT1mdW5jdGlvbigpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnl9LGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfSxlLm1hbmhhdHRhbkxlbmd0aD1mdW5jdGlvbigpe3JldHVybiBNYXRoLmFicyh0aGlzLngpK01hdGguYWJzKHRoaXMueSl9LGUubm9ybWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpfSxlLmFuZ2xlPWZ1bmN0aW9uKCl7dmFyIHQ9TWF0aC5hdGFuMigtdGhpcy55LC10aGlzLngpK01hdGguUEk7cmV0dXJuIHR9LGUuZGlzdGFuY2VUbz1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQodCkpfSxlLmRpc3RhbmNlVG9TcXVhcmVkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMueC10Lngsbj10aGlzLnktdC55O3JldHVybiBlKmUrbipufSxlLm1hbmhhdHRhbkRpc3RhbmNlVG89ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguYWJzKHRoaXMueC10LngpK01hdGguYWJzKHRoaXMueS10LnkpfSxlLnNldExlbmd0aD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcih0KX0sZS5sZXJwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueCs9KHQueC10aGlzLngpKmUsdGhpcy55Kz0odC55LXRoaXMueSkqZSx0aGlzfSxlLmxlcnBWZWN0b3JzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy54PXQueCsoZS54LXQueCkqbix0aGlzLnk9dC55KyhlLnktdC55KSpuLHRoaXN9LGUuZXF1YWxzPWZ1bmN0aW9uKHQpe3JldHVybiB0Lng9PT10aGlzLngmJnQueT09PXRoaXMueX0sZS5mcm9tQXJyYXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdGhpcy54PXRbZV0sdGhpcy55PXRbZSsxXSx0aGlzfSxlLnRvQXJyYXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9W10pLHZvaWQgMD09PWUmJihlPTApLHRbZV09dGhpcy54LHRbZSsxXT10aGlzLnksdH0sZS5mcm9tQnVmZmVyQXR0cmlidXRlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwIT09biYmY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IyOiBvZmZzZXQgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIC5mcm9tQnVmZmVyQXR0cmlidXRlKCkuIiksdGhpcy54PXQuZ2V0WChlKSx0aGlzLnk9dC5nZXRZKGUpLHRoaXN9LGUucm90YXRlQXJvdW5kPWZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jb3MoZSksaT1NYXRoLnNpbihlKSxyPXRoaXMueC10LngsYT10aGlzLnktdC55O3JldHVybiB0aGlzLng9cipuLWEqaSt0LngsdGhpcy55PXIqaSthKm4rdC55LHRoaXN9LGUucmFuZG9tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJhbmRvbSgpLHRoaXMueT1NYXRoLnJhbmRvbSgpLHRoaXN9LHN0KHQsW3trZXk6IndpZHRoIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy54PXR9fSx7a2V5OiJoZWlnaHQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnk9dH19XSksdH0oKSx4dD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiaXNNYXRyaXgzIix7dmFsdWU6ITB9KSx0aGlzLmVsZW1lbnRzPVsxLDAsMCwwLDEsMCwwLDAsMV0sYXJndW1lbnRzLmxlbmd0aD4wJiZjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXgzOiB0aGUgY29uc3RydWN0b3Igbm8gbG9uZ2VyIHJlYWRzIGFyZ3VtZW50cy4gdXNlIC5zZXQoKSBpbnN0ZWFkLiIpfXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnNldD1mdW5jdGlvbih0LGUsbixpLHIsYSxvLHMsYyl7dmFyIGw9dGhpcy5lbGVtZW50cztyZXR1cm4gbFswXT10LGxbMV09aSxsWzJdPW8sbFszXT1lLGxbNF09cixsWzVdPXMsbFs2XT1uLGxbN109YSxsWzhdPWMsdGhpc30sZS5pZGVudGl0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNldCgxLDAsMCwwLDEsMCwwLDAsMSksdGhpc30sZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuZnJvbUFycmF5KHRoaXMuZWxlbWVudHMpfSxlLmNvcHk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lbGVtZW50cyxuPXQuZWxlbWVudHM7cmV0dXJuIGVbMF09blswXSxlWzFdPW5bMV0sZVsyXT1uWzJdLGVbM109blszXSxlWzRdPW5bNF0sZVs1XT1uWzVdLGVbNl09bls2XSxlWzddPW5bN10sZVs4XT1uWzhdLHRoaXN9LGUuZXh0cmFjdEJhc2lzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdC5zZXRGcm9tTWF0cml4M0NvbHVtbih0aGlzLDApLGUuc2V0RnJvbU1hdHJpeDNDb2x1bW4odGhpcywxKSxuLnNldEZyb21NYXRyaXgzQ29sdW1uKHRoaXMsMiksdGhpc30sZS5zZXRGcm9tTWF0cml4ND1mdW5jdGlvbih0KXt2YXIgZT10LmVsZW1lbnRzO3JldHVybiB0aGlzLnNldChlWzBdLGVbNF0sZVs4XSxlWzFdLGVbNV0sZVs5XSxlWzJdLGVbNl0sZVsxMF0pLHRoaXN9LGUubXVsdGlwbHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyh0aGlzLHQpfSxlLnByZW11bHRpcGx5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXModCx0aGlzKX0sZS5tdWx0aXBseU1hdHJpY2VzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5lbGVtZW50cyxpPWUuZWxlbWVudHMscj10aGlzLmVsZW1lbnRzLGE9blswXSxvPW5bM10scz1uWzZdLGM9blsxXSxsPW5bNF0sdT1uWzddLGg9blsyXSxkPW5bNV0scD1uWzhdLGY9aVswXSxtPWlbM10sdj1pWzZdLGc9aVsxXSx5PWlbNF0seD1pWzddLF89aVsyXSxiPWlbNV0sdz1pWzhdO3JldHVybiByWzBdPWEqZitvKmcrcypfLHJbM109YSptK28qeStzKmIscls2XT1hKnYrbyp4K3MqdyxyWzFdPWMqZitsKmcrdSpfLHJbNF09YyptK2wqeSt1KmIscls3XT1jKnYrbCp4K3UqdyxyWzJdPWgqZitkKmcrcCpfLHJbNV09aCptK2QqeStwKmIscls4XT1oKnYrZCp4K3Aqdyx0aGlzfSxlLm11bHRpcGx5U2NhbGFyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWxlbWVudHM7cmV0dXJuIGVbMF0qPXQsZVszXSo9dCxlWzZdKj10LGVbMV0qPXQsZVs0XSo9dCxlWzddKj10LGVbMl0qPXQsZVs1XSo9dCxlWzhdKj10LHRoaXN9LGUuZGV0ZXJtaW5hbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnRzLGU9dFswXSxuPXRbMV0saT10WzJdLHI9dFszXSxhPXRbNF0sbz10WzVdLHM9dFs2XSxjPXRbN10sbD10WzhdO3JldHVybiBlKmEqbC1lKm8qYy1uKnIqbCtuKm8qcytpKnIqYy1pKmEqc30sZS5pbnZlcnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnRzLGU9dFswXSxuPXRbMV0saT10WzJdLHI9dFszXSxhPXRbNF0sbz10WzVdLHM9dFs2XSxjPXRbN10sbD10WzhdLHU9bCphLW8qYyxoPW8qcy1sKnIsZD1jKnItYSpzLHA9ZSp1K24qaCtpKmQ7aWYoMD09PXApcmV0dXJuIHRoaXMuc2V0KDAsMCwwLDAsMCwwLDAsMCwwKTt2YXIgZj0xL3A7cmV0dXJuIHRbMF09dSpmLHRbMV09KGkqYy1sKm4pKmYsdFsyXT0obypuLWkqYSkqZix0WzNdPWgqZix0WzRdPShsKmUtaSpzKSpmLHRbNV09KGkqci1vKmUpKmYsdFs2XT1kKmYsdFs3XT0obipzLWMqZSkqZix0WzhdPShhKmUtbipyKSpmLHRoaXN9LGUudHJhbnNwb3NlPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmVsZW1lbnRzO3JldHVybiB0PWVbMV0sZVsxXT1lWzNdLGVbM109dCx0PWVbMl0sZVsyXT1lWzZdLGVbNl09dCx0PWVbNV0sZVs1XT1lWzddLGVbN109dCx0aGlzfSxlLmdldE5vcm1hbE1hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRGcm9tTWF0cml4NCh0KS5jb3B5KHRoaXMpLmludmVydCgpLnRyYW5zcG9zZSgpfSxlLnRyYW5zcG9zZUludG9BcnJheT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmVsZW1lbnRzO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzNdLHRbMl09ZVs2XSx0WzNdPWVbMV0sdFs0XT1lWzRdLHRbNV09ZVs3XSx0WzZdPWVbMl0sdFs3XT1lWzVdLHRbOF09ZVs4XSx0aGlzfSxlLnNldFV2VHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxuLGkscixhLG8pe3ZhciBzPU1hdGguY29zKHIpLGM9TWF0aC5zaW4ocik7cmV0dXJuIHRoaXMuc2V0KG4qcyxuKmMsLW4qKHMqYStjKm8pK2ErdCwtaSpjLGkqcywtaSooLWMqYStzKm8pK28rZSwwLDAsMSksdGhpc30sZS5zY2FsZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZWxlbWVudHM7cmV0dXJuIG5bMF0qPXQsblszXSo9dCxuWzZdKj10LG5bMV0qPWUsbls0XSo9ZSxuWzddKj1lLHRoaXN9LGUucm90YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguY29zKHQpLG49TWF0aC5zaW4odCksaT10aGlzLmVsZW1lbnRzLHI9aVswXSxhPWlbM10sbz1pWzZdLHM9aVsxXSxjPWlbNF0sbD1pWzddO3JldHVybiBpWzBdPWUqcituKnMsaVszXT1lKmErbipjLGlbNl09ZSpvK24qbCxpWzFdPS1uKnIrZSpzLGlbNF09LW4qYStlKmMsaVs3XT0tbipvK2UqbCx0aGlzfSxlLnRyYW5zbGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZWxlbWVudHM7cmV0dXJuIG5bMF0rPXQqblsyXSxuWzNdKz10Km5bNV0sbls2XSs9dCpuWzhdLG5bMV0rPWUqblsyXSxuWzRdKz1lKm5bNV0sbls3XSs9ZSpuWzhdLHRoaXN9LGUuZXF1YWxzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmVsZW1lbnRzLG49dC5lbGVtZW50cyxpPTA7aTw5O2krKylpZihlW2ldIT09bltpXSlyZXR1cm4hMTtyZXR1cm4hMH0sZS5mcm9tQXJyYXk9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0wKTtmb3IodmFyIG49MDtuPDk7bisrKXRoaXMuZWxlbWVudHNbbl09dFtuK2VdO3JldHVybiB0aGlzfSxlLnRvQXJyYXk9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT10JiYodD1bXSksdm9pZCAwPT09ZSYmKGU9MCk7dmFyIG49dGhpcy5lbGVtZW50cztyZXR1cm4gdFtlXT1uWzBdLHRbZSsxXT1uWzFdLHRbZSsyXT1uWzJdLHRbZSszXT1uWzNdLHRbZSs0XT1uWzRdLHRbZSs1XT1uWzVdLHRbZSs2XT1uWzZdLHRbZSs3XT1uWzddLHRbZSs4XT1uWzhdLHR9LHR9KCksX3Q9e2dldERhdGFVUkw6ZnVuY3Rpb24odCl7aWYoL15kYXRhOi9pLnRlc3QodC5zcmMpKXJldHVybiB0LnNyYztpZigidW5kZWZpbmVkIj09dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50KXJldHVybiB0LnNyYzt2YXIgZTtpZih0IGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpZT10O2Vsc2V7dm9pZCAwPT09bXQmJihtdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLCJjYW52YXMiKSksbXQud2lkdGg9dC53aWR0aCxtdC5oZWlnaHQ9dC5oZWlnaHQ7dmFyIG49bXQuZ2V0Q29udGV4dCgiMmQiKTt0IGluc3RhbmNlb2YgSW1hZ2VEYXRhP24ucHV0SW1hZ2VEYXRhKHQsMCwwKTpuLmRyYXdJbWFnZSh0LDAsMCx0LndpZHRoLHQuaGVpZ2h0KSxlPW10fXJldHVybiBlLndpZHRoPjIwNDh8fGUuaGVpZ2h0PjIwNDg/ZS50b0RhdGFVUkwoImltYWdlL2pwZWciLC42KTplLnRvRGF0YVVSTCgiaW1hZ2UvcG5nIil9fSxidD0wO2Z1bmN0aW9uIHd0KHQsZSxuLGkscixhLG8scyxjLGwpe3ZvaWQgMD09PXQmJih0PXd0LkRFRkFVTFRfSU1BR0UpLHZvaWQgMD09PWUmJihlPXd0LkRFRkFVTFRfTUFQUElORyksdm9pZCAwPT09biYmKG49ZCksdm9pZCAwPT09aSYmKGk9ZCksdm9pZCAwPT09ciYmKHI9Zyksdm9pZCAwPT09YSYmKGE9eCksdm9pZCAwPT09byYmKG89QSksdm9pZCAwPT09cyYmKHM9Xyksdm9pZCAwPT09YyYmKGM9MSksdm9pZCAwPT09bCYmKGw9WSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlkIix7dmFsdWU6YnQrK30pLHRoaXMudXVpZD1ndC5nZW5lcmF0ZVVVSUQoKSx0aGlzLm5hbWU9IiIsdGhpcy5pbWFnZT10LHRoaXMubWlwbWFwcz1bXSx0aGlzLm1hcHBpbmc9ZSx0aGlzLndyYXBTPW4sdGhpcy53cmFwVD1pLHRoaXMubWFnRmlsdGVyPXIsdGhpcy5taW5GaWx0ZXI9YSx0aGlzLmFuaXNvdHJvcHk9Yyx0aGlzLmZvcm1hdD1vLHRoaXMuaW50ZXJuYWxGb3JtYXQ9bnVsbCx0aGlzLnR5cGU9cyx0aGlzLm9mZnNldD1uZXcgeXQoMCwwKSx0aGlzLnJlcGVhdD1uZXcgeXQoMSwxKSx0aGlzLmNlbnRlcj1uZXcgeXQoMCwwKSx0aGlzLnJvdGF0aW9uPTAsdGhpcy5tYXRyaXhBdXRvVXBkYXRlPSEwLHRoaXMubWF0cml4PW5ldyB4dCx0aGlzLmdlbmVyYXRlTWlwbWFwcz0hMCx0aGlzLnByZW11bHRpcGx5QWxwaGE9ITEsdGhpcy5mbGlwWT0hMCx0aGlzLnVucGFja0FsaWdubWVudD00LHRoaXMuZW5jb2Rpbmc9bCx0aGlzLnZlcnNpb249MCx0aGlzLm9uVXBkYXRlPW51bGx9ZnVuY3Rpb24gTXQodCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBIVE1MSW1hZ2VFbGVtZW50JiZ0IGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudHx8InVuZGVmaW5lZCIhPXR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudCYmdCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHwidW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlQml0bWFwJiZ0IGluc3RhbmNlb2YgSW1hZ2VCaXRtYXA/X3QuZ2V0RGF0YVVSTCh0KTp0LmRhdGE/e2RhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodC5kYXRhKSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodCx0eXBlOnQuZGF0YS5jb25zdHJ1Y3Rvci5uYW1lfTooY29uc29sZS53YXJuKCJUSFJFRS5UZXh0dXJlOiBVbmFibGUgdG8gc2VyaWFsaXplIFRleHR1cmUuIikse30pfXd0LkRFRkFVTFRfSU1BR0U9dm9pZCAwLHd0LkRFRkFVTFRfTUFQUElORz1yLHd0LnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoZHQucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6d3QsaXNUZXh0dXJlOiEwLHVwZGF0ZU1hdHJpeDpmdW5jdGlvbigpe3RoaXMubWF0cml4LnNldFV2VHJhbnNmb3JtKHRoaXMub2Zmc2V0LngsdGhpcy5vZmZzZXQueSx0aGlzLnJlcGVhdC54LHRoaXMucmVwZWF0LnksdGhpcy5yb3RhdGlvbix0aGlzLmNlbnRlci54LHRoaXMuY2VudGVyLnkpfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sY29weTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uYW1lPXQubmFtZSx0aGlzLmltYWdlPXQuaW1hZ2UsdGhpcy5taXBtYXBzPXQubWlwbWFwcy5zbGljZSgwKSx0aGlzLm1hcHBpbmc9dC5tYXBwaW5nLHRoaXMud3JhcFM9dC53cmFwUyx0aGlzLndyYXBUPXQud3JhcFQsdGhpcy5tYWdGaWx0ZXI9dC5tYWdGaWx0ZXIsdGhpcy5taW5GaWx0ZXI9dC5taW5GaWx0ZXIsdGhpcy5hbmlzb3Ryb3B5PXQuYW5pc290cm9weSx0aGlzLmZvcm1hdD10LmZvcm1hdCx0aGlzLmludGVybmFsRm9ybWF0PXQuaW50ZXJuYWxGb3JtYXQsdGhpcy50eXBlPXQudHlwZSx0aGlzLm9mZnNldC5jb3B5KHQub2Zmc2V0KSx0aGlzLnJlcGVhdC5jb3B5KHQucmVwZWF0KSx0aGlzLmNlbnRlci5jb3B5KHQuY2VudGVyKSx0aGlzLnJvdGF0aW9uPXQucm90YXRpb24sdGhpcy5tYXRyaXhBdXRvVXBkYXRlPXQubWF0cml4QXV0b1VwZGF0ZSx0aGlzLm1hdHJpeC5jb3B5KHQubWF0cml4KSx0aGlzLmdlbmVyYXRlTWlwbWFwcz10LmdlbmVyYXRlTWlwbWFwcyx0aGlzLnByZW11bHRpcGx5QWxwaGE9dC5wcmVtdWx0aXBseUFscGhhLHRoaXMuZmxpcFk9dC5mbGlwWSx0aGlzLnVucGFja0FsaWdubWVudD10LnVucGFja0FsaWdubWVudCx0aGlzLmVuY29kaW5nPXQuZW5jb2RpbmcsdGhpc30sdG9KU09OOmZ1bmN0aW9uKHQpe3ZhciBlPXZvaWQgMD09PXR8fCJzdHJpbmciPT10eXBlb2YgdDtpZighZSYmdm9pZCAwIT09dC50ZXh0dXJlc1t0aGlzLnV1aWRdKXJldHVybiB0LnRleHR1cmVzW3RoaXMudXVpZF07dmFyIG49e21ldGFkYXRhOnt2ZXJzaW9uOjQuNSx0eXBlOiJUZXh0dXJlIixnZW5lcmF0b3I6IlRleHR1cmUudG9KU09OIn0sdXVpZDp0aGlzLnV1aWQsbmFtZTp0aGlzLm5hbWUsbWFwcGluZzp0aGlzLm1hcHBpbmcscmVwZWF0Olt0aGlzLnJlcGVhdC54LHRoaXMucmVwZWF0LnldLG9mZnNldDpbdGhpcy5vZmZzZXQueCx0aGlzLm9mZnNldC55XSxjZW50ZXI6W3RoaXMuY2VudGVyLngsdGhpcy5jZW50ZXIueV0scm90YXRpb246dGhpcy5yb3RhdGlvbix3cmFwOlt0aGlzLndyYXBTLHRoaXMud3JhcFRdLGZvcm1hdDp0aGlzLmZvcm1hdCx0eXBlOnRoaXMudHlwZSxlbmNvZGluZzp0aGlzLmVuY29kaW5nLG1pbkZpbHRlcjp0aGlzLm1pbkZpbHRlcixtYWdGaWx0ZXI6dGhpcy5tYWdGaWx0ZXIsYW5pc290cm9weTp0aGlzLmFuaXNvdHJvcHksZmxpcFk6dGhpcy5mbGlwWSxwcmVtdWx0aXBseUFscGhhOnRoaXMucHJlbXVsdGlwbHlBbHBoYSx1bnBhY2tBbGlnbm1lbnQ6dGhpcy51bnBhY2tBbGlnbm1lbnR9O2lmKHZvaWQgMCE9PXRoaXMuaW1hZ2Upe3ZhciBpPXRoaXMuaW1hZ2U7aWYodm9pZCAwPT09aS51dWlkJiYoaS51dWlkPWd0LmdlbmVyYXRlVVVJRCgpKSwhZSYmdm9pZCAwPT09dC5pbWFnZXNbaS51dWlkXSl7dmFyIHI7aWYoQXJyYXkuaXNBcnJheShpKSl7cj1bXTtmb3IodmFyIGE9MCxvPWkubGVuZ3RoO2E8bzthKyspaVthXS5pc0RhdGFUZXh0dXJlP3IucHVzaChNdChpW2FdLmltYWdlKSk6ci5wdXNoKE10KGlbYV0pKX1lbHNlIHI9TXQoaSk7dC5pbWFnZXNbaS51dWlkXT17dXVpZDppLnV1aWQsdXJsOnJ9fW4uaW1hZ2U9aS51dWlkfXJldHVybiBlfHwodC50ZXh0dXJlc1t0aGlzLnV1aWRdPW4pLG59LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6ImRpc3Bvc2UifSl9LHRyYW5zZm9ybVV2OmZ1bmN0aW9uKHQpe2lmKHRoaXMubWFwcGluZyE9PXIpcmV0dXJuIHQ7aWYodC5hcHBseU1hdHJpeDModGhpcy5tYXRyaXgpLHQueDwwfHx0Lng+MSlzd2l0Y2godGhpcy53cmFwUyl7Y2FzZSBoOnQueD10LngtTWF0aC5mbG9vcih0LngpO2JyZWFrO2Nhc2UgZDp0Lng9dC54PDA/MDoxO2JyZWFrO2Nhc2UgcDoxPT09TWF0aC5hYnMoTWF0aC5mbG9vcih0LngpJTIpP3QueD1NYXRoLmNlaWwodC54KS10Lng6dC54PXQueC1NYXRoLmZsb29yKHQueCl9aWYodC55PDB8fHQueT4xKXN3aXRjaCh0aGlzLndyYXBUKXtjYXNlIGg6dC55PXQueS1NYXRoLmZsb29yKHQueSk7YnJlYWs7Y2FzZSBkOnQueT10Lnk8MD8wOjE7YnJlYWs7Y2FzZSBwOjE9PT1NYXRoLmFicyhNYXRoLmZsb29yKHQueSklMik/dC55PU1hdGguY2VpbCh0LnkpLXQueTp0Lnk9dC55LU1hdGguZmxvb3IodC55KX1yZXR1cm4gdGhpcy5mbGlwWSYmKHQueT0xLXQueSksdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkod3QucHJvdG90eXBlLCJuZWVkc1VwZGF0ZSIse3NldDpmdW5jdGlvbih0KXshMD09PXQmJnRoaXMudmVyc2lvbisrfX0pO3ZhciBTdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSl7dm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49MCksdm9pZCAwPT09aSYmKGk9MSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlzVmVjdG9yNCIse3ZhbHVlOiEwfSksdGhpcy54PXQsdGhpcy55PWUsdGhpcy56PW4sdGhpcy53PWl9dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUuc2V0PWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLno9bix0aGlzLnc9aSx0aGlzfSxlLnNldFNjYWxhcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54PXQsdGhpcy55PXQsdGhpcy56PXQsdGhpcy53PXQsdGhpc30sZS5zZXRYPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLng9dCx0aGlzfSxlLnNldFk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueT10LHRoaXN9LGUuc2V0Wj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy56PXQsdGhpc30sZS5zZXRXPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnc9dCx0aGlzfSxlLnNldENvbXBvbmVudD1mdW5jdGlvbih0LGUpe3N3aXRjaCh0KXtjYXNlIDA6dGhpcy54PWU7YnJlYWs7Y2FzZSAxOnRoaXMueT1lO2JyZWFrO2Nhc2UgMjp0aGlzLno9ZTticmVhaztjYXNlIDM6dGhpcy53PWU7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImluZGV4IGlzIG91dCBvZiByYW5nZTogIit0KX1yZXR1cm4gdGhpc30sZS5nZXRDb21wb25lbnQ9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gdGhpcy54O2Nhc2UgMTpyZXR1cm4gdGhpcy55O2Nhc2UgMjpyZXR1cm4gdGhpcy56O2Nhc2UgMzpyZXR1cm4gdGhpcy53O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICIrdCl9fSxlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnksdGhpcy56LHRoaXMudyl9LGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54PXQueCx0aGlzLnk9dC55LHRoaXMuej10LnosdGhpcy53PXZvaWQgMCE9PXQudz90Lnc6MSx0aGlzfSxlLmFkZD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDAhPT1lPyhjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjQ6IC5hZGQoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5hZGRWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLmFkZFZlY3RvcnModCxlKSk6KHRoaXMueCs9dC54LHRoaXMueSs9dC55LHRoaXMueis9dC56LHRoaXMudys9dC53LHRoaXMpfSxlLmFkZFNjYWxhcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Kz10LHRoaXMueSs9dCx0aGlzLnorPXQsdGhpcy53Kz10LHRoaXN9LGUuYWRkVmVjdG9ycz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLng9dC54K2UueCx0aGlzLnk9dC55K2UueSx0aGlzLno9dC56K2Uueix0aGlzLnc9dC53K2Uudyx0aGlzfSxlLmFkZFNjYWxlZFZlY3Rvcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLngrPXQueCplLHRoaXMueSs9dC55KmUsdGhpcy56Kz10LnoqZSx0aGlzLncrPXQudyplLHRoaXN9LGUuc3ViPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMCE9PWU/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yNDogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMuc3ViVmVjdG9ycyh0LGUpKToodGhpcy54LT10LngsdGhpcy55LT10LnksdGhpcy56LT10LnosdGhpcy53LT10LncsdGhpcyl9LGUuc3ViU2NhbGFyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngtPXQsdGhpcy55LT10LHRoaXMuei09dCx0aGlzLnctPXQsdGhpc30sZS5zdWJWZWN0b3JzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueD10LngtZS54LHRoaXMueT10LnktZS55LHRoaXMuej10LnotZS56LHRoaXMudz10LnctZS53LHRoaXN9LGUubXVsdGlwbHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCo9dC54LHRoaXMueSo9dC55LHRoaXMueio9dC56LHRoaXMudyo9dC53LHRoaXN9LGUubXVsdGlwbHlTY2FsYXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCo9dCx0aGlzLnkqPXQsdGhpcy56Kj10LHRoaXMudyo9dCx0aGlzfSxlLmFwcGx5TWF0cml4ND1mdW5jdGlvbih0KXt2YXIgZT10aGlzLngsbj10aGlzLnksaT10aGlzLnoscj10aGlzLncsYT10LmVsZW1lbnRzO3JldHVybiB0aGlzLng9YVswXSplK2FbNF0qbithWzhdKmkrYVsxMl0qcix0aGlzLnk9YVsxXSplK2FbNV0qbithWzldKmkrYVsxM10qcix0aGlzLno9YVsyXSplK2FbNl0qbithWzEwXSppK2FbMTRdKnIsdGhpcy53PWFbM10qZSthWzddKm4rYVsxMV0qaSthWzE1XSpyLHRoaXN9LGUuZGl2aWRlU2NhbGFyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKDEvdCl9LGUuc2V0QXhpc0FuZ2xlRnJvbVF1YXRlcm5pb249ZnVuY3Rpb24odCl7dGhpcy53PTIqTWF0aC5hY29zKHQudyk7dmFyIGU9TWF0aC5zcXJ0KDEtdC53KnQudyk7cmV0dXJuIGU8MWUtND8odGhpcy54PTEsdGhpcy55PTAsdGhpcy56PTApOih0aGlzLng9dC54L2UsdGhpcy55PXQueS9lLHRoaXMuej10LnovZSksdGhpc30sZS5zZXRBeGlzQW5nbGVGcm9tUm90YXRpb25NYXRyaXg9ZnVuY3Rpb24odCl7dmFyIGUsbixpLHIsYT0uMDEsbz0uMSxzPXQuZWxlbWVudHMsYz1zWzBdLGw9c1s0XSx1PXNbOF0saD1zWzFdLGQ9c1s1XSxwPXNbOV0sZj1zWzJdLG09c1s2XSx2PXNbMTBdO2lmKE1hdGguYWJzKGwtaCk8YSYmTWF0aC5hYnModS1mKTxhJiZNYXRoLmFicyhwLW0pPGEpe2lmKE1hdGguYWJzKGwraCk8byYmTWF0aC5hYnModStmKTxvJiZNYXRoLmFicyhwK20pPG8mJk1hdGguYWJzKGMrZCt2LTMpPG8pcmV0dXJuIHRoaXMuc2V0KDEsMCwwLDApLHRoaXM7ZT1NYXRoLlBJO3ZhciBnPShjKzEpLzIseT0oZCsxKS8yLHg9KHYrMSkvMixfPShsK2gpLzQsYj0odStmKS80LHc9KHArbSkvNDtyZXR1cm4gZz55JiZnPng/ZzxhPyhuPTAsaT0uNzA3MTA2NzgxLHI9LjcwNzEwNjc4MSk6KGk9Xy8obj1NYXRoLnNxcnQoZykpLHI9Yi9uKTp5Png/eTxhPyhuPS43MDcxMDY3ODEsaT0wLHI9LjcwNzEwNjc4MSk6KG49Xy8oaT1NYXRoLnNxcnQoeSkpLHI9dy9pKTp4PGE/KG49LjcwNzEwNjc4MSxpPS43MDcxMDY3ODEscj0wKToobj1iLyhyPU1hdGguc3FydCh4KSksaT13L3IpLHRoaXMuc2V0KG4saSxyLGUpLHRoaXN9dmFyIE09TWF0aC5zcXJ0KChtLXApKihtLXApKyh1LWYpKih1LWYpKyhoLWwpKihoLWwpKTtyZXR1cm4gTWF0aC5hYnMoTSk8LjAwMSYmKE09MSksdGhpcy54PShtLXApL00sdGhpcy55PSh1LWYpL00sdGhpcy56PShoLWwpL00sdGhpcy53PU1hdGguYWNvcygoYytkK3YtMSkvMiksdGhpc30sZS5taW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD1NYXRoLm1pbih0aGlzLngsdC54KSx0aGlzLnk9TWF0aC5taW4odGhpcy55LHQueSksdGhpcy56PU1hdGgubWluKHRoaXMueix0LnopLHRoaXMudz1NYXRoLm1pbih0aGlzLncsdC53KSx0aGlzfSxlLm1heD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KHRoaXMueCx0LngpLHRoaXMueT1NYXRoLm1heCh0aGlzLnksdC55KSx0aGlzLno9TWF0aC5tYXgodGhpcy56LHQueiksdGhpcy53PU1hdGgubWF4KHRoaXMudyx0LncpLHRoaXN9LGUuY2xhbXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KHQueCxNYXRoLm1pbihlLngsdGhpcy54KSksdGhpcy55PU1hdGgubWF4KHQueSxNYXRoLm1pbihlLnksdGhpcy55KSksdGhpcy56PU1hdGgubWF4KHQueixNYXRoLm1pbihlLnosdGhpcy56KSksdGhpcy53PU1hdGgubWF4KHQudyxNYXRoLm1pbihlLncsdGhpcy53KSksdGhpc30sZS5jbGFtcFNjYWxhcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodCxNYXRoLm1pbihlLHRoaXMueCkpLHRoaXMueT1NYXRoLm1heCh0LE1hdGgubWluKGUsdGhpcy55KSksdGhpcy56PU1hdGgubWF4KHQsTWF0aC5taW4oZSx0aGlzLnopKSx0aGlzLnc9TWF0aC5tYXgodCxNYXRoLm1pbihlLHRoaXMudykpLHRoaXN9LGUuY2xhbXBMZW5ndGg9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmxlbmd0aCgpO3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcihufHwxKS5tdWx0aXBseVNjYWxhcihNYXRoLm1heCh0LE1hdGgubWluKGUsbikpKX0sZS5mbG9vcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT1NYXRoLmZsb29yKHRoaXMueSksdGhpcy56PU1hdGguZmxvb3IodGhpcy56KSx0aGlzLnc9TWF0aC5mbG9vcih0aGlzLncpLHRoaXN9LGUuY2VpbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5jZWlsKHRoaXMueCksdGhpcy55PU1hdGguY2VpbCh0aGlzLnkpLHRoaXMuej1NYXRoLmNlaWwodGhpcy56KSx0aGlzLnc9TWF0aC5jZWlsKHRoaXMudyksdGhpc30sZS5yb3VuZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpLHRoaXMueT1NYXRoLnJvdW5kKHRoaXMueSksdGhpcy56PU1hdGgucm91bmQodGhpcy56KSx0aGlzLnc9TWF0aC5yb3VuZCh0aGlzLncpLHRoaXN9LGUucm91bmRUb1plcm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PXRoaXMueDwwP01hdGguY2VpbCh0aGlzLngpOk1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9dGhpcy55PDA/TWF0aC5jZWlsKHRoaXMueSk6TWF0aC5mbG9vcih0aGlzLnkpLHRoaXMuej10aGlzLno8MD9NYXRoLmNlaWwodGhpcy56KTpNYXRoLmZsb29yKHRoaXMueiksdGhpcy53PXRoaXMudzwwP01hdGguY2VpbCh0aGlzLncpOk1hdGguZmxvb3IodGhpcy53KSx0aGlzfSxlLm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLng9LXRoaXMueCx0aGlzLnk9LXRoaXMueSx0aGlzLno9LXRoaXMueix0aGlzLnc9LXRoaXMudyx0aGlzfSxlLmRvdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54KnQueCt0aGlzLnkqdC55K3RoaXMueip0LnordGhpcy53KnQud30sZS5sZW5ndGhTcT1mdW5jdGlvbigpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueit0aGlzLncqdGhpcy53fSxlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnordGhpcy53KnRoaXMudyl9LGUubWFuaGF0dGFuTGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMueCkrTWF0aC5hYnModGhpcy55KStNYXRoLmFicyh0aGlzLnopK01hdGguYWJzKHRoaXMudyl9LGUubm9ybWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpfSxlLnNldExlbmd0aD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcih0KX0sZS5sZXJwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueCs9KHQueC10aGlzLngpKmUsdGhpcy55Kz0odC55LXRoaXMueSkqZSx0aGlzLnorPSh0LnotdGhpcy56KSplLHRoaXMudys9KHQudy10aGlzLncpKmUsdGhpc30sZS5sZXJwVmVjdG9ycz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMueD10LngrKGUueC10LngpKm4sdGhpcy55PXQueSsoZS55LXQueSkqbix0aGlzLno9dC56KyhlLnotdC56KSpuLHRoaXMudz10LncrKGUudy10LncpKm4sdGhpc30sZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQueD09PXRoaXMueCYmdC55PT09dGhpcy55JiZ0Lno9PT10aGlzLnomJnQudz09PXRoaXMud30sZS5mcm9tQXJyYXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdGhpcy54PXRbZV0sdGhpcy55PXRbZSsxXSx0aGlzLno9dFtlKzJdLHRoaXMudz10W2UrM10sdGhpc30sZS50b0FycmF5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PVtdKSx2b2lkIDA9PT1lJiYoZT0wKSx0W2VdPXRoaXMueCx0W2UrMV09dGhpcy55LHRbZSsyXT10aGlzLnosdFtlKzNdPXRoaXMudyx0fSxlLmZyb21CdWZmZXJBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDAhPT1uJiZjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjQ6IG9mZnNldCBoYXMgYmVlbiByZW1vdmVkIGZyb20gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4iKSx0aGlzLng9dC5nZXRYKGUpLHRoaXMueT10LmdldFkoZSksdGhpcy56PXQuZ2V0WihlKSx0aGlzLnc9dC5nZXRXKGUpLHRoaXN9LGUucmFuZG9tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJhbmRvbSgpLHRoaXMueT1NYXRoLnJhbmRvbSgpLHRoaXMuej1NYXRoLnJhbmRvbSgpLHRoaXMudz1NYXRoLnJhbmRvbSgpLHRoaXN9LHN0KHQsW3trZXk6IndpZHRoIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy56PXR9fSx7a2V5OiJoZWlnaHQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnd9LHNldDpmdW5jdGlvbih0KXt0aGlzLnc9dH19XSksdH0oKSxUdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcjtyZXR1cm4gcj10LmNhbGwodGhpcyl8fHRoaXMsT2JqZWN0LmRlZmluZVByb3BlcnR5KGx0KHIpLCJpc1dlYkdMUmVuZGVyVGFyZ2V0Iix7dmFsdWU6ITB9KSxyLndpZHRoPWUsci5oZWlnaHQ9bixyLmRlcHRoPTEsci5zY2lzc29yPW5ldyBTdCgwLDAsZSxuKSxyLnNjaXNzb3JUZXN0PSExLHIudmlld3BvcnQ9bmV3IFN0KDAsMCxlLG4pLGk9aXx8e30sci50ZXh0dXJlPW5ldyB3dCh2b2lkIDAsaS5tYXBwaW5nLGkud3JhcFMsaS53cmFwVCxpLm1hZ0ZpbHRlcixpLm1pbkZpbHRlcixpLmZvcm1hdCxpLnR5cGUsaS5hbmlzb3Ryb3B5LGkuZW5jb2RpbmcpLHIudGV4dHVyZS5pbWFnZT17fSxyLnRleHR1cmUuaW1hZ2Uud2lkdGg9ZSxyLnRleHR1cmUuaW1hZ2UuaGVpZ2h0PW4sci50ZXh0dXJlLmltYWdlLmRlcHRoPTEsci50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz12b2lkIDAhPT1pLmdlbmVyYXRlTWlwbWFwcyYmaS5nZW5lcmF0ZU1pcG1hcHMsci50ZXh0dXJlLm1pbkZpbHRlcj12b2lkIDAhPT1pLm1pbkZpbHRlcj9pLm1pbkZpbHRlcjpnLHIuZGVwdGhCdWZmZXI9dm9pZCAwPT09aS5kZXB0aEJ1ZmZlcnx8aS5kZXB0aEJ1ZmZlcixyLnN0ZW5jaWxCdWZmZXI9dm9pZCAwIT09aS5zdGVuY2lsQnVmZmVyJiZpLnN0ZW5jaWxCdWZmZXIsci5kZXB0aFRleHR1cmU9dm9pZCAwIT09aS5kZXB0aFRleHR1cmU/aS5kZXB0aFRleHR1cmU6bnVsbCxyfWN0KGUsdCk7dmFyIG49ZS5wcm90b3R5cGU7cmV0dXJuIG4uc2V0VGV4dHVyZT1mdW5jdGlvbih0KXt0LmltYWdlPXt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodCxkZXB0aDp0aGlzLmRlcHRofSx0aGlzLnRleHR1cmU9dH0sbi5zZXRTaXplPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0xKSx0aGlzLndpZHRoPT09dCYmdGhpcy5oZWlnaHQ9PT1lJiZ0aGlzLmRlcHRoPT09bnx8KHRoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1lLHRoaXMuZGVwdGg9bix0aGlzLnRleHR1cmUuaW1hZ2Uud2lkdGg9dCx0aGlzLnRleHR1cmUuaW1hZ2UuaGVpZ2h0PWUsdGhpcy50ZXh0dXJlLmltYWdlLmRlcHRoPW4sdGhpcy5kaXNwb3NlKCkpLHRoaXMudmlld3BvcnQuc2V0KDAsMCx0LGUpLHRoaXMuc2Npc3Nvci5zZXQoMCwwLHQsZSl9LG4uY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LG4uY29weT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy53aWR0aD10LndpZHRoLHRoaXMuaGVpZ2h0PXQuaGVpZ2h0LHRoaXMuZGVwdGg9dC5kZXB0aCx0aGlzLnZpZXdwb3J0LmNvcHkodC52aWV3cG9ydCksdGhpcy50ZXh0dXJlPXQudGV4dHVyZS5jbG9uZSgpLHRoaXMuZGVwdGhCdWZmZXI9dC5kZXB0aEJ1ZmZlcix0aGlzLnN0ZW5jaWxCdWZmZXI9dC5zdGVuY2lsQnVmZmVyLHRoaXMuZGVwdGhUZXh0dXJlPXQuZGVwdGhUZXh0dXJlLHRoaXN9LG4uZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToiZGlzcG9zZSJ9KX0sZX0oZHQpLEV0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByO3JldHVybiByPXQuY2FsbCh0aGlzLGUsbixpKXx8dGhpcyxPYmplY3QuZGVmaW5lUHJvcGVydHkobHQociksImlzV2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldCIse3ZhbHVlOiEwfSksci5zYW1wbGVzPTQscn1yZXR1cm4gY3QoZSx0KSxlLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3JldHVybiB0LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLnNhbXBsZXM9ZS5zYW1wbGVzLHRoaXN9LGV9KFR0KSxBdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSl7dm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49MCksdm9pZCAwPT09aSYmKGk9MSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlzUXVhdGVybmlvbiIse3ZhbHVlOiEwfSksdGhpcy5feD10LHRoaXMuX3k9ZSx0aGlzLl96PW4sdGhpcy5fdz1pfXQuc2xlcnA9ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIG4uY29weSh0KS5zbGVycChlLGkpfSx0LnNsZXJwRmxhdD1mdW5jdGlvbih0LGUsbixpLHIsYSxvKXt2YXIgcz1uW2krMF0sYz1uW2krMV0sbD1uW2krMl0sdT1uW2krM10saD1yW2ErMF0sZD1yW2ErMV0scD1yW2ErMl0sZj1yW2ErM107aWYoMD09PW8pcmV0dXJuIHRbZSswXT1zLHRbZSsxXT1jLHRbZSsyXT1sLHZvaWQodFtlKzNdPXUpO2lmKDE9PT1vKXJldHVybiB0W2UrMF09aCx0W2UrMV09ZCx0W2UrMl09cCx2b2lkKHRbZSszXT1mKTtpZih1IT09Znx8cyE9PWh8fGMhPT1kfHxsIT09cCl7dmFyIG09MS1vLHY9cypoK2MqZCtsKnArdSpmLGc9dj49MD8xOi0xLHk9MS12KnY7aWYoeT5OdW1iZXIuRVBTSUxPTil7dmFyIHg9TWF0aC5zcXJ0KHkpLF89TWF0aC5hdGFuMih4LHYqZyk7bT1NYXRoLnNpbihtKl8pL3gsbz1NYXRoLnNpbihvKl8pL3h9dmFyIGI9bypnO2lmKHM9cyptK2gqYixjPWMqbStkKmIsbD1sKm0rcCpiLHU9dSptK2YqYixtPT09MS1vKXt2YXIgdz0xL01hdGguc3FydChzKnMrYypjK2wqbCt1KnUpO3MqPXcsYyo9dyxsKj13LHUqPXd9fXRbZV09cyx0W2UrMV09Yyx0W2UrMl09bCx0W2UrM109dX0sdC5tdWx0aXBseVF1YXRlcm5pb25zRmxhdD1mdW5jdGlvbih0LGUsbixpLHIsYSl7dmFyIG89bltpXSxzPW5baSsxXSxjPW5baSsyXSxsPW5baSszXSx1PXJbYV0saD1yW2ErMV0sZD1yW2ErMl0scD1yW2ErM107cmV0dXJuIHRbZV09bypwK2wqdStzKmQtYypoLHRbZSsxXT1zKnArbCpoK2MqdS1vKmQsdFtlKzJdPWMqcCtsKmQrbypoLXMqdSx0W2UrM109bCpwLW8qdS1zKmgtYypkLHR9O3ZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnNldD1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gdGhpcy5feD10LHRoaXMuX3k9ZSx0aGlzLl96PW4sdGhpcy5fdz1pLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfSxlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96LHRoaXMuX3cpfSxlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3g9dC54LHRoaXMuX3k9dC55LHRoaXMuX3o9dC56LHRoaXMuX3c9dC53LHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfSxlLnNldEZyb21FdWxlcj1mdW5jdGlvbih0LGUpe2lmKCF0fHwhdC5pc0V1bGVyKXRocm93IG5ldyBFcnJvcigiVEhSRUUuUXVhdGVybmlvbjogLnNldEZyb21FdWxlcigpIG5vdyBleHBlY3RzIGFuIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuIik7dmFyIG49dC5feCxpPXQuX3kscj10Ll96LGE9dC5fb3JkZXIsbz1NYXRoLmNvcyxzPU1hdGguc2luLGM9byhuLzIpLGw9byhpLzIpLHU9byhyLzIpLGg9cyhuLzIpLGQ9cyhpLzIpLHA9cyhyLzIpO3N3aXRjaChhKXtjYXNlIlhZWiI6dGhpcy5feD1oKmwqdStjKmQqcCx0aGlzLl95PWMqZCp1LWgqbCpwLHRoaXMuX3o9YypsKnAraCpkKnUsdGhpcy5fdz1jKmwqdS1oKmQqcDticmVhaztjYXNlIllYWiI6dGhpcy5feD1oKmwqdStjKmQqcCx0aGlzLl95PWMqZCp1LWgqbCpwLHRoaXMuX3o9YypsKnAtaCpkKnUsdGhpcy5fdz1jKmwqdStoKmQqcDticmVhaztjYXNlIlpYWSI6dGhpcy5feD1oKmwqdS1jKmQqcCx0aGlzLl95PWMqZCp1K2gqbCpwLHRoaXMuX3o9YypsKnAraCpkKnUsdGhpcy5fdz1jKmwqdS1oKmQqcDticmVhaztjYXNlIlpZWCI6dGhpcy5feD1oKmwqdS1jKmQqcCx0aGlzLl95PWMqZCp1K2gqbCpwLHRoaXMuX3o9YypsKnAtaCpkKnUsdGhpcy5fdz1jKmwqdStoKmQqcDticmVhaztjYXNlIllaWCI6dGhpcy5feD1oKmwqdStjKmQqcCx0aGlzLl95PWMqZCp1K2gqbCpwLHRoaXMuX3o9YypsKnAtaCpkKnUsdGhpcy5fdz1jKmwqdS1oKmQqcDticmVhaztjYXNlIlhaWSI6dGhpcy5feD1oKmwqdS1jKmQqcCx0aGlzLl95PWMqZCp1LWgqbCpwLHRoaXMuX3o9YypsKnAraCpkKnUsdGhpcy5fdz1jKmwqdStoKmQqcDticmVhaztkZWZhdWx0OmNvbnNvbGUud2FybigiVEhSRUUuUXVhdGVybmlvbjogLnNldEZyb21FdWxlcigpIGVuY291bnRlcmVkIGFuIHVua25vd24gb3JkZXI6ICIrYSl9cmV0dXJuITEhPT1lJiZ0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc30sZS5zZXRGcm9tQXhpc0FuZ2xlPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS8yLGk9TWF0aC5zaW4obik7cmV0dXJuIHRoaXMuX3g9dC54KmksdGhpcy5feT10LnkqaSx0aGlzLl96PXQueippLHRoaXMuX3c9TWF0aC5jb3MobiksdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9LGUuc2V0RnJvbVJvdGF0aW9uTWF0cml4PWZ1bmN0aW9uKHQpe3ZhciBlPXQuZWxlbWVudHMsbj1lWzBdLGk9ZVs0XSxyPWVbOF0sYT1lWzFdLG89ZVs1XSxzPWVbOV0sYz1lWzJdLGw9ZVs2XSx1PWVbMTBdLGg9bitvK3U7aWYoaD4wKXt2YXIgZD0uNS9NYXRoLnNxcnQoaCsxKTt0aGlzLl93PS4yNS9kLHRoaXMuX3g9KGwtcykqZCx0aGlzLl95PShyLWMpKmQsdGhpcy5fej0oYS1pKSpkfWVsc2UgaWYobj5vJiZuPnUpe3ZhciBwPTIqTWF0aC5zcXJ0KDErbi1vLXUpO3RoaXMuX3c9KGwtcykvcCx0aGlzLl94PS4yNSpwLHRoaXMuX3k9KGkrYSkvcCx0aGlzLl96PShyK2MpL3B9ZWxzZSBpZihvPnUpe3ZhciBmPTIqTWF0aC5zcXJ0KDErby1uLXUpO3RoaXMuX3c9KHItYykvZix0aGlzLl94PShpK2EpL2YsdGhpcy5feT0uMjUqZix0aGlzLl96PShzK2wpL2Z9ZWxzZXt2YXIgbT0yKk1hdGguc3FydCgxK3Utbi1vKTt0aGlzLl93PShhLWkpL20sdGhpcy5feD0ocitjKS9tLHRoaXMuX3k9KHMrbCkvbSx0aGlzLl96PS4yNSptfXJldHVybiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc30sZS5zZXRGcm9tVW5pdFZlY3RvcnM9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmRvdChlKSsxO3JldHVybiBuPDFlLTY/KG49MCxNYXRoLmFicyh0LngpPk1hdGguYWJzKHQueik/KHRoaXMuX3g9LXQueSx0aGlzLl95PXQueCx0aGlzLl96PTAsdGhpcy5fdz1uKToodGhpcy5feD0wLHRoaXMuX3k9LXQueix0aGlzLl96PXQueSx0aGlzLl93PW4pKToodGhpcy5feD10LnkqZS56LXQueiplLnksdGhpcy5feT10LnoqZS54LXQueCplLnosdGhpcy5fej10LngqZS55LXQueSplLngsdGhpcy5fdz1uKSx0aGlzLm5vcm1hbGl6ZSgpfSxlLmFuZ2xlVG89ZnVuY3Rpb24odCl7cmV0dXJuIDIqTWF0aC5hY29zKE1hdGguYWJzKGd0LmNsYW1wKHRoaXMuZG90KHQpLC0xLDEpKSl9LGUucm90YXRlVG93YXJkcz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuYW5nbGVUbyh0KTtpZigwPT09bilyZXR1cm4gdGhpczt2YXIgaT1NYXRoLm1pbigxLGUvbik7cmV0dXJuIHRoaXMuc2xlcnAodCxpKSx0aGlzfSxlLmlkZW50aXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0KDAsMCwwLDEpfSxlLmludmVydD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbmp1Z2F0ZSgpfSxlLmNvbmp1Z2F0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl94Kj0tMSx0aGlzLl95Kj0tMSx0aGlzLl96Kj0tMSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc30sZS5kb3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3gqdC5feCt0aGlzLl95KnQuX3krdGhpcy5feip0Ll96K3RoaXMuX3cqdC5fd30sZS5sZW5ndGhTcT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl94KnRoaXMuX3grdGhpcy5feSp0aGlzLl95K3RoaXMuX3oqdGhpcy5feit0aGlzLl93KnRoaXMuX3d9LGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLl94KnRoaXMuX3grdGhpcy5feSp0aGlzLl95K3RoaXMuX3oqdGhpcy5feit0aGlzLl93KnRoaXMuX3cpfSxlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMubGVuZ3RoKCk7cmV0dXJuIDA9PT10Pyh0aGlzLl94PTAsdGhpcy5feT0wLHRoaXMuX3o9MCx0aGlzLl93PTEpOih0PTEvdCx0aGlzLl94PXRoaXMuX3gqdCx0aGlzLl95PXRoaXMuX3kqdCx0aGlzLl96PXRoaXMuX3oqdCx0aGlzLl93PXRoaXMuX3cqdCksdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9LGUubXVsdGlwbHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwIT09ZT8oY29uc29sZS53YXJuKCJUSFJFRS5RdWF0ZXJuaW9uOiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseVF1YXRlcm5pb25zKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLm11bHRpcGx5UXVhdGVybmlvbnModCxlKSk6dGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKHRoaXMsdCl9LGUucHJlbXVsdGlwbHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyh0LHRoaXMpfSxlLm11bHRpcGx5UXVhdGVybmlvbnM9ZnVuY3Rpb24odCxlKXt2YXIgbj10Ll94LGk9dC5feSxyPXQuX3osYT10Ll93LG89ZS5feCxzPWUuX3ksYz1lLl96LGw9ZS5fdztyZXR1cm4gdGhpcy5feD1uKmwrYSpvK2kqYy1yKnMsdGhpcy5feT1pKmwrYSpzK3Iqby1uKmMsdGhpcy5fej1yKmwrYSpjK24qcy1pKm8sdGhpcy5fdz1hKmwtbipvLWkqcy1yKmMsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9LGUuc2xlcnA9ZnVuY3Rpb24odCxlKXtpZigwPT09ZSlyZXR1cm4gdGhpcztpZigxPT09ZSlyZXR1cm4gdGhpcy5jb3B5KHQpO3ZhciBuPXRoaXMuX3gsaT10aGlzLl95LHI9dGhpcy5feixhPXRoaXMuX3csbz1hKnQuX3crbip0Ll94K2kqdC5feStyKnQuX3o7aWYobzwwPyh0aGlzLl93PS10Ll93LHRoaXMuX3g9LXQuX3gsdGhpcy5feT0tdC5feSx0aGlzLl96PS10Ll96LG89LW8pOnRoaXMuY29weSh0KSxvPj0xKXJldHVybiB0aGlzLl93PWEsdGhpcy5feD1uLHRoaXMuX3k9aSx0aGlzLl96PXIsdGhpczt2YXIgcz0xLW8qbztpZihzPD1OdW1iZXIuRVBTSUxPTil7dmFyIGM9MS1lO3JldHVybiB0aGlzLl93PWMqYStlKnRoaXMuX3csdGhpcy5feD1jKm4rZSp0aGlzLl94LHRoaXMuX3k9YyppK2UqdGhpcy5feSx0aGlzLl96PWMqcitlKnRoaXMuX3osdGhpcy5ub3JtYWxpemUoKSx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc312YXIgbD1NYXRoLnNxcnQocyksdT1NYXRoLmF0YW4yKGwsbyksaD1NYXRoLnNpbigoMS1lKSp1KS9sLGQ9TWF0aC5zaW4oZSp1KS9sO3JldHVybiB0aGlzLl93PWEqaCt0aGlzLl93KmQsdGhpcy5feD1uKmgrdGhpcy5feCpkLHRoaXMuX3k9aSpoK3RoaXMuX3kqZCx0aGlzLl96PXIqaCt0aGlzLl96KmQsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9LGUuZXF1YWxzPWZ1bmN0aW9uKHQpe3JldHVybiB0Ll94PT09dGhpcy5feCYmdC5feT09PXRoaXMuX3kmJnQuX3o9PT10aGlzLl96JiZ0Ll93PT09dGhpcy5fd30sZS5mcm9tQXJyYXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdGhpcy5feD10W2VdLHRoaXMuX3k9dFtlKzFdLHRoaXMuX3o9dFtlKzJdLHRoaXMuX3c9dFtlKzNdLHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKSx0aGlzfSxlLnRvQXJyYXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9W10pLHZvaWQgMD09PWUmJihlPTApLHRbZV09dGhpcy5feCx0W2UrMV09dGhpcy5feSx0W2UrMl09dGhpcy5feix0W2UrM109dGhpcy5fdyx0fSxlLmZyb21CdWZmZXJBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5feD10LmdldFgoZSksdGhpcy5feT10LmdldFkoZSksdGhpcy5fej10LmdldFooZSksdGhpcy5fdz10LmdldFcoZSksdGhpc30sZS5fb25DaGFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2s9dCx0aGlzfSxlLl9vbkNoYW5nZUNhbGxiYWNrPWZ1bmN0aW9uKCl7fSxzdCh0LFt7a2V5OiJ4IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3g9dCx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9fSx7a2V5OiJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3k9dCx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9fSx7a2V5OiJ6IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fen0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3o9dCx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9fSx7a2V5OiJ3IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3c9dCx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9fV0pLHR9KCksTHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXt2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1uJiYobj0wKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiaXNWZWN0b3IzIix7dmFsdWU6ITB9KSx0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLno9bn12YXIgZT10LnByb3RvdHlwZTtyZXR1cm4gZS5zZXQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj10aGlzLnopLHRoaXMueD10LHRoaXMueT1lLHRoaXMuej1uLHRoaXN9LGUuc2V0U2NhbGFyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLng9dCx0aGlzLnk9dCx0aGlzLno9dCx0aGlzfSxlLnNldFg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD10LHRoaXN9LGUuc2V0WT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy55PXQsdGhpc30sZS5zZXRaPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLno9dCx0aGlzfSxlLnNldENvbXBvbmVudD1mdW5jdGlvbih0LGUpe3N3aXRjaCh0KXtjYXNlIDA6dGhpcy54PWU7YnJlYWs7Y2FzZSAxOnRoaXMueT1lO2JyZWFrO2Nhc2UgMjp0aGlzLno9ZTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAiK3QpfXJldHVybiB0aGlzfSxlLmdldENvbXBvbmVudD1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSAwOnJldHVybiB0aGlzLng7Y2FzZSAxOnJldHVybiB0aGlzLnk7Y2FzZSAyOnJldHVybiB0aGlzLno7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImluZGV4IGlzIG91dCBvZiByYW5nZTogIit0KX19LGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LHRoaXMueSx0aGlzLnopfSxlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD10LngsdGhpcy55PXQueSx0aGlzLno9dC56LHRoaXN9LGUuYWRkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMCE9PWU/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogLmFkZCgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLmFkZFZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLiIpLHRoaXMuYWRkVmVjdG9ycyh0LGUpKToodGhpcy54Kz10LngsdGhpcy55Kz10LnksdGhpcy56Kz10LnosdGhpcyl9LGUuYWRkU2NhbGFyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngrPXQsdGhpcy55Kz10LHRoaXMueis9dCx0aGlzfSxlLmFkZFZlY3RvcnM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54PXQueCtlLngsdGhpcy55PXQueStlLnksdGhpcy56PXQueitlLnosdGhpc30sZS5hZGRTY2FsZWRWZWN0b3I9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54Kz10LngqZSx0aGlzLnkrPXQueSplLHRoaXMueis9dC56KmUsdGhpc30sZS5zdWI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwIT09ZT8oY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuc3ViKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuc3ViVmVjdG9ycyggYSwgYiApIGluc3RlYWQuIiksdGhpcy5zdWJWZWN0b3JzKHQsZSkpOih0aGlzLngtPXQueCx0aGlzLnktPXQueSx0aGlzLnotPXQueix0aGlzKX0sZS5zdWJTY2FsYXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC09dCx0aGlzLnktPXQsdGhpcy56LT10LHRoaXN9LGUuc3ViVmVjdG9ycz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLng9dC54LWUueCx0aGlzLnk9dC55LWUueSx0aGlzLno9dC56LWUueix0aGlzfSxlLm11bHRpcGx5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMCE9PWU/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogLm11bHRpcGx5KCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAubXVsdGlwbHlWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLm11bHRpcGx5VmVjdG9ycyh0LGUpKToodGhpcy54Kj10LngsdGhpcy55Kj10LnksdGhpcy56Kj10LnosdGhpcyl9LGUubXVsdGlwbHlTY2FsYXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCo9dCx0aGlzLnkqPXQsdGhpcy56Kj10LHRoaXN9LGUubXVsdGlwbHlWZWN0b3JzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueD10LngqZS54LHRoaXMueT10LnkqZS55LHRoaXMuej10LnoqZS56LHRoaXN9LGUuYXBwbHlFdWxlcj1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5pc0V1bGVyfHxjb25zb2xlLmVycm9yKCJUSFJFRS5WZWN0b3IzOiAuYXBwbHlFdWxlcigpIG5vdyBleHBlY3RzIGFuIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuIiksdGhpcy5hcHBseVF1YXRlcm5pb24oQ3Quc2V0RnJvbUV1bGVyKHQpKX0sZS5hcHBseUF4aXNBbmdsZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFwcGx5UXVhdGVybmlvbihDdC5zZXRGcm9tQXhpc0FuZ2xlKHQsZSkpfSxlLmFwcGx5TWF0cml4Mz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLngsbj10aGlzLnksaT10aGlzLnoscj10LmVsZW1lbnRzO3JldHVybiB0aGlzLng9clswXSplK3JbM10qbityWzZdKmksdGhpcy55PXJbMV0qZStyWzRdKm4rcls3XSppLHRoaXMuej1yWzJdKmUrcls1XSpuK3JbOF0qaSx0aGlzfSxlLmFwcGx5Tm9ybWFsTWF0cml4PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFwcGx5TWF0cml4Myh0KS5ub3JtYWxpemUoKX0sZS5hcHBseU1hdHJpeDQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy54LG49dGhpcy55LGk9dGhpcy56LHI9dC5lbGVtZW50cyxhPTEvKHJbM10qZStyWzddKm4rclsxMV0qaStyWzE1XSk7cmV0dXJuIHRoaXMueD0oclswXSplK3JbNF0qbityWzhdKmkrclsxMl0pKmEsdGhpcy55PShyWzFdKmUrcls1XSpuK3JbOV0qaStyWzEzXSkqYSx0aGlzLno9KHJbMl0qZStyWzZdKm4rclsxMF0qaStyWzE0XSkqYSx0aGlzfSxlLmFwcGx5UXVhdGVybmlvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLngsbj10aGlzLnksaT10aGlzLnoscj10LngsYT10Lnksbz10Lnoscz10LncsYz1zKmUrYSppLW8qbixsPXMqbitvKmUtcippLHU9cyppK3Iqbi1hKmUsaD0tciplLWEqbi1vKmk7cmV0dXJuIHRoaXMueD1jKnMraCotcitsKi1vLXUqLWEsdGhpcy55PWwqcytoKi1hK3UqLXItYyotbyx0aGlzLno9dSpzK2gqLW8rYyotYS1sKi1yLHRoaXN9LGUucHJvamVjdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDQodC5tYXRyaXhXb3JsZEludmVyc2UpLmFwcGx5TWF0cml4NCh0LnByb2plY3Rpb25NYXRyaXgpfSxlLnVucHJvamVjdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hcHBseU1hdHJpeDQodC5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZSkuYXBwbHlNYXRyaXg0KHQubWF0cml4V29ybGQpfSxlLnRyYW5zZm9ybURpcmVjdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLngsbj10aGlzLnksaT10aGlzLnoscj10LmVsZW1lbnRzO3JldHVybiB0aGlzLng9clswXSplK3JbNF0qbityWzhdKmksdGhpcy55PXJbMV0qZStyWzVdKm4rcls5XSppLHRoaXMuej1yWzJdKmUrcls2XSpuK3JbMTBdKmksdGhpcy5ub3JtYWxpemUoKX0sZS5kaXZpZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueC89dC54LHRoaXMueS89dC55LHRoaXMuei89dC56LHRoaXN9LGUuZGl2aWRlU2NhbGFyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKDEvdCl9LGUubWluPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLng9TWF0aC5taW4odGhpcy54LHQueCksdGhpcy55PU1hdGgubWluKHRoaXMueSx0LnkpLHRoaXMuej1NYXRoLm1pbih0aGlzLnosdC56KSx0aGlzfSxlLm1heD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54PU1hdGgubWF4KHRoaXMueCx0LngpLHRoaXMueT1NYXRoLm1heCh0aGlzLnksdC55KSx0aGlzLno9TWF0aC5tYXgodGhpcy56LHQueiksdGhpc30sZS5jbGFtcD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLng9TWF0aC5tYXgodC54LE1hdGgubWluKGUueCx0aGlzLngpKSx0aGlzLnk9TWF0aC5tYXgodC55LE1hdGgubWluKGUueSx0aGlzLnkpKSx0aGlzLno9TWF0aC5tYXgodC56LE1hdGgubWluKGUueix0aGlzLnopKSx0aGlzfSxlLmNsYW1wU2NhbGFyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueD1NYXRoLm1heCh0LE1hdGgubWluKGUsdGhpcy54KSksdGhpcy55PU1hdGgubWF4KHQsTWF0aC5taW4oZSx0aGlzLnkpKSx0aGlzLno9TWF0aC5tYXgodCxNYXRoLm1pbihlLHRoaXMueikpLHRoaXN9LGUuY2xhbXBMZW5ndGg9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmxlbmd0aCgpO3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcihufHwxKS5tdWx0aXBseVNjYWxhcihNYXRoLm1heCh0LE1hdGgubWluKGUsbikpKX0sZS5mbG9vcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT1NYXRoLmZsb29yKHRoaXMueSksdGhpcy56PU1hdGguZmxvb3IodGhpcy56KSx0aGlzfSxlLmNlaWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PU1hdGguY2VpbCh0aGlzLngpLHRoaXMueT1NYXRoLmNlaWwodGhpcy55KSx0aGlzLno9TWF0aC5jZWlsKHRoaXMueiksdGhpc30sZS5yb3VuZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpLHRoaXMueT1NYXRoLnJvdW5kKHRoaXMueSksdGhpcy56PU1hdGgucm91bmQodGhpcy56KSx0aGlzfSxlLnJvdW5kVG9aZXJvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD10aGlzLng8MD9NYXRoLmNlaWwodGhpcy54KTpNYXRoLmZsb29yKHRoaXMueCksdGhpcy55PXRoaXMueTwwP01hdGguY2VpbCh0aGlzLnkpOk1hdGguZmxvb3IodGhpcy55KSx0aGlzLno9dGhpcy56PDA/TWF0aC5jZWlsKHRoaXMueik6TWF0aC5mbG9vcih0aGlzLnopLHRoaXN9LGUubmVnYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD0tdGhpcy54LHRoaXMueT0tdGhpcy55LHRoaXMuej0tdGhpcy56LHRoaXN9LGUuZG90PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqdC54K3RoaXMueSp0LnkrdGhpcy56KnQuen0sZS5sZW5ndGhTcT1mdW5jdGlvbigpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMuen0sZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56KX0sZS5tYW5oYXR0YW5MZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hYnModGhpcy54KStNYXRoLmFicyh0aGlzLnkpK01hdGguYWJzKHRoaXMueil9LGUubm9ybWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpfSxlLnNldExlbmd0aD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcih0KX0sZS5sZXJwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueCs9KHQueC10aGlzLngpKmUsdGhpcy55Kz0odC55LXRoaXMueSkqZSx0aGlzLnorPSh0LnotdGhpcy56KSplLHRoaXN9LGUubGVycFZlY3RvcnM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLng9dC54KyhlLngtdC54KSpuLHRoaXMueT10LnkrKGUueS10LnkpKm4sdGhpcy56PXQueisoZS56LXQueikqbix0aGlzfSxlLmNyb3NzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMCE9PWU/KGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogLmNyb3NzKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuY3Jvc3NWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4iKSx0aGlzLmNyb3NzVmVjdG9ycyh0LGUpKTp0aGlzLmNyb3NzVmVjdG9ycyh0aGlzLHQpfSxlLmNyb3NzVmVjdG9ycz1mdW5jdGlvbih0LGUpe3ZhciBuPXQueCxpPXQueSxyPXQueixhPWUueCxvPWUueSxzPWUuejtyZXR1cm4gdGhpcy54PWkqcy1yKm8sdGhpcy55PXIqYS1uKnMsdGhpcy56PW4qby1pKmEsdGhpc30sZS5wcm9qZWN0T25WZWN0b3I9ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGhTcSgpO2lmKDA9PT1lKXJldHVybiB0aGlzLnNldCgwLDAsMCk7dmFyIG49dC5kb3QodGhpcykvZTtyZXR1cm4gdGhpcy5jb3B5KHQpLm11bHRpcGx5U2NhbGFyKG4pfSxlLnByb2plY3RPblBsYW5lPWZ1bmN0aW9uKHQpe3JldHVybiBSdC5jb3B5KHRoaXMpLnByb2plY3RPblZlY3Rvcih0KSx0aGlzLnN1YihSdCl9LGUucmVmbGVjdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdWIoUnQuY29weSh0KS5tdWx0aXBseVNjYWxhcigyKnRoaXMuZG90KHQpKSl9LGUuYW5nbGVUbz1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLnNxcnQodGhpcy5sZW5ndGhTcSgpKnQubGVuZ3RoU3EoKSk7aWYoMD09PWUpcmV0dXJuIE1hdGguUEkvMjt2YXIgbj10aGlzLmRvdCh0KS9lO3JldHVybiBNYXRoLmFjb3MoZ3QuY2xhbXAobiwtMSwxKSl9LGUuZGlzdGFuY2VUbz1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQodCkpfSxlLmRpc3RhbmNlVG9TcXVhcmVkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMueC10Lngsbj10aGlzLnktdC55LGk9dGhpcy56LXQuejtyZXR1cm4gZSplK24qbitpKml9LGUubWFuaGF0dGFuRGlzdGFuY2VUbz1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5hYnModGhpcy54LXQueCkrTWF0aC5hYnModGhpcy55LXQueSkrTWF0aC5hYnModGhpcy56LXQueil9LGUuc2V0RnJvbVNwaGVyaWNhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRGcm9tU3BoZXJpY2FsQ29vcmRzKHQucmFkaXVzLHQucGhpLHQudGhldGEpfSxlLnNldEZyb21TcGhlcmljYWxDb29yZHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPU1hdGguc2luKGUpKnQ7cmV0dXJuIHRoaXMueD1pKk1hdGguc2luKG4pLHRoaXMueT1NYXRoLmNvcyhlKSp0LHRoaXMuej1pKk1hdGguY29zKG4pLHRoaXN9LGUuc2V0RnJvbUN5bGluZHJpY2FsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldEZyb21DeWxpbmRyaWNhbENvb3Jkcyh0LnJhZGl1cyx0LnRoZXRhLHQueSl9LGUuc2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy54PXQqTWF0aC5zaW4oZSksdGhpcy55PW4sdGhpcy56PXQqTWF0aC5jb3MoZSksdGhpc30sZS5zZXRGcm9tTWF0cml4UG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dC5lbGVtZW50cztyZXR1cm4gdGhpcy54PWVbMTJdLHRoaXMueT1lWzEzXSx0aGlzLno9ZVsxNF0sdGhpc30sZS5zZXRGcm9tTWF0cml4U2NhbGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKHQsMCkubGVuZ3RoKCksbj10aGlzLnNldEZyb21NYXRyaXhDb2x1bW4odCwxKS5sZW5ndGgoKSxpPXRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbih0LDIpLmxlbmd0aCgpO3JldHVybiB0aGlzLng9ZSx0aGlzLnk9bix0aGlzLno9aSx0aGlzfSxlLnNldEZyb21NYXRyaXhDb2x1bW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5mcm9tQXJyYXkodC5lbGVtZW50cyw0KmUpfSxlLnNldEZyb21NYXRyaXgzQ29sdW1uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZnJvbUFycmF5KHQuZWxlbWVudHMsMyplKX0sZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQueD09PXRoaXMueCYmdC55PT09dGhpcy55JiZ0Lno9PT10aGlzLnp9LGUuZnJvbUFycmF5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLHRoaXMueD10W2VdLHRoaXMueT10W2UrMV0sdGhpcy56PXRbZSsyXSx0aGlzfSxlLnRvQXJyYXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9W10pLHZvaWQgMD09PWUmJihlPTApLHRbZV09dGhpcy54LHRbZSsxXT10aGlzLnksdFtlKzJdPXRoaXMueix0fSxlLmZyb21CdWZmZXJBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDAhPT1uJiZjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IG9mZnNldCBoYXMgYmVlbiByZW1vdmVkIGZyb20gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4iKSx0aGlzLng9dC5nZXRYKGUpLHRoaXMueT10LmdldFkoZSksdGhpcy56PXQuZ2V0WihlKSx0aGlzfSxlLnJhbmRvbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLng9TWF0aC5yYW5kb20oKSx0aGlzLnk9TWF0aC5yYW5kb20oKSx0aGlzLno9TWF0aC5yYW5kb20oKSx0aGlzfSx0fSgpLFJ0PW5ldyBMdCxDdD1uZXcgQXQsUHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlzQm94MyIse3ZhbHVlOiEwfSksdGhpcy5taW49dm9pZCAwIT09dD90Om5ldyBMdCgxLzAsMS8wLDEvMCksdGhpcy5tYXg9dm9pZCAwIT09ZT9lOm5ldyBMdCgtMS8wLC0xLzAsLTEvMCl9dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubWluLmNvcHkodCksdGhpcy5tYXguY29weShlKSx0aGlzfSxlLnNldEZyb21BcnJheT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MS8wLG49MS8wLGk9MS8wLHI9LTEvMCxhPS0xLzAsbz0tMS8wLHM9MCxjPXQubGVuZ3RoO3M8YztzKz0zKXt2YXIgbD10W3NdLHU9dFtzKzFdLGg9dFtzKzJdO2w8ZSYmKGU9bCksdTxuJiYobj11KSxoPGkmJihpPWgpLGw+ciYmKHI9bCksdT5hJiYoYT11KSxoPm8mJihvPWgpfXJldHVybiB0aGlzLm1pbi5zZXQoZSxuLGkpLHRoaXMubWF4LnNldChyLGEsbyksdGhpc30sZS5zZXRGcm9tQnVmZmVyQXR0cmlidXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xLzAsbj0xLzAsaT0xLzAscj0tMS8wLGE9LTEvMCxvPS0xLzAscz0wLGM9dC5jb3VudDtzPGM7cysrKXt2YXIgbD10LmdldFgocyksdT10LmdldFkocyksaD10LmdldFoocyk7bDxlJiYoZT1sKSx1PG4mJihuPXUpLGg8aSYmKGk9aCksbD5yJiYocj1sKSx1PmEmJihhPXUpLGg+byYmKG89aCl9cmV0dXJuIHRoaXMubWluLnNldChlLG4saSksdGhpcy5tYXguc2V0KHIsYSxvKSx0aGlzfSxlLnNldEZyb21Qb2ludHM9ZnVuY3Rpb24odCl7dGhpcy5tYWtlRW1wdHkoKTtmb3IodmFyIGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspdGhpcy5leHBhbmRCeVBvaW50KHRbZV0pO3JldHVybiB0aGlzfSxlLnNldEZyb21DZW50ZXJBbmRTaXplPWZ1bmN0aW9uKHQsZSl7dmFyIG49T3QuY29weShlKS5tdWx0aXBseVNjYWxhciguNSk7cmV0dXJuIHRoaXMubWluLmNvcHkodCkuc3ViKG4pLHRoaXMubWF4LmNvcHkodCkuYWRkKG4pLHRoaXN9LGUuc2V0RnJvbU9iamVjdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tYWtlRW1wdHkoKSx0aGlzLmV4cGFuZEJ5T2JqZWN0KHQpfSxlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfSxlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWluLmNvcHkodC5taW4pLHRoaXMubWF4LmNvcHkodC5tYXgpLHRoaXN9LGUubWFrZUVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWluLng9dGhpcy5taW4ueT10aGlzLm1pbi56PTEvMCx0aGlzLm1heC54PXRoaXMubWF4Lnk9dGhpcy5tYXguej0tMS8wLHRoaXN9LGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1heC54PHRoaXMubWluLnh8fHRoaXMubWF4Lnk8dGhpcy5taW4ueXx8dGhpcy5tYXguejx0aGlzLm1pbi56fSxlLmdldENlbnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybigiVEhSRUUuQm94MzogLmdldENlbnRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSx0PW5ldyBMdCksdGhpcy5pc0VtcHR5KCk/dC5zZXQoMCwwLDApOnQuYWRkVmVjdG9ycyh0aGlzLm1pbix0aGlzLm1heCkubXVsdGlwbHlTY2FsYXIoLjUpfSxlLmdldFNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oIlRIUkVFLkJveDM6IC5nZXRTaXplKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLHQ9bmV3IEx0KSx0aGlzLmlzRW1wdHkoKT90LnNldCgwLDAsMCk6dC5zdWJWZWN0b3JzKHRoaXMubWF4LHRoaXMubWluKX0sZS5leHBhbmRCeVBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm1pbi5taW4odCksdGhpcy5tYXgubWF4KHQpLHRoaXN9LGUuZXhwYW5kQnlWZWN0b3I9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWluLnN1Yih0KSx0aGlzLm1heC5hZGQodCksdGhpc30sZS5leHBhbmRCeVNjYWxhcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5taW4uYWRkU2NhbGFyKC10KSx0aGlzLm1heC5hZGRTY2FsYXIodCksdGhpc30sZS5leHBhbmRCeU9iamVjdD1mdW5jdGlvbih0KXt0LnVwZGF0ZVdvcmxkTWF0cml4KCExLCExKTt2YXIgZT10Lmdlb21ldHJ5O3ZvaWQgMCE9PWUmJihudWxsPT09ZS5ib3VuZGluZ0JveCYmZS5jb21wdXRlQm91bmRpbmdCb3goKSxOdC5jb3B5KGUuYm91bmRpbmdCb3gpLE50LmFwcGx5TWF0cml4NCh0Lm1hdHJpeFdvcmxkKSx0aGlzLnVuaW9uKE50KSk7Zm9yKHZhciBuPXQuY2hpbGRyZW4saT0wLHI9bi5sZW5ndGg7aTxyO2krKyl0aGlzLmV4cGFuZEJ5T2JqZWN0KG5baV0pO3JldHVybiB0aGlzfSxlLmNvbnRhaW5zUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuISh0Lng8dGhpcy5taW4ueHx8dC54PnRoaXMubWF4Lnh8fHQueTx0aGlzLm1pbi55fHx0Lnk+dGhpcy5tYXgueXx8dC56PHRoaXMubWluLnp8fHQuej50aGlzLm1heC56KX0sZS5jb250YWluc0JveD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5taW4ueDw9dC5taW4ueCYmdC5tYXgueDw9dGhpcy5tYXgueCYmdGhpcy5taW4ueTw9dC5taW4ueSYmdC5tYXgueTw9dGhpcy5tYXgueSYmdGhpcy5taW4uejw9dC5taW4ueiYmdC5tYXguejw9dGhpcy5tYXguen0sZS5nZXRQYXJhbWV0ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGNvbnNvbGUud2FybigiVEhSRUUuQm94MzogLmdldFBhcmFtZXRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSxlPW5ldyBMdCksZS5zZXQoKHQueC10aGlzLm1pbi54KS8odGhpcy5tYXgueC10aGlzLm1pbi54KSwodC55LXRoaXMubWluLnkpLyh0aGlzLm1heC55LXRoaXMubWluLnkpLCh0LnotdGhpcy5taW4ueikvKHRoaXMubWF4LnotdGhpcy5taW4ueikpfSxlLmludGVyc2VjdHNCb3g9ZnVuY3Rpb24odCl7cmV0dXJuISh0Lm1heC54PHRoaXMubWluLnh8fHQubWluLng+dGhpcy5tYXgueHx8dC5tYXgueTx0aGlzLm1pbi55fHx0Lm1pbi55PnRoaXMubWF4Lnl8fHQubWF4Lno8dGhpcy5taW4uenx8dC5taW4uej50aGlzLm1heC56KX0sZS5pbnRlcnNlY3RzU3BoZXJlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsYW1wUG9pbnQodC5jZW50ZXIsT3QpLE90LmRpc3RhbmNlVG9TcXVhcmVkKHQuY2VudGVyKTw9dC5yYWRpdXMqdC5yYWRpdXN9LGUuaW50ZXJzZWN0c1BsYW5lPWZ1bmN0aW9uKHQpe3ZhciBlLG47cmV0dXJuIHQubm9ybWFsLng+MD8oZT10Lm5vcm1hbC54KnRoaXMubWluLngsbj10Lm5vcm1hbC54KnRoaXMubWF4LngpOihlPXQubm9ybWFsLngqdGhpcy5tYXgueCxuPXQubm9ybWFsLngqdGhpcy5taW4ueCksdC5ub3JtYWwueT4wPyhlKz10Lm5vcm1hbC55KnRoaXMubWluLnksbis9dC5ub3JtYWwueSp0aGlzLm1heC55KTooZSs9dC5ub3JtYWwueSp0aGlzLm1heC55LG4rPXQubm9ybWFsLnkqdGhpcy5taW4ueSksdC5ub3JtYWwuej4wPyhlKz10Lm5vcm1hbC56KnRoaXMubWluLnosbis9dC5ub3JtYWwueip0aGlzLm1heC56KTooZSs9dC5ub3JtYWwueip0aGlzLm1heC56LG4rPXQubm9ybWFsLnoqdGhpcy5taW4ueiksZTw9LXQuY29uc3RhbnQmJm4+PS10LmNvbnN0YW50fSxlLmludGVyc2VjdHNUcmlhbmdsZT1mdW5jdGlvbih0KXtpZih0aGlzLmlzRW1wdHkoKSlyZXR1cm4hMTt0aGlzLmdldENlbnRlcihrdCksVnQuc3ViVmVjdG9ycyh0aGlzLm1heCxrdCksQnQuc3ViVmVjdG9ycyh0LmEsa3QpLHp0LnN1YlZlY3RvcnModC5iLGt0KSxGdC5zdWJWZWN0b3JzKHQuYyxrdCksSHQuc3ViVmVjdG9ycyh6dCxCdCksR3Quc3ViVmVjdG9ycyhGdCx6dCksVXQuc3ViVmVjdG9ycyhCdCxGdCk7dmFyIGU9WzAsLUh0LnosSHQueSwwLC1HdC56LEd0LnksMCwtVXQueixVdC55LEh0LnosMCwtSHQueCxHdC56LDAsLUd0LngsVXQueiwwLC1VdC54LC1IdC55LEh0LngsMCwtR3QueSxHdC54LDAsLVV0LnksVXQueCwwXTtyZXR1cm4hIUR0KGUsQnQsenQsRnQsVnQpJiYoISFEdChlPVsxLDAsMCwwLDEsMCwwLDAsMV0sQnQsenQsRnQsVnQpJiYoV3QuY3Jvc3NWZWN0b3JzKEh0LEd0KSxEdChlPVtXdC54LFd0LnksV3Quel0sQnQsenQsRnQsVnQpKSl9LGUuY2xhbXBQb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKCJUSFJFRS5Cb3gzOiAuY2xhbXBQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSxlPW5ldyBMdCksZS5jb3B5KHQpLmNsYW1wKHRoaXMubWluLHRoaXMubWF4KX0sZS5kaXN0YW5jZVRvUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIE90LmNvcHkodCkuY2xhbXAodGhpcy5taW4sdGhpcy5tYXgpLnN1Yih0KS5sZW5ndGgoKX0sZS5nZXRCb3VuZGluZ1NwaGVyZT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmY29uc29sZS5lcnJvcigiVEhSRUUuQm94MzogLmdldEJvdW5kaW5nU3BoZXJlKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLHRoaXMuZ2V0Q2VudGVyKHQuY2VudGVyKSx0LnJhZGl1cz0uNSp0aGlzLmdldFNpemUoT3QpLmxlbmd0aCgpLHR9LGUuaW50ZXJzZWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm1pbi5tYXgodC5taW4pLHRoaXMubWF4Lm1pbih0Lm1heCksdGhpcy5pc0VtcHR5KCkmJnRoaXMubWFrZUVtcHR5KCksdGhpc30sZS51bmlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5taW4ubWluKHQubWluKSx0aGlzLm1heC5tYXgodC5tYXgpLHRoaXN9LGUuYXBwbHlNYXRyaXg0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzRW1wdHkoKXx8KEl0WzBdLnNldCh0aGlzLm1pbi54LHRoaXMubWluLnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KHQpLEl0WzFdLnNldCh0aGlzLm1pbi54LHRoaXMubWluLnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KHQpLEl0WzJdLnNldCh0aGlzLm1pbi54LHRoaXMubWF4LnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KHQpLEl0WzNdLnNldCh0aGlzLm1pbi54LHRoaXMubWF4LnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KHQpLEl0WzRdLnNldCh0aGlzLm1heC54LHRoaXMubWluLnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KHQpLEl0WzVdLnNldCh0aGlzLm1heC54LHRoaXMubWluLnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KHQpLEl0WzZdLnNldCh0aGlzLm1heC54LHRoaXMubWF4LnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KHQpLEl0WzddLnNldCh0aGlzLm1heC54LHRoaXMubWF4LnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KHQpLHRoaXMuc2V0RnJvbVBvaW50cyhJdCkpLHRoaXN9LGUudHJhbnNsYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm1pbi5hZGQodCksdGhpcy5tYXguYWRkKHQpLHRoaXN9LGUuZXF1YWxzPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm1pbi5lcXVhbHModGhpcy5taW4pJiZ0Lm1heC5lcXVhbHModGhpcy5tYXgpfSx0fSgpO2Z1bmN0aW9uIER0KHQsZSxuLGkscil7Zm9yKHZhciBhPTAsbz10Lmxlbmd0aC0zO2E8PW87YSs9Myl7anQuZnJvbUFycmF5KHQsYSk7dmFyIHM9ci54Kk1hdGguYWJzKGp0LngpK3IueSpNYXRoLmFicyhqdC55KStyLnoqTWF0aC5hYnMoanQueiksYz1lLmRvdChqdCksbD1uLmRvdChqdCksdT1pLmRvdChqdCk7aWYoTWF0aC5tYXgoLU1hdGgubWF4KGMsbCx1KSxNYXRoLm1pbihjLGwsdSkpPnMpcmV0dXJuITF9cmV0dXJuITB9dmFyIEl0PVtuZXcgTHQsbmV3IEx0LG5ldyBMdCxuZXcgTHQsbmV3IEx0LG5ldyBMdCxuZXcgTHQsbmV3IEx0XSxPdD1uZXcgTHQsTnQ9bmV3IFB0LEJ0PW5ldyBMdCx6dD1uZXcgTHQsRnQ9bmV3IEx0LEh0PW5ldyBMdCxHdD1uZXcgTHQsVXQ9bmV3IEx0LGt0PW5ldyBMdCxWdD1uZXcgTHQsV3Q9bmV3IEx0LGp0PW5ldyBMdCxxdD1uZXcgUHQsWHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5jZW50ZXI9dm9pZCAwIT09dD90Om5ldyBMdCx0aGlzLnJhZGl1cz12b2lkIDAhPT1lP2U6LTF9dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUuc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY2VudGVyLmNvcHkodCksdGhpcy5yYWRpdXM9ZSx0aGlzfSxlLnNldEZyb21Qb2ludHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmNlbnRlcjt2b2lkIDAhPT1lP24uY29weShlKTpxdC5zZXRGcm9tUG9pbnRzKHQpLmdldENlbnRlcihuKTtmb3IodmFyIGk9MCxyPTAsYT10Lmxlbmd0aDtyPGE7cisrKWk9TWF0aC5tYXgoaSxuLmRpc3RhbmNlVG9TcXVhcmVkKHRbcl0pKTtyZXR1cm4gdGhpcy5yYWRpdXM9TWF0aC5zcXJ0KGkpLHRoaXN9LGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jZW50ZXIuY29weSh0LmNlbnRlciksdGhpcy5yYWRpdXM9dC5yYWRpdXMsdGhpc30sZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmFkaXVzPDB9LGUubWFrZUVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VudGVyLnNldCgwLDAsMCksdGhpcy5yYWRpdXM9LTEsdGhpc30sZS5jb250YWluc1BvaW50PWZ1bmN0aW9uKHQpe3JldHVybiB0LmRpc3RhbmNlVG9TcXVhcmVkKHRoaXMuY2VudGVyKTw9dGhpcy5yYWRpdXMqdGhpcy5yYWRpdXN9LGUuZGlzdGFuY2VUb1BvaW50PWZ1bmN0aW9uKHQpe3JldHVybiB0LmRpc3RhbmNlVG8odGhpcy5jZW50ZXIpLXRoaXMucmFkaXVzfSxlLmludGVyc2VjdHNTcGhlcmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yYWRpdXMrdC5yYWRpdXM7cmV0dXJuIHQuY2VudGVyLmRpc3RhbmNlVG9TcXVhcmVkKHRoaXMuY2VudGVyKTw9ZSplfSxlLmludGVyc2VjdHNCb3g9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaW50ZXJzZWN0c1NwaGVyZSh0aGlzKX0sZS5pbnRlcnNlY3RzUGxhbmU9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguYWJzKHQuZGlzdGFuY2VUb1BvaW50KHRoaXMuY2VudGVyKSk8PXRoaXMucmFkaXVzfSxlLmNsYW1wUG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmNlbnRlci5kaXN0YW5jZVRvU3F1YXJlZCh0KTtyZXR1cm4gdm9pZCAwPT09ZSYmKGNvbnNvbGUud2FybigiVEhSRUUuU3BoZXJlOiAuY2xhbXBQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSxlPW5ldyBMdCksZS5jb3B5KHQpLG4+dGhpcy5yYWRpdXMqdGhpcy5yYWRpdXMmJihlLnN1Yih0aGlzLmNlbnRlcikubm9ybWFsaXplKCksZS5tdWx0aXBseVNjYWxhcih0aGlzLnJhZGl1cykuYWRkKHRoaXMuY2VudGVyKSksZX0sZS5nZXRCb3VuZGluZ0JveD1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybigiVEhSRUUuU3BoZXJlOiAuZ2V0Qm91bmRpbmdCb3goKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkIiksdD1uZXcgUHQpLHRoaXMuaXNFbXB0eSgpPyh0Lm1ha2VFbXB0eSgpLHQpOih0LnNldCh0aGlzLmNlbnRlcix0aGlzLmNlbnRlciksdC5leHBhbmRCeVNjYWxhcih0aGlzLnJhZGl1cyksdCl9LGUuYXBwbHlNYXRyaXg0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNlbnRlci5hcHBseU1hdHJpeDQodCksdGhpcy5yYWRpdXM9dGhpcy5yYWRpdXMqdC5nZXRNYXhTY2FsZU9uQXhpcygpLHRoaXN9LGUudHJhbnNsYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNlbnRlci5hZGQodCksdGhpc30sZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2VudGVyLmVxdWFscyh0aGlzLmNlbnRlcikmJnQucmFkaXVzPT09dGhpcy5yYWRpdXN9LHR9KCksWXQ9bmV3IEx0LFp0PW5ldyBMdCxKdD1uZXcgTHQsUXQ9bmV3IEx0LEt0PW5ldyBMdCwkdD1uZXcgTHQsdGU9bmV3IEx0LGVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMub3JpZ2luPXZvaWQgMCE9PXQ/dDpuZXcgTHQsdGhpcy5kaXJlY3Rpb249dm9pZCAwIT09ZT9lOm5ldyBMdCgwLDAsLTEpfXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnNldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm9yaWdpbi5jb3B5KHQpLHRoaXMuZGlyZWN0aW9uLmNvcHkoZSksdGhpc30sZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9yaWdpbi5jb3B5KHQub3JpZ2luKSx0aGlzLmRpcmVjdGlvbi5jb3B5KHQuZGlyZWN0aW9uKSx0aGlzfSxlLmF0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihjb25zb2xlLndhcm4oIlRIUkVFLlJheTogLmF0KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLGU9bmV3IEx0KSxlLmNvcHkodGhpcy5kaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKHQpLmFkZCh0aGlzLm9yaWdpbil9LGUubG9va0F0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpcmVjdGlvbi5jb3B5KHQpLnN1Yih0aGlzLm9yaWdpbikubm9ybWFsaXplKCksdGhpc30sZS5yZWNhc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3JpZ2luLmNvcHkodGhpcy5hdCh0LFl0KSksdGhpc30sZS5jbG9zZXN0UG9pbnRUb1BvaW50PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGNvbnNvbGUud2FybigiVEhSRUUuUmF5OiAuY2xvc2VzdFBvaW50VG9Qb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSxlPW5ldyBMdCksZS5zdWJWZWN0b3JzKHQsdGhpcy5vcmlnaW4pO3ZhciBuPWUuZG90KHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gbjwwP2UuY29weSh0aGlzLm9yaWdpbik6ZS5jb3B5KHRoaXMuZGlyZWN0aW9uKS5tdWx0aXBseVNjYWxhcihuKS5hZGQodGhpcy5vcmlnaW4pfSxlLmRpc3RhbmNlVG9Qb2ludD1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VTcVRvUG9pbnQodCkpfSxlLmRpc3RhbmNlU3FUb1BvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPVl0LnN1YlZlY3RvcnModCx0aGlzLm9yaWdpbikuZG90KHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gZTwwP3RoaXMub3JpZ2luLmRpc3RhbmNlVG9TcXVhcmVkKHQpOihZdC5jb3B5KHRoaXMuZGlyZWN0aW9uKS5tdWx0aXBseVNjYWxhcihlKS5hZGQodGhpcy5vcmlnaW4pLFl0LmRpc3RhbmNlVG9TcXVhcmVkKHQpKX0sZS5kaXN0YW5jZVNxVG9TZWdtZW50PWZ1bmN0aW9uKHQsZSxuLGkpe1p0LmNvcHkodCkuYWRkKGUpLm11bHRpcGx5U2NhbGFyKC41KSxKdC5jb3B5KGUpLnN1Yih0KS5ub3JtYWxpemUoKSxRdC5jb3B5KHRoaXMub3JpZ2luKS5zdWIoWnQpO3ZhciByLGEsbyxzLGM9LjUqdC5kaXN0YW5jZVRvKGUpLGw9LXRoaXMuZGlyZWN0aW9uLmRvdChKdCksdT1RdC5kb3QodGhpcy5kaXJlY3Rpb24pLGg9LVF0LmRvdChKdCksZD1RdC5sZW5ndGhTcSgpLHA9TWF0aC5hYnMoMS1sKmwpO2lmKHA+MClpZihhPWwqdS1oLHM9YypwLChyPWwqaC11KT49MClpZihhPj0tcylpZihhPD1zKXt2YXIgZj0xL3A7bz0ocio9ZikqKHIrbCooYSo9ZikrMip1KSthKihsKnIrYSsyKmgpK2R9ZWxzZSBhPWMsbz0tKHI9TWF0aC5tYXgoMCwtKGwqYSt1KSkpKnIrYSooYSsyKmgpK2Q7ZWxzZSBhPS1jLG89LShyPU1hdGgubWF4KDAsLShsKmErdSkpKSpyK2EqKGErMipoKStkO2Vsc2UgYTw9LXM/bz0tKHI9TWF0aC5tYXgoMCwtKC1sKmMrdSkpKSpyKyhhPXI+MD8tYzpNYXRoLm1pbihNYXRoLm1heCgtYywtaCksYykpKihhKzIqaCkrZDphPD1zPyhyPTAsbz0oYT1NYXRoLm1pbihNYXRoLm1heCgtYywtaCksYykpKihhKzIqaCkrZCk6bz0tKHI9TWF0aC5tYXgoMCwtKGwqYyt1KSkpKnIrKGE9cj4wP2M6TWF0aC5taW4oTWF0aC5tYXgoLWMsLWgpLGMpKSooYSsyKmgpK2Q7ZWxzZSBhPWw+MD8tYzpjLG89LShyPU1hdGgubWF4KDAsLShsKmErdSkpKSpyK2EqKGErMipoKStkO3JldHVybiBuJiZuLmNvcHkodGhpcy5kaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKHIpLmFkZCh0aGlzLm9yaWdpbiksaSYmaS5jb3B5KEp0KS5tdWx0aXBseVNjYWxhcihhKS5hZGQoWnQpLG99LGUuaW50ZXJzZWN0U3BoZXJlPWZ1bmN0aW9uKHQsZSl7WXQuc3ViVmVjdG9ycyh0LmNlbnRlcix0aGlzLm9yaWdpbik7dmFyIG49WXQuZG90KHRoaXMuZGlyZWN0aW9uKSxpPVl0LmRvdChZdCktbipuLHI9dC5yYWRpdXMqdC5yYWRpdXM7aWYoaT5yKXJldHVybiBudWxsO3ZhciBhPU1hdGguc3FydChyLWkpLG89bi1hLHM9bithO3JldHVybiBvPDAmJnM8MD9udWxsOm88MD90aGlzLmF0KHMsZSk6dGhpcy5hdChvLGUpfSxlLmludGVyc2VjdHNTcGhlcmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlzdGFuY2VTcVRvUG9pbnQodC5jZW50ZXIpPD10LnJhZGl1cyp0LnJhZGl1c30sZS5kaXN0YW5jZVRvUGxhbmU9ZnVuY3Rpb24odCl7dmFyIGU9dC5ub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKTtpZigwPT09ZSlyZXR1cm4gMD09PXQuZGlzdGFuY2VUb1BvaW50KHRoaXMub3JpZ2luKT8wOm51bGw7dmFyIG49LSh0aGlzLm9yaWdpbi5kb3QodC5ub3JtYWwpK3QuY29uc3RhbnQpL2U7cmV0dXJuIG4+PTA/bjpudWxsfSxlLmludGVyc2VjdFBsYW5lPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5kaXN0YW5jZVRvUGxhbmUodCk7cmV0dXJuIG51bGw9PT1uP251bGw6dGhpcy5hdChuLGUpfSxlLmludGVyc2VjdHNQbGFuZT1mdW5jdGlvbih0KXt2YXIgZT10LmRpc3RhbmNlVG9Qb2ludCh0aGlzLm9yaWdpbik7cmV0dXJuIDA9PT1lfHx0Lm5vcm1hbC5kb3QodGhpcy5kaXJlY3Rpb24pKmU8MH0sZS5pbnRlcnNlY3RCb3g9ZnVuY3Rpb24odCxlKXt2YXIgbixpLHIsYSxvLHMsYz0xL3RoaXMuZGlyZWN0aW9uLngsbD0xL3RoaXMuZGlyZWN0aW9uLnksdT0xL3RoaXMuZGlyZWN0aW9uLnosaD10aGlzLm9yaWdpbjtyZXR1cm4gYz49MD8obj0odC5taW4ueC1oLngpKmMsaT0odC5tYXgueC1oLngpKmMpOihuPSh0Lm1heC54LWgueCkqYyxpPSh0Lm1pbi54LWgueCkqYyksbD49MD8ocj0odC5taW4ueS1oLnkpKmwsYT0odC5tYXgueS1oLnkpKmwpOihyPSh0Lm1heC55LWgueSkqbCxhPSh0Lm1pbi55LWgueSkqbCksbj5hfHxyPmk/bnVsbDooKHI+bnx8biE9bikmJihuPXIpLChhPGl8fGkhPWkpJiYoaT1hKSx1Pj0wPyhvPSh0Lm1pbi56LWgueikqdSxzPSh0Lm1heC56LWgueikqdSk6KG89KHQubWF4LnotaC56KSp1LHM9KHQubWluLnotaC56KSp1KSxuPnN8fG8+aT9udWxsOigobz5ufHxuIT1uKSYmKG49byksKHM8aXx8aSE9aSkmJihpPXMpLGk8MD9udWxsOnRoaXMuYXQobj49MD9uOmksZSkpKX0sZS5pbnRlcnNlY3RzQm94PWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dGhpcy5pbnRlcnNlY3RCb3godCxZdCl9LGUuaW50ZXJzZWN0VHJpYW5nbGU9ZnVuY3Rpb24odCxlLG4saSxyKXtLdC5zdWJWZWN0b3JzKGUsdCksJHQuc3ViVmVjdG9ycyhuLHQpLHRlLmNyb3NzVmVjdG9ycyhLdCwkdCk7dmFyIGEsbz10aGlzLmRpcmVjdGlvbi5kb3QodGUpO2lmKG8+MCl7aWYoaSlyZXR1cm4gbnVsbDthPTF9ZWxzZXtpZighKG88MCkpcmV0dXJuIG51bGw7YT0tMSxvPS1vfVF0LnN1YlZlY3RvcnModGhpcy5vcmlnaW4sdCk7dmFyIHM9YSp0aGlzLmRpcmVjdGlvbi5kb3QoJHQuY3Jvc3NWZWN0b3JzKFF0LCR0KSk7aWYoczwwKXJldHVybiBudWxsO3ZhciBjPWEqdGhpcy5kaXJlY3Rpb24uZG90KEt0LmNyb3NzKFF0KSk7aWYoYzwwKXJldHVybiBudWxsO2lmKHMrYz5vKXJldHVybiBudWxsO3ZhciBsPS1hKlF0LmRvdCh0ZSk7cmV0dXJuIGw8MD9udWxsOnRoaXMuYXQobC9vLHIpfSxlLmFwcGx5TWF0cml4ND1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcmlnaW4uYXBwbHlNYXRyaXg0KHQpLHRoaXMuZGlyZWN0aW9uLnRyYW5zZm9ybURpcmVjdGlvbih0KSx0aGlzfSxlLmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gdC5vcmlnaW4uZXF1YWxzKHRoaXMub3JpZ2luKSYmdC5kaXJlY3Rpb24uZXF1YWxzKHRoaXMuZGlyZWN0aW9uKX0sdH0oKSxuZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiaXNNYXRyaXg0Iix7dmFsdWU6ITB9KSx0aGlzLmVsZW1lbnRzPVsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXSxhcmd1bWVudHMubGVuZ3RoPjAmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDQ6IHRoZSBjb25zdHJ1Y3RvciBubyBsb25nZXIgcmVhZHMgYXJndW1lbnRzLiB1c2UgLnNldCgpIGluc3RlYWQuIil9dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUuc2V0PWZ1bmN0aW9uKHQsZSxuLGkscixhLG8scyxjLGwsdSxoLGQscCxmLG0pe3ZhciB2PXRoaXMuZWxlbWVudHM7cmV0dXJuIHZbMF09dCx2WzRdPWUsdls4XT1uLHZbMTJdPWksdlsxXT1yLHZbNV09YSx2WzldPW8sdlsxM109cyx2WzJdPWMsdls2XT1sLHZbMTBdPXUsdlsxNF09aCx2WzNdPWQsdls3XT1wLHZbMTFdPWYsdlsxNV09bSx0aGlzfSxlLmlkZW50aXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0KDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDEpLHRoaXN9LGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHQpLmZyb21BcnJheSh0aGlzLmVsZW1lbnRzKX0sZS5jb3B5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWxlbWVudHMsbj10LmVsZW1lbnRzO3JldHVybiBlWzBdPW5bMF0sZVsxXT1uWzFdLGVbMl09blsyXSxlWzNdPW5bM10sZVs0XT1uWzRdLGVbNV09bls1XSxlWzZdPW5bNl0sZVs3XT1uWzddLGVbOF09bls4XSxlWzldPW5bOV0sZVsxMF09blsxMF0sZVsxMV09blsxMV0sZVsxMl09blsxMl0sZVsxM109blsxM10sZVsxNF09blsxNF0sZVsxNV09blsxNV0sdGhpc30sZS5jb3B5UG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lbGVtZW50cyxuPXQuZWxlbWVudHM7cmV0dXJuIGVbMTJdPW5bMTJdLGVbMTNdPW5bMTNdLGVbMTRdPW5bMTRdLHRoaXN9LGUuc2V0RnJvbU1hdHJpeDM9ZnVuY3Rpb24odCl7dmFyIGU9dC5lbGVtZW50cztyZXR1cm4gdGhpcy5zZXQoZVswXSxlWzNdLGVbNl0sMCxlWzFdLGVbNF0sZVs3XSwwLGVbMl0sZVs1XSxlWzhdLDAsMCwwLDAsMSksdGhpc30sZS5leHRyYWN0QmFzaXM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LnNldEZyb21NYXRyaXhDb2x1bW4odGhpcywwKSxlLnNldEZyb21NYXRyaXhDb2x1bW4odGhpcywxKSxuLnNldEZyb21NYXRyaXhDb2x1bW4odGhpcywyKSx0aGlzfSxlLm1ha2VCYXNpcz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuc2V0KHQueCxlLngsbi54LDAsdC55LGUueSxuLnksMCx0LnosZS56LG4ueiwwLDAsMCwwLDEpLHRoaXN9LGUuZXh0cmFjdFJvdGF0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWxlbWVudHMsbj10LmVsZW1lbnRzLGk9MS9pZS5zZXRGcm9tTWF0cml4Q29sdW1uKHQsMCkubGVuZ3RoKCkscj0xL2llLnNldEZyb21NYXRyaXhDb2x1bW4odCwxKS5sZW5ndGgoKSxhPTEvaWUuc2V0RnJvbU1hdHJpeENvbHVtbih0LDIpLmxlbmd0aCgpO3JldHVybiBlWzBdPW5bMF0qaSxlWzFdPW5bMV0qaSxlWzJdPW5bMl0qaSxlWzNdPTAsZVs0XT1uWzRdKnIsZVs1XT1uWzVdKnIsZVs2XT1uWzZdKnIsZVs3XT0wLGVbOF09bls4XSphLGVbOV09bls5XSphLGVbMTBdPW5bMTBdKmEsZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLHRoaXN9LGUubWFrZVJvdGF0aW9uRnJvbUV1bGVyPWZ1bmN0aW9uKHQpe3QmJnQuaXNFdWxlcnx8Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4NDogLm1ha2VSb3RhdGlvbkZyb21FdWxlcigpIG5vdyBleHBlY3RzIGEgRXVsZXIgcm90YXRpb24gcmF0aGVyIHRoYW4gYSBWZWN0b3IzIGFuZCBvcmRlci4iKTt2YXIgZT10aGlzLmVsZW1lbnRzLG49dC54LGk9dC55LHI9dC56LGE9TWF0aC5jb3Mobiksbz1NYXRoLnNpbihuKSxzPU1hdGguY29zKGkpLGM9TWF0aC5zaW4oaSksbD1NYXRoLmNvcyhyKSx1PU1hdGguc2luKHIpO2lmKCJYWVoiPT09dC5vcmRlcil7dmFyIGg9YSpsLGQ9YSp1LHA9bypsLGY9byp1O2VbMF09cypsLGVbNF09LXMqdSxlWzhdPWMsZVsxXT1kK3AqYyxlWzVdPWgtZipjLGVbOV09LW8qcyxlWzJdPWYtaCpjLGVbNl09cCtkKmMsZVsxMF09YSpzfWVsc2UgaWYoIllYWiI9PT10Lm9yZGVyKXt2YXIgbT1zKmwsdj1zKnUsZz1jKmwseT1jKnU7ZVswXT1tK3kqbyxlWzRdPWcqby12LGVbOF09YSpjLGVbMV09YSp1LGVbNV09YSpsLGVbOV09LW8sZVsyXT12Km8tZyxlWzZdPXkrbSpvLGVbMTBdPWEqc31lbHNlIGlmKCJaWFkiPT09dC5vcmRlcil7dmFyIHg9cypsLF89cyp1LGI9YypsLHc9Yyp1O2VbMF09eC13Km8sZVs0XT0tYSp1LGVbOF09YitfKm8sZVsxXT1fK2IqbyxlWzVdPWEqbCxlWzldPXcteCpvLGVbMl09LWEqYyxlWzZdPW8sZVsxMF09YSpzfWVsc2UgaWYoIlpZWCI9PT10Lm9yZGVyKXt2YXIgTT1hKmwsUz1hKnUsVD1vKmwsRT1vKnU7ZVswXT1zKmwsZVs0XT1UKmMtUyxlWzhdPU0qYytFLGVbMV09cyp1LGVbNV09RSpjK00sZVs5XT1TKmMtVCxlWzJdPS1jLGVbNl09bypzLGVbMTBdPWEqc31lbHNlIGlmKCJZWlgiPT09dC5vcmRlcil7dmFyIEE9YSpzLEw9YSpjLFI9bypzLEM9bypjO2VbMF09cypsLGVbNF09Qy1BKnUsZVs4XT1SKnUrTCxlWzFdPXUsZVs1XT1hKmwsZVs5XT0tbypsLGVbMl09LWMqbCxlWzZdPUwqdStSLGVbMTBdPUEtQyp1fWVsc2UgaWYoIlhaWSI9PT10Lm9yZGVyKXt2YXIgUD1hKnMsRD1hKmMsST1vKnMsTz1vKmM7ZVswXT1zKmwsZVs0XT0tdSxlWzhdPWMqbCxlWzFdPVAqdStPLGVbNV09YSpsLGVbOV09RCp1LUksZVsyXT1JKnUtRCxlWzZdPW8qbCxlWzEwXT1PKnUrUH1yZXR1cm4gZVszXT0wLGVbN109MCxlWzExXT0wLGVbMTJdPTAsZVsxM109MCxlWzE0XT0wLGVbMTVdPTEsdGhpc30sZS5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb21wb3NlKGFlLHQsb2UpfSxlLmxvb2tBdD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5lbGVtZW50cztyZXR1cm4gbGUuc3ViVmVjdG9ycyh0LGUpLDA9PT1sZS5sZW5ndGhTcSgpJiYobGUuej0xKSxsZS5ub3JtYWxpemUoKSxzZS5jcm9zc1ZlY3RvcnMobixsZSksMD09PXNlLmxlbmd0aFNxKCkmJigxPT09TWF0aC5hYnMobi56KT9sZS54Kz0xZS00OmxlLnorPTFlLTQsbGUubm9ybWFsaXplKCksc2UuY3Jvc3NWZWN0b3JzKG4sbGUpKSxzZS5ub3JtYWxpemUoKSxjZS5jcm9zc1ZlY3RvcnMobGUsc2UpLGlbMF09c2UueCxpWzRdPWNlLngsaVs4XT1sZS54LGlbMV09c2UueSxpWzVdPWNlLnksaVs5XT1sZS55LGlbMl09c2UueixpWzZdPWNlLnosaVsxMF09bGUueix0aGlzfSxlLm11bHRpcGx5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMCE9PWU/KGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLm11bHRpcGx5KCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAubXVsdGlwbHlNYXRyaWNlcyggYSwgYiApIGluc3RlYWQuIiksdGhpcy5tdWx0aXBseU1hdHJpY2VzKHQsZSkpOnRoaXMubXVsdGlwbHlNYXRyaWNlcyh0aGlzLHQpfSxlLnByZW11bHRpcGx5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXModCx0aGlzKX0sZS5tdWx0aXBseU1hdHJpY2VzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5lbGVtZW50cyxpPWUuZWxlbWVudHMscj10aGlzLmVsZW1lbnRzLGE9blswXSxvPW5bNF0scz1uWzhdLGM9blsxMl0sbD1uWzFdLHU9bls1XSxoPW5bOV0sZD1uWzEzXSxwPW5bMl0sZj1uWzZdLG09blsxMF0sdj1uWzE0XSxnPW5bM10seT1uWzddLHg9blsxMV0sXz1uWzE1XSxiPWlbMF0sdz1pWzRdLE09aVs4XSxTPWlbMTJdLFQ9aVsxXSxFPWlbNV0sQT1pWzldLEw9aVsxM10sUj1pWzJdLEM9aVs2XSxQPWlbMTBdLEQ9aVsxNF0sST1pWzNdLE89aVs3XSxOPWlbMTFdLEI9aVsxNV07cmV0dXJuIHJbMF09YSpiK28qVCtzKlIrYypJLHJbNF09YSp3K28qRStzKkMrYypPLHJbOF09YSpNK28qQStzKlArYypOLHJbMTJdPWEqUytvKkwrcypEK2MqQixyWzFdPWwqYit1KlQraCpSK2QqSSxyWzVdPWwqdyt1KkUraCpDK2QqTyxyWzldPWwqTSt1KkEraCpQK2QqTixyWzEzXT1sKlMrdSpMK2gqRCtkKkIsclsyXT1wKmIrZipUK20qUit2Kkkscls2XT1wKncrZipFK20qQyt2Kk8sclsxMF09cCpNK2YqQSttKlArdipOLHJbMTRdPXAqUytmKkwrbSpEK3YqQixyWzNdPWcqYit5KlQreCpSK18qSSxyWzddPWcqdyt5KkUreCpDK18qTyxyWzExXT1nKk0reSpBK3gqUCtfKk4sclsxNV09ZypTK3kqTCt4KkQrXypCLHRoaXN9LGUubXVsdGlwbHlTY2FsYXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lbGVtZW50cztyZXR1cm4gZVswXSo9dCxlWzRdKj10LGVbOF0qPXQsZVsxMl0qPXQsZVsxXSo9dCxlWzVdKj10LGVbOV0qPXQsZVsxM10qPXQsZVsyXSo9dCxlWzZdKj10LGVbMTBdKj10LGVbMTRdKj10LGVbM10qPXQsZVs3XSo9dCxlWzExXSo9dCxlWzE1XSo9dCx0aGlzfSxlLmRldGVybWluYW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50cyxlPXRbMF0sbj10WzRdLGk9dFs4XSxyPXRbMTJdLGE9dFsxXSxvPXRbNV0scz10WzldLGM9dFsxM10sbD10WzJdLHU9dFs2XSxoPXRbMTBdLGQ9dFsxNF07cmV0dXJuIHRbM10qKCtyKnMqdS1pKmMqdS1yKm8qaCtuKmMqaCtpKm8qZC1uKnMqZCkrdFs3XSooK2UqcypkLWUqYypoK3IqYSpoLWkqYSpkK2kqYypsLXIqcypsKSt0WzExXSooK2UqYyp1LWUqbypkLXIqYSp1K24qYSpkK3IqbypsLW4qYypsKSt0WzE1XSooLWkqbypsLWUqcyp1K2UqbypoK2kqYSp1LW4qYSpoK24qcypsKX0sZS50cmFuc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuZWxlbWVudHM7cmV0dXJuIHQ9ZVsxXSxlWzFdPWVbNF0sZVs0XT10LHQ9ZVsyXSxlWzJdPWVbOF0sZVs4XT10LHQ9ZVs2XSxlWzZdPWVbOV0sZVs5XT10LHQ9ZVszXSxlWzNdPWVbMTJdLGVbMTJdPXQsdD1lWzddLGVbN109ZVsxM10sZVsxM109dCx0PWVbMTFdLGVbMTFdPWVbMTRdLGVbMTRdPXQsdGhpc30sZS5zZXRQb3NpdGlvbj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5lbGVtZW50cztyZXR1cm4gdC5pc1ZlY3RvcjM/KGlbMTJdPXQueCxpWzEzXT10LnksaVsxNF09dC56KTooaVsxMl09dCxpWzEzXT1lLGlbMTRdPW4pLHRoaXN9LGUuaW52ZXJ0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50cyxlPXRbMF0sbj10WzFdLGk9dFsyXSxyPXRbM10sYT10WzRdLG89dFs1XSxzPXRbNl0sYz10WzddLGw9dFs4XSx1PXRbOV0saD10WzEwXSxkPXRbMTFdLHA9dFsxMl0sZj10WzEzXSxtPXRbMTRdLHY9dFsxNV0sZz11Km0qYy1mKmgqYytmKnMqZC1vKm0qZC11KnMqditvKmgqdix5PXAqaCpjLWwqbSpjLXAqcypkK2EqbSpkK2wqcyp2LWEqaCp2LHg9bCpmKmMtcCp1KmMrcCpvKmQtYSpmKmQtbCpvKnYrYSp1KnYsXz1wKnUqcy1sKmYqcy1wKm8qaCthKmYqaCtsKm8qbS1hKnUqbSxiPWUqZytuKnkraSp4K3IqXztpZigwPT09YilyZXR1cm4gdGhpcy5zZXQoMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCk7dmFyIHc9MS9iO3JldHVybiB0WzBdPWcqdyx0WzFdPShmKmgqci11Km0qci1mKmkqZCtuKm0qZCt1Kmkqdi1uKmgqdikqdyx0WzJdPShvKm0qci1mKnMqcitmKmkqYy1uKm0qYy1vKmkqdituKnMqdikqdyx0WzNdPSh1KnMqci1vKmgqci11KmkqYytuKmgqYytvKmkqZC1uKnMqZCkqdyx0WzRdPXkqdyx0WzVdPShsKm0qci1wKmgqcitwKmkqZC1lKm0qZC1sKmkqditlKmgqdikqdyx0WzZdPShwKnMqci1hKm0qci1wKmkqYytlKm0qYythKmkqdi1lKnMqdikqdyx0WzddPShhKmgqci1sKnMqcitsKmkqYy1lKmgqYy1hKmkqZCtlKnMqZCkqdyx0WzhdPXgqdyx0WzldPShwKnUqci1sKmYqci1wKm4qZCtlKmYqZCtsKm4qdi1lKnUqdikqdyx0WzEwXT0oYSpmKnItcCpvKnIrcCpuKmMtZSpmKmMtYSpuKnYrZSpvKnYpKncsdFsxMV09KGwqbypyLWEqdSpyLWwqbipjK2UqdSpjK2EqbipkLWUqbypkKSp3LHRbMTJdPV8qdyx0WzEzXT0obCpmKmktcCp1KmkrcCpuKmgtZSpmKmgtbCpuKm0rZSp1Km0pKncsdFsxNF09KHAqbyppLWEqZippLXAqbipzK2UqZipzK2EqbiptLWUqbyptKSp3LHRbMTVdPShhKnUqaS1sKm8qaStsKm4qcy1lKnUqcy1hKm4qaCtlKm8qaCkqdyx0aGlzfSxlLnNjYWxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWxlbWVudHMsbj10LngsaT10Lnkscj10Lno7cmV0dXJuIGVbMF0qPW4sZVs0XSo9aSxlWzhdKj1yLGVbMV0qPW4sZVs1XSo9aSxlWzldKj1yLGVbMl0qPW4sZVs2XSo9aSxlWzEwXSo9cixlWzNdKj1uLGVbN10qPWksZVsxMV0qPXIsdGhpc30sZS5nZXRNYXhTY2FsZU9uQXhpcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudHMsZT10WzBdKnRbMF0rdFsxXSp0WzFdK3RbMl0qdFsyXSxuPXRbNF0qdFs0XSt0WzVdKnRbNV0rdFs2XSp0WzZdLGk9dFs4XSp0WzhdK3RbOV0qdFs5XSt0WzEwXSp0WzEwXTtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgubWF4KGUsbixpKSl9LGUubWFrZVRyYW5zbGF0aW9uPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5zZXQoMSwwLDAsdCwwLDEsMCxlLDAsMCwxLG4sMCwwLDAsMSksdGhpc30sZS5tYWtlUm90YXRpb25YPWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguY29zKHQpLG49TWF0aC5zaW4odCk7cmV0dXJuIHRoaXMuc2V0KDEsMCwwLDAsMCxlLC1uLDAsMCxuLGUsMCwwLDAsMCwxKSx0aGlzfSxlLm1ha2VSb3RhdGlvblk9ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5jb3ModCksbj1NYXRoLnNpbih0KTtyZXR1cm4gdGhpcy5zZXQoZSwwLG4sMCwwLDEsMCwwLC1uLDAsZSwwLDAsMCwwLDEpLHRoaXN9LGUubWFrZVJvdGF0aW9uWj1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLmNvcyh0KSxuPU1hdGguc2luKHQpO3JldHVybiB0aGlzLnNldChlLC1uLDAsMCxuLGUsMCwwLDAsMCwxLDAsMCwwLDAsMSksdGhpc30sZS5tYWtlUm90YXRpb25BeGlzPWZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jb3MoZSksaT1NYXRoLnNpbihlKSxyPTEtbixhPXQueCxvPXQueSxzPXQueixjPXIqYSxsPXIqbztyZXR1cm4gdGhpcy5zZXQoYyphK24sYypvLWkqcyxjKnMraSpvLDAsYypvK2kqcyxsKm8rbixsKnMtaSphLDAsYypzLWkqbyxsKnMraSphLHIqcypzK24sMCwwLDAsMCwxKSx0aGlzfSxlLm1ha2VTY2FsZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuc2V0KHQsMCwwLDAsMCxlLDAsMCwwLDAsbiwwLDAsMCwwLDEpLHRoaXN9LGUubWFrZVNoZWFyPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5zZXQoMSxlLG4sMCx0LDEsbiwwLHQsZSwxLDAsMCwwLDAsMSksdGhpc30sZS5jb21wb3NlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmVsZW1lbnRzLHI9ZS5feCxhPWUuX3ksbz1lLl96LHM9ZS5fdyxjPXIrcixsPWErYSx1PW8rbyxoPXIqYyxkPXIqbCxwPXIqdSxmPWEqbCxtPWEqdSx2PW8qdSxnPXMqYyx5PXMqbCx4PXMqdSxfPW4ueCxiPW4ueSx3PW4uejtyZXR1cm4gaVswXT0oMS0oZit2KSkqXyxpWzFdPShkK3gpKl8saVsyXT0ocC15KSpfLGlbM109MCxpWzRdPShkLXgpKmIsaVs1XT0oMS0oaCt2KSkqYixpWzZdPShtK2cpKmIsaVs3XT0wLGlbOF09KHAreSkqdyxpWzldPShtLWcpKncsaVsxMF09KDEtKGgrZikpKncsaVsxMV09MCxpWzEyXT10LngsaVsxM109dC55LGlbMTRdPXQueixpWzE1XT0xLHRoaXN9LGUuZGVjb21wb3NlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLmVsZW1lbnRzLHI9aWUuc2V0KGlbMF0saVsxXSxpWzJdKS5sZW5ndGgoKSxhPWllLnNldChpWzRdLGlbNV0saVs2XSkubGVuZ3RoKCksbz1pZS5zZXQoaVs4XSxpWzldLGlbMTBdKS5sZW5ndGgoKTt0aGlzLmRldGVybWluYW50KCk8MCYmKHI9LXIpLHQueD1pWzEyXSx0Lnk9aVsxM10sdC56PWlbMTRdLHJlLmNvcHkodGhpcyk7dmFyIHM9MS9yLGM9MS9hLGw9MS9vO3JldHVybiByZS5lbGVtZW50c1swXSo9cyxyZS5lbGVtZW50c1sxXSo9cyxyZS5lbGVtZW50c1syXSo9cyxyZS5lbGVtZW50c1s0XSo9YyxyZS5lbGVtZW50c1s1XSo9YyxyZS5lbGVtZW50c1s2XSo9YyxyZS5lbGVtZW50c1s4XSo9bCxyZS5lbGVtZW50c1s5XSo9bCxyZS5lbGVtZW50c1sxMF0qPWwsZS5zZXRGcm9tUm90YXRpb25NYXRyaXgocmUpLG4ueD1yLG4ueT1hLG4uej1vLHRoaXN9LGUubWFrZVBlcnNwZWN0aXZlPWZ1bmN0aW9uKHQsZSxuLGkscixhKXt2b2lkIDA9PT1hJiZjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5tYWtlUGVyc3BlY3RpdmUoKSBoYXMgYmVlbiByZWRlZmluZWQgYW5kIGhhcyBhIG5ldyBzaWduYXR1cmUuIFBsZWFzZSBjaGVjayB0aGUgZG9jcy4iKTt2YXIgbz10aGlzLmVsZW1lbnRzLHM9MipyLyhlLXQpLGM9MipyLyhuLWkpLGw9KGUrdCkvKGUtdCksdT0obitpKS8obi1pKSxoPS0oYStyKS8oYS1yKSxkPS0yKmEqci8oYS1yKTtyZXR1cm4gb1swXT1zLG9bNF09MCxvWzhdPWwsb1sxMl09MCxvWzFdPTAsb1s1XT1jLG9bOV09dSxvWzEzXT0wLG9bMl09MCxvWzZdPTAsb1sxMF09aCxvWzE0XT1kLG9bM109MCxvWzddPTAsb1sxMV09LTEsb1sxNV09MCx0aGlzfSxlLm1ha2VPcnRob2dyYXBoaWM9ZnVuY3Rpb24odCxlLG4saSxyLGEpe3ZhciBvPXRoaXMuZWxlbWVudHMscz0xLyhlLXQpLGM9MS8obi1pKSxsPTEvKGEtciksdT0oZSt0KSpzLGg9KG4raSkqYyxkPShhK3IpKmw7cmV0dXJuIG9bMF09MipzLG9bNF09MCxvWzhdPTAsb1sxMl09LXUsb1sxXT0wLG9bNV09MipjLG9bOV09MCxvWzEzXT0taCxvWzJdPTAsb1s2XT0wLG9bMTBdPS0yKmwsb1sxNF09LWQsb1szXT0wLG9bN109MCxvWzExXT0wLG9bMTVdPTEsdGhpc30sZS5lcXVhbHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZWxlbWVudHMsbj10LmVsZW1lbnRzLGk9MDtpPDE2O2krKylpZihlW2ldIT09bltpXSlyZXR1cm4hMTtyZXR1cm4hMH0sZS5mcm9tQXJyYXk9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0wKTtmb3IodmFyIG49MDtuPDE2O24rKyl0aGlzLmVsZW1lbnRzW25dPXRbbitlXTtyZXR1cm4gdGhpc30sZS50b0FycmF5PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09dCYmKHQ9W10pLHZvaWQgMD09PWUmJihlPTApO3ZhciBuPXRoaXMuZWxlbWVudHM7cmV0dXJuIHRbZV09blswXSx0W2UrMV09blsxXSx0W2UrMl09blsyXSx0W2UrM109blszXSx0W2UrNF09bls0XSx0W2UrNV09bls1XSx0W2UrNl09bls2XSx0W2UrN109bls3XSx0W2UrOF09bls4XSx0W2UrOV09bls5XSx0W2UrMTBdPW5bMTBdLHRbZSsxMV09blsxMV0sdFtlKzEyXT1uWzEyXSx0W2UrMTNdPW5bMTNdLHRbZSsxNF09blsxNF0sdFtlKzE1XT1uWzE1XSx0fSx0fSgpLGllPW5ldyBMdCxyZT1uZXcgbmUsYWU9bmV3IEx0KDAsMCwwKSxvZT1uZXcgTHQoMSwxLDEpLHNlPW5ldyBMdCxjZT1uZXcgTHQsbGU9bmV3IEx0LHVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4saSxyKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1uJiYobj0wKSx2b2lkIDA9PT1pJiYoaT0wKSx2b2lkIDA9PT1yJiYocj10LkRlZmF1bHRPcmRlciksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlzRXVsZXIiLHt2YWx1ZTohMH0pLHRoaXMuX3g9ZSx0aGlzLl95PW4sdGhpcy5fej1pLHRoaXMuX29yZGVyPXJ9dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUuc2V0PWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0aGlzLl94PXQsdGhpcy5feT1lLHRoaXMuX3o9bix0aGlzLl9vcmRlcj1pfHx0aGlzLl9vcmRlcix0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCksdGhpc30sZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl9vcmRlcil9LGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5feD10Ll94LHRoaXMuX3k9dC5feSx0aGlzLl96PXQuX3osdGhpcy5fb3JkZXI9dC5fb3JkZXIsdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9LGUuc2V0RnJvbVJvdGF0aW9uTWF0cml4PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1ndC5jbGFtcCxyPXQuZWxlbWVudHMsYT1yWzBdLG89cls0XSxzPXJbOF0sYz1yWzFdLGw9cls1XSx1PXJbOV0saD1yWzJdLGQ9cls2XSxwPXJbMTBdO3N3aXRjaChlPWV8fHRoaXMuX29yZGVyKXtjYXNlIlhZWiI6dGhpcy5feT1NYXRoLmFzaW4oaShzLC0xLDEpKSxNYXRoLmFicyhzKTwuOTk5OTk5OT8odGhpcy5feD1NYXRoLmF0YW4yKC11LHApLHRoaXMuX3o9TWF0aC5hdGFuMigtbyxhKSk6KHRoaXMuX3g9TWF0aC5hdGFuMihkLGwpLHRoaXMuX3o9MCk7YnJlYWs7Y2FzZSJZWFoiOnRoaXMuX3g9TWF0aC5hc2luKC1pKHUsLTEsMSkpLE1hdGguYWJzKHUpPC45OTk5OTk5Pyh0aGlzLl95PU1hdGguYXRhbjIocyxwKSx0aGlzLl96PU1hdGguYXRhbjIoYyxsKSk6KHRoaXMuX3k9TWF0aC5hdGFuMigtaCxhKSx0aGlzLl96PTApO2JyZWFrO2Nhc2UiWlhZIjp0aGlzLl94PU1hdGguYXNpbihpKGQsLTEsMSkpLE1hdGguYWJzKGQpPC45OTk5OTk5Pyh0aGlzLl95PU1hdGguYXRhbjIoLWgscCksdGhpcy5fej1NYXRoLmF0YW4yKC1vLGwpKToodGhpcy5feT0wLHRoaXMuX3o9TWF0aC5hdGFuMihjLGEpKTticmVhaztjYXNlIlpZWCI6dGhpcy5feT1NYXRoLmFzaW4oLWkoaCwtMSwxKSksTWF0aC5hYnMoaCk8Ljk5OTk5OTk/KHRoaXMuX3g9TWF0aC5hdGFuMihkLHApLHRoaXMuX3o9TWF0aC5hdGFuMihjLGEpKToodGhpcy5feD0wLHRoaXMuX3o9TWF0aC5hdGFuMigtbyxsKSk7YnJlYWs7Y2FzZSJZWlgiOnRoaXMuX3o9TWF0aC5hc2luKGkoYywtMSwxKSksTWF0aC5hYnMoYyk8Ljk5OTk5OTk/KHRoaXMuX3g9TWF0aC5hdGFuMigtdSxsKSx0aGlzLl95PU1hdGguYXRhbjIoLWgsYSkpOih0aGlzLl94PTAsdGhpcy5feT1NYXRoLmF0YW4yKHMscCkpO2JyZWFrO2Nhc2UiWFpZIjp0aGlzLl96PU1hdGguYXNpbigtaShvLC0xLDEpKSxNYXRoLmFicyhvKTwuOTk5OTk5OT8odGhpcy5feD1NYXRoLmF0YW4yKGQsbCksdGhpcy5feT1NYXRoLmF0YW4yKHMsYSkpOih0aGlzLl94PU1hdGguYXRhbjIoLXUscCksdGhpcy5feT0wKTticmVhaztkZWZhdWx0OmNvbnNvbGUud2FybigiVEhSRUUuRXVsZXI6IC5zZXRGcm9tUm90YXRpb25NYXRyaXgoKSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIG9yZGVyOiAiK2UpfXJldHVybiB0aGlzLl9vcmRlcj1lLCExIT09biYmdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9LGUuc2V0RnJvbVF1YXRlcm5pb249ZnVuY3Rpb24odCxlLG4pe3JldHVybiBoZS5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbih0KSx0aGlzLnNldEZyb21Sb3RhdGlvbk1hdHJpeChoZSxlLG4pfSxlLnNldEZyb21WZWN0b3IzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2V0KHQueCx0LnksdC56LGV8fHRoaXMuX29yZGVyKX0sZS5yZW9yZGVyPWZ1bmN0aW9uKHQpe3JldHVybiBkZS5zZXRGcm9tRXVsZXIodGhpcyksdGhpcy5zZXRGcm9tUXVhdGVybmlvbihkZSx0KX0sZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQuX3g9PT10aGlzLl94JiZ0Ll95PT09dGhpcy5feSYmdC5fej09PXRoaXMuX3omJnQuX29yZGVyPT09dGhpcy5fb3JkZXJ9LGUuZnJvbUFycmF5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl94PXRbMF0sdGhpcy5feT10WzFdLHRoaXMuX3o9dFsyXSx2b2lkIDAhPT10WzNdJiYodGhpcy5fb3JkZXI9dFszXSksdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpLHRoaXN9LGUudG9BcnJheT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD1bXSksdm9pZCAwPT09ZSYmKGU9MCksdFtlXT10aGlzLl94LHRbZSsxXT10aGlzLl95LHRbZSsyXT10aGlzLl96LHRbZSszXT10aGlzLl9vcmRlcix0fSxlLnRvVmVjdG9yMz1mdW5jdGlvbih0KXtyZXR1cm4gdD90LnNldCh0aGlzLl94LHRoaXMuX3ksdGhpcy5feik6bmV3IEx0KHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KX0sZS5fb25DaGFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2s9dCx0aGlzfSxlLl9vbkNoYW5nZUNhbGxiYWNrPWZ1bmN0aW9uKCl7fSxzdCh0LFt7a2V5OiJ4IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3g9dCx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9fSx7a2V5OiJ5IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3k9dCx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9fSx7a2V5OiJ6IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fen0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3o9dCx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9fSx7a2V5OiJvcmRlciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29yZGVyfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb3JkZXI9dCx0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCl9fV0pLHR9KCk7dWUuRGVmYXVsdE9yZGVyPSJYWVoiLHVlLlJvdGF0aW9uT3JkZXJzPVsiWFlaIiwiWVpYIiwiWlhZIiwiWFpZIiwiWVhaIiwiWllYIl07dmFyIGhlPW5ldyBuZSxkZT1uZXcgQXQscGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5tYXNrPTF9dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUuc2V0PWZ1bmN0aW9uKHQpe3RoaXMubWFzaz0xPDx0fDB9LGUuZW5hYmxlPWZ1bmN0aW9uKHQpe3RoaXMubWFza3w9MTw8dHwwfSxlLmVuYWJsZUFsbD1mdW5jdGlvbigpe3RoaXMubWFzaz0tMX0sZS50b2dnbGU9ZnVuY3Rpb24odCl7dGhpcy5tYXNrXj0xPDx0fDB9LGUuZGlzYWJsZT1mdW5jdGlvbih0KXt0aGlzLm1hc2smPX4oMTw8dHwwKX0sZS5kaXNhYmxlQWxsPWZ1bmN0aW9uKCl7dGhpcy5tYXNrPTB9LGUudGVzdD1mdW5jdGlvbih0KXtyZXR1cm4gMCE9KHRoaXMubWFzayZ0Lm1hc2spfSx0fSgpLGZlPTAsbWU9bmV3IEx0LHZlPW5ldyBBdCxnZT1uZXcgbmUseWU9bmV3IEx0LHhlPW5ldyBMdCxfZT1uZXcgTHQsYmU9bmV3IEF0LHdlPW5ldyBMdCgxLDAsMCksTWU9bmV3IEx0KDAsMSwwKSxTZT1uZXcgTHQoMCwwLDEpLFRlPXt0eXBlOiJhZGRlZCJ9LEVlPXt0eXBlOiJyZW1vdmVkIn07ZnVuY3Rpb24gQWUoKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiaWQiLHt2YWx1ZTpmZSsrfSksdGhpcy51dWlkPWd0LmdlbmVyYXRlVVVJRCgpLHRoaXMubmFtZT0iIix0aGlzLnR5cGU9Ik9iamVjdDNEIix0aGlzLnBhcmVudD1udWxsLHRoaXMuY2hpbGRyZW49W10sdGhpcy51cD1BZS5EZWZhdWx0VXAuY2xvbmUoKTt2YXIgdD1uZXcgTHQsZT1uZXcgdWUsbj1uZXcgQXQsaT1uZXcgTHQoMSwxLDEpO2UuX29uQ2hhbmdlKChmdW5jdGlvbigpe24uc2V0RnJvbUV1bGVyKGUsITEpfSkpLG4uX29uQ2hhbmdlKChmdW5jdGlvbigpe2Uuc2V0RnJvbVF1YXRlcm5pb24obix2b2lkIDAsITEpfSkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse3Bvc2l0aW9uOntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTp0fSxyb3RhdGlvbjp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6ZX0scXVhdGVybmlvbjp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6bn0sc2NhbGU6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOml9LG1vZGVsVmlld01hdHJpeDp7dmFsdWU6bmV3IG5lfSxub3JtYWxNYXRyaXg6e3ZhbHVlOm5ldyB4dH19KSx0aGlzLm1hdHJpeD1uZXcgbmUsdGhpcy5tYXRyaXhXb3JsZD1uZXcgbmUsdGhpcy5tYXRyaXhBdXRvVXBkYXRlPUFlLkRlZmF1bHRNYXRyaXhBdXRvVXBkYXRlLHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMSx0aGlzLmxheWVycz1uZXcgcGUsdGhpcy52aXNpYmxlPSEwLHRoaXMuY2FzdFNoYWRvdz0hMSx0aGlzLnJlY2VpdmVTaGFkb3c9ITEsdGhpcy5mcnVzdHVtQ3VsbGVkPSEwLHRoaXMucmVuZGVyT3JkZXI9MCx0aGlzLmFuaW1hdGlvbnM9W10sdGhpcy51c2VyRGF0YT17fX1BZS5EZWZhdWx0VXA9bmV3IEx0KDAsMSwwKSxBZS5EZWZhdWx0TWF0cml4QXV0b1VwZGF0ZT0hMCxBZS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGR0LnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkFlLGlzT2JqZWN0M0Q6ITAsb25CZWZvcmVSZW5kZXI6ZnVuY3Rpb24oKXt9LG9uQWZ0ZXJSZW5kZXI6ZnVuY3Rpb24oKXt9LGFwcGx5TWF0cml4NDpmdW5jdGlvbih0KXt0aGlzLm1hdHJpeEF1dG9VcGRhdGUmJnRoaXMudXBkYXRlTWF0cml4KCksdGhpcy5tYXRyaXgucHJlbXVsdGlwbHkodCksdGhpcy5tYXRyaXguZGVjb21wb3NlKHRoaXMucG9zaXRpb24sdGhpcy5xdWF0ZXJuaW9uLHRoaXMuc2NhbGUpfSxhcHBseVF1YXRlcm5pb246ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucXVhdGVybmlvbi5wcmVtdWx0aXBseSh0KSx0aGlzfSxzZXRSb3RhdGlvbkZyb21BeGlzQW5nbGU6ZnVuY3Rpb24odCxlKXt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbUF4aXNBbmdsZSh0LGUpfSxzZXRSb3RhdGlvbkZyb21FdWxlcjpmdW5jdGlvbih0KXt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKHQsITApfSxzZXRSb3RhdGlvbkZyb21NYXRyaXg6ZnVuY3Rpb24odCl7dGhpcy5xdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeCh0KX0sc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbjpmdW5jdGlvbih0KXt0aGlzLnF1YXRlcm5pb24uY29weSh0KX0scm90YXRlT25BeGlzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZlLnNldEZyb21BeGlzQW5nbGUodCxlKSx0aGlzLnF1YXRlcm5pb24ubXVsdGlwbHkodmUpLHRoaXN9LHJvdGF0ZU9uV29ybGRBeGlzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZlLnNldEZyb21BeGlzQW5nbGUodCxlKSx0aGlzLnF1YXRlcm5pb24ucHJlbXVsdGlwbHkodmUpLHRoaXN9LHJvdGF0ZVg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKHdlLHQpfSxyb3RhdGVZOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJvdGF0ZU9uQXhpcyhNZSx0KX0scm90YXRlWjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yb3RhdGVPbkF4aXMoU2UsdCl9LHRyYW5zbGF0ZU9uQXhpczpmdW5jdGlvbih0LGUpe3JldHVybiBtZS5jb3B5KHQpLmFwcGx5UXVhdGVybmlvbih0aGlzLnF1YXRlcm5pb24pLHRoaXMucG9zaXRpb24uYWRkKG1lLm11bHRpcGx5U2NhbGFyKGUpKSx0aGlzfSx0cmFuc2xhdGVYOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRyYW5zbGF0ZU9uQXhpcyh3ZSx0KX0sdHJhbnNsYXRlWTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50cmFuc2xhdGVPbkF4aXMoTWUsdCl9LHRyYW5zbGF0ZVo6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKFNlLHQpfSxsb2NhbFRvV29ybGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuYXBwbHlNYXRyaXg0KHRoaXMubWF0cml4V29ybGQpfSx3b3JsZFRvTG9jYWw6ZnVuY3Rpb24odCl7cmV0dXJuIHQuYXBwbHlNYXRyaXg0KGdlLmNvcHkodGhpcy5tYXRyaXhXb3JsZCkuaW52ZXJ0KCkpfSxsb29rQXQ6ZnVuY3Rpb24odCxlLG4pe3QuaXNWZWN0b3IzP3llLmNvcHkodCk6eWUuc2V0KHQsZSxuKTt2YXIgaT10aGlzLnBhcmVudDt0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSx4ZS5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tYXRyaXhXb3JsZCksdGhpcy5pc0NhbWVyYXx8dGhpcy5pc0xpZ2h0P2dlLmxvb2tBdCh4ZSx5ZSx0aGlzLnVwKTpnZS5sb29rQXQoeWUseGUsdGhpcy51cCksdGhpcy5xdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChnZSksaSYmKGdlLmV4dHJhY3RSb3RhdGlvbihpLm1hdHJpeFdvcmxkKSx2ZS5zZXRGcm9tUm90YXRpb25NYXRyaXgoZ2UpLHRoaXMucXVhdGVybmlvbi5wcmVtdWx0aXBseSh2ZS5pbnZlcnQoKSkpfSxhZGQ6ZnVuY3Rpb24odCl7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXtmb3IodmFyIGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRoaXMuYWRkKGFyZ3VtZW50c1tlXSk7cmV0dXJuIHRoaXN9cmV0dXJuIHQ9PT10aGlzPyhjb25zb2xlLmVycm9yKCJUSFJFRS5PYmplY3QzRC5hZGQ6IG9iamVjdCBjYW4ndCBiZSBhZGRlZCBhcyBhIGNoaWxkIG9mIGl0c2VsZi4iLHQpLHRoaXMpOih0JiZ0LmlzT2JqZWN0M0Q/KG51bGwhPT10LnBhcmVudCYmdC5wYXJlbnQucmVtb3ZlKHQpLHQucGFyZW50PXRoaXMsdGhpcy5jaGlsZHJlbi5wdXNoKHQpLHQuZGlzcGF0Y2hFdmVudChUZSkpOmNvbnNvbGUuZXJyb3IoIlRIUkVFLk9iamVjdDNELmFkZDogb2JqZWN0IG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5PYmplY3QzRC4iLHQpLHRoaXMpfSxyZW1vdmU6ZnVuY3Rpb24odCl7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXtmb3IodmFyIGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRoaXMucmVtb3ZlKGFyZ3VtZW50c1tlXSk7cmV0dXJuIHRoaXN9dmFyIG49dGhpcy5jaGlsZHJlbi5pbmRleE9mKHQpO3JldHVybi0xIT09biYmKHQucGFyZW50PW51bGwsdGhpcy5jaGlsZHJlbi5zcGxpY2UobiwxKSx0LmRpc3BhdGNoRXZlbnQoRWUpKSx0aGlzfSxjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7dCsrKXt2YXIgZT10aGlzLmNoaWxkcmVuW3RdO2UucGFyZW50PW51bGwsZS5kaXNwYXRjaEV2ZW50KEVlKX1yZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGg9MCx0aGlzfSxhdHRhY2g6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpLGdlLmNvcHkodGhpcy5tYXRyaXhXb3JsZCkuaW52ZXJ0KCksbnVsbCE9PXQucGFyZW50JiYodC5wYXJlbnQudXBkYXRlV29ybGRNYXRyaXgoITAsITEpLGdlLm11bHRpcGx5KHQucGFyZW50Lm1hdHJpeFdvcmxkKSksdC5hcHBseU1hdHJpeDQoZ2UpLHQudXBkYXRlV29ybGRNYXRyaXgoITEsITEpLHRoaXMuYWRkKHQpLHRoaXN9LGdldE9iamVjdEJ5SWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0QnlQcm9wZXJ0eSgiaWQiLHQpfSxnZXRPYmplY3RCeU5hbWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0QnlQcm9wZXJ0eSgibmFtZSIsdCl9LGdldE9iamVjdEJ5UHJvcGVydHk6ZnVuY3Rpb24odCxlKXtpZih0aGlzW3RdPT09ZSlyZXR1cm4gdGhpcztmb3IodmFyIG49MCxpPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO248aTtuKyspe3ZhciByPXRoaXMuY2hpbGRyZW5bbl0uZ2V0T2JqZWN0QnlQcm9wZXJ0eSh0LGUpO2lmKHZvaWQgMCE9PXIpcmV0dXJuIHJ9fSxnZXRXb3JsZFBvc2l0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLmdldFdvcmxkUG9zaXRpb24oKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkIiksdD1uZXcgTHQpLHRoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpLHQuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubWF0cml4V29ybGQpfSxnZXRXb3JsZFF1YXRlcm5pb246ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAuZ2V0V29ybGRRdWF0ZXJuaW9uKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLHQ9bmV3IEF0KSx0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSx0aGlzLm1hdHJpeFdvcmxkLmRlY29tcG9zZSh4ZSx0LF9lKSx0fSxnZXRXb3JsZFNjYWxlOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLmdldFdvcmxkU2NhbGUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkIiksdD1uZXcgTHQpLHRoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpLHRoaXMubWF0cml4V29ybGQuZGVjb21wb3NlKHhlLGJlLHQpLHR9LGdldFdvcmxkRGlyZWN0aW9uOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAuZ2V0V29ybGREaXJlY3Rpb24oKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkIiksdD1uZXcgTHQpLHRoaXMudXBkYXRlV29ybGRNYXRyaXgoITAsITEpO3ZhciBlPXRoaXMubWF0cml4V29ybGQuZWxlbWVudHM7cmV0dXJuIHQuc2V0KGVbOF0sZVs5XSxlWzEwXSkubm9ybWFsaXplKCl9LHJheWNhc3Q6ZnVuY3Rpb24oKXt9LHRyYXZlcnNlOmZ1bmN0aW9uKHQpe3QodGhpcyk7Zm9yKHZhciBlPXRoaXMuY2hpbGRyZW4sbj0wLGk9ZS5sZW5ndGg7bjxpO24rKyllW25dLnRyYXZlcnNlKHQpfSx0cmF2ZXJzZVZpc2libGU6ZnVuY3Rpb24odCl7aWYoITEhPT10aGlzLnZpc2libGUpe3QodGhpcyk7Zm9yKHZhciBlPXRoaXMuY2hpbGRyZW4sbj0wLGk9ZS5sZW5ndGg7bjxpO24rKyllW25dLnRyYXZlcnNlVmlzaWJsZSh0KX19LHRyYXZlcnNlQW5jZXN0b3JzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucGFyZW50O251bGwhPT1lJiYodChlKSxlLnRyYXZlcnNlQW5jZXN0b3JzKHQpKX0sdXBkYXRlTWF0cml4OmZ1bmN0aW9uKCl7dGhpcy5tYXRyaXguY29tcG9zZSh0aGlzLnBvc2l0aW9uLHRoaXMucXVhdGVybmlvbix0aGlzLnNjYWxlKSx0aGlzLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ITB9LHVwZGF0ZU1hdHJpeFdvcmxkOmZ1bmN0aW9uKHQpe3RoaXMubWF0cml4QXV0b1VwZGF0ZSYmdGhpcy51cGRhdGVNYXRyaXgoKSwodGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlfHx0KSYmKG51bGw9PT10aGlzLnBhcmVudD90aGlzLm1hdHJpeFdvcmxkLmNvcHkodGhpcy5tYXRyaXgpOnRoaXMubWF0cml4V29ybGQubXVsdGlwbHlNYXRyaWNlcyh0aGlzLnBhcmVudC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeCksdGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSExLHQ9ITApO2Zvcih2YXIgZT10aGlzLmNoaWxkcmVuLG49MCxpPWUubGVuZ3RoO248aTtuKyspZVtuXS51cGRhdGVNYXRyaXhXb3JsZCh0KX0sdXBkYXRlV29ybGRNYXRyaXg6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnBhcmVudDtpZighMD09PXQmJm51bGwhPT1uJiZuLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKSx0aGlzLm1hdHJpeEF1dG9VcGRhdGUmJnRoaXMudXBkYXRlTWF0cml4KCksbnVsbD09PXRoaXMucGFyZW50P3RoaXMubWF0cml4V29ybGQuY29weSh0aGlzLm1hdHJpeCk6dGhpcy5tYXRyaXhXb3JsZC5tdWx0aXBseU1hdHJpY2VzKHRoaXMucGFyZW50Lm1hdHJpeFdvcmxkLHRoaXMubWF0cml4KSwhMD09PWUpZm9yKHZhciBpPXRoaXMuY2hpbGRyZW4scj0wLGE9aS5sZW5ndGg7cjxhO3IrKylpW3JdLnVwZGF0ZVdvcmxkTWF0cml4KCExLCEwKX0sdG9KU09OOmZ1bmN0aW9uKHQpe3ZhciBlPXZvaWQgMD09PXR8fCJzdHJpbmciPT10eXBlb2YgdCxuPXt9O2UmJih0PXtnZW9tZXRyaWVzOnt9LG1hdGVyaWFsczp7fSx0ZXh0dXJlczp7fSxpbWFnZXM6e30sc2hhcGVzOnt9LHNrZWxldG9uczp7fSxhbmltYXRpb25zOnt9fSxuLm1ldGFkYXRhPXt2ZXJzaW9uOjQuNSx0eXBlOiJPYmplY3QiLGdlbmVyYXRvcjoiT2JqZWN0M0QudG9KU09OIn0pO3ZhciBpPXt9O2Z1bmN0aW9uIHIoZSxuKXtyZXR1cm4gdm9pZCAwPT09ZVtuLnV1aWRdJiYoZVtuLnV1aWRdPW4udG9KU09OKHQpKSxuLnV1aWR9aWYoaS51dWlkPXRoaXMudXVpZCxpLnR5cGU9dGhpcy50eXBlLCIiIT09dGhpcy5uYW1lJiYoaS5uYW1lPXRoaXMubmFtZSksITA9PT10aGlzLmNhc3RTaGFkb3cmJihpLmNhc3RTaGFkb3c9ITApLCEwPT09dGhpcy5yZWNlaXZlU2hhZG93JiYoaS5yZWNlaXZlU2hhZG93PSEwKSwhMT09PXRoaXMudmlzaWJsZSYmKGkudmlzaWJsZT0hMSksITE9PT10aGlzLmZydXN0dW1DdWxsZWQmJihpLmZydXN0dW1DdWxsZWQ9ITEpLDAhPT10aGlzLnJlbmRlck9yZGVyJiYoaS5yZW5kZXJPcmRlcj10aGlzLnJlbmRlck9yZGVyKSwie30iIT09SlNPTi5zdHJpbmdpZnkodGhpcy51c2VyRGF0YSkmJihpLnVzZXJEYXRhPXRoaXMudXNlckRhdGEpLGkubGF5ZXJzPXRoaXMubGF5ZXJzLm1hc2ssaS5tYXRyaXg9dGhpcy5tYXRyaXgudG9BcnJheSgpLCExPT09dGhpcy5tYXRyaXhBdXRvVXBkYXRlJiYoaS5tYXRyaXhBdXRvVXBkYXRlPSExKSx0aGlzLmlzSW5zdGFuY2VkTWVzaCYmKGkudHlwZT0iSW5zdGFuY2VkTWVzaCIsaS5jb3VudD10aGlzLmNvdW50LGkuaW5zdGFuY2VNYXRyaXg9dGhpcy5pbnN0YW5jZU1hdHJpeC50b0pTT04oKSksdGhpcy5pc01lc2h8fHRoaXMuaXNMaW5lfHx0aGlzLmlzUG9pbnRzKXtpLmdlb21ldHJ5PXIodC5nZW9tZXRyaWVzLHRoaXMuZ2VvbWV0cnkpO3ZhciBhPXRoaXMuZ2VvbWV0cnkucGFyYW1ldGVycztpZih2b2lkIDAhPT1hJiZ2b2lkIDAhPT1hLnNoYXBlcyl7dmFyIG89YS5zaGFwZXM7aWYoQXJyYXkuaXNBcnJheShvKSlmb3IodmFyIHM9MCxjPW8ubGVuZ3RoO3M8YztzKyspe3ZhciBsPW9bc107cih0LnNoYXBlcyxsKX1lbHNlIHIodC5zaGFwZXMsbyl9fWlmKHRoaXMuaXNTa2lubmVkTWVzaCYmKGkuYmluZE1vZGU9dGhpcy5iaW5kTW9kZSxpLmJpbmRNYXRyaXg9dGhpcy5iaW5kTWF0cml4LnRvQXJyYXkoKSx2b2lkIDAhPT10aGlzLnNrZWxldG9uJiYocih0LnNrZWxldG9ucyx0aGlzLnNrZWxldG9uKSxpLnNrZWxldG9uPXRoaXMuc2tlbGV0b24udXVpZCkpLHZvaWQgMCE9PXRoaXMubWF0ZXJpYWwpaWYoQXJyYXkuaXNBcnJheSh0aGlzLm1hdGVyaWFsKSl7Zm9yKHZhciB1PVtdLGg9MCxkPXRoaXMubWF0ZXJpYWwubGVuZ3RoO2g8ZDtoKyspdS5wdXNoKHIodC5tYXRlcmlhbHMsdGhpcy5tYXRlcmlhbFtoXSkpO2kubWF0ZXJpYWw9dX1lbHNlIGkubWF0ZXJpYWw9cih0Lm1hdGVyaWFscyx0aGlzLm1hdGVyaWFsKTtpZih0aGlzLmNoaWxkcmVuLmxlbmd0aD4wKXtpLmNoaWxkcmVuPVtdO2Zvcih2YXIgcD0wO3A8dGhpcy5jaGlsZHJlbi5sZW5ndGg7cCsrKWkuY2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkcmVuW3BdLnRvSlNPTih0KS5vYmplY3QpfWlmKHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg+MCl7aS5hbmltYXRpb25zPVtdO2Zvcih2YXIgZj0wO2Y8dGhpcy5hbmltYXRpb25zLmxlbmd0aDtmKyspe3ZhciBtPXRoaXMuYW5pbWF0aW9uc1tmXTtpLmFuaW1hdGlvbnMucHVzaChyKHQuYW5pbWF0aW9ucyxtKSl9fWlmKGUpe3ZhciB2PU0odC5nZW9tZXRyaWVzKSxnPU0odC5tYXRlcmlhbHMpLHk9TSh0LnRleHR1cmVzKSx4PU0odC5pbWFnZXMpLF89TSh0LnNoYXBlcyksYj1NKHQuc2tlbGV0b25zKSx3PU0odC5hbmltYXRpb25zKTt2Lmxlbmd0aD4wJiYobi5nZW9tZXRyaWVzPXYpLGcubGVuZ3RoPjAmJihuLm1hdGVyaWFscz1nKSx5Lmxlbmd0aD4wJiYobi50ZXh0dXJlcz15KSx4Lmxlbmd0aD4wJiYobi5pbWFnZXM9eCksXy5sZW5ndGg+MCYmKG4uc2hhcGVzPV8pLGIubGVuZ3RoPjAmJihuLnNrZWxldG9ucz1iKSx3Lmxlbmd0aD4wJiYobi5hbmltYXRpb25zPXcpfXJldHVybiBuLm9iamVjdD1pLG47ZnVuY3Rpb24gTSh0KXt2YXIgZT1bXTtmb3IodmFyIG4gaW4gdCl7dmFyIGk9dFtuXTtkZWxldGUgaS5tZXRhZGF0YSxlLnB1c2goaSl9cmV0dXJuIGV9fSxjbG9uZTpmdW5jdGlvbih0KXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyx0KX0sY29weTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPSEwKSx0aGlzLm5hbWU9dC5uYW1lLHRoaXMudXAuY29weSh0LnVwKSx0aGlzLnBvc2l0aW9uLmNvcHkodC5wb3NpdGlvbiksdGhpcy5yb3RhdGlvbi5vcmRlcj10LnJvdGF0aW9uLm9yZGVyLHRoaXMucXVhdGVybmlvbi5jb3B5KHQucXVhdGVybmlvbiksdGhpcy5zY2FsZS5jb3B5KHQuc2NhbGUpLHRoaXMubWF0cml4LmNvcHkodC5tYXRyaXgpLHRoaXMubWF0cml4V29ybGQuY29weSh0Lm1hdHJpeFdvcmxkKSx0aGlzLm1hdHJpeEF1dG9VcGRhdGU9dC5tYXRyaXhBdXRvVXBkYXRlLHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT10Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGUsdGhpcy5sYXllcnMubWFzaz10LmxheWVycy5tYXNrLHRoaXMudmlzaWJsZT10LnZpc2libGUsdGhpcy5jYXN0U2hhZG93PXQuY2FzdFNoYWRvdyx0aGlzLnJlY2VpdmVTaGFkb3c9dC5yZWNlaXZlU2hhZG93LHRoaXMuZnJ1c3R1bUN1bGxlZD10LmZydXN0dW1DdWxsZWQsdGhpcy5yZW5kZXJPcmRlcj10LnJlbmRlck9yZGVyLHRoaXMudXNlckRhdGE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0LnVzZXJEYXRhKSksITA9PT1lKWZvcih2YXIgbj0wO248dC5jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgaT10LmNoaWxkcmVuW25dO3RoaXMuYWRkKGkuY2xvbmUoKSl9cmV0dXJuIHRoaXN9fSk7dmFyIExlPW5ldyBMdCxSZT1uZXcgTHQsQ2U9bmV3IHh0LFBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpc1BsYW5lIix7dmFsdWU6ITB9KSx0aGlzLm5vcm1hbD12b2lkIDAhPT10P3Q6bmV3IEx0KDEsMCwwKSx0aGlzLmNvbnN0YW50PXZvaWQgMCE9PWU/ZTowfXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnNldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm5vcm1hbC5jb3B5KHQpLHRoaXMuY29uc3RhbnQ9ZSx0aGlzfSxlLnNldENvbXBvbmVudHM9ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIHRoaXMubm9ybWFsLnNldCh0LGUsbiksdGhpcy5jb25zdGFudD1pLHRoaXN9LGUuc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5ub3JtYWwuY29weSh0KSx0aGlzLmNvbnN0YW50PS1lLmRvdCh0aGlzLm5vcm1hbCksdGhpc30sZS5zZXRGcm9tQ29wbGFuYXJQb2ludHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPUxlLnN1YlZlY3RvcnMobixlKS5jcm9zcyhSZS5zdWJWZWN0b3JzKHQsZSkpLm5vcm1hbGl6ZSgpO3JldHVybiB0aGlzLnNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KGksdCksdGhpc30sZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5vcm1hbC5jb3B5KHQubm9ybWFsKSx0aGlzLmNvbnN0YW50PXQuY29uc3RhbnQsdGhpc30sZS5ub3JtYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD0xL3RoaXMubm9ybWFsLmxlbmd0aCgpO3JldHVybiB0aGlzLm5vcm1hbC5tdWx0aXBseVNjYWxhcih0KSx0aGlzLmNvbnN0YW50Kj10LHRoaXN9LGUubmVnYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RhbnQqPS0xLHRoaXMubm9ybWFsLm5lZ2F0ZSgpLHRoaXN9LGUuZGlzdGFuY2VUb1BvaW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5vcm1hbC5kb3QodCkrdGhpcy5jb25zdGFudH0sZS5kaXN0YW5jZVRvU3BoZXJlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpc3RhbmNlVG9Qb2ludCh0LmNlbnRlciktdC5yYWRpdXN9LGUucHJvamVjdFBvaW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihjb25zb2xlLndhcm4oIlRIUkVFLlBsYW5lOiAucHJvamVjdFBvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLGU9bmV3IEx0KSxlLmNvcHkodGhpcy5ub3JtYWwpLm11bHRpcGx5U2NhbGFyKC10aGlzLmRpc3RhbmNlVG9Qb2ludCh0KSkuYWRkKHQpfSxlLmludGVyc2VjdExpbmU9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKCJUSFJFRS5QbGFuZTogLmludGVyc2VjdExpbmUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkIiksZT1uZXcgTHQpO3ZhciBuPXQuZGVsdGEoTGUpLGk9dGhpcy5ub3JtYWwuZG90KG4pO2lmKDA9PT1pKXJldHVybiAwPT09dGhpcy5kaXN0YW5jZVRvUG9pbnQodC5zdGFydCk/ZS5jb3B5KHQuc3RhcnQpOnZvaWQgMDt2YXIgcj0tKHQuc3RhcnQuZG90KHRoaXMubm9ybWFsKSt0aGlzLmNvbnN0YW50KS9pO3JldHVybiByPDB8fHI+MT92b2lkIDA6ZS5jb3B5KG4pLm11bHRpcGx5U2NhbGFyKHIpLmFkZCh0LnN0YXJ0KX0sZS5pbnRlcnNlY3RzTGluZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmRpc3RhbmNlVG9Qb2ludCh0LnN0YXJ0KSxuPXRoaXMuZGlzdGFuY2VUb1BvaW50KHQuZW5kKTtyZXR1cm4gZTwwJiZuPjB8fG48MCYmZT4wfSxlLmludGVyc2VjdHNCb3g9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaW50ZXJzZWN0c1BsYW5lKHRoaXMpfSxlLmludGVyc2VjdHNTcGhlcmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaW50ZXJzZWN0c1BsYW5lKHRoaXMpfSxlLmNvcGxhbmFyUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oIlRIUkVFLlBsYW5lOiAuY29wbGFuYXJQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSx0PW5ldyBMdCksdC5jb3B5KHRoaXMubm9ybWFsKS5tdWx0aXBseVNjYWxhcigtdGhpcy5jb25zdGFudCl9LGUuYXBwbHlNYXRyaXg0PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZXx8Q2UuZ2V0Tm9ybWFsTWF0cml4KHQpLGk9dGhpcy5jb3BsYW5hclBvaW50KExlKS5hcHBseU1hdHJpeDQodCkscj10aGlzLm5vcm1hbC5hcHBseU1hdHJpeDMobikubm9ybWFsaXplKCk7cmV0dXJuIHRoaXMuY29uc3RhbnQ9LWkuZG90KHIpLHRoaXN9LGUudHJhbnNsYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnN0YW50LT10LmRvdCh0aGlzLm5vcm1hbCksdGhpc30sZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQubm9ybWFsLmVxdWFscyh0aGlzLm5vcm1hbCkmJnQuY29uc3RhbnQ9PT10aGlzLmNvbnN0YW50fSx0fSgpLERlPW5ldyBMdCxJZT1uZXcgTHQsT2U9bmV3IEx0LE5lPW5ldyBMdCxCZT1uZXcgTHQsemU9bmV3IEx0LEZlPW5ldyBMdCxIZT1uZXcgTHQsR2U9bmV3IEx0LFVlPW5ldyBMdCxrZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3RoaXMuYT12b2lkIDAhPT10P3Q6bmV3IEx0LHRoaXMuYj12b2lkIDAhPT1lP2U6bmV3IEx0LHRoaXMuYz12b2lkIDAhPT1uP246bmV3IEx0fXQuZ2V0Tm9ybWFsPWZ1bmN0aW9uKHQsZSxuLGkpe3ZvaWQgMD09PWkmJihjb25zb2xlLndhcm4oIlRIUkVFLlRyaWFuZ2xlOiAuZ2V0Tm9ybWFsKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLGk9bmV3IEx0KSxpLnN1YlZlY3RvcnMobixlKSxEZS5zdWJWZWN0b3JzKHQsZSksaS5jcm9zcyhEZSk7dmFyIHI9aS5sZW5ndGhTcSgpO3JldHVybiByPjA/aS5tdWx0aXBseVNjYWxhcigxL01hdGguc3FydChyKSk6aS5zZXQoMCwwLDApfSx0LmdldEJhcnljb29yZD1mdW5jdGlvbih0LGUsbixpLHIpe0RlLnN1YlZlY3RvcnMoaSxlKSxJZS5zdWJWZWN0b3JzKG4sZSksT2Uuc3ViVmVjdG9ycyh0LGUpO3ZhciBhPURlLmRvdChEZSksbz1EZS5kb3QoSWUpLHM9RGUuZG90KE9lKSxjPUllLmRvdChJZSksbD1JZS5kb3QoT2UpLHU9YSpjLW8qbztpZih2b2lkIDA9PT1yJiYoY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLmdldEJhcnljb29yZCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSxyPW5ldyBMdCksMD09PXUpcmV0dXJuIHIuc2V0KC0yLC0xLC0xKTt2YXIgaD0xL3UsZD0oYypzLW8qbCkqaCxwPShhKmwtbypzKSpoO3JldHVybiByLnNldCgxLWQtcCxwLGQpfSx0LmNvbnRhaW5zUG9pbnQ9ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIHRoaXMuZ2V0QmFyeWNvb3JkKHQsZSxuLGksTmUpLE5lLng+PTAmJk5lLnk+PTAmJk5lLngrTmUueTw9MX0sdC5nZXRVVj1mdW5jdGlvbih0LGUsbixpLHIsYSxvLHMpe3JldHVybiB0aGlzLmdldEJhcnljb29yZCh0LGUsbixpLE5lKSxzLnNldCgwLDApLHMuYWRkU2NhbGVkVmVjdG9yKHIsTmUueCkscy5hZGRTY2FsZWRWZWN0b3IoYSxOZS55KSxzLmFkZFNjYWxlZFZlY3RvcihvLE5lLnopLHN9LHQuaXNGcm9udEZhY2luZz1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gRGUuc3ViVmVjdG9ycyhuLGUpLEllLnN1YlZlY3RvcnModCxlKSxEZS5jcm9zcyhJZSkuZG90KGkpPDB9O3ZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnNldD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuYS5jb3B5KHQpLHRoaXMuYi5jb3B5KGUpLHRoaXMuYy5jb3B5KG4pLHRoaXN9LGUuc2V0RnJvbVBvaW50c0FuZEluZGljZXM9ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIHRoaXMuYS5jb3B5KHRbZV0pLHRoaXMuYi5jb3B5KHRbbl0pLHRoaXMuYy5jb3B5KHRbaV0pLHRoaXN9LGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hLmNvcHkodC5hKSx0aGlzLmIuY29weSh0LmIpLHRoaXMuYy5jb3B5KHQuYyksdGhpc30sZS5nZXRBcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIERlLnN1YlZlY3RvcnModGhpcy5jLHRoaXMuYiksSWUuc3ViVmVjdG9ycyh0aGlzLmEsdGhpcy5iKSwuNSpEZS5jcm9zcyhJZSkubGVuZ3RoKCl9LGUuZ2V0TWlkcG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oIlRIUkVFLlRyaWFuZ2xlOiAuZ2V0TWlkcG9pbnQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkIiksdD1uZXcgTHQpLHQuYWRkVmVjdG9ycyh0aGlzLmEsdGhpcy5iKS5hZGQodGhpcy5jKS5tdWx0aXBseVNjYWxhcigxLzMpfSxlLmdldE5vcm1hbD1mdW5jdGlvbihlKXtyZXR1cm4gdC5nZXROb3JtYWwodGhpcy5hLHRoaXMuYix0aGlzLmMsZSl9LGUuZ2V0UGxhbmU9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oIlRIUkVFLlRyaWFuZ2xlOiAuZ2V0UGxhbmUoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkIiksdD1uZXcgUGUpLHQuc2V0RnJvbUNvcGxhbmFyUG9pbnRzKHRoaXMuYSx0aGlzLmIsdGhpcy5jKX0sZS5nZXRCYXJ5Y29vcmQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5nZXRCYXJ5Y29vcmQoZSx0aGlzLmEsdGhpcy5iLHRoaXMuYyxuKX0sZS5nZXRVVj1mdW5jdGlvbihlLG4saSxyLGEpe3JldHVybiB0LmdldFVWKGUsdGhpcy5hLHRoaXMuYix0aGlzLmMsbixpLHIsYSl9LGUuY29udGFpbnNQb2ludD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jb250YWluc1BvaW50KGUsdGhpcy5hLHRoaXMuYix0aGlzLmMpfSxlLmlzRnJvbnRGYWNpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaXNGcm9udEZhY2luZyh0aGlzLmEsdGhpcy5iLHRoaXMuYyxlKX0sZS5pbnRlcnNlY3RzQm94PWZ1bmN0aW9uKHQpe3JldHVybiB0LmludGVyc2VjdHNUcmlhbmdsZSh0aGlzKX0sZS5jbG9zZXN0UG9pbnRUb1BvaW50PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGNvbnNvbGUud2FybigiVEhSRUUuVHJpYW5nbGU6IC5jbG9zZXN0UG9pbnRUb1BvaW50KCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLGU9bmV3IEx0KTt2YXIgbixpLHI9dGhpcy5hLGE9dGhpcy5iLG89dGhpcy5jO0JlLnN1YlZlY3RvcnMoYSxyKSx6ZS5zdWJWZWN0b3JzKG8sciksSGUuc3ViVmVjdG9ycyh0LHIpO3ZhciBzPUJlLmRvdChIZSksYz16ZS5kb3QoSGUpO2lmKHM8PTAmJmM8PTApcmV0dXJuIGUuY29weShyKTtHZS5zdWJWZWN0b3JzKHQsYSk7dmFyIGw9QmUuZG90KEdlKSx1PXplLmRvdChHZSk7aWYobD49MCYmdTw9bClyZXR1cm4gZS5jb3B5KGEpO3ZhciBoPXMqdS1sKmM7aWYoaDw9MCYmcz49MCYmbDw9MClyZXR1cm4gbj1zLyhzLWwpLGUuY29weShyKS5hZGRTY2FsZWRWZWN0b3IoQmUsbik7VWUuc3ViVmVjdG9ycyh0LG8pO3ZhciBkPUJlLmRvdChVZSkscD16ZS5kb3QoVWUpO2lmKHA+PTAmJmQ8PXApcmV0dXJuIGUuY29weShvKTt2YXIgZj1kKmMtcypwO2lmKGY8PTAmJmM+PTAmJnA8PTApcmV0dXJuIGk9Yy8oYy1wKSxlLmNvcHkocikuYWRkU2NhbGVkVmVjdG9yKHplLGkpO3ZhciBtPWwqcC1kKnU7aWYobTw9MCYmdS1sPj0wJiZkLXA+PTApcmV0dXJuIEZlLnN1YlZlY3RvcnMobyxhKSxpPSh1LWwpLyh1LWwrKGQtcCkpLGUuY29weShhKS5hZGRTY2FsZWRWZWN0b3IoRmUsaSk7dmFyIHY9MS8obStmK2gpO3JldHVybiBuPWYqdixpPWgqdixlLmNvcHkocikuYWRkU2NhbGVkVmVjdG9yKEJlLG4pLmFkZFNjYWxlZFZlY3Rvcih6ZSxpKX0sZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQuYS5lcXVhbHModGhpcy5hKSYmdC5iLmVxdWFscyh0aGlzLmIpJiZ0LmMuZXF1YWxzKHRoaXMuYyl9LHR9KCksVmU9MDtmdW5jdGlvbiBXZSgpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpZCIse3ZhbHVlOlZlKyt9KSx0aGlzLnV1aWQ9Z3QuZ2VuZXJhdGVVVUlEKCksdGhpcy5uYW1lPSIiLHRoaXMudHlwZT0iTWF0ZXJpYWwiLHRoaXMuZm9nPSEwLHRoaXMuYmxlbmRpbmc9MSx0aGlzLnNpZGU9MCx0aGlzLnZlcnRleENvbG9ycz0hMSx0aGlzLm9wYWNpdHk9MSx0aGlzLnRyYW5zcGFyZW50PSExLHRoaXMuYmxlbmRTcmM9MjA0LHRoaXMuYmxlbmREc3Q9MjA1LHRoaXMuYmxlbmRFcXVhdGlvbj1pLHRoaXMuYmxlbmRTcmNBbHBoYT1udWxsLHRoaXMuYmxlbmREc3RBbHBoYT1udWxsLHRoaXMuYmxlbmRFcXVhdGlvbkFscGhhPW51bGwsdGhpcy5kZXB0aEZ1bmM9Myx0aGlzLmRlcHRoVGVzdD0hMCx0aGlzLmRlcHRoV3JpdGU9ITAsdGhpcy5zdGVuY2lsV3JpdGVNYXNrPTI1NSx0aGlzLnN0ZW5jaWxGdW5jPTUxOSx0aGlzLnN0ZW5jaWxSZWY9MCx0aGlzLnN0ZW5jaWxGdW5jTWFzaz0yNTUsdGhpcy5zdGVuY2lsRmFpbD1ldCx0aGlzLnN0ZW5jaWxaRmFpbD1ldCx0aGlzLnN0ZW5jaWxaUGFzcz1ldCx0aGlzLnN0ZW5jaWxXcml0ZT0hMSx0aGlzLmNsaXBwaW5nUGxhbmVzPW51bGwsdGhpcy5jbGlwSW50ZXJzZWN0aW9uPSExLHRoaXMuY2xpcFNoYWRvd3M9ITEsdGhpcy5zaGFkb3dTaWRlPW51bGwsdGhpcy5jb2xvcldyaXRlPSEwLHRoaXMucHJlY2lzaW9uPW51bGwsdGhpcy5wb2x5Z29uT2Zmc2V0PSExLHRoaXMucG9seWdvbk9mZnNldEZhY3Rvcj0wLHRoaXMucG9seWdvbk9mZnNldFVuaXRzPTAsdGhpcy5kaXRoZXJpbmc9ITEsdGhpcy5hbHBoYVRlc3Q9MCx0aGlzLnByZW11bHRpcGxpZWRBbHBoYT0hMSx0aGlzLnZpc2libGU9ITAsdGhpcy50b25lTWFwcGVkPSEwLHRoaXMudXNlckRhdGE9e30sdGhpcy52ZXJzaW9uPTB9V2UucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShkdC5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpXZSxpc01hdGVyaWFsOiEwLG9uQmVmb3JlQ29tcGlsZTpmdW5jdGlvbigpe30sY3VzdG9tUHJvZ3JhbUNhY2hlS2V5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25CZWZvcmVDb21waWxlLnRvU3RyaW5nKCl9LHNldFZhbHVlczpmdW5jdGlvbih0KXtpZih2b2lkIDAhPT10KWZvcih2YXIgZSBpbiB0KXt2YXIgbj10W2VdO2lmKHZvaWQgMCE9PW4paWYoInNoYWRpbmciIT09ZSl7dmFyIGk9dGhpc1tlXTt2b2lkIDAhPT1pP2kmJmkuaXNDb2xvcj9pLnNldChuKTppJiZpLmlzVmVjdG9yMyYmbiYmbi5pc1ZlY3RvcjM/aS5jb3B5KG4pOnRoaXNbZV09bjpjb25zb2xlLndhcm4oIlRIUkVFLiIrdGhpcy50eXBlKyI6ICciK2UrIicgaXMgbm90IGEgcHJvcGVydHkgb2YgdGhpcyBtYXRlcmlhbC4iKX1lbHNlIGNvbnNvbGUud2FybigiVEhSRUUuIit0aGlzLnR5cGUrIjogLnNoYWRpbmcgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHRoZSBib29sZWFuIC5mbGF0U2hhZGluZyBpbnN0ZWFkLiIpLHRoaXMuZmxhdFNoYWRpbmc9MT09PW47ZWxzZSBjb25zb2xlLndhcm4oIlRIUkVFLk1hdGVyaWFsOiAnIitlKyInIHBhcmFtZXRlciBpcyB1bmRlZmluZWQuIil9fSx0b0pTT046ZnVuY3Rpb24odCl7dmFyIGU9dm9pZCAwPT09dHx8InN0cmluZyI9PXR5cGVvZiB0O2UmJih0PXt0ZXh0dXJlczp7fSxpbWFnZXM6e319KTt2YXIgbj17bWV0YWRhdGE6e3ZlcnNpb246NC41LHR5cGU6Ik1hdGVyaWFsIixnZW5lcmF0b3I6Ik1hdGVyaWFsLnRvSlNPTiJ9fTtmdW5jdGlvbiBpKHQpe3ZhciBlPVtdO2Zvcih2YXIgbiBpbiB0KXt2YXIgaT10W25dO2RlbGV0ZSBpLm1ldGFkYXRhLGUucHVzaChpKX1yZXR1cm4gZX1pZihuLnV1aWQ9dGhpcy51dWlkLG4udHlwZT10aGlzLnR5cGUsIiIhPT10aGlzLm5hbWUmJihuLm5hbWU9dGhpcy5uYW1lKSx0aGlzLmNvbG9yJiZ0aGlzLmNvbG9yLmlzQ29sb3ImJihuLmNvbG9yPXRoaXMuY29sb3IuZ2V0SGV4KCkpLHZvaWQgMCE9PXRoaXMucm91Z2huZXNzJiYobi5yb3VnaG5lc3M9dGhpcy5yb3VnaG5lc3MpLHZvaWQgMCE9PXRoaXMubWV0YWxuZXNzJiYobi5tZXRhbG5lc3M9dGhpcy5tZXRhbG5lc3MpLHRoaXMuc2hlZW4mJnRoaXMuc2hlZW4uaXNDb2xvciYmKG4uc2hlZW49dGhpcy5zaGVlbi5nZXRIZXgoKSksdGhpcy5lbWlzc2l2ZSYmdGhpcy5lbWlzc2l2ZS5pc0NvbG9yJiYobi5lbWlzc2l2ZT10aGlzLmVtaXNzaXZlLmdldEhleCgpKSx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5JiYxIT09dGhpcy5lbWlzc2l2ZUludGVuc2l0eSYmKG4uZW1pc3NpdmVJbnRlbnNpdHk9dGhpcy5lbWlzc2l2ZUludGVuc2l0eSksdGhpcy5zcGVjdWxhciYmdGhpcy5zcGVjdWxhci5pc0NvbG9yJiYobi5zcGVjdWxhcj10aGlzLnNwZWN1bGFyLmdldEhleCgpKSx2b2lkIDAhPT10aGlzLnNoaW5pbmVzcyYmKG4uc2hpbmluZXNzPXRoaXMuc2hpbmluZXNzKSx2b2lkIDAhPT10aGlzLmNsZWFyY29hdCYmKG4uY2xlYXJjb2F0PXRoaXMuY2xlYXJjb2F0KSx2b2lkIDAhPT10aGlzLmNsZWFyY29hdFJvdWdobmVzcyYmKG4uY2xlYXJjb2F0Um91Z2huZXNzPXRoaXMuY2xlYXJjb2F0Um91Z2huZXNzKSx0aGlzLmNsZWFyY29hdE1hcCYmdGhpcy5jbGVhcmNvYXRNYXAuaXNUZXh0dXJlJiYobi5jbGVhcmNvYXRNYXA9dGhpcy5jbGVhcmNvYXRNYXAudG9KU09OKHQpLnV1aWQpLHRoaXMuY2xlYXJjb2F0Um91Z2huZXNzTWFwJiZ0aGlzLmNsZWFyY29hdFJvdWdobmVzc01hcC5pc1RleHR1cmUmJihuLmNsZWFyY29hdFJvdWdobmVzc01hcD10aGlzLmNsZWFyY29hdFJvdWdobmVzc01hcC50b0pTT04odCkudXVpZCksdGhpcy5jbGVhcmNvYXROb3JtYWxNYXAmJnRoaXMuY2xlYXJjb2F0Tm9ybWFsTWFwLmlzVGV4dHVyZSYmKG4uY2xlYXJjb2F0Tm9ybWFsTWFwPXRoaXMuY2xlYXJjb2F0Tm9ybWFsTWFwLnRvSlNPTih0KS51dWlkLG4uY2xlYXJjb2F0Tm9ybWFsU2NhbGU9dGhpcy5jbGVhcmNvYXROb3JtYWxTY2FsZS50b0FycmF5KCkpLHRoaXMubWFwJiZ0aGlzLm1hcC5pc1RleHR1cmUmJihuLm1hcD10aGlzLm1hcC50b0pTT04odCkudXVpZCksdGhpcy5tYXRjYXAmJnRoaXMubWF0Y2FwLmlzVGV4dHVyZSYmKG4ubWF0Y2FwPXRoaXMubWF0Y2FwLnRvSlNPTih0KS51dWlkKSx0aGlzLmFscGhhTWFwJiZ0aGlzLmFscGhhTWFwLmlzVGV4dHVyZSYmKG4uYWxwaGFNYXA9dGhpcy5hbHBoYU1hcC50b0pTT04odCkudXVpZCksdGhpcy5saWdodE1hcCYmdGhpcy5saWdodE1hcC5pc1RleHR1cmUmJihuLmxpZ2h0TWFwPXRoaXMubGlnaHRNYXAudG9KU09OKHQpLnV1aWQsbi5saWdodE1hcEludGVuc2l0eT10aGlzLmxpZ2h0TWFwSW50ZW5zaXR5KSx0aGlzLmFvTWFwJiZ0aGlzLmFvTWFwLmlzVGV4dHVyZSYmKG4uYW9NYXA9dGhpcy5hb01hcC50b0pTT04odCkudXVpZCxuLmFvTWFwSW50ZW5zaXR5PXRoaXMuYW9NYXBJbnRlbnNpdHkpLHRoaXMuYnVtcE1hcCYmdGhpcy5idW1wTWFwLmlzVGV4dHVyZSYmKG4uYnVtcE1hcD10aGlzLmJ1bXBNYXAudG9KU09OKHQpLnV1aWQsbi5idW1wU2NhbGU9dGhpcy5idW1wU2NhbGUpLHRoaXMubm9ybWFsTWFwJiZ0aGlzLm5vcm1hbE1hcC5pc1RleHR1cmUmJihuLm5vcm1hbE1hcD10aGlzLm5vcm1hbE1hcC50b0pTT04odCkudXVpZCxuLm5vcm1hbE1hcFR5cGU9dGhpcy5ub3JtYWxNYXBUeXBlLG4ubm9ybWFsU2NhbGU9dGhpcy5ub3JtYWxTY2FsZS50b0FycmF5KCkpLHRoaXMuZGlzcGxhY2VtZW50TWFwJiZ0aGlzLmRpc3BsYWNlbWVudE1hcC5pc1RleHR1cmUmJihuLmRpc3BsYWNlbWVudE1hcD10aGlzLmRpc3BsYWNlbWVudE1hcC50b0pTT04odCkudXVpZCxuLmRpc3BsYWNlbWVudFNjYWxlPXRoaXMuZGlzcGxhY2VtZW50U2NhbGUsbi5kaXNwbGFjZW1lbnRCaWFzPXRoaXMuZGlzcGxhY2VtZW50QmlhcyksdGhpcy5yb3VnaG5lc3NNYXAmJnRoaXMucm91Z2huZXNzTWFwLmlzVGV4dHVyZSYmKG4ucm91Z2huZXNzTWFwPXRoaXMucm91Z2huZXNzTWFwLnRvSlNPTih0KS51dWlkKSx0aGlzLm1ldGFsbmVzc01hcCYmdGhpcy5tZXRhbG5lc3NNYXAuaXNUZXh0dXJlJiYobi5tZXRhbG5lc3NNYXA9dGhpcy5tZXRhbG5lc3NNYXAudG9KU09OKHQpLnV1aWQpLHRoaXMuZW1pc3NpdmVNYXAmJnRoaXMuZW1pc3NpdmVNYXAuaXNUZXh0dXJlJiYobi5lbWlzc2l2ZU1hcD10aGlzLmVtaXNzaXZlTWFwLnRvSlNPTih0KS51dWlkKSx0aGlzLnNwZWN1bGFyTWFwJiZ0aGlzLnNwZWN1bGFyTWFwLmlzVGV4dHVyZSYmKG4uc3BlY3VsYXJNYXA9dGhpcy5zcGVjdWxhck1hcC50b0pTT04odCkudXVpZCksdGhpcy5lbnZNYXAmJnRoaXMuZW52TWFwLmlzVGV4dHVyZSYmKG4uZW52TWFwPXRoaXMuZW52TWFwLnRvSlNPTih0KS51dWlkLG4ucmVmbGVjdGl2aXR5PXRoaXMucmVmbGVjdGl2aXR5LG4ucmVmcmFjdGlvblJhdGlvPXRoaXMucmVmcmFjdGlvblJhdGlvLHZvaWQgMCE9PXRoaXMuY29tYmluZSYmKG4uY29tYmluZT10aGlzLmNvbWJpbmUpLHZvaWQgMCE9PXRoaXMuZW52TWFwSW50ZW5zaXR5JiYobi5lbnZNYXBJbnRlbnNpdHk9dGhpcy5lbnZNYXBJbnRlbnNpdHkpKSx0aGlzLmdyYWRpZW50TWFwJiZ0aGlzLmdyYWRpZW50TWFwLmlzVGV4dHVyZSYmKG4uZ3JhZGllbnRNYXA9dGhpcy5ncmFkaWVudE1hcC50b0pTT04odCkudXVpZCksdm9pZCAwIT09dGhpcy5zaXplJiYobi5zaXplPXRoaXMuc2l6ZSksdm9pZCAwIT09dGhpcy5zaXplQXR0ZW51YXRpb24mJihuLnNpemVBdHRlbnVhdGlvbj10aGlzLnNpemVBdHRlbnVhdGlvbiksMSE9PXRoaXMuYmxlbmRpbmcmJihuLmJsZW5kaW5nPXRoaXMuYmxlbmRpbmcpLDAhPT10aGlzLnNpZGUmJihuLnNpZGU9dGhpcy5zaWRlKSx0aGlzLnZlcnRleENvbG9ycyYmKG4udmVydGV4Q29sb3JzPSEwKSx0aGlzLm9wYWNpdHk8MSYmKG4ub3BhY2l0eT10aGlzLm9wYWNpdHkpLCEwPT09dGhpcy50cmFuc3BhcmVudCYmKG4udHJhbnNwYXJlbnQ9dGhpcy50cmFuc3BhcmVudCksbi5kZXB0aEZ1bmM9dGhpcy5kZXB0aEZ1bmMsbi5kZXB0aFRlc3Q9dGhpcy5kZXB0aFRlc3Qsbi5kZXB0aFdyaXRlPXRoaXMuZGVwdGhXcml0ZSxuLnN0ZW5jaWxXcml0ZT10aGlzLnN0ZW5jaWxXcml0ZSxuLnN0ZW5jaWxXcml0ZU1hc2s9dGhpcy5zdGVuY2lsV3JpdGVNYXNrLG4uc3RlbmNpbEZ1bmM9dGhpcy5zdGVuY2lsRnVuYyxuLnN0ZW5jaWxSZWY9dGhpcy5zdGVuY2lsUmVmLG4uc3RlbmNpbEZ1bmNNYXNrPXRoaXMuc3RlbmNpbEZ1bmNNYXNrLG4uc3RlbmNpbEZhaWw9dGhpcy5zdGVuY2lsRmFpbCxuLnN0ZW5jaWxaRmFpbD10aGlzLnN0ZW5jaWxaRmFpbCxuLnN0ZW5jaWxaUGFzcz10aGlzLnN0ZW5jaWxaUGFzcyx0aGlzLnJvdGF0aW9uJiYwIT09dGhpcy5yb3RhdGlvbiYmKG4ucm90YXRpb249dGhpcy5yb3RhdGlvbiksITA9PT10aGlzLnBvbHlnb25PZmZzZXQmJihuLnBvbHlnb25PZmZzZXQ9ITApLDAhPT10aGlzLnBvbHlnb25PZmZzZXRGYWN0b3ImJihuLnBvbHlnb25PZmZzZXRGYWN0b3I9dGhpcy5wb2x5Z29uT2Zmc2V0RmFjdG9yKSwwIT09dGhpcy5wb2x5Z29uT2Zmc2V0VW5pdHMmJihuLnBvbHlnb25PZmZzZXRVbml0cz10aGlzLnBvbHlnb25PZmZzZXRVbml0cyksdGhpcy5saW5ld2lkdGgmJjEhPT10aGlzLmxpbmV3aWR0aCYmKG4ubGluZXdpZHRoPXRoaXMubGluZXdpZHRoKSx2b2lkIDAhPT10aGlzLmRhc2hTaXplJiYobi5kYXNoU2l6ZT10aGlzLmRhc2hTaXplKSx2b2lkIDAhPT10aGlzLmdhcFNpemUmJihuLmdhcFNpemU9dGhpcy5nYXBTaXplKSx2b2lkIDAhPT10aGlzLnNjYWxlJiYobi5zY2FsZT10aGlzLnNjYWxlKSwhMD09PXRoaXMuZGl0aGVyaW5nJiYobi5kaXRoZXJpbmc9ITApLHRoaXMuYWxwaGFUZXN0PjAmJihuLmFscGhhVGVzdD10aGlzLmFscGhhVGVzdCksITA9PT10aGlzLnByZW11bHRpcGxpZWRBbHBoYSYmKG4ucHJlbXVsdGlwbGllZEFscGhhPXRoaXMucHJlbXVsdGlwbGllZEFscGhhKSwhMD09PXRoaXMud2lyZWZyYW1lJiYobi53aXJlZnJhbWU9dGhpcy53aXJlZnJhbWUpLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPjEmJihuLndpcmVmcmFtZUxpbmV3aWR0aD10aGlzLndpcmVmcmFtZUxpbmV3aWR0aCksInJvdW5kIiE9PXRoaXMud2lyZWZyYW1lTGluZWNhcCYmKG4ud2lyZWZyYW1lTGluZWNhcD10aGlzLndpcmVmcmFtZUxpbmVjYXApLCJyb3VuZCIhPT10aGlzLndpcmVmcmFtZUxpbmVqb2luJiYobi53aXJlZnJhbWVMaW5lam9pbj10aGlzLndpcmVmcmFtZUxpbmVqb2luKSwhMD09PXRoaXMubW9ycGhUYXJnZXRzJiYobi5tb3JwaFRhcmdldHM9ITApLCEwPT09dGhpcy5tb3JwaE5vcm1hbHMmJihuLm1vcnBoTm9ybWFscz0hMCksITA9PT10aGlzLnNraW5uaW5nJiYobi5za2lubmluZz0hMCksITA9PT10aGlzLmZsYXRTaGFkaW5nJiYobi5mbGF0U2hhZGluZz10aGlzLmZsYXRTaGFkaW5nKSwhMT09PXRoaXMudmlzaWJsZSYmKG4udmlzaWJsZT0hMSksITE9PT10aGlzLnRvbmVNYXBwZWQmJihuLnRvbmVNYXBwZWQ9ITEpLCJ7fSIhPT1KU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJEYXRhKSYmKG4udXNlckRhdGE9dGhpcy51c2VyRGF0YSksZSl7dmFyIHI9aSh0LnRleHR1cmVzKSxhPWkodC5pbWFnZXMpO3IubGVuZ3RoPjAmJihuLnRleHR1cmVzPXIpLGEubGVuZ3RoPjAmJihuLmltYWdlcz1hKX1yZXR1cm4gbn0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LGNvcHk6ZnVuY3Rpb24odCl7dGhpcy5uYW1lPXQubmFtZSx0aGlzLmZvZz10LmZvZyx0aGlzLmJsZW5kaW5nPXQuYmxlbmRpbmcsdGhpcy5zaWRlPXQuc2lkZSx0aGlzLnZlcnRleENvbG9ycz10LnZlcnRleENvbG9ycyx0aGlzLm9wYWNpdHk9dC5vcGFjaXR5LHRoaXMudHJhbnNwYXJlbnQ9dC50cmFuc3BhcmVudCx0aGlzLmJsZW5kU3JjPXQuYmxlbmRTcmMsdGhpcy5ibGVuZERzdD10LmJsZW5kRHN0LHRoaXMuYmxlbmRFcXVhdGlvbj10LmJsZW5kRXF1YXRpb24sdGhpcy5ibGVuZFNyY0FscGhhPXQuYmxlbmRTcmNBbHBoYSx0aGlzLmJsZW5kRHN0QWxwaGE9dC5ibGVuZERzdEFscGhhLHRoaXMuYmxlbmRFcXVhdGlvbkFscGhhPXQuYmxlbmRFcXVhdGlvbkFscGhhLHRoaXMuZGVwdGhGdW5jPXQuZGVwdGhGdW5jLHRoaXMuZGVwdGhUZXN0PXQuZGVwdGhUZXN0LHRoaXMuZGVwdGhXcml0ZT10LmRlcHRoV3JpdGUsdGhpcy5zdGVuY2lsV3JpdGVNYXNrPXQuc3RlbmNpbFdyaXRlTWFzayx0aGlzLnN0ZW5jaWxGdW5jPXQuc3RlbmNpbEZ1bmMsdGhpcy5zdGVuY2lsUmVmPXQuc3RlbmNpbFJlZix0aGlzLnN0ZW5jaWxGdW5jTWFzaz10LnN0ZW5jaWxGdW5jTWFzayx0aGlzLnN0ZW5jaWxGYWlsPXQuc3RlbmNpbEZhaWwsdGhpcy5zdGVuY2lsWkZhaWw9dC5zdGVuY2lsWkZhaWwsdGhpcy5zdGVuY2lsWlBhc3M9dC5zdGVuY2lsWlBhc3MsdGhpcy5zdGVuY2lsV3JpdGU9dC5zdGVuY2lsV3JpdGU7dmFyIGU9dC5jbGlwcGluZ1BsYW5lcyxuPW51bGw7aWYobnVsbCE9PWUpe3ZhciBpPWUubGVuZ3RoO249bmV3IEFycmF5KGkpO2Zvcih2YXIgcj0wO3IhPT1pOysrciluW3JdPWVbcl0uY2xvbmUoKX1yZXR1cm4gdGhpcy5jbGlwcGluZ1BsYW5lcz1uLHRoaXMuY2xpcEludGVyc2VjdGlvbj10LmNsaXBJbnRlcnNlY3Rpb24sdGhpcy5jbGlwU2hhZG93cz10LmNsaXBTaGFkb3dzLHRoaXMuc2hhZG93U2lkZT10LnNoYWRvd1NpZGUsdGhpcy5jb2xvcldyaXRlPXQuY29sb3JXcml0ZSx0aGlzLnByZWNpc2lvbj10LnByZWNpc2lvbix0aGlzLnBvbHlnb25PZmZzZXQ9dC5wb2x5Z29uT2Zmc2V0LHRoaXMucG9seWdvbk9mZnNldEZhY3Rvcj10LnBvbHlnb25PZmZzZXRGYWN0b3IsdGhpcy5wb2x5Z29uT2Zmc2V0VW5pdHM9dC5wb2x5Z29uT2Zmc2V0VW5pdHMsdGhpcy5kaXRoZXJpbmc9dC5kaXRoZXJpbmcsdGhpcy5hbHBoYVRlc3Q9dC5hbHBoYVRlc3QsdGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE9dC5wcmVtdWx0aXBsaWVkQWxwaGEsdGhpcy52aXNpYmxlPXQudmlzaWJsZSx0aGlzLnRvbmVNYXBwZWQ9dC50b25lTWFwcGVkLHRoaXMudXNlckRhdGE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0LnVzZXJEYXRhKSksdGhpc30sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToiZGlzcG9zZSJ9KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoV2UucHJvdG90eXBlLCJuZWVkc1VwZGF0ZSIse3NldDpmdW5jdGlvbih0KXshMD09PXQmJnRoaXMudmVyc2lvbisrfX0pO3ZhciBqZT17YWxpY2VibHVlOjE1NzkyMzgzLGFudGlxdWV3aGl0ZToxNjQ0NDM3NSxhcXVhOjY1NTM1LGFxdWFtYXJpbmU6ODM4ODU2NCxhenVyZToxNTc5NDE3NSxiZWlnZToxNjExOTI2MCxiaXNxdWU6MTY3NzAyNDQsYmxhY2s6MCxibGFuY2hlZGFsbW9uZDoxNjc3MjA0NSxibHVlOjI1NSxibHVldmlvbGV0OjkwNTUyMDIsYnJvd246MTA4MjQyMzQsYnVybHl3b29kOjE0NTk2MjMxLGNhZGV0Ymx1ZTo2MjY2NTI4LGNoYXJ0cmV1c2U6ODM4ODM1MixjaG9jb2xhdGU6MTM3ODk0NzAsY29yYWw6MTY3NDQyNzIsY29ybmZsb3dlcmJsdWU6NjU5MTk4MSxjb3Juc2lsazoxNjc3NTM4OCxjcmltc29uOjE0NDIzMTAwLGN5YW46NjU1MzUsZGFya2JsdWU6MTM5LGRhcmtjeWFuOjM1NzIzLGRhcmtnb2xkZW5yb2Q6MTIwOTI5MzksZGFya2dyYXk6MTExMTkwMTcsZGFya2dyZWVuOjI1NjAwLGRhcmtncmV5OjExMTE5MDE3LGRhcmtraGFraToxMjQzMzI1OSxkYXJrbWFnZW50YTo5MTA5NjQzLGRhcmtvbGl2ZWdyZWVuOjU1OTc5OTksZGFya29yYW5nZToxNjc0NzUyMCxkYXJrb3JjaGlkOjEwMDQwMDEyLGRhcmtyZWQ6OTEwOTUwNCxkYXJrc2FsbW9uOjE1MzA4NDEwLGRhcmtzZWFncmVlbjo5NDE5OTE5LGRhcmtzbGF0ZWJsdWU6NDczNDM0NyxkYXJrc2xhdGVncmF5OjMxMDA0OTUsZGFya3NsYXRlZ3JleTozMTAwNDk1LGRhcmt0dXJxdW9pc2U6NTI5NDUsZGFya3Zpb2xldDo5Njk5NTM5LGRlZXBwaW5rOjE2NzE2OTQ3LGRlZXBza3libHVlOjQ5MTUxLGRpbWdyYXk6NjkwODI2NSxkaW1ncmV5OjY5MDgyNjUsZG9kZ2VyYmx1ZToyMDAzMTk5LGZpcmVicmljazoxMTY3NDE0NixmbG9yYWx3aGl0ZToxNjc3NTkyMCxmb3Jlc3RncmVlbjoyMjYzODQyLGZ1Y2hzaWE6MTY3MTE5MzUsZ2FpbnNib3JvOjE0NDc0NDYwLGdob3N0d2hpdGU6MTYzMTY2NzEsZ29sZDoxNjc2NjcyMCxnb2xkZW5yb2Q6MTQzMjkxMjAsZ3JheTo4NDIxNTA0LGdyZWVuOjMyNzY4LGdyZWVueWVsbG93OjExNDAzMDU1LGdyZXk6ODQyMTUwNCxob25leWRldzoxNTc5NDE2MCxob3RwaW5rOjE2NzM4NzQwLGluZGlhbnJlZDoxMzQ1ODUyNCxpbmRpZ286NDkxNTMzMCxpdm9yeToxNjc3NzIwMCxraGFraToxNTc4NzY2MCxsYXZlbmRlcjoxNTEzMjQxMCxsYXZlbmRlcmJsdXNoOjE2NzczMzY1LGxhd25ncmVlbjo4MTkwOTc2LGxlbW9uY2hpZmZvbjoxNjc3NTg4NSxsaWdodGJsdWU6MTEzOTMyNTQsbGlnaHRjb3JhbDoxNTc2MTUzNixsaWdodGN5YW46MTQ3NDU1OTksbGlnaHRnb2xkZW5yb2R5ZWxsb3c6MTY0NDgyMTAsbGlnaHRncmF5OjEzODgyMzIzLGxpZ2h0Z3JlZW46OTQ5ODI1NixsaWdodGdyZXk6MTM4ODIzMjMsbGlnaHRwaW5rOjE2NzU4NDY1LGxpZ2h0c2FsbW9uOjE2NzUyNzYyLGxpZ2h0c2VhZ3JlZW46MjE0Mjg5MCxsaWdodHNreWJsdWU6ODkwMDM0NixsaWdodHNsYXRlZ3JheTo3ODMzNzUzLGxpZ2h0c2xhdGVncmV5Ojc4MzM3NTMsbGlnaHRzdGVlbGJsdWU6MTE1ODQ3MzQsbGlnaHR5ZWxsb3c6MTY3NzcxODQsbGltZTo2NTI4MCxsaW1lZ3JlZW46MzMyOTMzMCxsaW5lbjoxNjQ0NTY3MCxtYWdlbnRhOjE2NzExOTM1LG1hcm9vbjo4Mzg4NjA4LG1lZGl1bWFxdWFtYXJpbmU6NjczNzMyMixtZWRpdW1ibHVlOjIwNSxtZWRpdW1vcmNoaWQ6MTIyMTE2NjcsbWVkaXVtcHVycGxlOjk2NjI2ODMsbWVkaXVtc2VhZ3JlZW46Mzk3ODA5NyxtZWRpdW1zbGF0ZWJsdWU6ODA4Nzc5MCxtZWRpdW1zcHJpbmdncmVlbjo2NDE1NCxtZWRpdW10dXJxdW9pc2U6NDc3MjMwMCxtZWRpdW12aW9sZXRyZWQ6MTMwNDcxNzMsbWlkbmlnaHRibHVlOjE2NDQ5MTIsbWludGNyZWFtOjE2MTIxODUwLG1pc3R5cm9zZToxNjc3MDI3Myxtb2NjYXNpbjoxNjc3MDIyOSxuYXZham93aGl0ZToxNjc2ODY4NSxuYXZ5OjEyOCxvbGRsYWNlOjE2NjQzNTU4LG9saXZlOjg0MjEzNzYsb2xpdmVkcmFiOjcwNDg3Mzksb3JhbmdlOjE2NzUzOTIwLG9yYW5nZXJlZDoxNjcyOTM0NCxvcmNoaWQ6MTQzMTU3MzQscGFsZWdvbGRlbnJvZDoxNTY1NzEzMCxwYWxlZ3JlZW46MTAwMjU4ODAscGFsZXR1cnF1b2lzZToxMTUyOTk2NixwYWxldmlvbGV0cmVkOjE0MzgxMjAzLHBhcGF5YXdoaXA6MTY3NzMwNzcscGVhY2hwdWZmOjE2NzY3NjczLHBlcnU6MTM0Njg5OTEscGluazoxNjc2MTAzNSxwbHVtOjE0NTI0NjM3LHBvd2RlcmJsdWU6MTE1OTE5MTAscHVycGxlOjgzODg3MzYscmViZWNjYXB1cnBsZTo2Njk3ODgxLHJlZDoxNjcxMTY4MCxyb3N5YnJvd246MTIzNTc1MTkscm95YWxibHVlOjQyODY5NDUsc2FkZGxlYnJvd246OTEyNzE4NyxzYWxtb246MTY0MTY4ODIsc2FuZHlicm93bjoxNjAzMjg2NCxzZWFncmVlbjozMDUwMzI3LHNlYXNoZWxsOjE2Nzc0NjM4LHNpZW5uYToxMDUwNjc5NyxzaWx2ZXI6MTI2MzIyNTYsc2t5Ymx1ZTo4OTAwMzMxLHNsYXRlYmx1ZTo2OTcwMDYxLHNsYXRlZ3JheTo3MzcyOTQ0LHNsYXRlZ3JleTo3MzcyOTQ0LHNub3c6MTY3NzU5MzAsc3ByaW5nZ3JlZW46NjU0MDcsc3RlZWxibHVlOjQ2MjA5ODAsdGFuOjEzODA4NzgwLHRlYWw6MzI4OTYsdGhpc3RsZToxNDIwNDg4OCx0b21hdG86MTY3MzcwOTUsdHVycXVvaXNlOjQyNTE4NTYsdmlvbGV0OjE1NjMxMDg2LHdoZWF0OjE2MTEzMzMxLHdoaXRlOjE2Nzc3MjE1LHdoaXRlc21va2U6MTYxMTkyODUseWVsbG93OjE2Nzc2OTYwLHllbGxvd2dyZWVuOjEwMTQ1MDc0fSxxZT17aDowLHM6MCxsOjB9LFhlPXtoOjAsczowLGw6MH07ZnVuY3Rpb24gWWUodCxlLG4pe3JldHVybiBuPDAmJihuKz0xKSxuPjEmJihuLT0xKSxuPDEvNj90KzYqKGUtdCkqbjpuPC41P2U6bjwyLzM/dCs2KihlLXQpKigyLzMtbik6dH1mdW5jdGlvbiBaZSh0KXtyZXR1cm4gdDwuMDQwNDU/LjA3NzM5OTM4MDgqdDpNYXRoLnBvdyguOTQ3ODY3Mjk4Nip0Ky4wNTIxMzI3MDE0LDIuNCl9ZnVuY3Rpb24gSmUodCl7cmV0dXJuIHQ8LjAwMzEzMDg/MTIuOTIqdDoxLjA1NSpNYXRoLnBvdyh0LC40MTY2NiktLjA1NX12YXIgUWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlzQ29sb3IiLHt2YWx1ZTohMH0pLHZvaWQgMD09PWUmJnZvaWQgMD09PW4/dGhpcy5zZXQodCk6dGhpcy5zZXRSR0IodCxlLG4pfXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnNldD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5pc0NvbG9yP3RoaXMuY29weSh0KToibnVtYmVyIj09dHlwZW9mIHQ/dGhpcy5zZXRIZXgodCk6InN0cmluZyI9PXR5cGVvZiB0JiZ0aGlzLnNldFN0eWxlKHQpLHRoaXN9LGUuc2V0U2NhbGFyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnI9dCx0aGlzLmc9dCx0aGlzLmI9dCx0aGlzfSxlLnNldEhleD1mdW5jdGlvbih0KXtyZXR1cm4gdD1NYXRoLmZsb29yKHQpLHRoaXMucj0odD4+MTYmMjU1KS8yNTUsdGhpcy5nPSh0Pj44JjI1NSkvMjU1LHRoaXMuYj0oMjU1JnQpLzI1NSx0aGlzfSxlLnNldFJHQj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMucj10LHRoaXMuZz1lLHRoaXMuYj1uLHRoaXN9LGUuc2V0SFNMPWZ1bmN0aW9uKHQsZSxuKXtpZih0PWd0LmV1Y2xpZGVhbk1vZHVsbyh0LDEpLGU9Z3QuY2xhbXAoZSwwLDEpLG49Z3QuY2xhbXAobiwwLDEpLDA9PT1lKXRoaXMucj10aGlzLmc9dGhpcy5iPW47ZWxzZXt2YXIgaT1uPD0uNT9uKigxK2UpOm4rZS1uKmUscj0yKm4taTt0aGlzLnI9WWUocixpLHQrMS8zKSx0aGlzLmc9WWUocixpLHQpLHRoaXMuYj1ZZShyLGksdC0xLzMpfXJldHVybiB0aGlzfSxlLnNldFN0eWxlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dm9pZCAwIT09ZSYmcGFyc2VGbG9hdChlKTwxJiZjb25zb2xlLndhcm4oIlRIUkVFLkNvbG9yOiBBbHBoYSBjb21wb25lbnQgb2YgIit0KyIgd2lsbCBiZSBpZ25vcmVkLiIpfXZhciBuO2lmKG49L14oKD86cmdifGhzbClhPylcKChbXlwpXSopXCkvLmV4ZWModCkpe3ZhciBpLHI9blsxXSxhPW5bMl07c3dpdGNoKHIpe2Nhc2UicmdiIjpjYXNlInJnYmEiOmlmKGk9L15ccyooXGQrKVxzKixccyooXGQrKVxzKixccyooXGQrKVxzKig/OixccyooXGQqXC4/XGQrKVxzKik/JC8uZXhlYyhhKSlyZXR1cm4gdGhpcy5yPU1hdGgubWluKDI1NSxwYXJzZUludChpWzFdLDEwKSkvMjU1LHRoaXMuZz1NYXRoLm1pbigyNTUscGFyc2VJbnQoaVsyXSwxMCkpLzI1NSx0aGlzLmI9TWF0aC5taW4oMjU1LHBhcnNlSW50KGlbM10sMTApKS8yNTUsZShpWzRdKSx0aGlzO2lmKGk9L15ccyooXGQrKVwlXHMqLFxzKihcZCspXCVccyosXHMqKFxkKylcJVxzKig/OixccyooXGQqXC4/XGQrKVxzKik/JC8uZXhlYyhhKSlyZXR1cm4gdGhpcy5yPU1hdGgubWluKDEwMCxwYXJzZUludChpWzFdLDEwKSkvMTAwLHRoaXMuZz1NYXRoLm1pbigxMDAscGFyc2VJbnQoaVsyXSwxMCkpLzEwMCx0aGlzLmI9TWF0aC5taW4oMTAwLHBhcnNlSW50KGlbM10sMTApKS8xMDAsZShpWzRdKSx0aGlzO2JyZWFrO2Nhc2UiaHNsIjpjYXNlImhzbGEiOmlmKGk9L15ccyooXGQqXC4/XGQrKVxzKixccyooXGQrKVwlXHMqLFxzKihcZCspXCVccyooPzosXHMqKFxkKlwuP1xkKylccyopPyQvLmV4ZWMoYSkpe3ZhciBvPXBhcnNlRmxvYXQoaVsxXSkvMzYwLHM9cGFyc2VJbnQoaVsyXSwxMCkvMTAwLGM9cGFyc2VJbnQoaVszXSwxMCkvMTAwO3JldHVybiBlKGlbNF0pLHRoaXMuc2V0SFNMKG8scyxjKX19fWVsc2UgaWYobj0vXlwjKFtBLUZhLWZcZF0rKSQvLmV4ZWModCkpe3ZhciBsPW5bMV0sdT1sLmxlbmd0aDtpZigzPT09dSlyZXR1cm4gdGhpcy5yPXBhcnNlSW50KGwuY2hhckF0KDApK2wuY2hhckF0KDApLDE2KS8yNTUsdGhpcy5nPXBhcnNlSW50KGwuY2hhckF0KDEpK2wuY2hhckF0KDEpLDE2KS8yNTUsdGhpcy5iPXBhcnNlSW50KGwuY2hhckF0KDIpK2wuY2hhckF0KDIpLDE2KS8yNTUsdGhpcztpZig2PT09dSlyZXR1cm4gdGhpcy5yPXBhcnNlSW50KGwuY2hhckF0KDApK2wuY2hhckF0KDEpLDE2KS8yNTUsdGhpcy5nPXBhcnNlSW50KGwuY2hhckF0KDIpK2wuY2hhckF0KDMpLDE2KS8yNTUsdGhpcy5iPXBhcnNlSW50KGwuY2hhckF0KDQpK2wuY2hhckF0KDUpLDE2KS8yNTUsdGhpc31yZXR1cm4gdCYmdC5sZW5ndGg+MD90aGlzLnNldENvbG9yTmFtZSh0KTp0aGlzfSxlLnNldENvbG9yTmFtZT1mdW5jdGlvbih0KXt2YXIgZT1qZVt0XTtyZXR1cm4gdm9pZCAwIT09ZT90aGlzLnNldEhleChlKTpjb25zb2xlLndhcm4oIlRIUkVFLkNvbG9yOiBVbmtub3duIGNvbG9yICIrdCksdGhpc30sZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnIsdGhpcy5nLHRoaXMuYil9LGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yPXQucix0aGlzLmc9dC5nLHRoaXMuYj10LmIsdGhpc30sZS5jb3B5R2FtbWFUb0xpbmVhcj1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0yKSx0aGlzLnI9TWF0aC5wb3codC5yLGUpLHRoaXMuZz1NYXRoLnBvdyh0LmcsZSksdGhpcy5iPU1hdGgucG93KHQuYixlKSx0aGlzfSxlLmNvcHlMaW5lYXJUb0dhbW1hPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9Mik7dmFyIG49ZT4wPzEvZToxO3JldHVybiB0aGlzLnI9TWF0aC5wb3codC5yLG4pLHRoaXMuZz1NYXRoLnBvdyh0LmcsbiksdGhpcy5iPU1hdGgucG93KHQuYixuKSx0aGlzfSxlLmNvbnZlcnRHYW1tYVRvTGluZWFyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvcHlHYW1tYVRvTGluZWFyKHRoaXMsdCksdGhpc30sZS5jb252ZXJ0TGluZWFyVG9HYW1tYT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb3B5TGluZWFyVG9HYW1tYSh0aGlzLHQpLHRoaXN9LGUuY29weVNSR0JUb0xpbmVhcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yPVplKHQuciksdGhpcy5nPVplKHQuZyksdGhpcy5iPVplKHQuYiksdGhpc30sZS5jb3B5TGluZWFyVG9TUkdCPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnI9SmUodC5yKSx0aGlzLmc9SmUodC5nKSx0aGlzLmI9SmUodC5iKSx0aGlzfSxlLmNvbnZlcnRTUkdCVG9MaW5lYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb3B5U1JHQlRvTGluZWFyKHRoaXMpLHRoaXN9LGUuY29udmVydExpbmVhclRvU1JHQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvcHlMaW5lYXJUb1NSR0IodGhpcyksdGhpc30sZS5nZXRIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gMjU1KnRoaXMucjw8MTZeMjU1KnRoaXMuZzw8OF4yNTUqdGhpcy5iPDwwfSxlLmdldEhleFN0cmluZz1mdW5jdGlvbigpe3JldHVybigiMDAwMDAwIit0aGlzLmdldEhleCgpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTYpfSxlLmdldEhTTD1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKCJUSFJFRS5Db2xvcjogLmdldEhTTCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSx0PXtoOjAsczowLGw6MH0pO3ZhciBlLG4saT10aGlzLnIscj10aGlzLmcsYT10aGlzLmIsbz1NYXRoLm1heChpLHIsYSkscz1NYXRoLm1pbihpLHIsYSksYz0ocytvKS8yO2lmKHM9PT1vKWU9MCxuPTA7ZWxzZXt2YXIgbD1vLXM7c3dpdGNoKG49Yzw9LjU/bC8obytzKTpsLygyLW8tcyksbyl7Y2FzZSBpOmU9KHItYSkvbCsocjxhPzY6MCk7YnJlYWs7Y2FzZSByOmU9KGEtaSkvbCsyO2JyZWFrO2Nhc2UgYTplPShpLXIpL2wrNH1lLz02fXJldHVybiB0Lmg9ZSx0LnM9bix0Lmw9Yyx0fSxlLmdldFN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJuInJnYigiKygyNTUqdGhpcy5yfDApKyIsIisoMjU1KnRoaXMuZ3wwKSsiLCIrKDI1NSp0aGlzLmJ8MCkrIikifSxlLm9mZnNldEhTTD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuZ2V0SFNMKHFlKSxxZS5oKz10LHFlLnMrPWUscWUubCs9bix0aGlzLnNldEhTTChxZS5oLHFlLnMscWUubCksdGhpc30sZS5hZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucis9dC5yLHRoaXMuZys9dC5nLHRoaXMuYis9dC5iLHRoaXN9LGUuYWRkQ29sb3JzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucj10LnIrZS5yLHRoaXMuZz10LmcrZS5nLHRoaXMuYj10LmIrZS5iLHRoaXN9LGUuYWRkU2NhbGFyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnIrPXQsdGhpcy5nKz10LHRoaXMuYis9dCx0aGlzfSxlLnN1Yj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yPU1hdGgubWF4KDAsdGhpcy5yLXQuciksdGhpcy5nPU1hdGgubWF4KDAsdGhpcy5nLXQuZyksdGhpcy5iPU1hdGgubWF4KDAsdGhpcy5iLXQuYiksdGhpc30sZS5tdWx0aXBseT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yKj10LnIsdGhpcy5nKj10LmcsdGhpcy5iKj10LmIsdGhpc30sZS5tdWx0aXBseVNjYWxhcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yKj10LHRoaXMuZyo9dCx0aGlzLmIqPXQsdGhpc30sZS5sZXJwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucis9KHQuci10aGlzLnIpKmUsdGhpcy5nKz0odC5nLXRoaXMuZykqZSx0aGlzLmIrPSh0LmItdGhpcy5iKSplLHRoaXN9LGUubGVycENvbG9ycz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMucj10LnIrKGUuci10LnIpKm4sdGhpcy5nPXQuZysoZS5nLXQuZykqbix0aGlzLmI9dC5iKyhlLmItdC5iKSpuLHRoaXN9LGUubGVycEhTTD1mdW5jdGlvbih0LGUpe3RoaXMuZ2V0SFNMKHFlKSx0LmdldEhTTChYZSk7dmFyIG49Z3QubGVycChxZS5oLFhlLmgsZSksaT1ndC5sZXJwKHFlLnMsWGUucyxlKSxyPWd0LmxlcnAocWUubCxYZS5sLGUpO3JldHVybiB0aGlzLnNldEhTTChuLGksciksdGhpc30sZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQucj09PXRoaXMuciYmdC5nPT09dGhpcy5nJiZ0LmI9PT10aGlzLmJ9LGUuZnJvbUFycmF5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLHRoaXMucj10W2VdLHRoaXMuZz10W2UrMV0sdGhpcy5iPXRbZSsyXSx0aGlzfSxlLnRvQXJyYXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9W10pLHZvaWQgMD09PWUmJihlPTApLHRbZV09dGhpcy5yLHRbZSsxXT10aGlzLmcsdFtlKzJdPXRoaXMuYix0fSxlLmZyb21CdWZmZXJBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yPXQuZ2V0WChlKSx0aGlzLmc9dC5nZXRZKGUpLHRoaXMuYj10LmdldFooZSksITA9PT10Lm5vcm1hbGl6ZWQmJih0aGlzLnIvPTI1NSx0aGlzLmcvPTI1NSx0aGlzLmIvPTI1NSksdGhpc30sZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRIZXgoKX0sdH0oKTtmdW5jdGlvbiBLZSh0KXtXZS5jYWxsKHRoaXMpLHRoaXMudHlwZT0iTWVzaEJhc2ljTWF0ZXJpYWwiLHRoaXMuY29sb3I9bmV3IFFlKDE2Nzc3MjE1KSx0aGlzLm1hcD1udWxsLHRoaXMubGlnaHRNYXA9bnVsbCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PTEsdGhpcy5hb01hcD1udWxsLHRoaXMuYW9NYXBJbnRlbnNpdHk9MSx0aGlzLnNwZWN1bGFyTWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuZW52TWFwPW51bGwsdGhpcy5jb21iaW5lPTAsdGhpcy5yZWZsZWN0aXZpdHk9MSx0aGlzLnJlZnJhY3Rpb25SYXRpbz0uOTgsdGhpcy53aXJlZnJhbWU9ITEsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MSx0aGlzLndpcmVmcmFtZUxpbmVjYXA9InJvdW5kIix0aGlzLndpcmVmcmFtZUxpbmVqb2luPSJyb3VuZCIsdGhpcy5za2lubmluZz0hMSx0aGlzLm1vcnBoVGFyZ2V0cz0hMSx0aGlzLnNldFZhbHVlcyh0KX1RZS5OQU1FUz1qZSxRZS5wcm90b3R5cGUucj0xLFFlLnByb3RvdHlwZS5nPTEsUWUucHJvdG90eXBlLmI9MSxLZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShXZS5wcm90b3R5cGUpLEtlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1LZSxLZS5wcm90b3R5cGUuaXNNZXNoQmFzaWNNYXRlcmlhbD0hMCxLZS5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gV2UucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuY29sb3IuY29weSh0LmNvbG9yKSx0aGlzLm1hcD10Lm1hcCx0aGlzLmxpZ2h0TWFwPXQubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT10LmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9dC5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PXQuYW9NYXBJbnRlbnNpdHksdGhpcy5zcGVjdWxhck1hcD10LnNwZWN1bGFyTWFwLHRoaXMuYWxwaGFNYXA9dC5hbHBoYU1hcCx0aGlzLmVudk1hcD10LmVudk1hcCx0aGlzLmNvbWJpbmU9dC5jb21iaW5lLHRoaXMucmVmbGVjdGl2aXR5PXQucmVmbGVjdGl2aXR5LHRoaXMucmVmcmFjdGlvblJhdGlvPXQucmVmcmFjdGlvblJhdGlvLHRoaXMud2lyZWZyYW1lPXQud2lyZWZyYW1lLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPXQud2lyZWZyYW1lTGluZXdpZHRoLHRoaXMud2lyZWZyYW1lTGluZWNhcD10LndpcmVmcmFtZUxpbmVjYXAsdGhpcy53aXJlZnJhbWVMaW5lam9pbj10LndpcmVmcmFtZUxpbmVqb2luLHRoaXMuc2tpbm5pbmc9dC5za2lubmluZyx0aGlzLm1vcnBoVGFyZ2V0cz10Lm1vcnBoVGFyZ2V0cyx0aGlzfTt2YXIgJGU9bmV3IEx0LHRuPW5ldyB5dDtmdW5jdGlvbiBlbih0LGUsbil7aWYoQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IGFycmF5IHNob3VsZCBiZSBhIFR5cGVkIEFycmF5LiIpO3RoaXMubmFtZT0iIix0aGlzLmFycmF5PXQsdGhpcy5pdGVtU2l6ZT1lLHRoaXMuY291bnQ9dm9pZCAwIT09dD90Lmxlbmd0aC9lOjAsdGhpcy5ub3JtYWxpemVkPSEwPT09bix0aGlzLnVzYWdlPW50LHRoaXMudXBkYXRlUmFuZ2U9e29mZnNldDowLGNvdW50Oi0xfSx0aGlzLnZlcnNpb249MH1mdW5jdGlvbiBubih0LGUsbil7ZW4uY2FsbCh0aGlzLG5ldyBJbnQ4QXJyYXkodCksZSxuKX1mdW5jdGlvbiBybih0LGUsbil7ZW4uY2FsbCh0aGlzLG5ldyBVaW50OEFycmF5KHQpLGUsbil9ZnVuY3Rpb24gYW4odCxlLG4pe2VuLmNhbGwodGhpcyxuZXcgVWludDhDbGFtcGVkQXJyYXkodCksZSxuKX1mdW5jdGlvbiBvbih0LGUsbil7ZW4uY2FsbCh0aGlzLG5ldyBJbnQxNkFycmF5KHQpLGUsbil9ZnVuY3Rpb24gc24odCxlLG4pe2VuLmNhbGwodGhpcyxuZXcgVWludDE2QXJyYXkodCksZSxuKX1mdW5jdGlvbiBjbih0LGUsbil7ZW4uY2FsbCh0aGlzLG5ldyBJbnQzMkFycmF5KHQpLGUsbil9ZnVuY3Rpb24gbG4odCxlLG4pe2VuLmNhbGwodGhpcyxuZXcgVWludDMyQXJyYXkodCksZSxuKX1mdW5jdGlvbiB1bih0LGUsbil7ZW4uY2FsbCh0aGlzLG5ldyBVaW50MTZBcnJheSh0KSxlLG4pfWZ1bmN0aW9uIGhuKHQsZSxuKXtlbi5jYWxsKHRoaXMsbmV3IEZsb2F0MzJBcnJheSh0KSxlLG4pfWZ1bmN0aW9uIGRuKHQsZSxuKXtlbi5jYWxsKHRoaXMsbmV3IEZsb2F0NjRBcnJheSh0KSxlLG4pfWZ1bmN0aW9uIHBuKHQpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4tMS8wO2Zvcih2YXIgZT10WzBdLG49MSxpPXQubGVuZ3RoO248aTsrK24pdFtuXT5lJiYoZT10W25dKTtyZXR1cm4gZX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZW4ucHJvdG90eXBlLCJuZWVkc1VwZGF0ZSIse3NldDpmdW5jdGlvbih0KXshMD09PXQmJnRoaXMudmVyc2lvbisrfX0pLE9iamVjdC5hc3NpZ24oZW4ucHJvdG90eXBlLHtpc0J1ZmZlckF0dHJpYnV0ZTohMCxvblVwbG9hZENhbGxiYWNrOmZ1bmN0aW9uKCl7fSxzZXRVc2FnZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51c2FnZT10LHRoaXN9LGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmFtZT10Lm5hbWUsdGhpcy5hcnJheT1uZXcgdC5hcnJheS5jb25zdHJ1Y3Rvcih0LmFycmF5KSx0aGlzLml0ZW1TaXplPXQuaXRlbVNpemUsdGhpcy5jb3VudD10LmNvdW50LHRoaXMubm9ybWFsaXplZD10Lm5vcm1hbGl6ZWQsdGhpcy51c2FnZT10LnVzYWdlLHRoaXN9LGNvcHlBdDpmdW5jdGlvbih0LGUsbil7dCo9dGhpcy5pdGVtU2l6ZSxuKj1lLml0ZW1TaXplO2Zvcih2YXIgaT0wLHI9dGhpcy5pdGVtU2l6ZTtpPHI7aSsrKXRoaXMuYXJyYXlbdCtpXT1lLmFycmF5W24raV07cmV0dXJuIHRoaXN9LGNvcHlBcnJheTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hcnJheS5zZXQodCksdGhpc30sY29weUNvbG9yc0FycmF5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmFycmF5LG49MCxpPTAscj10Lmxlbmd0aDtpPHI7aSsrKXt2YXIgYT10W2ldO3ZvaWQgMD09PWEmJihjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5Q29sb3JzQXJyYXkoKTogY29sb3IgaXMgdW5kZWZpbmVkIixpKSxhPW5ldyBRZSksZVtuKytdPWEucixlW24rK109YS5nLGVbbisrXT1hLmJ9cmV0dXJuIHRoaXN9LGNvcHlWZWN0b3Iyc0FycmF5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmFycmF5LG49MCxpPTAscj10Lmxlbmd0aDtpPHI7aSsrKXt2YXIgYT10W2ldO3ZvaWQgMD09PWEmJihjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5VmVjdG9yMnNBcnJheSgpOiB2ZWN0b3IgaXMgdW5kZWZpbmVkIixpKSxhPW5ldyB5dCksZVtuKytdPWEueCxlW24rK109YS55fXJldHVybiB0aGlzfSxjb3B5VmVjdG9yM3NBcnJheTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5hcnJheSxuPTAsaT0wLHI9dC5sZW5ndGg7aTxyO2krKyl7dmFyIGE9dFtpXTt2b2lkIDA9PT1hJiYoY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGUuY29weVZlY3RvcjNzQXJyYXkoKTogdmVjdG9yIGlzIHVuZGVmaW5lZCIsaSksYT1uZXcgTHQpLGVbbisrXT1hLngsZVtuKytdPWEueSxlW24rK109YS56fXJldHVybiB0aGlzfSxjb3B5VmVjdG9yNHNBcnJheTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5hcnJheSxuPTAsaT0wLHI9dC5sZW5ndGg7aTxyO2krKyl7dmFyIGE9dFtpXTt2b2lkIDA9PT1hJiYoY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGUuY29weVZlY3RvcjRzQXJyYXkoKTogdmVjdG9yIGlzIHVuZGVmaW5lZCIsaSksYT1uZXcgU3QpLGVbbisrXT1hLngsZVtuKytdPWEueSxlW24rK109YS56LGVbbisrXT1hLnd9cmV0dXJuIHRoaXN9LGFwcGx5TWF0cml4MzpmdW5jdGlvbih0KXtpZigyPT09dGhpcy5pdGVtU2l6ZSlmb3IodmFyIGU9MCxuPXRoaXMuY291bnQ7ZTxuO2UrKyl0bi5mcm9tQnVmZmVyQXR0cmlidXRlKHRoaXMsZSksdG4uYXBwbHlNYXRyaXgzKHQpLHRoaXMuc2V0WFkoZSx0bi54LHRuLnkpO2Vsc2UgaWYoMz09PXRoaXMuaXRlbVNpemUpZm9yKHZhciBpPTAscj10aGlzLmNvdW50O2k8cjtpKyspJGUuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0aGlzLGkpLCRlLmFwcGx5TWF0cml4Myh0KSx0aGlzLnNldFhZWihpLCRlLngsJGUueSwkZS56KTtyZXR1cm4gdGhpc30sYXBwbHlNYXRyaXg0OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5jb3VudDtlPG47ZSsrKSRlLng9dGhpcy5nZXRYKGUpLCRlLnk9dGhpcy5nZXRZKGUpLCRlLno9dGhpcy5nZXRaKGUpLCRlLmFwcGx5TWF0cml4NCh0KSx0aGlzLnNldFhZWihlLCRlLngsJGUueSwkZS56KTtyZXR1cm4gdGhpc30sYXBwbHlOb3JtYWxNYXRyaXg6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLmNvdW50O2U8bjtlKyspJGUueD10aGlzLmdldFgoZSksJGUueT10aGlzLmdldFkoZSksJGUuej10aGlzLmdldFooZSksJGUuYXBwbHlOb3JtYWxNYXRyaXgodCksdGhpcy5zZXRYWVooZSwkZS54LCRlLnksJGUueik7cmV0dXJuIHRoaXN9LHRyYW5zZm9ybURpcmVjdGlvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMuY291bnQ7ZTxuO2UrKykkZS54PXRoaXMuZ2V0WChlKSwkZS55PXRoaXMuZ2V0WShlKSwkZS56PXRoaXMuZ2V0WihlKSwkZS50cmFuc2Zvcm1EaXJlY3Rpb24odCksdGhpcy5zZXRYWVooZSwkZS54LCRlLnksJGUueik7cmV0dXJuIHRoaXN9LHNldDpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0wKSx0aGlzLmFycmF5LnNldCh0LGUpLHRoaXN9LGdldFg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXJyYXlbdCp0aGlzLml0ZW1TaXplXX0sc2V0WDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFycmF5W3QqdGhpcy5pdGVtU2l6ZV09ZSx0aGlzfSxnZXRZOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFycmF5W3QqdGhpcy5pdGVtU2l6ZSsxXX0sc2V0WTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFycmF5W3QqdGhpcy5pdGVtU2l6ZSsxXT1lLHRoaXN9LGdldFo6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXJyYXlbdCp0aGlzLml0ZW1TaXplKzJdfSxzZXRaOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYXJyYXlbdCp0aGlzLml0ZW1TaXplKzJdPWUsdGhpc30sZ2V0VzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hcnJheVt0KnRoaXMuaXRlbVNpemUrM119LHNldFc6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hcnJheVt0KnRoaXMuaXRlbVNpemUrM109ZSx0aGlzfSxzZXRYWTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQqPXRoaXMuaXRlbVNpemUsdGhpcy5hcnJheVt0KzBdPWUsdGhpcy5hcnJheVt0KzFdPW4sdGhpc30sc2V0WFlaOmZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0Kj10aGlzLml0ZW1TaXplLHRoaXMuYXJyYXlbdCswXT1lLHRoaXMuYXJyYXlbdCsxXT1uLHRoaXMuYXJyYXlbdCsyXT1pLHRoaXN9LHNldFhZWlc6ZnVuY3Rpb24odCxlLG4saSxyKXtyZXR1cm4gdCo9dGhpcy5pdGVtU2l6ZSx0aGlzLmFycmF5W3QrMF09ZSx0aGlzLmFycmF5W3QrMV09bix0aGlzLmFycmF5W3QrMl09aSx0aGlzLmFycmF5W3QrM109cix0aGlzfSxvblVwbG9hZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vblVwbG9hZENhbGxiYWNrPXQsdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5hcnJheSx0aGlzLml0ZW1TaXplKS5jb3B5KHRoaXMpfSx0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm57aXRlbVNpemU6dGhpcy5pdGVtU2l6ZSx0eXBlOnRoaXMuYXJyYXkuY29uc3RydWN0b3IubmFtZSxhcnJheTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmFycmF5KSxub3JtYWxpemVkOnRoaXMubm9ybWFsaXplZH19fSksbm4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZW4ucHJvdG90eXBlKSxubi5wcm90b3R5cGUuY29uc3RydWN0b3I9bm4scm4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZW4ucHJvdG90eXBlKSxybi5wcm90b3R5cGUuY29uc3RydWN0b3I9cm4sYW4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZW4ucHJvdG90eXBlKSxhbi5wcm90b3R5cGUuY29uc3RydWN0b3I9YW4sb24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZW4ucHJvdG90eXBlKSxvbi5wcm90b3R5cGUuY29uc3RydWN0b3I9b24sc24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZW4ucHJvdG90eXBlKSxzbi5wcm90b3R5cGUuY29uc3RydWN0b3I9c24sY24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZW4ucHJvdG90eXBlKSxjbi5wcm90b3R5cGUuY29uc3RydWN0b3I9Y24sbG4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZW4ucHJvdG90eXBlKSxsbi5wcm90b3R5cGUuY29uc3RydWN0b3I9bG4sdW4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZW4ucHJvdG90eXBlKSx1bi5wcm90b3R5cGUuY29uc3RydWN0b3I9dW4sdW4ucHJvdG90eXBlLmlzRmxvYXQxNkJ1ZmZlckF0dHJpYnV0ZT0hMCxobi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlbi5wcm90b3R5cGUpLGhuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1obixkbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlbi5wcm90b3R5cGUpLGRuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1kbjt2YXIgZm49e0ludDhBcnJheTpJbnQ4QXJyYXksVWludDhBcnJheTpVaW50OEFycmF5LFVpbnQ4Q2xhbXBlZEFycmF5OiJ1bmRlZmluZWQiIT10eXBlb2YgVWludDhDbGFtcGVkQXJyYXk/VWludDhDbGFtcGVkQXJyYXk6VWludDhBcnJheSxJbnQxNkFycmF5OkludDE2QXJyYXksVWludDE2QXJyYXk6VWludDE2QXJyYXksSW50MzJBcnJheTpJbnQzMkFycmF5LFVpbnQzMkFycmF5OlVpbnQzMkFycmF5LEZsb2F0MzJBcnJheTpGbG9hdDMyQXJyYXksRmxvYXQ2NEFycmF5OkZsb2F0NjRBcnJheX07ZnVuY3Rpb24gbW4odCxlKXtyZXR1cm4gbmV3IGZuW3RdKGUpfXZhciB2bj0wLGduPW5ldyBuZSx5bj1uZXcgQWUseG49bmV3IEx0LF9uPW5ldyBQdCxibj1uZXcgUHQsd249bmV3IEx0O2Z1bmN0aW9uIE1uKCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlkIix7dmFsdWU6dm4rK30pLHRoaXMudXVpZD1ndC5nZW5lcmF0ZVVVSUQoKSx0aGlzLm5hbWU9IiIsdGhpcy50eXBlPSJCdWZmZXJHZW9tZXRyeSIsdGhpcy5pbmRleD1udWxsLHRoaXMuYXR0cmlidXRlcz17fSx0aGlzLm1vcnBoQXR0cmlidXRlcz17fSx0aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPSExLHRoaXMuZ3JvdXBzPVtdLHRoaXMuYm91bmRpbmdCb3g9bnVsbCx0aGlzLmJvdW5kaW5nU3BoZXJlPW51bGwsdGhpcy5kcmF3UmFuZ2U9e3N0YXJ0OjAsY291bnQ6MS8wfSx0aGlzLnVzZXJEYXRhPXt9fU1uLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoZHQucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6TW4saXNCdWZmZXJHZW9tZXRyeTohMCxnZXRJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV4fSxzZXRJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90aGlzLmluZGV4PW5ldyhwbih0KT42NTUzNT9sbjpzbikodCwxKTp0aGlzLmluZGV4PXQsdGhpc30sZ2V0QXR0cmlidXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbdF19LHNldEF0dHJpYnV0ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbdF09ZSx0aGlzfSxkZWxldGVBdHRyaWJ1dGU6ZnVuY3Rpb24odCl7cmV0dXJuIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbdF0sdGhpc30saGFzQXR0cmlidXRlOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10aGlzLmF0dHJpYnV0ZXNbdF19LGFkZEdyb3VwOmZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0wKSx0aGlzLmdyb3Vwcy5wdXNoKHtzdGFydDp0LGNvdW50OmUsbWF0ZXJpYWxJbmRleDpufSl9LGNsZWFyR3JvdXBzOmZ1bmN0aW9uKCl7dGhpcy5ncm91cHM9W119LHNldERyYXdSYW5nZTpmdW5jdGlvbih0LGUpe3RoaXMuZHJhd1JhbmdlLnN0YXJ0PXQsdGhpcy5kcmF3UmFuZ2UuY291bnQ9ZX0sYXBwbHlNYXRyaXg0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbjt2b2lkIDAhPT1lJiYoZS5hcHBseU1hdHJpeDQodCksZS5uZWVkc1VwZGF0ZT0hMCk7dmFyIG49dGhpcy5hdHRyaWJ1dGVzLm5vcm1hbDtpZih2b2lkIDAhPT1uKXt2YXIgaT0obmV3IHh0KS5nZXROb3JtYWxNYXRyaXgodCk7bi5hcHBseU5vcm1hbE1hdHJpeChpKSxuLm5lZWRzVXBkYXRlPSEwfXZhciByPXRoaXMuYXR0cmlidXRlcy50YW5nZW50O3JldHVybiB2b2lkIDAhPT1yJiYoci50cmFuc2Zvcm1EaXJlY3Rpb24odCksci5uZWVkc1VwZGF0ZT0hMCksbnVsbCE9PXRoaXMuYm91bmRpbmdCb3gmJnRoaXMuY29tcHV0ZUJvdW5kaW5nQm94KCksbnVsbCE9PXRoaXMuYm91bmRpbmdTcGhlcmUmJnRoaXMuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksdGhpc30scm90YXRlWDpmdW5jdGlvbih0KXtyZXR1cm4gZ24ubWFrZVJvdGF0aW9uWCh0KSx0aGlzLmFwcGx5TWF0cml4NChnbiksdGhpc30scm90YXRlWTpmdW5jdGlvbih0KXtyZXR1cm4gZ24ubWFrZVJvdGF0aW9uWSh0KSx0aGlzLmFwcGx5TWF0cml4NChnbiksdGhpc30scm90YXRlWjpmdW5jdGlvbih0KXtyZXR1cm4gZ24ubWFrZVJvdGF0aW9uWih0KSx0aGlzLmFwcGx5TWF0cml4NChnbiksdGhpc30sdHJhbnNsYXRlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZ24ubWFrZVRyYW5zbGF0aW9uKHQsZSxuKSx0aGlzLmFwcGx5TWF0cml4NChnbiksdGhpc30sc2NhbGU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBnbi5tYWtlU2NhbGUodCxlLG4pLHRoaXMuYXBwbHlNYXRyaXg0KGduKSx0aGlzfSxsb29rQXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHluLmxvb2tBdCh0KSx5bi51cGRhdGVNYXRyaXgoKSx0aGlzLmFwcGx5TWF0cml4NCh5bi5tYXRyaXgpLHRoaXN9LGNlbnRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXB1dGVCb3VuZGluZ0JveCgpLHRoaXMuYm91bmRpbmdCb3guZ2V0Q2VudGVyKHhuKS5uZWdhdGUoKSx0aGlzLnRyYW5zbGF0ZSh4bi54LHhuLnkseG4ueiksdGhpc30sc2V0RnJvbVBvaW50czpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wLGk9dC5sZW5ndGg7bjxpO24rKyl7dmFyIHI9dFtuXTtlLnB1c2goci54LHIueSxyLnp8fDApfXJldHVybiB0aGlzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBobihlLDMpKSx0aGlzfSxjb21wdXRlQm91bmRpbmdCb3g6ZnVuY3Rpb24oKXtudWxsPT09dGhpcy5ib3VuZGluZ0JveCYmKHRoaXMuYm91bmRpbmdCb3g9bmV3IFB0KTt2YXIgdD10aGlzLmF0dHJpYnV0ZXMucG9zaXRpb24sZT10aGlzLm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbjtpZih0JiZ0LmlzR0xCdWZmZXJBdHRyaWJ1dGUpcmV0dXJuIGNvbnNvbGUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ0JveCgpOiBHTEJ1ZmZlckF0dHJpYnV0ZSByZXF1aXJlcyBhIG1hbnVhbCBib3VuZGluZyBib3guIEFsdGVybmF0aXZlbHkgc2V0ICJtZXNoLmZydXN0dW1DdWxsZWQiIHRvICJmYWxzZSIuJyx0aGlzKSx2b2lkIHRoaXMuYm91bmRpbmdCb3guc2V0KG5ldyBMdCgtMS8wLC0xLzAsLTEvMCksbmV3IEx0KDEvMCwxLzAsMS8wKSk7aWYodm9pZCAwIT09dCl7aWYodGhpcy5ib3VuZGluZ0JveC5zZXRGcm9tQnVmZmVyQXR0cmlidXRlKHQpLGUpZm9yKHZhciBuPTAsaT1lLmxlbmd0aDtuPGk7bisrKXt2YXIgcj1lW25dO19uLnNldEZyb21CdWZmZXJBdHRyaWJ1dGUociksdGhpcy5tb3JwaFRhcmdldHNSZWxhdGl2ZT8od24uYWRkVmVjdG9ycyh0aGlzLmJvdW5kaW5nQm94Lm1pbixfbi5taW4pLHRoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludCh3biksd24uYWRkVmVjdG9ycyh0aGlzLmJvdW5kaW5nQm94Lm1heCxfbi5tYXgpLHRoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludCh3bikpOih0aGlzLmJvdW5kaW5nQm94LmV4cGFuZEJ5UG9pbnQoX24ubWluKSx0aGlzLmJvdW5kaW5nQm94LmV4cGFuZEJ5UG9pbnQoX24ubWF4KSl9fWVsc2UgdGhpcy5ib3VuZGluZ0JveC5tYWtlRW1wdHkoKTsoaXNOYU4odGhpcy5ib3VuZGluZ0JveC5taW4ueCl8fGlzTmFOKHRoaXMuYm91bmRpbmdCb3gubWluLnkpfHxpc05hTih0aGlzLmJvdW5kaW5nQm94Lm1pbi56KSkmJmNvbnNvbGUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ0JveCgpOiBDb21wdXRlZCBtaW4vbWF4IGhhdmUgTmFOIHZhbHVlcy4gVGhlICJwb3NpdGlvbiIgYXR0cmlidXRlIGlzIGxpa2VseSB0byBoYXZlIE5hTiB2YWx1ZXMuJyx0aGlzKX0sY29tcHV0ZUJvdW5kaW5nU3BoZXJlOmZ1bmN0aW9uKCl7bnVsbD09PXRoaXMuYm91bmRpbmdTcGhlcmUmJih0aGlzLmJvdW5kaW5nU3BoZXJlPW5ldyBYdCk7dmFyIHQ9dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uLGU9dGhpcy5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb247aWYodCYmdC5pc0dMQnVmZmVyQXR0cmlidXRlKXJldHVybiBjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJHZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTogR0xCdWZmZXJBdHRyaWJ1dGUgcmVxdWlyZXMgYSBtYW51YWwgYm91bmRpbmcgc3BoZXJlLiBBbHRlcm5hdGl2ZWx5IHNldCAibWVzaC5mcnVzdHVtQ3VsbGVkIiB0byAiZmFsc2UiLicsdGhpcyksdm9pZCB0aGlzLmJvdW5kaW5nU3BoZXJlLnNldChuZXcgTHQsMS8wKTtpZih0KXt2YXIgbj10aGlzLmJvdW5kaW5nU3BoZXJlLmNlbnRlcjtpZihfbi5zZXRGcm9tQnVmZmVyQXR0cmlidXRlKHQpLGUpZm9yKHZhciBpPTAscj1lLmxlbmd0aDtpPHI7aSsrKXt2YXIgYT1lW2ldO2JuLnNldEZyb21CdWZmZXJBdHRyaWJ1dGUoYSksdGhpcy5tb3JwaFRhcmdldHNSZWxhdGl2ZT8od24uYWRkVmVjdG9ycyhfbi5taW4sYm4ubWluKSxfbi5leHBhbmRCeVBvaW50KHduKSx3bi5hZGRWZWN0b3JzKF9uLm1heCxibi5tYXgpLF9uLmV4cGFuZEJ5UG9pbnQod24pKTooX24uZXhwYW5kQnlQb2ludChibi5taW4pLF9uLmV4cGFuZEJ5UG9pbnQoYm4ubWF4KSl9X24uZ2V0Q2VudGVyKG4pO2Zvcih2YXIgbz0wLHM9MCxjPXQuY291bnQ7czxjO3MrKyl3bi5mcm9tQnVmZmVyQXR0cmlidXRlKHQscyksbz1NYXRoLm1heChvLG4uZGlzdGFuY2VUb1NxdWFyZWQod24pKTtpZihlKWZvcih2YXIgbD0wLHU9ZS5sZW5ndGg7bDx1O2wrKylmb3IodmFyIGg9ZVtsXSxkPXRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmUscD0wLGY9aC5jb3VudDtwPGY7cCsrKXduLmZyb21CdWZmZXJBdHRyaWJ1dGUoaCxwKSxkJiYoeG4uZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LHApLHduLmFkZCh4bikpLG89TWF0aC5tYXgobyxuLmRpc3RhbmNlVG9TcXVhcmVkKHduKSk7dGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXM9TWF0aC5zcXJ0KG8pLGlzTmFOKHRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzKSYmY29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk6IENvbXB1dGVkIHJhZGl1cyBpcyBOYU4uIFRoZSAicG9zaXRpb24iIGF0dHJpYnV0ZSBpcyBsaWtlbHkgdG8gaGF2ZSBOYU4gdmFsdWVzLicsdGhpcyl9fSxjb21wdXRlRmFjZU5vcm1hbHM6ZnVuY3Rpb24oKXt9LGNvbXB1dGVUYW5nZW50czpmdW5jdGlvbigpe3ZhciB0PXRoaXMuaW5kZXgsZT10aGlzLmF0dHJpYnV0ZXM7aWYobnVsbCE9PXQmJnZvaWQgMCE9PWUucG9zaXRpb24mJnZvaWQgMCE9PWUubm9ybWFsJiZ2b2lkIDAhPT1lLnV2KXt2YXIgbj10LmFycmF5LGk9ZS5wb3NpdGlvbi5hcnJheSxyPWUubm9ybWFsLmFycmF5LGE9ZS51di5hcnJheSxvPWkubGVuZ3RoLzM7dm9pZCAwPT09ZS50YW5nZW50JiZ0aGlzLnNldEF0dHJpYnV0ZSgidGFuZ2VudCIsbmV3IGVuKG5ldyBGbG9hdDMyQXJyYXkoNCpvKSw0KSk7Zm9yKHZhciBzPWUudGFuZ2VudC5hcnJheSxjPVtdLGw9W10sdT0wO3U8bzt1KyspY1t1XT1uZXcgTHQsbFt1XT1uZXcgTHQ7dmFyIGg9bmV3IEx0LGQ9bmV3IEx0LHA9bmV3IEx0LGY9bmV3IHl0LG09bmV3IHl0LHY9bmV3IHl0LGc9bmV3IEx0LHk9bmV3IEx0LHg9dGhpcy5ncm91cHM7MD09PXgubGVuZ3RoJiYoeD1be3N0YXJ0OjAsY291bnQ6bi5sZW5ndGh9XSk7Zm9yKHZhciBfPTAsYj14Lmxlbmd0aDtfPGI7KytfKWZvcih2YXIgdz14W19dLE09dy5zdGFydCxTPU0sVD1NK3cuY291bnQ7UzxUO1MrPTMpQihuW1MrMF0sbltTKzFdLG5bUysyXSk7Zm9yKHZhciBFPW5ldyBMdCxBPW5ldyBMdCxMPW5ldyBMdCxSPW5ldyBMdCxDPTAsUD14Lmxlbmd0aDtDPFA7KytDKWZvcih2YXIgRD14W0NdLEk9RC5zdGFydCxPPUksTj1JK0QuY291bnQ7TzxOO08rPTMpeihuW08rMF0pLHoobltPKzFdKSx6KG5bTysyXSl9ZWxzZSBjb25zb2xlLmVycm9yKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmNvbXB1dGVUYW5nZW50cygpIGZhaWxlZC4gTWlzc2luZyByZXF1aXJlZCBhdHRyaWJ1dGVzIChpbmRleCwgcG9zaXRpb24sIG5vcm1hbCBvciB1dikiKTtmdW5jdGlvbiBCKHQsZSxuKXtoLmZyb21BcnJheShpLDMqdCksZC5mcm9tQXJyYXkoaSwzKmUpLHAuZnJvbUFycmF5KGksMypuKSxmLmZyb21BcnJheShhLDIqdCksbS5mcm9tQXJyYXkoYSwyKmUpLHYuZnJvbUFycmF5KGEsMipuKSxkLnN1YihoKSxwLnN1YihoKSxtLnN1YihmKSx2LnN1YihmKTt2YXIgcj0xLyhtLngqdi55LXYueCptLnkpO2lzRmluaXRlKHIpJiYoZy5jb3B5KGQpLm11bHRpcGx5U2NhbGFyKHYueSkuYWRkU2NhbGVkVmVjdG9yKHAsLW0ueSkubXVsdGlwbHlTY2FsYXIocikseS5jb3B5KHApLm11bHRpcGx5U2NhbGFyKG0ueCkuYWRkU2NhbGVkVmVjdG9yKGQsLXYueCkubXVsdGlwbHlTY2FsYXIociksY1t0XS5hZGQoZyksY1tlXS5hZGQoZyksY1tuXS5hZGQoZyksbFt0XS5hZGQoeSksbFtlXS5hZGQoeSksbFtuXS5hZGQoeSkpfWZ1bmN0aW9uIHoodCl7TC5mcm9tQXJyYXkociwzKnQpLFIuY29weShMKTt2YXIgZT1jW3RdO0UuY29weShlKSxFLnN1YihMLm11bHRpcGx5U2NhbGFyKEwuZG90KGUpKSkubm9ybWFsaXplKCksQS5jcm9zc1ZlY3RvcnMoUixlKTt2YXIgbj1BLmRvdChsW3RdKTwwPy0xOjE7c1s0KnRdPUUueCxzWzQqdCsxXT1FLnksc1s0KnQrMl09RS56LHNbNCp0KzNdPW59fSxjb21wdXRlVmVydGV4Tm9ybWFsczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuaW5kZXgsZT10aGlzLmdldEF0dHJpYnV0ZSgicG9zaXRpb24iKTtpZih2b2lkIDAhPT1lKXt2YXIgbj10aGlzLmdldEF0dHJpYnV0ZSgibm9ybWFsIik7aWYodm9pZCAwPT09biluPW5ldyBlbihuZXcgRmxvYXQzMkFycmF5KDMqZS5jb3VudCksMyksdGhpcy5zZXRBdHRyaWJ1dGUoIm5vcm1hbCIsbik7ZWxzZSBmb3IodmFyIGk9MCxyPW4uY291bnQ7aTxyO2krKyluLnNldFhZWihpLDAsMCwwKTt2YXIgYT1uZXcgTHQsbz1uZXcgTHQscz1uZXcgTHQsYz1uZXcgTHQsbD1uZXcgTHQsdT1uZXcgTHQsaD1uZXcgTHQsZD1uZXcgTHQ7aWYodClmb3IodmFyIHA9MCxmPXQuY291bnQ7cDxmO3ArPTMpe3ZhciBtPXQuZ2V0WChwKzApLHY9dC5nZXRYKHArMSksZz10LmdldFgocCsyKTthLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSxtKSxvLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSx2KSxzLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSxnKSxoLnN1YlZlY3RvcnMocyxvKSxkLnN1YlZlY3RvcnMoYSxvKSxoLmNyb3NzKGQpLGMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShuLG0pLGwuZnJvbUJ1ZmZlckF0dHJpYnV0ZShuLHYpLHUuZnJvbUJ1ZmZlckF0dHJpYnV0ZShuLGcpLGMuYWRkKGgpLGwuYWRkKGgpLHUuYWRkKGgpLG4uc2V0WFlaKG0sYy54LGMueSxjLnopLG4uc2V0WFlaKHYsbC54LGwueSxsLnopLG4uc2V0WFlaKGcsdS54LHUueSx1LnopfWVsc2UgZm9yKHZhciB5PTAseD1lLmNvdW50O3k8eDt5Kz0zKWEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShlLHkrMCksby5mcm9tQnVmZmVyQXR0cmlidXRlKGUseSsxKSxzLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSx5KzIpLGguc3ViVmVjdG9ycyhzLG8pLGQuc3ViVmVjdG9ycyhhLG8pLGguY3Jvc3MoZCksbi5zZXRYWVooeSswLGgueCxoLnksaC56KSxuLnNldFhZWih5KzEsaC54LGgueSxoLnopLG4uc2V0WFlaKHkrMixoLngsaC55LGgueik7dGhpcy5ub3JtYWxpemVOb3JtYWxzKCksbi5uZWVkc1VwZGF0ZT0hMH19LG1lcmdlOmZ1bmN0aW9uKHQsZSl7aWYodCYmdC5pc0J1ZmZlckdlb21ldHJ5KXt2b2lkIDA9PT1lJiYoZT0wLGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnkubWVyZ2UoKTogT3ZlcndyaXRpbmcgb3JpZ2luYWwgZ2VvbWV0cnksIHN0YXJ0aW5nIGF0IG9mZnNldD0wLiBVc2UgQnVmZmVyR2VvbWV0cnlVdGlscy5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmb3IgbG9zc2xlc3MgbWVyZ2UuIikpO3ZhciBuPXRoaXMuYXR0cmlidXRlcztmb3IodmFyIGkgaW4gbilpZih2b2lkIDAhPT10LmF0dHJpYnV0ZXNbaV0pZm9yKHZhciByPW5baV0uYXJyYXksYT10LmF0dHJpYnV0ZXNbaV0sbz1hLmFycmF5LHM9YS5pdGVtU2l6ZSplLGM9TWF0aC5taW4oby5sZW5ndGgsci5sZW5ndGgtcyksbD0wLHU9cztsPGM7bCsrLHUrKylyW3VdPW9bbF07cmV0dXJuIHRoaXN9Y29uc29sZS5lcnJvcigiVEhSRUUuQnVmZmVyR2VvbWV0cnkubWVyZ2UoKTogZ2VvbWV0cnkgbm90IGFuIGluc3RhbmNlIG9mIFRIUkVFLkJ1ZmZlckdlb21ldHJ5LiIsdCl9LG5vcm1hbGl6ZU5vcm1hbHM6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5hdHRyaWJ1dGVzLm5vcm1hbCxlPTAsbj10LmNvdW50O2U8bjtlKyspd24uZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGUpLHduLm5vcm1hbGl6ZSgpLHQuc2V0WFlaKGUsd24ueCx3bi55LHduLnopfSx0b05vbkluZGV4ZWQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPXQuYXJyYXksaT10Lml0ZW1TaXplLHI9dC5ub3JtYWxpemVkLGE9bmV3IG4uY29uc3RydWN0b3IoZS5sZW5ndGgqaSksbz0wLHM9MCxjPTAsbD1lLmxlbmd0aDtjPGw7YysrKXtvPWVbY10qaTtmb3IodmFyIHU9MDt1PGk7dSsrKWFbcysrXT1uW28rK119cmV0dXJuIG5ldyBlbihhLGkscil9aWYobnVsbD09PXRoaXMuaW5kZXgpcmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnkudG9Ob25JbmRleGVkKCk6IEJ1ZmZlckdlb21ldHJ5IGlzIGFscmVhZHkgbm9uLWluZGV4ZWQuIiksdGhpczt2YXIgZT1uZXcgTW4sbj10aGlzLmluZGV4LmFycmF5LGk9dGhpcy5hdHRyaWJ1dGVzO2Zvcih2YXIgciBpbiBpKXt2YXIgYT10KGlbcl0sbik7ZS5zZXRBdHRyaWJ1dGUocixhKX12YXIgbz10aGlzLm1vcnBoQXR0cmlidXRlcztmb3IodmFyIHMgaW4gbyl7Zm9yKHZhciBjPVtdLGw9b1tzXSx1PTAsaD1sLmxlbmd0aDt1PGg7dSsrKXt2YXIgZD10KGxbdV0sbik7Yy5wdXNoKGQpfWUubW9ycGhBdHRyaWJ1dGVzW3NdPWN9ZS5tb3JwaFRhcmdldHNSZWxhdGl2ZT10aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlO2Zvcih2YXIgcD10aGlzLmdyb3VwcyxmPTAsbT1wLmxlbmd0aDtmPG07ZisrKXt2YXIgdj1wW2ZdO2UuYWRkR3JvdXAodi5zdGFydCx2LmNvdW50LHYubWF0ZXJpYWxJbmRleCl9cmV0dXJuIGV9LHRvSlNPTjpmdW5jdGlvbigpe3ZhciB0PXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZToiQnVmZmVyR2VvbWV0cnkiLGdlbmVyYXRvcjoiQnVmZmVyR2VvbWV0cnkudG9KU09OIn19O2lmKHQudXVpZD10aGlzLnV1aWQsdC50eXBlPXRoaXMudHlwZSwiIiE9PXRoaXMubmFtZSYmKHQubmFtZT10aGlzLm5hbWUpLE9iamVjdC5rZXlzKHRoaXMudXNlckRhdGEpLmxlbmd0aD4wJiYodC51c2VyRGF0YT10aGlzLnVzZXJEYXRhKSx2b2lkIDAhPT10aGlzLnBhcmFtZXRlcnMpe3ZhciBlPXRoaXMucGFyYW1ldGVycztmb3IodmFyIG4gaW4gZSl2b2lkIDAhPT1lW25dJiYodFtuXT1lW25dKTtyZXR1cm4gdH10LmRhdGE9e2F0dHJpYnV0ZXM6e319O3ZhciBpPXRoaXMuaW5kZXg7bnVsbCE9PWkmJih0LmRhdGEuaW5kZXg9e3R5cGU6aS5hcnJheS5jb25zdHJ1Y3Rvci5uYW1lLGFycmF5OkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGkuYXJyYXkpfSk7dmFyIHI9dGhpcy5hdHRyaWJ1dGVzO2Zvcih2YXIgYSBpbiByKXt2YXIgbz1yW2FdLHM9by50b0pTT04odC5kYXRhKTsiIiE9PW8ubmFtZSYmKHMubmFtZT1vLm5hbWUpLHQuZGF0YS5hdHRyaWJ1dGVzW2FdPXN9dmFyIGM9e30sbD0hMTtmb3IodmFyIHUgaW4gdGhpcy5tb3JwaEF0dHJpYnV0ZXMpe2Zvcih2YXIgaD10aGlzLm1vcnBoQXR0cmlidXRlc1t1XSxkPVtdLHA9MCxmPWgubGVuZ3RoO3A8ZjtwKyspe3ZhciBtPWhbcF0sdj1tLnRvSlNPTih0LmRhdGEpOyIiIT09bS5uYW1lJiYodi5uYW1lPW0ubmFtZSksZC5wdXNoKHYpfWQubGVuZ3RoPjAmJihjW3VdPWQsbD0hMCl9bCYmKHQuZGF0YS5tb3JwaEF0dHJpYnV0ZXM9Yyx0LmRhdGEubW9ycGhUYXJnZXRzUmVsYXRpdmU9dGhpcy5tb3JwaFRhcmdldHNSZWxhdGl2ZSk7dmFyIGc9dGhpcy5ncm91cHM7Zy5sZW5ndGg+MCYmKHQuZGF0YS5ncm91cHM9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShnKSkpO3ZhciB5PXRoaXMuYm91bmRpbmdTcGhlcmU7cmV0dXJuIG51bGwhPT15JiYodC5kYXRhLmJvdW5kaW5nU3BoZXJlPXtjZW50ZXI6eS5jZW50ZXIudG9BcnJheSgpLHJhZGl1czp5LnJhZGl1c30pLHR9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBNbikuY29weSh0aGlzKX0sY29weTpmdW5jdGlvbih0KXt0aGlzLmluZGV4PW51bGwsdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMubW9ycGhBdHRyaWJ1dGVzPXt9LHRoaXMuZ3JvdXBzPVtdLHRoaXMuYm91bmRpbmdCb3g9bnVsbCx0aGlzLmJvdW5kaW5nU3BoZXJlPW51bGw7dmFyIGU9e307dGhpcy5uYW1lPXQubmFtZTt2YXIgbj10LmluZGV4O251bGwhPT1uJiZ0aGlzLnNldEluZGV4KG4uY2xvbmUoZSkpO3ZhciBpPXQuYXR0cmlidXRlcztmb3IodmFyIHIgaW4gaSl7dmFyIGE9aVtyXTt0aGlzLnNldEF0dHJpYnV0ZShyLGEuY2xvbmUoZSkpfXZhciBvPXQubW9ycGhBdHRyaWJ1dGVzO2Zvcih2YXIgcyBpbiBvKXtmb3IodmFyIGM9W10sbD1vW3NdLHU9MCxoPWwubGVuZ3RoO3U8aDt1KyspYy5wdXNoKGxbdV0uY2xvbmUoZSkpO3RoaXMubW9ycGhBdHRyaWJ1dGVzW3NdPWN9dGhpcy5tb3JwaFRhcmdldHNSZWxhdGl2ZT10Lm1vcnBoVGFyZ2V0c1JlbGF0aXZlO2Zvcih2YXIgZD10Lmdyb3VwcyxwPTAsZj1kLmxlbmd0aDtwPGY7cCsrKXt2YXIgbT1kW3BdO3RoaXMuYWRkR3JvdXAobS5zdGFydCxtLmNvdW50LG0ubWF0ZXJpYWxJbmRleCl9dmFyIHY9dC5ib3VuZGluZ0JveDtudWxsIT09diYmKHRoaXMuYm91bmRpbmdCb3g9di5jbG9uZSgpKTt2YXIgZz10LmJvdW5kaW5nU3BoZXJlO3JldHVybiBudWxsIT09ZyYmKHRoaXMuYm91bmRpbmdTcGhlcmU9Zy5jbG9uZSgpKSx0aGlzLmRyYXdSYW5nZS5zdGFydD10LmRyYXdSYW5nZS5zdGFydCx0aGlzLmRyYXdSYW5nZS5jb3VudD10LmRyYXdSYW5nZS5jb3VudCx0aGlzLnVzZXJEYXRhPXQudXNlckRhdGEsdGhpc30sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToiZGlzcG9zZSJ9KX19KTt2YXIgU249bmV3IG5lLFRuPW5ldyBlZSxFbj1uZXcgWHQsQW49bmV3IEx0LExuPW5ldyBMdCxSbj1uZXcgTHQsQ249bmV3IEx0LFBuPW5ldyBMdCxEbj1uZXcgTHQsSW49bmV3IEx0LE9uPW5ldyBMdCxObj1uZXcgTHQsQm49bmV3IHl0LHpuPW5ldyB5dCxGbj1uZXcgeXQsSG49bmV3IEx0LEduPW5ldyBMdDtmdW5jdGlvbiBVbih0LGUpe3ZvaWQgMD09PXQmJih0PW5ldyBNbiksdm9pZCAwPT09ZSYmKGU9bmV3IEtlKSxBZS5jYWxsKHRoaXMpLHRoaXMudHlwZT0iTWVzaCIsdGhpcy5nZW9tZXRyeT10LHRoaXMubWF0ZXJpYWw9ZSx0aGlzLnVwZGF0ZU1vcnBoVGFyZ2V0cygpfWZ1bmN0aW9uIGtuKHQsZSxuLGkscixhLG8scyxjLGwsdSxoKXtBbi5mcm9tQnVmZmVyQXR0cmlidXRlKHIsbCksTG4uZnJvbUJ1ZmZlckF0dHJpYnV0ZShyLHUpLFJuLmZyb21CdWZmZXJBdHRyaWJ1dGUocixoKTt2YXIgZD10Lm1vcnBoVGFyZ2V0SW5mbHVlbmNlcztpZihlLm1vcnBoVGFyZ2V0cyYmYSYmZCl7SW4uc2V0KDAsMCwwKSxPbi5zZXQoMCwwLDApLE5uLnNldCgwLDAsMCk7Zm9yKHZhciBwPTAsZj1hLmxlbmd0aDtwPGY7cCsrKXt2YXIgbT1kW3BdLHY9YVtwXTswIT09bSYmKENuLmZyb21CdWZmZXJBdHRyaWJ1dGUodixsKSxQbi5mcm9tQnVmZmVyQXR0cmlidXRlKHYsdSksRG4uZnJvbUJ1ZmZlckF0dHJpYnV0ZSh2LGgpLG8/KEluLmFkZFNjYWxlZFZlY3RvcihDbixtKSxPbi5hZGRTY2FsZWRWZWN0b3IoUG4sbSksTm4uYWRkU2NhbGVkVmVjdG9yKERuLG0pKTooSW4uYWRkU2NhbGVkVmVjdG9yKENuLnN1YihBbiksbSksT24uYWRkU2NhbGVkVmVjdG9yKFBuLnN1YihMbiksbSksTm4uYWRkU2NhbGVkVmVjdG9yKERuLnN1YihSbiksbSkpKX1Bbi5hZGQoSW4pLExuLmFkZChPbiksUm4uYWRkKE5uKX10LmlzU2tpbm5lZE1lc2gmJih0LmJvbmVUcmFuc2Zvcm0obCxBbiksdC5ib25lVHJhbnNmb3JtKHUsTG4pLHQuYm9uZVRyYW5zZm9ybShoLFJuKSk7dmFyIGc9ZnVuY3Rpb24odCxlLG4saSxyLGEsbyxzKXtpZihudWxsPT09KDE9PT1lLnNpZGU/aS5pbnRlcnNlY3RUcmlhbmdsZShvLGEsciwhMCxzKTppLmludGVyc2VjdFRyaWFuZ2xlKHIsYSxvLDIhPT1lLnNpZGUscykpKXJldHVybiBudWxsO0duLmNvcHkocyksR24uYXBwbHlNYXRyaXg0KHQubWF0cml4V29ybGQpO3ZhciBjPW4ucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKEduKTtyZXR1cm4gYzxuLm5lYXJ8fGM+bi5mYXI/bnVsbDp7ZGlzdGFuY2U6Yyxwb2ludDpHbi5jbG9uZSgpLG9iamVjdDp0fX0odCxlLG4saSxBbixMbixSbixIbik7aWYoZyl7cyYmKEJuLmZyb21CdWZmZXJBdHRyaWJ1dGUocyxsKSx6bi5mcm9tQnVmZmVyQXR0cmlidXRlKHMsdSksRm4uZnJvbUJ1ZmZlckF0dHJpYnV0ZShzLGgpLGcudXY9a2UuZ2V0VVYoSG4sQW4sTG4sUm4sQm4sem4sRm4sbmV3IHl0KSksYyYmKEJuLmZyb21CdWZmZXJBdHRyaWJ1dGUoYyxsKSx6bi5mcm9tQnVmZmVyQXR0cmlidXRlKGMsdSksRm4uZnJvbUJ1ZmZlckF0dHJpYnV0ZShjLGgpLGcudXYyPWtlLmdldFVWKEhuLEFuLExuLFJuLEJuLHpuLEZuLG5ldyB5dCkpO3ZhciB5PXthOmwsYjpsLGM6aCxub3JtYWw6bmV3IEx0LG1hdGVyaWFsSW5kZXg6MH07a2UuZ2V0Tm9ybWFsKEFuLExuLFJuLHkubm9ybWFsKSxnLmZhY2U9eX1yZXR1cm4gZ31Vbi5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEFlLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlVuLGlzTWVzaDohMCxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiBBZS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdm9pZCAwIT09dC5tb3JwaFRhcmdldEluZmx1ZW5jZXMmJih0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcz10Lm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5zbGljZSgpKSx2b2lkIDAhPT10Lm1vcnBoVGFyZ2V0RGljdGlvbmFyeSYmKHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5PU9iamVjdC5hc3NpZ24oe30sdC5tb3JwaFRhcmdldERpY3Rpb25hcnkpKSx0aGlzLm1hdGVyaWFsPXQubWF0ZXJpYWwsdGhpcy5nZW9tZXRyeT10Lmdlb21ldHJ5LHRoaXN9LHVwZGF0ZU1vcnBoVGFyZ2V0czpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2VvbWV0cnk7aWYodC5pc0J1ZmZlckdlb21ldHJ5KXt2YXIgZT10Lm1vcnBoQXR0cmlidXRlcyxuPU9iamVjdC5rZXlzKGUpO2lmKG4ubGVuZ3RoPjApe3ZhciBpPWVbblswXV07aWYodm9pZCAwIT09aSl7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXM9W10sdGhpcy5tb3JwaFRhcmdldERpY3Rpb25hcnk9e307Zm9yKHZhciByPTAsYT1pLmxlbmd0aDtyPGE7cisrKXt2YXIgbz1pW3JdLm5hbWV8fFN0cmluZyhyKTt0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5wdXNoKDApLHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5W29dPXJ9fX19ZWxzZXt2YXIgcz10Lm1vcnBoVGFyZ2V0czt2b2lkIDAhPT1zJiZzLmxlbmd0aD4wJiZjb25zb2xlLmVycm9yKCJUSFJFRS5NZXNoLnVwZGF0ZU1vcnBoVGFyZ2V0cygpIG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIil9fSxyYXljYXN0OmZ1bmN0aW9uKHQsZSl7dmFyIG4saT10aGlzLmdlb21ldHJ5LHI9dGhpcy5tYXRlcmlhbCxhPXRoaXMubWF0cml4V29ybGQ7aWYodm9pZCAwIT09ciYmKG51bGw9PT1pLmJvdW5kaW5nU3BoZXJlJiZpLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpLEVuLmNvcHkoaS5ib3VuZGluZ1NwaGVyZSksRW4uYXBwbHlNYXRyaXg0KGEpLCExIT09dC5yYXkuaW50ZXJzZWN0c1NwaGVyZShFbikmJihTbi5jb3B5KGEpLmludmVydCgpLFRuLmNvcHkodC5yYXkpLmFwcGx5TWF0cml4NChTbiksbnVsbD09PWkuYm91bmRpbmdCb3h8fCExIT09VG4uaW50ZXJzZWN0c0JveChpLmJvdW5kaW5nQm94KSkpKWlmKGkuaXNCdWZmZXJHZW9tZXRyeSl7dmFyIG89aS5pbmRleCxzPWkuYXR0cmlidXRlcy5wb3NpdGlvbixjPWkubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uLGw9aS5tb3JwaFRhcmdldHNSZWxhdGl2ZSx1PWkuYXR0cmlidXRlcy51dixoPWkuYXR0cmlidXRlcy51djIsZD1pLmdyb3VwcyxwPWkuZHJhd1JhbmdlO2lmKG51bGwhPT1vKWlmKEFycmF5LmlzQXJyYXkocikpZm9yKHZhciBmPTAsbT1kLmxlbmd0aDtmPG07ZisrKWZvcih2YXIgdj1kW2ZdLGc9clt2Lm1hdGVyaWFsSW5kZXhdLHk9TWF0aC5tYXgodi5zdGFydCxwLnN0YXJ0KSx4PU1hdGgubWluKHYuc3RhcnQrdi5jb3VudCxwLnN0YXJ0K3AuY291bnQpO3k8eDt5Kz0zKXt2YXIgXz1vLmdldFgoeSksYj1vLmdldFgoeSsxKSx3PW8uZ2V0WCh5KzIpOyhuPWtuKHRoaXMsZyx0LFRuLHMsYyxsLHUsaCxfLGIsdykpJiYobi5mYWNlSW5kZXg9TWF0aC5mbG9vcih5LzMpLG4uZmFjZS5tYXRlcmlhbEluZGV4PXYubWF0ZXJpYWxJbmRleCxlLnB1c2gobikpfWVsc2UgZm9yKHZhciBNPU1hdGgubWF4KDAscC5zdGFydCksUz1NYXRoLm1pbihvLmNvdW50LHAuc3RhcnQrcC5jb3VudCk7TTxTO00rPTMpe3ZhciBUPW8uZ2V0WChNKSxFPW8uZ2V0WChNKzEpLEE9by5nZXRYKE0rMik7KG49a24odGhpcyxyLHQsVG4scyxjLGwsdSxoLFQsRSxBKSkmJihuLmZhY2VJbmRleD1NYXRoLmZsb29yKE0vMyksZS5wdXNoKG4pKX1lbHNlIGlmKHZvaWQgMCE9PXMpaWYoQXJyYXkuaXNBcnJheShyKSlmb3IodmFyIEw9MCxSPWQubGVuZ3RoO0w8UjtMKyspZm9yKHZhciBDPWRbTF0sUD1yW0MubWF0ZXJpYWxJbmRleF0sRD1NYXRoLm1heChDLnN0YXJ0LHAuc3RhcnQpLEk9TWF0aC5taW4oQy5zdGFydCtDLmNvdW50LHAuc3RhcnQrcC5jb3VudCk7RDxJO0QrPTMpeyhuPWtuKHRoaXMsUCx0LFRuLHMsYyxsLHUsaCxELEQrMSxEKzIpKSYmKG4uZmFjZUluZGV4PU1hdGguZmxvb3IoRC8zKSxuLmZhY2UubWF0ZXJpYWxJbmRleD1DLm1hdGVyaWFsSW5kZXgsZS5wdXNoKG4pKX1lbHNlIGZvcih2YXIgTz1NYXRoLm1heCgwLHAuc3RhcnQpLE49TWF0aC5taW4ocy5jb3VudCxwLnN0YXJ0K3AuY291bnQpO088TjtPKz0zKXsobj1rbih0aGlzLHIsdCxUbixzLGMsbCx1LGgsTyxPKzEsTysyKSkmJihuLmZhY2VJbmRleD1NYXRoLmZsb29yKE8vMyksZS5wdXNoKG4pKX19ZWxzZSBpLmlzR2VvbWV0cnkmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLk1lc2gucmF5Y2FzdCgpIG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIil9fSk7dmFyIFZuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixhLG8pe3ZhciBzO3ZvaWQgMD09PWUmJihlPTEpLHZvaWQgMD09PW4mJihuPTEpLHZvaWQgMD09PWkmJihpPTEpLHZvaWQgMD09PXImJihyPTEpLHZvaWQgMD09PWEmJihhPTEpLHZvaWQgMD09PW8mJihvPTEpLChzPXQuY2FsbCh0aGlzKXx8dGhpcykudHlwZT0iQm94R2VvbWV0cnkiLHMucGFyYW1ldGVycz17d2lkdGg6ZSxoZWlnaHQ6bixkZXB0aDppLHdpZHRoU2VnbWVudHM6cixoZWlnaHRTZWdtZW50czphLGRlcHRoU2VnbWVudHM6b307dmFyIGM9bHQocyk7cj1NYXRoLmZsb29yKHIpLGE9TWF0aC5mbG9vcihhKSxvPU1hdGguZmxvb3Iobyk7dmFyIGw9W10sdT1bXSxoPVtdLGQ9W10scD0wLGY9MDtmdW5jdGlvbiBtKHQsZSxuLGkscixhLG8scyxtLHYsZyl7Zm9yKHZhciB5PWEvbSx4PW8vdixfPWEvMixiPW8vMix3PXMvMixNPW0rMSxTPXYrMSxUPTAsRT0wLEE9bmV3IEx0LEw9MDtMPFM7TCsrKWZvcih2YXIgUj1MKngtYixDPTA7QzxNO0MrKyl7dmFyIFA9Qyp5LV87QVt0XT1QKmksQVtlXT1SKnIsQVtuXT13LHUucHVzaChBLngsQS55LEEueiksQVt0XT0wLEFbZV09MCxBW25dPXM+MD8xOi0xLGgucHVzaChBLngsQS55LEEueiksZC5wdXNoKEMvbSksZC5wdXNoKDEtTC92KSxUKz0xfWZvcih2YXIgRD0wO0Q8djtEKyspZm9yKHZhciBJPTA7STxtO0krKyl7dmFyIE89cCtJK00qRCxOPXArSStNKihEKzEpLEI9cCsoSSsxKStNKihEKzEpLHo9cCsoSSsxKStNKkQ7bC5wdXNoKE8sTix6KSxsLnB1c2goTixCLHopLEUrPTZ9Yy5hZGRHcm91cChmLEUsZyksZis9RSxwKz1UfXJldHVybiBtKCJ6IiwieSIsIngiLC0xLC0xLGksbixlLG8sYSwwKSxtKCJ6IiwieSIsIngiLDEsLTEsaSxuLC1lLG8sYSwxKSxtKCJ4IiwieiIsInkiLDEsMSxlLGksbixyLG8sMiksbSgieCIsInoiLCJ5IiwxLC0xLGUsaSwtbixyLG8sMyksbSgieCIsInkiLCJ6IiwxLC0xLGUsbixpLHIsYSw0KSxtKCJ4IiwieSIsInoiLC0xLC0xLGUsbiwtaSxyLGEsNSkscy5zZXRJbmRleChsKSxzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBobih1LDMpKSxzLnNldEF0dHJpYnV0ZSgibm9ybWFsIixuZXcgaG4oaCwzKSkscy5zZXRBdHRyaWJ1dGUoInV2IixuZXcgaG4oZCwyKSksc31yZXR1cm4gY3QoZSx0KSxlfShNbik7ZnVuY3Rpb24gV24odCl7dmFyIGU9e307Zm9yKHZhciBuIGluIHQpZm9yKHZhciBpIGluIGVbbl09e30sdFtuXSl7dmFyIHI9dFtuXVtpXTtyJiYoci5pc0NvbG9yfHxyLmlzTWF0cml4M3x8ci5pc01hdHJpeDR8fHIuaXNWZWN0b3IyfHxyLmlzVmVjdG9yM3x8ci5pc1ZlY3RvcjR8fHIuaXNUZXh0dXJlKT9lW25dW2ldPXIuY2xvbmUoKTpBcnJheS5pc0FycmF5KHIpP2Vbbl1baV09ci5zbGljZSgpOmVbbl1baV09cn1yZXR1cm4gZX1mdW5jdGlvbiBqbih0KXtmb3IodmFyIGU9e30sbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT1Xbih0W25dKTtmb3IodmFyIHIgaW4gaSllW3JdPWlbcl19cmV0dXJuIGV9dmFyIHFuPXtjbG9uZTpXbixtZXJnZTpqbn07ZnVuY3Rpb24gWG4odCl7V2UuY2FsbCh0aGlzKSx0aGlzLnR5cGU9IlNoYWRlck1hdGVyaWFsIix0aGlzLmRlZmluZXM9e30sdGhpcy51bmlmb3Jtcz17fSx0aGlzLnZlcnRleFNoYWRlcj0idm9pZCBtYWluKCkge1xuXHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59Iix0aGlzLmZyYWdtZW50U2hhZGVyPSJ2b2lkIG1haW4oKSB7XG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoIDEuMCwgMC4wLCAwLjAsIDEuMCApO1xufSIsdGhpcy5saW5ld2lkdGg9MSx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMuZm9nPSExLHRoaXMubGlnaHRzPSExLHRoaXMuY2xpcHBpbmc9ITEsdGhpcy5za2lubmluZz0hMSx0aGlzLm1vcnBoVGFyZ2V0cz0hMSx0aGlzLm1vcnBoTm9ybWFscz0hMSx0aGlzLmV4dGVuc2lvbnM9e2Rlcml2YXRpdmVzOiExLGZyYWdEZXB0aDohMSxkcmF3QnVmZmVyczohMSxzaGFkZXJUZXh0dXJlTE9EOiExfSx0aGlzLmRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXM9e2NvbG9yOlsxLDEsMV0sdXY6WzAsMF0sdXYyOlswLDBdfSx0aGlzLmluZGV4MEF0dHJpYnV0ZU5hbWU9dm9pZCAwLHRoaXMudW5pZm9ybXNOZWVkVXBkYXRlPSExLHRoaXMuZ2xzbFZlcnNpb249bnVsbCx2b2lkIDAhPT10JiYodm9pZCAwIT09dC5hdHRyaWJ1dGVzJiZjb25zb2xlLmVycm9yKCJUSFJFRS5TaGFkZXJNYXRlcmlhbDogYXR0cmlidXRlcyBzaG91bGQgbm93IGJlIGRlZmluZWQgaW4gVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKSx0aGlzLnNldFZhbHVlcyh0KSl9ZnVuY3Rpb24gWW4oKXtBZS5jYWxsKHRoaXMpLHRoaXMudHlwZT0iQ2FtZXJhIix0aGlzLm1hdHJpeFdvcmxkSW52ZXJzZT1uZXcgbmUsdGhpcy5wcm9qZWN0aW9uTWF0cml4PW5ldyBuZSx0aGlzLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlPW5ldyBuZX1mdW5jdGlvbiBabih0LGUsbixpKXt2b2lkIDA9PT10JiYodD01MCksdm9pZCAwPT09ZSYmKGU9MSksdm9pZCAwPT09biYmKG49LjEpLHZvaWQgMD09PWkmJihpPTJlMyksWW4uY2FsbCh0aGlzKSx0aGlzLnR5cGU9IlBlcnNwZWN0aXZlQ2FtZXJhIix0aGlzLmZvdj10LHRoaXMuem9vbT0xLHRoaXMubmVhcj1uLHRoaXMuZmFyPWksdGhpcy5mb2N1cz0xMCx0aGlzLmFzcGVjdD1lLHRoaXMudmlldz1udWxsLHRoaXMuZmlsbUdhdWdlPTM1LHRoaXMuZmlsbU9mZnNldD0wLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfVhuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFdlLnByb3RvdHlwZSksWG4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPVhuLFhuLnByb3RvdHlwZS5pc1NoYWRlck1hdGVyaWFsPSEwLFhuLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiBXZS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5mcmFnbWVudFNoYWRlcj10LmZyYWdtZW50U2hhZGVyLHRoaXMudmVydGV4U2hhZGVyPXQudmVydGV4U2hhZGVyLHRoaXMudW5pZm9ybXM9V24odC51bmlmb3JtcyksdGhpcy5kZWZpbmVzPU9iamVjdC5hc3NpZ24oe30sdC5kZWZpbmVzKSx0aGlzLndpcmVmcmFtZT10LndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD10LndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzLmxpZ2h0cz10LmxpZ2h0cyx0aGlzLmNsaXBwaW5nPXQuY2xpcHBpbmcsdGhpcy5za2lubmluZz10LnNraW5uaW5nLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXMubW9ycGhOb3JtYWxzPXQubW9ycGhOb3JtYWxzLHRoaXMuZXh0ZW5zaW9ucz1PYmplY3QuYXNzaWduKHt9LHQuZXh0ZW5zaW9ucyksdGhpcy5nbHNsVmVyc2lvbj10Lmdsc2xWZXJzaW9uLHRoaXN9LFhuLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24odCl7dmFyIGU9V2UucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsdCk7Zm9yKHZhciBuIGluIGUuZ2xzbFZlcnNpb249dGhpcy5nbHNsVmVyc2lvbixlLnVuaWZvcm1zPXt9LHRoaXMudW5pZm9ybXMpe3ZhciBpPXRoaXMudW5pZm9ybXNbbl0udmFsdWU7aSYmaS5pc1RleHR1cmU/ZS51bmlmb3Jtc1tuXT17dHlwZToidCIsdmFsdWU6aS50b0pTT04odCkudXVpZH06aSYmaS5pc0NvbG9yP2UudW5pZm9ybXNbbl09e3R5cGU6ImMiLHZhbHVlOmkuZ2V0SGV4KCl9OmkmJmkuaXNWZWN0b3IyP2UudW5pZm9ybXNbbl09e3R5cGU6InYyIix2YWx1ZTppLnRvQXJyYXkoKX06aSYmaS5pc1ZlY3RvcjM/ZS51bmlmb3Jtc1tuXT17dHlwZToidjMiLHZhbHVlOmkudG9BcnJheSgpfTppJiZpLmlzVmVjdG9yND9lLnVuaWZvcm1zW25dPXt0eXBlOiJ2NCIsdmFsdWU6aS50b0FycmF5KCl9OmkmJmkuaXNNYXRyaXgzP2UudW5pZm9ybXNbbl09e3R5cGU6Im0zIix2YWx1ZTppLnRvQXJyYXkoKX06aSYmaS5pc01hdHJpeDQ/ZS51bmlmb3Jtc1tuXT17dHlwZToibTQiLHZhbHVlOmkudG9BcnJheSgpfTplLnVuaWZvcm1zW25dPXt2YWx1ZTppfX1PYmplY3Qua2V5cyh0aGlzLmRlZmluZXMpLmxlbmd0aD4wJiYoZS5kZWZpbmVzPXRoaXMuZGVmaW5lcyksZS52ZXJ0ZXhTaGFkZXI9dGhpcy52ZXJ0ZXhTaGFkZXIsZS5mcmFnbWVudFNoYWRlcj10aGlzLmZyYWdtZW50U2hhZGVyO3ZhciByPXt9O2Zvcih2YXIgYSBpbiB0aGlzLmV4dGVuc2lvbnMpITA9PT10aGlzLmV4dGVuc2lvbnNbYV0mJihyW2FdPSEwKTtyZXR1cm4gT2JqZWN0LmtleXMocikubGVuZ3RoPjAmJihlLmV4dGVuc2lvbnM9ciksZX0sWW4ucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShBZS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpZbixpc0NhbWVyYTohMCxjb3B5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEFlLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0LGUpLHRoaXMubWF0cml4V29ybGRJbnZlcnNlLmNvcHkodC5tYXRyaXhXb3JsZEludmVyc2UpLHRoaXMucHJvamVjdGlvbk1hdHJpeC5jb3B5KHQucHJvamVjdGlvbk1hdHJpeCksdGhpcy5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZS5jb3B5KHQucHJvamVjdGlvbk1hdHJpeEludmVyc2UpLHRoaXN9LGdldFdvcmxkRGlyZWN0aW9uOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oIlRIUkVFLkNhbWVyYTogLmdldFdvcmxkRGlyZWN0aW9uKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLHQ9bmV3IEx0KSx0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KCEwLCExKTt2YXIgZT10aGlzLm1hdHJpeFdvcmxkLmVsZW1lbnRzO3JldHVybiB0LnNldCgtZVs4XSwtZVs5XSwtZVsxMF0pLm5vcm1hbGl6ZSgpfSx1cGRhdGVNYXRyaXhXb3JsZDpmdW5jdGlvbih0KXtBZS5wcm90b3R5cGUudXBkYXRlTWF0cml4V29ybGQuY2FsbCh0aGlzLHQpLHRoaXMubWF0cml4V29ybGRJbnZlcnNlLmNvcHkodGhpcy5tYXRyaXhXb3JsZCkuaW52ZXJ0KCl9LHVwZGF0ZVdvcmxkTWF0cml4OmZ1bmN0aW9uKHQsZSl7QWUucHJvdG90eXBlLnVwZGF0ZVdvcmxkTWF0cml4LmNhbGwodGhpcyx0LGUpLHRoaXMubWF0cml4V29ybGRJbnZlcnNlLmNvcHkodGhpcy5tYXRyaXhXb3JsZCkuaW52ZXJ0KCl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfX0pLFpuLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoWW4ucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6Wm4saXNQZXJzcGVjdGl2ZUNhbWVyYTohMCxjb3B5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFluLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0LGUpLHRoaXMuZm92PXQuZm92LHRoaXMuem9vbT10Lnpvb20sdGhpcy5uZWFyPXQubmVhcix0aGlzLmZhcj10LmZhcix0aGlzLmZvY3VzPXQuZm9jdXMsdGhpcy5hc3BlY3Q9dC5hc3BlY3QsdGhpcy52aWV3PW51bGw9PT10LnZpZXc/bnVsbDpPYmplY3QuYXNzaWduKHt9LHQudmlldyksdGhpcy5maWxtR2F1Z2U9dC5maWxtR2F1Z2UsdGhpcy5maWxtT2Zmc2V0PXQuZmlsbU9mZnNldCx0aGlzfSxzZXRGb2NhbExlbmd0aDpmdW5jdGlvbih0KXt2YXIgZT0uNSp0aGlzLmdldEZpbG1IZWlnaHQoKS90O3RoaXMuZm92PTIqZ3QuUkFEMkRFRypNYXRoLmF0YW4oZSksdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9LGdldEZvY2FsTGVuZ3RoOmZ1bmN0aW9uKCl7dmFyIHQ9TWF0aC50YW4oLjUqZ3QuREVHMlJBRCp0aGlzLmZvdik7cmV0dXJuLjUqdGhpcy5nZXRGaWxtSGVpZ2h0KCkvdH0sZ2V0RWZmZWN0aXZlRk9WOmZ1bmN0aW9uKCl7cmV0dXJuIDIqZ3QuUkFEMkRFRypNYXRoLmF0YW4oTWF0aC50YW4oLjUqZ3QuREVHMlJBRCp0aGlzLmZvdikvdGhpcy56b29tKX0sZ2V0RmlsbVdpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsbUdhdWdlKk1hdGgubWluKHRoaXMuYXNwZWN0LDEpfSxnZXRGaWxtSGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsbUdhdWdlL01hdGgubWF4KHRoaXMuYXNwZWN0LDEpfSxzZXRWaWV3T2Zmc2V0OmZ1bmN0aW9uKHQsZSxuLGkscixhKXt0aGlzLmFzcGVjdD10L2UsbnVsbD09PXRoaXMudmlldyYmKHRoaXMudmlldz17ZW5hYmxlZDohMCxmdWxsV2lkdGg6MSxmdWxsSGVpZ2h0OjEsb2Zmc2V0WDowLG9mZnNldFk6MCx3aWR0aDoxLGhlaWdodDoxfSksdGhpcy52aWV3LmVuYWJsZWQ9ITAsdGhpcy52aWV3LmZ1bGxXaWR0aD10LHRoaXMudmlldy5mdWxsSGVpZ2h0PWUsdGhpcy52aWV3Lm9mZnNldFg9bix0aGlzLnZpZXcub2Zmc2V0WT1pLHRoaXMudmlldy53aWR0aD1yLHRoaXMudmlldy5oZWlnaHQ9YSx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX0sY2xlYXJWaWV3T2Zmc2V0OmZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMudmlldyYmKHRoaXMudmlldy5lbmFibGVkPSExKSx0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX0sdXBkYXRlUHJvamVjdGlvbk1hdHJpeDpmdW5jdGlvbigpe3ZhciB0PXRoaXMubmVhcixlPXQqTWF0aC50YW4oLjUqZ3QuREVHMlJBRCp0aGlzLmZvdikvdGhpcy56b29tLG49MiplLGk9dGhpcy5hc3BlY3QqbixyPS0uNSppLGE9dGhpcy52aWV3O2lmKG51bGwhPT10aGlzLnZpZXcmJnRoaXMudmlldy5lbmFibGVkKXt2YXIgbz1hLmZ1bGxXaWR0aCxzPWEuZnVsbEhlaWdodDtyKz1hLm9mZnNldFgqaS9vLGUtPWEub2Zmc2V0WSpuL3MsaSo9YS53aWR0aC9vLG4qPWEuaGVpZ2h0L3N9dmFyIGM9dGhpcy5maWxtT2Zmc2V0OzAhPT1jJiYocis9dCpjL3RoaXMuZ2V0RmlsbVdpZHRoKCkpLHRoaXMucHJvamVjdGlvbk1hdHJpeC5tYWtlUGVyc3BlY3RpdmUocixyK2ksZSxlLW4sdCx0aGlzLmZhciksdGhpcy5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMucHJvamVjdGlvbk1hdHJpeCkuaW52ZXJ0KCl9LHRvSlNPTjpmdW5jdGlvbih0KXt2YXIgZT1BZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyx0KTtyZXR1cm4gZS5vYmplY3QuZm92PXRoaXMuZm92LGUub2JqZWN0Lnpvb209dGhpcy56b29tLGUub2JqZWN0Lm5lYXI9dGhpcy5uZWFyLGUub2JqZWN0LmZhcj10aGlzLmZhcixlLm9iamVjdC5mb2N1cz10aGlzLmZvY3VzLGUub2JqZWN0LmFzcGVjdD10aGlzLmFzcGVjdCxudWxsIT09dGhpcy52aWV3JiYoZS5vYmplY3Qudmlldz1PYmplY3QuYXNzaWduKHt9LHRoaXMudmlldykpLGUub2JqZWN0LmZpbG1HYXVnZT10aGlzLmZpbG1HYXVnZSxlLm9iamVjdC5maWxtT2Zmc2V0PXRoaXMuZmlsbU9mZnNldCxlfX0pO3ZhciBKbj05MDtmdW5jdGlvbiBRbih0LGUsbil7aWYoQWUuY2FsbCh0aGlzKSx0aGlzLnR5cGU9IkN1YmVDYW1lcmEiLCEwPT09bi5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldCl7dGhpcy5yZW5kZXJUYXJnZXQ9bjt2YXIgaT1uZXcgWm4oSm4sMSx0LGUpO2kubGF5ZXJzPXRoaXMubGF5ZXJzLGkudXAuc2V0KDAsLTEsMCksaS5sb29rQXQobmV3IEx0KDEsMCwwKSksdGhpcy5hZGQoaSk7dmFyIHI9bmV3IFpuKEpuLDEsdCxlKTtyLmxheWVycz10aGlzLmxheWVycyxyLnVwLnNldCgwLC0xLDApLHIubG9va0F0KG5ldyBMdCgtMSwwLDApKSx0aGlzLmFkZChyKTt2YXIgYT1uZXcgWm4oSm4sMSx0LGUpO2EubGF5ZXJzPXRoaXMubGF5ZXJzLGEudXAuc2V0KDAsMCwxKSxhLmxvb2tBdChuZXcgTHQoMCwxLDApKSx0aGlzLmFkZChhKTt2YXIgbz1uZXcgWm4oSm4sMSx0LGUpO28ubGF5ZXJzPXRoaXMubGF5ZXJzLG8udXAuc2V0KDAsMCwtMSksby5sb29rQXQobmV3IEx0KDAsLTEsMCkpLHRoaXMuYWRkKG8pO3ZhciBzPW5ldyBabihKbiwxLHQsZSk7cy5sYXllcnM9dGhpcy5sYXllcnMscy51cC5zZXQoMCwtMSwwKSxzLmxvb2tBdChuZXcgTHQoMCwwLDEpKSx0aGlzLmFkZChzKTt2YXIgYz1uZXcgWm4oSm4sMSx0LGUpO2MubGF5ZXJzPXRoaXMubGF5ZXJzLGMudXAuc2V0KDAsLTEsMCksYy5sb29rQXQobmV3IEx0KDAsMCwtMSkpLHRoaXMuYWRkKGMpLHRoaXMudXBkYXRlPWZ1bmN0aW9uKHQsZSl7bnVsbD09PXRoaXMucGFyZW50JiZ0aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKCk7dmFyIGw9dC54ci5lbmFibGVkLHU9dC5nZXRSZW5kZXJUYXJnZXQoKTt0LnhyLmVuYWJsZWQ9ITE7dmFyIGg9bi50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcztuLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPSExLHQuc2V0UmVuZGVyVGFyZ2V0KG4sMCksdC5yZW5kZXIoZSxpKSx0LnNldFJlbmRlclRhcmdldChuLDEpLHQucmVuZGVyKGUsciksdC5zZXRSZW5kZXJUYXJnZXQobiwyKSx0LnJlbmRlcihlLGEpLHQuc2V0UmVuZGVyVGFyZ2V0KG4sMyksdC5yZW5kZXIoZSxvKSx0LnNldFJlbmRlclRhcmdldChuLDQpLHQucmVuZGVyKGUscyksbi50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz1oLHQuc2V0UmVuZGVyVGFyZ2V0KG4sNSksdC5yZW5kZXIoZSxjKSx0LnNldFJlbmRlclRhcmdldCh1KSx0LnhyLmVuYWJsZWQ9bH19ZWxzZSBjb25zb2xlLmVycm9yKCJUSFJFRS5DdWJlQ2FtZXJhOiBUaGUgY29uc3RydWN0b3Igbm93IGV4cGVjdHMgYW4gaW5zdGFuY2Ugb2YgV2ViR0xDdWJlUmVuZGVyVGFyZ2V0IGFzIHRoaXJkIHBhcmFtZXRlci4iKX1mdW5jdGlvbiBLbih0LGUsbixpLHIsbyxzLGMsbCx1KXt0PXZvaWQgMCE9PXQ/dDpbXSxlPXZvaWQgMCE9PWU/ZTphLHM9dm9pZCAwIT09cz9zOkUsd3QuY2FsbCh0aGlzLHQsZSxuLGkscixvLHMsYyxsLHUpLHRoaXMuZmxpcFk9ITEsdGhpcy5fbmVlZHNGbGlwRW52TWFwPSEwfVFuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEFlLnByb3RvdHlwZSksUW4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPVFuLEtuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHd0LnByb3RvdHlwZSksS24ucHJvdG90eXBlLmNvbnN0cnVjdG9yPUtuLEtuLnByb3RvdHlwZS5pc0N1YmVUZXh0dXJlPSEwLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShLbi5wcm90b3R5cGUsImltYWdlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltYWdlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5pbWFnZT10fX0pO3ZhciAkbj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcjtyZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihuKSYmKGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xDdWJlUmVuZGVyVGFyZ2V0OiBjb25zdHJ1Y3RvciBzaWduYXR1cmUgaXMgbm93IFdlYkdMQ3ViZVJlbmRlclRhcmdldCggc2l6ZSwgb3B0aW9ucyApIiksbj1pKSxyPXQuY2FsbCh0aGlzLGUsZSxuKXx8dGhpcyxPYmplY3QuZGVmaW5lUHJvcGVydHkobHQociksImlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0Iix7dmFsdWU6ITB9KSxuPW58fHt9LHIudGV4dHVyZT1uZXcgS24odm9pZCAwLG4ubWFwcGluZyxuLndyYXBTLG4ud3JhcFQsbi5tYWdGaWx0ZXIsbi5taW5GaWx0ZXIsbi5mb3JtYXQsbi50eXBlLG4uYW5pc290cm9weSxuLmVuY29kaW5nKSxyLnRleHR1cmUuX25lZWRzRmxpcEVudk1hcD0hMSxyfWN0KGUsdCk7dmFyIG49ZS5wcm90b3R5cGU7cmV0dXJuIG4uZnJvbUVxdWlyZWN0YW5ndWxhclRleHR1cmU9ZnVuY3Rpb24odCxlKXt0aGlzLnRleHR1cmUudHlwZT1lLnR5cGUsdGhpcy50ZXh0dXJlLmZvcm1hdD1BLHRoaXMudGV4dHVyZS5lbmNvZGluZz1lLmVuY29kaW5nLHRoaXMudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9ZS5nZW5lcmF0ZU1pcG1hcHMsdGhpcy50ZXh0dXJlLm1pbkZpbHRlcj1lLm1pbkZpbHRlcix0aGlzLnRleHR1cmUubWFnRmlsdGVyPWUubWFnRmlsdGVyO3ZhciBuPXt0RXF1aXJlY3Q6e3ZhbHVlOm51bGx9fSxpPSJcblxuXHRcdFx0XHR2YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1xuXG5cdFx0XHRcdHZlYzMgdHJhbnNmb3JtRGlyZWN0aW9uKCBpbiB2ZWMzIGRpciwgaW4gbWF0NCBtYXRyaXggKSB7XG5cblx0XHRcdFx0XHRyZXR1cm4gbm9ybWFsaXplKCAoIG1hdHJpeCAqIHZlYzQoIGRpciwgMC4wICkgKS54eXogKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0dm9pZCBtYWluKCkge1xuXG5cdFx0XHRcdFx0dldvcmxkRGlyZWN0aW9uID0gdHJhbnNmb3JtRGlyZWN0aW9uKCBwb3NpdGlvbiwgbW9kZWxNYXRyaXggKTtcblxuXHRcdFx0XHRcdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdFx0XHRcdFx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuXG5cdFx0XHRcdH1cblx0XHRcdCIscj0iXG5cblx0XHRcdFx0dW5pZm9ybSBzYW1wbGVyMkQgdEVxdWlyZWN0O1xuXG5cdFx0XHRcdHZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247XG5cblx0XHRcdFx0I2luY2x1ZGUgPGNvbW1vbj5cblxuXHRcdFx0XHR2b2lkIG1haW4oKSB7XG5cblx0XHRcdFx0XHR2ZWMzIGRpcmVjdGlvbiA9IG5vcm1hbGl6ZSggdldvcmxkRGlyZWN0aW9uICk7XG5cblx0XHRcdFx0XHR2ZWMyIHNhbXBsZVVWID0gZXF1aXJlY3RVdiggZGlyZWN0aW9uICk7XG5cblx0XHRcdFx0XHRnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQoIHRFcXVpcmVjdCwgc2FtcGxlVVYgKTtcblxuXHRcdFx0XHR9XG5cdFx0XHQiLGE9bmV3IFZuKDUsNSw1KSxvPW5ldyBYbih7bmFtZToiQ3ViZW1hcEZyb21FcXVpcmVjdCIsdW5pZm9ybXM6V24obiksdmVydGV4U2hhZGVyOmksZnJhZ21lbnRTaGFkZXI6cixzaWRlOjEsYmxlbmRpbmc6MH0pO28udW5pZm9ybXMudEVxdWlyZWN0LnZhbHVlPWU7dmFyIHM9bmV3IFVuKGEsbyksYz1lLm1pbkZpbHRlcjtyZXR1cm4gZS5taW5GaWx0ZXI9PT14JiYoZS5taW5GaWx0ZXI9ZyksbmV3IFFuKDEsMTAsdGhpcykudXBkYXRlKHQscyksZS5taW5GaWx0ZXI9YyxzLmdlb21ldHJ5LmRpc3Bvc2UoKSxzLm1hdGVyaWFsLmRpc3Bvc2UoKSx0aGlzfSxuLmNsZWFyPWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcj10LmdldFJlbmRlclRhcmdldCgpLGE9MDthPDY7YSsrKXQuc2V0UmVuZGVyVGFyZ2V0KHRoaXMsYSksdC5jbGVhcihlLG4saSk7dC5zZXRSZW5kZXJUYXJnZXQocil9LGV9KFR0KTtmdW5jdGlvbiB0aSh0LGUsbixpLHIsYSxvLHMsYyxsLHUsaCl7d3QuY2FsbCh0aGlzLG51bGwsYSxvLHMsYyxsLGkscix1LGgpLHRoaXMuaW1hZ2U9e2RhdGE6dHx8bnVsbCx3aWR0aDplfHwxLGhlaWdodDpufHwxfSx0aGlzLm1hZ0ZpbHRlcj12b2lkIDAhPT1jP2M6Zix0aGlzLm1pbkZpbHRlcj12b2lkIDAhPT1sP2w6Zix0aGlzLmdlbmVyYXRlTWlwbWFwcz0hMSx0aGlzLmZsaXBZPSExLHRoaXMudW5wYWNrQWxpZ25tZW50PTEsdGhpcy5uZWVkc1VwZGF0ZT0hMH10aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3dC5wcm90b3R5cGUpLHRpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10aSx0aS5wcm90b3R5cGUuaXNEYXRhVGV4dHVyZT0hMDt2YXIgZWk9bmV3IFh0LG5pPW5ldyBMdCxpaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4saSxyLGEpe3RoaXMucGxhbmVzPVt2b2lkIDAhPT10P3Q6bmV3IFBlLHZvaWQgMCE9PWU/ZTpuZXcgUGUsdm9pZCAwIT09bj9uOm5ldyBQZSx2b2lkIDAhPT1pP2k6bmV3IFBlLHZvaWQgMCE9PXI/cjpuZXcgUGUsdm9pZCAwIT09YT9hOm5ldyBQZV19dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUuc2V0PWZ1bmN0aW9uKHQsZSxuLGkscixhKXt2YXIgbz10aGlzLnBsYW5lcztyZXR1cm4gb1swXS5jb3B5KHQpLG9bMV0uY29weShlKSxvWzJdLmNvcHkobiksb1szXS5jb3B5KGkpLG9bNF0uY29weShyKSxvWzVdLmNvcHkoYSksdGhpc30sZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sZS5jb3B5PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnBsYW5lcyxuPTA7bjw2O24rKyllW25dLmNvcHkodC5wbGFuZXNbbl0pO3JldHVybiB0aGlzfSxlLnNldEZyb21Qcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucGxhbmVzLG49dC5lbGVtZW50cyxpPW5bMF0scj1uWzFdLGE9blsyXSxvPW5bM10scz1uWzRdLGM9bls1XSxsPW5bNl0sdT1uWzddLGg9bls4XSxkPW5bOV0scD1uWzEwXSxmPW5bMTFdLG09blsxMl0sdj1uWzEzXSxnPW5bMTRdLHk9blsxNV07cmV0dXJuIGVbMF0uc2V0Q29tcG9uZW50cyhvLWksdS1zLGYtaCx5LW0pLm5vcm1hbGl6ZSgpLGVbMV0uc2V0Q29tcG9uZW50cyhvK2ksdStzLGYraCx5K20pLm5vcm1hbGl6ZSgpLGVbMl0uc2V0Q29tcG9uZW50cyhvK3IsdStjLGYrZCx5K3YpLm5vcm1hbGl6ZSgpLGVbM10uc2V0Q29tcG9uZW50cyhvLXIsdS1jLGYtZCx5LXYpLm5vcm1hbGl6ZSgpLGVbNF0uc2V0Q29tcG9uZW50cyhvLWEsdS1sLGYtcCx5LWcpLm5vcm1hbGl6ZSgpLGVbNV0uc2V0Q29tcG9uZW50cyhvK2EsdStsLGYrcCx5K2cpLm5vcm1hbGl6ZSgpLHRoaXN9LGUuaW50ZXJzZWN0c09iamVjdD1mdW5jdGlvbih0KXt2YXIgZT10Lmdlb21ldHJ5O3JldHVybiBudWxsPT09ZS5ib3VuZGluZ1NwaGVyZSYmZS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSxlaS5jb3B5KGUuYm91bmRpbmdTcGhlcmUpLmFwcGx5TWF0cml4NCh0Lm1hdHJpeFdvcmxkKSx0aGlzLmludGVyc2VjdHNTcGhlcmUoZWkpfSxlLmludGVyc2VjdHNTcHJpdGU9ZnVuY3Rpb24odCl7cmV0dXJuIGVpLmNlbnRlci5zZXQoMCwwLDApLGVpLnJhZGl1cz0uNzA3MTA2NzgxMTg2NTQ3NixlaS5hcHBseU1hdHJpeDQodC5tYXRyaXhXb3JsZCksdGhpcy5pbnRlcnNlY3RzU3BoZXJlKGVpKX0sZS5pbnRlcnNlY3RzU3BoZXJlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnBsYW5lcyxuPXQuY2VudGVyLGk9LXQucmFkaXVzLHI9MDtyPDY7cisrKXtpZihlW3JdLmRpc3RhbmNlVG9Qb2ludChuKTxpKXJldHVybiExfXJldHVybiEwfSxlLmludGVyc2VjdHNCb3g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucGxhbmVzLG49MDtuPDY7bisrKXt2YXIgaT1lW25dO2lmKG5pLng9aS5ub3JtYWwueD4wP3QubWF4Lng6dC5taW4ueCxuaS55PWkubm9ybWFsLnk+MD90Lm1heC55OnQubWluLnksbmkuej1pLm5vcm1hbC56PjA/dC5tYXguejp0Lm1pbi56LGkuZGlzdGFuY2VUb1BvaW50KG5pKTwwKXJldHVybiExfXJldHVybiEwfSxlLmNvbnRhaW5zUG9pbnQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucGxhbmVzLG49MDtuPDY7bisrKWlmKGVbbl0uZGlzdGFuY2VUb1BvaW50KHQpPDApcmV0dXJuITE7cmV0dXJuITB9LHR9KCk7ZnVuY3Rpb24gcmkoKXt2YXIgdD1udWxsLGU9ITEsbj1udWxsLGk9bnVsbDtmdW5jdGlvbiByKGUsYSl7bihlLGEpLGk9dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocil9cmV0dXJue3N0YXJ0OmZ1bmN0aW9uKCl7ITAhPT1lJiZudWxsIT09biYmKGk9dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUociksZT0hMCl9LHN0b3A6ZnVuY3Rpb24oKXt0LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGkpLGU9ITF9LHNldEFuaW1hdGlvbkxvb3A6ZnVuY3Rpb24odCl7bj10fSxzZXRDb250ZXh0OmZ1bmN0aW9uKGUpe3Q9ZX19fWZ1bmN0aW9uIGFpKHQsZSl7dmFyIG49ZS5pc1dlYkdMMixpPW5ldyBXZWFrTWFwO3JldHVybntnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSYmKHQ9dC5kYXRhKSxpLmdldCh0KX0scmVtb3ZlOmZ1bmN0aW9uKGUpe2UuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSYmKGU9ZS5kYXRhKTt2YXIgbj1pLmdldChlKTtuJiYodC5kZWxldGVCdWZmZXIobi5idWZmZXIpLGkuZGVsZXRlKGUpKX0sdXBkYXRlOmZ1bmN0aW9uKGUscil7aWYoZS5pc0dMQnVmZmVyQXR0cmlidXRlKXt2YXIgYT1pLmdldChlKTsoIWF8fGEudmVyc2lvbjxlLnZlcnNpb24pJiZpLnNldChlLHtidWZmZXI6ZS5idWZmZXIsdHlwZTplLnR5cGUsYnl0ZXNQZXJFbGVtZW50OmUuZWxlbWVudFNpemUsdmVyc2lvbjplLnZlcnNpb259KX1lbHNle2UuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSYmKGU9ZS5kYXRhKTt2YXIgbz1pLmdldChlKTt2b2lkIDA9PT1vP2kuc2V0KGUsZnVuY3Rpb24oZSxpKXt2YXIgcj1lLmFycmF5LGE9ZS51c2FnZSxvPXQuY3JlYXRlQnVmZmVyKCk7dC5iaW5kQnVmZmVyKGksbyksdC5idWZmZXJEYXRhKGkscixhKSxlLm9uVXBsb2FkQ2FsbGJhY2soKTt2YXIgcz01MTI2O3JldHVybiByIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3M9NTEyNjpyIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5P2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xBdHRyaWJ1dGVzOiBVbnN1cHBvcnRlZCBkYXRhIGJ1ZmZlciBmb3JtYXQ6IEZsb2F0NjRBcnJheS4iKTpyIGluc3RhbmNlb2YgVWludDE2QXJyYXk/ZS5pc0Zsb2F0MTZCdWZmZXJBdHRyaWJ1dGU/bj9zPTUxMzE6Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTEF0dHJpYnV0ZXM6IFVzYWdlIG9mIEZsb2F0MTZCdWZmZXJBdHRyaWJ1dGUgcmVxdWlyZXMgV2ViR0wyLiIpOnM9NTEyMzpyIGluc3RhbmNlb2YgSW50MTZBcnJheT9zPTUxMjI6ciBpbnN0YW5jZW9mIFVpbnQzMkFycmF5P3M9NTEyNTpyIGluc3RhbmNlb2YgSW50MzJBcnJheT9zPTUxMjQ6ciBpbnN0YW5jZW9mIEludDhBcnJheT9zPTUxMjA6ciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJihzPTUxMjEpLHtidWZmZXI6byx0eXBlOnMsYnl0ZXNQZXJFbGVtZW50OnIuQllURVNfUEVSX0VMRU1FTlQsdmVyc2lvbjplLnZlcnNpb259fShlLHIpKTpvLnZlcnNpb248ZS52ZXJzaW9uJiYoIWZ1bmN0aW9uKGUsaSxyKXt2YXIgYT1pLmFycmF5LG89aS51cGRhdGVSYW5nZTt0LmJpbmRCdWZmZXIocixlKSwtMT09PW8uY291bnQ/dC5idWZmZXJTdWJEYXRhKHIsMCxhKToobj90LmJ1ZmZlclN1YkRhdGEocixvLm9mZnNldCphLkJZVEVTX1BFUl9FTEVNRU5ULGEsby5vZmZzZXQsby5jb3VudCk6dC5idWZmZXJTdWJEYXRhKHIsby5vZmZzZXQqYS5CWVRFU19QRVJfRUxFTUVOVCxhLnN1YmFycmF5KG8ub2Zmc2V0LG8ub2Zmc2V0K28uY291bnQpKSxvLmNvdW50PS0xKX0oby5idWZmZXIsZSxyKSxvLnZlcnNpb249ZS52ZXJzaW9uKX19fX12YXIgb2k9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyKXt2YXIgYTt2b2lkIDA9PT1lJiYoZT0xKSx2b2lkIDA9PT1uJiYobj0xKSx2b2lkIDA9PT1pJiYoaT0xKSx2b2lkIDA9PT1yJiYocj0xKSwoYT10LmNhbGwodGhpcyl8fHRoaXMpLnR5cGU9IlBsYW5lR2VvbWV0cnkiLGEucGFyYW1ldGVycz17d2lkdGg6ZSxoZWlnaHQ6bix3aWR0aFNlZ21lbnRzOmksaGVpZ2h0U2VnbWVudHM6cn07Zm9yKHZhciBvPWUvMixzPW4vMixjPU1hdGguZmxvb3IoaSksbD1NYXRoLmZsb29yKHIpLHU9YysxLGg9bCsxLGQ9ZS9jLHA9bi9sLGY9W10sbT1bXSx2PVtdLGc9W10seT0wO3k8aDt5KyspZm9yKHZhciB4PXkqcC1zLF89MDtfPHU7XysrKXt2YXIgYj1fKmQtbzttLnB1c2goYiwteCwwKSx2LnB1c2goMCwwLDEpLGcucHVzaChfL2MpLGcucHVzaCgxLXkvbCl9Zm9yKHZhciB3PTA7dzxsO3crKylmb3IodmFyIE09MDtNPGM7TSsrKXt2YXIgUz1NK3UqdyxUPU0rdSoodysxKSxFPU0rMSt1Kih3KzEpLEE9TSsxK3UqdztmLnB1c2goUyxULEEpLGYucHVzaChULEUsQSl9cmV0dXJuIGEuc2V0SW5kZXgoZiksYS5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgaG4obSwzKSksYS5zZXRBdHRyaWJ1dGUoIm5vcm1hbCIsbmV3IGhuKHYsMykpLGEuc2V0QXR0cmlidXRlKCJ1diIsbmV3IGhuKGcsMikpLGF9cmV0dXJuIGN0KGUsdCksZX0oTW4pLHNpPXthbHBoYW1hcF9mcmFnbWVudDoiI2lmZGVmIFVTRV9BTFBIQU1BUFxuXHRkaWZmdXNlQ29sb3IuYSAqPSB0ZXh0dXJlMkQoIGFscGhhTWFwLCB2VXYgKS5nO1xuI2VuZGlmIixhbHBoYW1hcF9wYXJzX2ZyYWdtZW50OiIjaWZkZWYgVVNFX0FMUEhBTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIGFscGhhTWFwO1xuI2VuZGlmIixhbHBoYXRlc3RfZnJhZ21lbnQ6IiNpZmRlZiBBTFBIQVRFU1Rcblx0aWYgKCBkaWZmdXNlQ29sb3IuYSA8IEFMUEhBVEVTVCApIGRpc2NhcmQ7XG4jZW5kaWYiLGFvbWFwX2ZyYWdtZW50OiIjaWZkZWYgVVNFX0FPTUFQXG5cdGZsb2F0IGFtYmllbnRPY2NsdXNpb24gPSAoIHRleHR1cmUyRCggYW9NYXAsIHZVdjIgKS5yIC0gMS4wICkgKiBhb01hcEludGVuc2l0eSArIDEuMDtcblx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICo9IGFtYmllbnRPY2NsdXNpb247XG5cdCNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkgJiYgZGVmaW5lZCggU1RBTkRBUkQgKVxuXHRcdGZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggZ2VvbWV0cnkubm9ybWFsLCBnZW9tZXRyeS52aWV3RGlyICkgKTtcblx0XHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdFNwZWN1bGFyICo9IGNvbXB1dGVTcGVjdWxhck9jY2x1c2lvbiggZG90TlYsIGFtYmllbnRPY2NsdXNpb24sIG1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzICk7XG5cdCNlbmRpZlxuI2VuZGlmIixhb21hcF9wYXJzX2ZyYWdtZW50OiIjaWZkZWYgVVNFX0FPTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIGFvTWFwO1xuXHR1bmlmb3JtIGZsb2F0IGFvTWFwSW50ZW5zaXR5O1xuI2VuZGlmIixiZWdpbl92ZXJ0ZXg6InZlYzMgdHJhbnNmb3JtZWQgPSB2ZWMzKCBwb3NpdGlvbiApOyIsYmVnaW5ub3JtYWxfdmVydGV4OiJ2ZWMzIG9iamVjdE5vcm1hbCA9IHZlYzMoIG5vcm1hbCApO1xuI2lmZGVmIFVTRV9UQU5HRU5UXG5cdHZlYzMgb2JqZWN0VGFuZ2VudCA9IHZlYzMoIHRhbmdlbnQueHl6ICk7XG4jZW5kaWYiLGJzZGZzOiJ2ZWMyIGludGVncmF0ZVNwZWN1bGFyQlJERiggY29uc3QgaW4gZmxvYXQgZG90TlYsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHtcblx0Y29uc3QgdmVjNCBjMCA9IHZlYzQoIC0gMSwgLSAwLjAyNzUsIC0gMC41NzIsIDAuMDIyICk7XG5cdGNvbnN0IHZlYzQgYzEgPSB2ZWM0KCAxLCAwLjA0MjUsIDEuMDQsIC0gMC4wNCApO1xuXHR2ZWM0IHIgPSByb3VnaG5lc3MgKiBjMCArIGMxO1xuXHRmbG9hdCBhMDA0ID0gbWluKCByLnggKiByLngsIGV4cDIoIC0gOS4yOCAqIGRvdE5WICkgKSAqIHIueCArIHIueTtcblx0cmV0dXJuIHZlYzIoIC0xLjA0LCAxLjA0ICkgKiBhMDA0ICsgci56dztcbn1cbmZsb2F0IHB1bmN0dWFsTGlnaHRJbnRlbnNpdHlUb0lycmFkaWFuY2VGYWN0b3IoIGNvbnN0IGluIGZsb2F0IGxpZ2h0RGlzdGFuY2UsIGNvbnN0IGluIGZsb2F0IGN1dG9mZkRpc3RhbmNlLCBjb25zdCBpbiBmbG9hdCBkZWNheUV4cG9uZW50ICkge1xuI2lmIGRlZmluZWQgKCBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTIClcblx0ZmxvYXQgZGlzdGFuY2VGYWxsb2ZmID0gMS4wIC8gbWF4KCBwb3coIGxpZ2h0RGlzdGFuY2UsIGRlY2F5RXhwb25lbnQgKSwgMC4wMSApO1xuXHRpZiggY3V0b2ZmRGlzdGFuY2UgPiAwLjAgKSB7XG5cdFx0ZGlzdGFuY2VGYWxsb2ZmICo9IHBvdzIoIHNhdHVyYXRlKCAxLjAgLSBwb3c0KCBsaWdodERpc3RhbmNlIC8gY3V0b2ZmRGlzdGFuY2UgKSApICk7XG5cdH1cblx0cmV0dXJuIGRpc3RhbmNlRmFsbG9mZjtcbiNlbHNlXG5cdGlmKCBjdXRvZmZEaXN0YW5jZSA+IDAuMCAmJiBkZWNheUV4cG9uZW50ID4gMC4wICkge1xuXHRcdHJldHVybiBwb3coIHNhdHVyYXRlKCAtbGlnaHREaXN0YW5jZSAvIGN1dG9mZkRpc3RhbmNlICsgMS4wICksIGRlY2F5RXhwb25lbnQgKTtcblx0fVxuXHRyZXR1cm4gMS4wO1xuI2VuZGlmXG59XG52ZWMzIEJSREZfRGlmZnVzZV9MYW1iZXJ0KCBjb25zdCBpbiB2ZWMzIGRpZmZ1c2VDb2xvciApIHtcblx0cmV0dXJuIFJFQ0lQUk9DQUxfUEkgKiBkaWZmdXNlQ29sb3I7XG59XG52ZWMzIEZfU2NobGljayggY29uc3QgaW4gdmVjMyBzcGVjdWxhckNvbG9yLCBjb25zdCBpbiBmbG9hdCBkb3RMSCApIHtcblx0ZmxvYXQgZnJlc25lbCA9IGV4cDIoICggLTUuNTU0NzMgKiBkb3RMSCAtIDYuOTgzMTYgKSAqIGRvdExIICk7XG5cdHJldHVybiAoIDEuMCAtIHNwZWN1bGFyQ29sb3IgKSAqIGZyZXNuZWwgKyBzcGVjdWxhckNvbG9yO1xufVxudmVjMyBGX1NjaGxpY2tfUm91Z2huZXNzRGVwZW5kZW50KCBjb25zdCBpbiB2ZWMzIEYwLCBjb25zdCBpbiBmbG9hdCBkb3ROViwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkge1xuXHRmbG9hdCBmcmVzbmVsID0gZXhwMiggKCAtNS41NTQ3MyAqIGRvdE5WIC0gNi45ODMxNiApICogZG90TlYgKTtcblx0dmVjMyBGciA9IG1heCggdmVjMyggMS4wIC0gcm91Z2huZXNzICksIEYwICkgLSBGMDtcblx0cmV0dXJuIEZyICogZnJlc25lbCArIEYwO1xufVxuZmxvYXQgR19HR1hfU21pdGgoIGNvbnN0IGluIGZsb2F0IGFscGhhLCBjb25zdCBpbiBmbG9hdCBkb3ROTCwgY29uc3QgaW4gZmxvYXQgZG90TlYgKSB7XG5cdGZsb2F0IGEyID0gcG93MiggYWxwaGEgKTtcblx0ZmxvYXQgZ2wgPSBkb3ROTCArIHNxcnQoIGEyICsgKCAxLjAgLSBhMiApICogcG93MiggZG90TkwgKSApO1xuXHRmbG9hdCBndiA9IGRvdE5WICsgc3FydCggYTIgKyAoIDEuMCAtIGEyICkgKiBwb3cyKCBkb3ROViApICk7XG5cdHJldHVybiAxLjAgLyAoIGdsICogZ3YgKTtcbn1cbmZsb2F0IEdfR0dYX1NtaXRoQ29ycmVsYXRlZCggY29uc3QgaW4gZmxvYXQgYWxwaGEsIGNvbnN0IGluIGZsb2F0IGRvdE5MLCBjb25zdCBpbiBmbG9hdCBkb3ROViApIHtcblx0ZmxvYXQgYTIgPSBwb3cyKCBhbHBoYSApO1xuXHRmbG9hdCBndiA9IGRvdE5MICogc3FydCggYTIgKyAoIDEuMCAtIGEyICkgKiBwb3cyKCBkb3ROViApICk7XG5cdGZsb2F0IGdsID0gZG90TlYgKiBzcXJ0KCBhMiArICggMS4wIC0gYTIgKSAqIHBvdzIoIGRvdE5MICkgKTtcblx0cmV0dXJuIDAuNSAvIG1heCggZ3YgKyBnbCwgRVBTSUxPTiApO1xufVxuZmxvYXQgRF9HR1goIGNvbnN0IGluIGZsb2F0IGFscGhhLCBjb25zdCBpbiBmbG9hdCBkb3ROSCApIHtcblx0ZmxvYXQgYTIgPSBwb3cyKCBhbHBoYSApO1xuXHRmbG9hdCBkZW5vbSA9IHBvdzIoIGRvdE5IICkgKiAoIGEyIC0gMS4wICkgKyAxLjA7XG5cdHJldHVybiBSRUNJUFJPQ0FMX1BJICogYTIgLyBwb3cyKCBkZW5vbSApO1xufVxudmVjMyBCUkRGX1NwZWN1bGFyX0dHWCggY29uc3QgaW4gSW5jaWRlbnRMaWdodCBpbmNpZGVudExpZ2h0LCBjb25zdCBpbiB2ZWMzIHZpZXdEaXIsIGNvbnN0IGluIHZlYzMgbm9ybWFsLCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHtcblx0ZmxvYXQgYWxwaGEgPSBwb3cyKCByb3VnaG5lc3MgKTtcblx0dmVjMyBoYWxmRGlyID0gbm9ybWFsaXplKCBpbmNpZGVudExpZ2h0LmRpcmVjdGlvbiArIHZpZXdEaXIgKTtcblx0ZmxvYXQgZG90TkwgPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIGluY2lkZW50TGlnaHQuZGlyZWN0aW9uICkgKTtcblx0ZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIHZpZXdEaXIgKSApO1xuXHRmbG9hdCBkb3ROSCA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgaGFsZkRpciApICk7XG5cdGZsb2F0IGRvdExIID0gc2F0dXJhdGUoIGRvdCggaW5jaWRlbnRMaWdodC5kaXJlY3Rpb24sIGhhbGZEaXIgKSApO1xuXHR2ZWMzIEYgPSBGX1NjaGxpY2soIHNwZWN1bGFyQ29sb3IsIGRvdExIICk7XG5cdGZsb2F0IEcgPSBHX0dHWF9TbWl0aENvcnJlbGF0ZWQoIGFscGhhLCBkb3ROTCwgZG90TlYgKTtcblx0ZmxvYXQgRCA9IERfR0dYKCBhbHBoYSwgZG90TkggKTtcblx0cmV0dXJuIEYgKiAoIEcgKiBEICk7XG59XG52ZWMyIExUQ19VdiggY29uc3QgaW4gdmVjMyBOLCBjb25zdCBpbiB2ZWMzIFYsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHtcblx0Y29uc3QgZmxvYXQgTFVUX1NJWkUgPSA2NC4wO1xuXHRjb25zdCBmbG9hdCBMVVRfU0NBTEUgPSAoIExVVF9TSVpFIC0gMS4wICkgLyBMVVRfU0laRTtcblx0Y29uc3QgZmxvYXQgTFVUX0JJQVMgPSAwLjUgLyBMVVRfU0laRTtcblx0ZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBOLCBWICkgKTtcblx0dmVjMiB1diA9IHZlYzIoIHJvdWdobmVzcywgc3FydCggMS4wIC0gZG90TlYgKSApO1xuXHR1diA9IHV2ICogTFVUX1NDQUxFICsgTFVUX0JJQVM7XG5cdHJldHVybiB1djtcbn1cbmZsb2F0IExUQ19DbGlwcGVkU3BoZXJlRm9ybUZhY3RvciggY29uc3QgaW4gdmVjMyBmICkge1xuXHRmbG9hdCBsID0gbGVuZ3RoKCBmICk7XG5cdHJldHVybiBtYXgoICggbCAqIGwgKyBmLnogKSAvICggbCArIDEuMCApLCAwLjAgKTtcbn1cbnZlYzMgTFRDX0VkZ2VWZWN0b3JGb3JtRmFjdG9yKCBjb25zdCBpbiB2ZWMzIHYxLCBjb25zdCBpbiB2ZWMzIHYyICkge1xuXHRmbG9hdCB4ID0gZG90KCB2MSwgdjIgKTtcblx0ZmxvYXQgeSA9IGFicyggeCApO1xuXHRmbG9hdCBhID0gMC44NTQzOTg1ICsgKCAwLjQ5NjUxNTUgKyAwLjAxNDUyMDYgKiB5ICkgKiB5O1xuXHRmbG9hdCBiID0gMy40MTc1OTQwICsgKCA0LjE2MTY3MjQgKyB5ICkgKiB5O1xuXHRmbG9hdCB2ID0gYSAvIGI7XG5cdGZsb2F0IHRoZXRhX3NpbnRoZXRhID0gKCB4ID4gMC4wICkgPyB2IDogMC41ICogaW52ZXJzZXNxcnQoIG1heCggMS4wIC0geCAqIHgsIDFlLTcgKSApIC0gdjtcblx0cmV0dXJuIGNyb3NzKCB2MSwgdjIgKSAqIHRoZXRhX3NpbnRoZXRhO1xufVxudmVjMyBMVENfRXZhbHVhdGUoIGNvbnN0IGluIHZlYzMgTiwgY29uc3QgaW4gdmVjMyBWLCBjb25zdCBpbiB2ZWMzIFAsIGNvbnN0IGluIG1hdDMgbUludiwgY29uc3QgaW4gdmVjMyByZWN0Q29vcmRzWyA0IF0gKSB7XG5cdHZlYzMgdjEgPSByZWN0Q29vcmRzWyAxIF0gLSByZWN0Q29vcmRzWyAwIF07XG5cdHZlYzMgdjIgPSByZWN0Q29vcmRzWyAzIF0gLSByZWN0Q29vcmRzWyAwIF07XG5cdHZlYzMgbGlnaHROb3JtYWwgPSBjcm9zcyggdjEsIHYyICk7XG5cdGlmKCBkb3QoIGxpZ2h0Tm9ybWFsLCBQIC0gcmVjdENvb3Jkc1sgMCBdICkgPCAwLjAgKSByZXR1cm4gdmVjMyggMC4wICk7XG5cdHZlYzMgVDEsIFQyO1xuXHRUMSA9IG5vcm1hbGl6ZSggViAtIE4gKiBkb3QoIFYsIE4gKSApO1xuXHRUMiA9IC0gY3Jvc3MoIE4sIFQxICk7XG5cdG1hdDMgbWF0ID0gbUludiAqIHRyYW5zcG9zZU1hdDMoIG1hdDMoIFQxLCBUMiwgTiApICk7XG5cdHZlYzMgY29vcmRzWyA0IF07XG5cdGNvb3Jkc1sgMCBdID0gbWF0ICogKCByZWN0Q29vcmRzWyAwIF0gLSBQICk7XG5cdGNvb3Jkc1sgMSBdID0gbWF0ICogKCByZWN0Q29vcmRzWyAxIF0gLSBQICk7XG5cdGNvb3Jkc1sgMiBdID0gbWF0ICogKCByZWN0Q29vcmRzWyAyIF0gLSBQICk7XG5cdGNvb3Jkc1sgMyBdID0gbWF0ICogKCByZWN0Q29vcmRzWyAzIF0gLSBQICk7XG5cdGNvb3Jkc1sgMCBdID0gbm9ybWFsaXplKCBjb29yZHNbIDAgXSApO1xuXHRjb29yZHNbIDEgXSA9IG5vcm1hbGl6ZSggY29vcmRzWyAxIF0gKTtcblx0Y29vcmRzWyAyIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMiBdICk7XG5cdGNvb3Jkc1sgMyBdID0gbm9ybWFsaXplKCBjb29yZHNbIDMgXSApO1xuXHR2ZWMzIHZlY3RvckZvcm1GYWN0b3IgPSB2ZWMzKCAwLjAgKTtcblx0dmVjdG9yRm9ybUZhY3RvciArPSBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvb3Jkc1sgMCBdLCBjb29yZHNbIDEgXSApO1xuXHR2ZWN0b3JGb3JtRmFjdG9yICs9IExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29vcmRzWyAxIF0sIGNvb3Jkc1sgMiBdICk7XG5cdHZlY3RvckZvcm1GYWN0b3IgKz0gTFRDX0VkZ2VWZWN0b3JGb3JtRmFjdG9yKCBjb29yZHNbIDIgXSwgY29vcmRzWyAzIF0gKTtcblx0dmVjdG9yRm9ybUZhY3RvciArPSBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvb3Jkc1sgMyBdLCBjb29yZHNbIDAgXSApO1xuXHRmbG9hdCByZXN1bHQgPSBMVENfQ2xpcHBlZFNwaGVyZUZvcm1GYWN0b3IoIHZlY3RvckZvcm1GYWN0b3IgKTtcblx0cmV0dXJuIHZlYzMoIHJlc3VsdCApO1xufVxudmVjMyBCUkRGX1NwZWN1bGFyX0dHWF9FbnZpcm9ubWVudCggY29uc3QgaW4gdmVjMyB2aWV3RGlyLCBjb25zdCBpbiB2ZWMzIG5vcm1hbCwgY29uc3QgaW4gdmVjMyBzcGVjdWxhckNvbG9yLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MgKSB7XG5cdGZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCB2aWV3RGlyICkgKTtcblx0dmVjMiBicmRmID0gaW50ZWdyYXRlU3BlY3VsYXJCUkRGKCBkb3ROViwgcm91Z2huZXNzICk7XG5cdHJldHVybiBzcGVjdWxhckNvbG9yICogYnJkZi54ICsgYnJkZi55O1xufVxudm9pZCBCUkRGX1NwZWN1bGFyX011bHRpc2NhdHRlcmluZ19FbnZpcm9ubWVudCggY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gdmVjMyBzcGVjdWxhckNvbG9yLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MsIGlub3V0IHZlYzMgc2luZ2xlU2NhdHRlciwgaW5vdXQgdmVjMyBtdWx0aVNjYXR0ZXIgKSB7XG5cdGZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggZ2VvbWV0cnkubm9ybWFsLCBnZW9tZXRyeS52aWV3RGlyICkgKTtcblx0dmVjMyBGID0gRl9TY2hsaWNrX1JvdWdobmVzc0RlcGVuZGVudCggc3BlY3VsYXJDb2xvciwgZG90TlYsIHJvdWdobmVzcyApO1xuXHR2ZWMyIGJyZGYgPSBpbnRlZ3JhdGVTcGVjdWxhckJSREYoIGRvdE5WLCByb3VnaG5lc3MgKTtcblx0dmVjMyBGc3NFc3MgPSBGICogYnJkZi54ICsgYnJkZi55O1xuXHRmbG9hdCBFc3MgPSBicmRmLnggKyBicmRmLnk7XG5cdGZsb2F0IEVtcyA9IDEuMCAtIEVzcztcblx0dmVjMyBGYXZnID0gc3BlY3VsYXJDb2xvciArICggMS4wIC0gc3BlY3VsYXJDb2xvciApICogMC4wNDc2MTk7XHR2ZWMzIEZtcyA9IEZzc0VzcyAqIEZhdmcgLyAoIDEuMCAtIEVtcyAqIEZhdmcgKTtcblx0c2luZ2xlU2NhdHRlciArPSBGc3NFc3M7XG5cdG11bHRpU2NhdHRlciArPSBGbXMgKiBFbXM7XG59XG5mbG9hdCBHX0JsaW5uUGhvbmdfSW1wbGljaXQoICkge1xuXHRyZXR1cm4gMC4yNTtcbn1cbmZsb2F0IERfQmxpbm5QaG9uZyggY29uc3QgaW4gZmxvYXQgc2hpbmluZXNzLCBjb25zdCBpbiBmbG9hdCBkb3ROSCApIHtcblx0cmV0dXJuIFJFQ0lQUk9DQUxfUEkgKiAoIHNoaW5pbmVzcyAqIDAuNSArIDEuMCApICogcG93KCBkb3ROSCwgc2hpbmluZXNzICk7XG59XG52ZWMzIEJSREZfU3BlY3VsYXJfQmxpbm5QaG9uZyggY29uc3QgaW4gSW5jaWRlbnRMaWdodCBpbmNpZGVudExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IHNoaW5pbmVzcyApIHtcblx0dmVjMyBoYWxmRGlyID0gbm9ybWFsaXplKCBpbmNpZGVudExpZ2h0LmRpcmVjdGlvbiArIGdlb21ldHJ5LnZpZXdEaXIgKTtcblx0ZmxvYXQgZG90TkggPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5ub3JtYWwsIGhhbGZEaXIgKSApO1xuXHRmbG9hdCBkb3RMSCA9IHNhdHVyYXRlKCBkb3QoIGluY2lkZW50TGlnaHQuZGlyZWN0aW9uLCBoYWxmRGlyICkgKTtcblx0dmVjMyBGID0gRl9TY2hsaWNrKCBzcGVjdWxhckNvbG9yLCBkb3RMSCApO1xuXHRmbG9hdCBHID0gR19CbGlublBob25nX0ltcGxpY2l0KCApO1xuXHRmbG9hdCBEID0gRF9CbGlublBob25nKCBzaGluaW5lc3MsIGRvdE5IICk7XG5cdHJldHVybiBGICogKCBHICogRCApO1xufVxuZmxvYXQgR0dYUm91Z2huZXNzVG9CbGlubkV4cG9uZW50KCBjb25zdCBpbiBmbG9hdCBnZ3hSb3VnaG5lc3MgKSB7XG5cdHJldHVybiAoIDIuMCAvIHBvdzIoIGdneFJvdWdobmVzcyArIDAuMDAwMSApIC0gMi4wICk7XG59XG5mbG9hdCBCbGlubkV4cG9uZW50VG9HR1hSb3VnaG5lc3MoIGNvbnN0IGluIGZsb2F0IGJsaW5uRXhwb25lbnQgKSB7XG5cdHJldHVybiBzcXJ0KCAyLjAgLyAoIGJsaW5uRXhwb25lbnQgKyAyLjAgKSApO1xufVxuI2lmIGRlZmluZWQoIFVTRV9TSEVFTiApXG5mbG9hdCBEX0NoYXJsaWUoZmxvYXQgcm91Z2huZXNzLCBmbG9hdCBOb0gpIHtcblx0ZmxvYXQgaW52QWxwaGEgPSAxLjAgLyByb3VnaG5lc3M7XG5cdGZsb2F0IGNvczJoID0gTm9IICogTm9IO1xuXHRmbG9hdCBzaW4yaCA9IG1heCgxLjAgLSBjb3MyaCwgMC4wMDc4MTI1KTtcdHJldHVybiAoMi4wICsgaW52QWxwaGEpICogcG93KHNpbjJoLCBpbnZBbHBoYSAqIDAuNSkgLyAoMi4wICogUEkpO1xufVxuZmxvYXQgVl9OZXViZWx0KGZsb2F0IE5vViwgZmxvYXQgTm9MKSB7XG5cdHJldHVybiBzYXR1cmF0ZSgxLjAgLyAoNC4wICogKE5vTCArIE5vViAtIE5vTCAqIE5vVikpKTtcbn1cbnZlYzMgQlJERl9TcGVjdWxhcl9TaGVlbiggY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzLCBjb25zdCBpbiB2ZWMzIEwsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIHZlYzMgc3BlY3VsYXJDb2xvciApIHtcblx0dmVjMyBOID0gZ2VvbWV0cnkubm9ybWFsO1xuXHR2ZWMzIFYgPSBnZW9tZXRyeS52aWV3RGlyO1xuXHR2ZWMzIEggPSBub3JtYWxpemUoIFYgKyBMICk7XG5cdGZsb2F0IGRvdE5IID0gc2F0dXJhdGUoIGRvdCggTiwgSCApICk7XG5cdHJldHVybiBzcGVjdWxhckNvbG9yICogRF9DaGFybGllKCByb3VnaG5lc3MsIGRvdE5IICkgKiBWX05ldWJlbHQoIGRvdChOLCBWKSwgZG90KE4sIEwpICk7XG59XG4jZW5kaWYiLGJ1bXBtYXBfcGFyc19mcmFnbWVudDoiI2lmZGVmIFVTRV9CVU1QTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIGJ1bXBNYXA7XG5cdHVuaWZvcm0gZmxvYXQgYnVtcFNjYWxlO1xuXHR2ZWMyIGRIZHh5X2Z3ZCgpIHtcblx0XHR2ZWMyIGRTVGR4ID0gZEZkeCggdlV2ICk7XG5cdFx0dmVjMiBkU1RkeSA9IGRGZHkoIHZVdiApO1xuXHRcdGZsb2F0IEhsbCA9IGJ1bXBTY2FsZSAqIHRleHR1cmUyRCggYnVtcE1hcCwgdlV2ICkueDtcblx0XHRmbG9hdCBkQnggPSBidW1wU2NhbGUgKiB0ZXh0dXJlMkQoIGJ1bXBNYXAsIHZVdiArIGRTVGR4ICkueCAtIEhsbDtcblx0XHRmbG9hdCBkQnkgPSBidW1wU2NhbGUgKiB0ZXh0dXJlMkQoIGJ1bXBNYXAsIHZVdiArIGRTVGR5ICkueCAtIEhsbDtcblx0XHRyZXR1cm4gdmVjMiggZEJ4LCBkQnkgKTtcblx0fVxuXHR2ZWMzIHBlcnR1cmJOb3JtYWxBcmIoIHZlYzMgc3VyZl9wb3MsIHZlYzMgc3VyZl9ub3JtLCB2ZWMyIGRIZHh5LCBmbG9hdCBmYWNlRGlyZWN0aW9uICkge1xuXHRcdHZlYzMgdlNpZ21hWCA9IHZlYzMoIGRGZHgoIHN1cmZfcG9zLnggKSwgZEZkeCggc3VyZl9wb3MueSApLCBkRmR4KCBzdXJmX3Bvcy56ICkgKTtcblx0XHR2ZWMzIHZTaWdtYVkgPSB2ZWMzKCBkRmR5KCBzdXJmX3Bvcy54ICksIGRGZHkoIHN1cmZfcG9zLnkgKSwgZEZkeSggc3VyZl9wb3MueiApICk7XG5cdFx0dmVjMyB2TiA9IHN1cmZfbm9ybTtcblx0XHR2ZWMzIFIxID0gY3Jvc3MoIHZTaWdtYVksIHZOICk7XG5cdFx0dmVjMyBSMiA9IGNyb3NzKCB2TiwgdlNpZ21hWCApO1xuXHRcdGZsb2F0IGZEZXQgPSBkb3QoIHZTaWdtYVgsIFIxICkgKiBmYWNlRGlyZWN0aW9uO1xuXHRcdHZlYzMgdkdyYWQgPSBzaWduKCBmRGV0ICkgKiAoIGRIZHh5LnggKiBSMSArIGRIZHh5LnkgKiBSMiApO1xuXHRcdHJldHVybiBub3JtYWxpemUoIGFicyggZkRldCApICogc3VyZl9ub3JtIC0gdkdyYWQgKTtcblx0fVxuI2VuZGlmIixjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ6IiNpZiBOVU1fQ0xJUFBJTkdfUExBTkVTID4gMFxuXHR2ZWM0IHBsYW5lO1xuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IFVOSU9OX0NMSVBQSU5HX1BMQU5FUzsgaSArKyApIHtcblx0XHRwbGFuZSA9IGNsaXBwaW5nUGxhbmVzWyBpIF07XG5cdFx0aWYgKCBkb3QoIHZDbGlwUG9zaXRpb24sIHBsYW5lLnh5eiApID4gcGxhbmUudyApIGRpc2NhcmQ7XG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcblx0I2lmIFVOSU9OX0NMSVBQSU5HX1BMQU5FUyA8IE5VTV9DTElQUElOR19QTEFORVNcblx0XHRib29sIGNsaXBwZWQgPSB0cnVlO1xuXHRcdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0XHRmb3IgKCBpbnQgaSA9IFVOSU9OX0NMSVBQSU5HX1BMQU5FUzsgaSA8IE5VTV9DTElQUElOR19QTEFORVM7IGkgKysgKSB7XG5cdFx0XHRwbGFuZSA9IGNsaXBwaW5nUGxhbmVzWyBpIF07XG5cdFx0XHRjbGlwcGVkID0gKCBkb3QoIHZDbGlwUG9zaXRpb24sIHBsYW5lLnh5eiApID4gcGxhbmUudyApICYmIGNsaXBwZWQ7XG5cdFx0fVxuXHRcdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG5cdFx0aWYgKCBjbGlwcGVkICkgZGlzY2FyZDtcblx0I2VuZGlmXG4jZW5kaWYiLGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50OiIjaWYgTlVNX0NMSVBQSU5HX1BMQU5FUyA+IDBcblx0dmFyeWluZyB2ZWMzIHZDbGlwUG9zaXRpb247XG5cdHVuaWZvcm0gdmVjNCBjbGlwcGluZ1BsYW5lc1sgTlVNX0NMSVBQSU5HX1BMQU5FUyBdO1xuI2VuZGlmIixjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg6IiNpZiBOVU1fQ0xJUFBJTkdfUExBTkVTID4gMFxuXHR2YXJ5aW5nIHZlYzMgdkNsaXBQb3NpdGlvbjtcbiNlbmRpZiIsY2xpcHBpbmdfcGxhbmVzX3ZlcnRleDoiI2lmIE5VTV9DTElQUElOR19QTEFORVMgPiAwXG5cdHZDbGlwUG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6O1xuI2VuZGlmIixjb2xvcl9mcmFnbWVudDoiI2lmZGVmIFVTRV9DT0xPUlxuXHRkaWZmdXNlQ29sb3IucmdiICo9IHZDb2xvcjtcbiNlbmRpZiIsY29sb3JfcGFyc19mcmFnbWVudDoiI2lmZGVmIFVTRV9DT0xPUlxuXHR2YXJ5aW5nIHZlYzMgdkNvbG9yO1xuI2VuZGlmIixjb2xvcl9wYXJzX3ZlcnRleDoiI2lmIGRlZmluZWQoIFVTRV9DT0xPUiApIHx8IGRlZmluZWQoIFVTRV9JTlNUQU5DSU5HX0NPTE9SIClcblx0dmFyeWluZyB2ZWMzIHZDb2xvcjtcbiNlbmRpZiIsY29sb3JfdmVydGV4OiIjaWYgZGVmaW5lZCggVVNFX0NPTE9SICkgfHwgZGVmaW5lZCggVVNFX0lOU1RBTkNJTkdfQ09MT1IgKVxuXHR2Q29sb3IgPSB2ZWMzKCAxLjAgKTtcbiNlbmRpZlxuI2lmZGVmIFVTRV9DT0xPUlxuXHR2Q29sb3IueHl6ICo9IGNvbG9yLnh5ejtcbiNlbmRpZlxuI2lmZGVmIFVTRV9JTlNUQU5DSU5HX0NPTE9SXG5cdHZDb2xvci54eXogKj0gaW5zdGFuY2VDb2xvci54eXo7XG4jZW5kaWYiLGNvbW1vbjoiI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU4OTc5M1xuI2RlZmluZSBQSTIgNi4yODMxODUzMDcxNzk1ODZcbiNkZWZpbmUgUElfSEFMRiAxLjU3MDc5NjMyNjc5NDg5NjZcbiNkZWZpbmUgUkVDSVBST0NBTF9QSSAwLjMxODMwOTg4NjE4Mzc5MDdcbiNkZWZpbmUgUkVDSVBST0NBTF9QSTIgMC4xNTkxNTQ5NDMwOTE4OTUzNVxuI2RlZmluZSBFUFNJTE9OIDFlLTZcbiNpZm5kZWYgc2F0dXJhdGVcbiNkZWZpbmUgc2F0dXJhdGUoYSkgY2xhbXAoIGEsIDAuMCwgMS4wIClcbiNlbmRpZlxuI2RlZmluZSB3aGl0ZUNvbXBsZW1lbnQoYSkgKCAxLjAgLSBzYXR1cmF0ZSggYSApIClcbmZsb2F0IHBvdzIoIGNvbnN0IGluIGZsb2F0IHggKSB7IHJldHVybiB4Kng7IH1cbmZsb2F0IHBvdzMoIGNvbnN0IGluIGZsb2F0IHggKSB7IHJldHVybiB4KngqeDsgfVxuZmxvYXQgcG93NCggY29uc3QgaW4gZmxvYXQgeCApIHsgZmxvYXQgeDIgPSB4Kng7IHJldHVybiB4Mip4MjsgfVxuZmxvYXQgYXZlcmFnZSggY29uc3QgaW4gdmVjMyBjb2xvciApIHsgcmV0dXJuIGRvdCggY29sb3IsIHZlYzMoIDAuMzMzMyApICk7IH1cbmhpZ2hwIGZsb2F0IHJhbmQoIGNvbnN0IGluIHZlYzIgdXYgKSB7XG5cdGNvbnN0IGhpZ2hwIGZsb2F0IGEgPSAxMi45ODk4LCBiID0gNzguMjMzLCBjID0gNDM3NTguNTQ1Mztcblx0aGlnaHAgZmxvYXQgZHQgPSBkb3QoIHV2Lnh5LCB2ZWMyKCBhLGIgKSApLCBzbiA9IG1vZCggZHQsIFBJICk7XG5cdHJldHVybiBmcmFjdChzaW4oc24pICogYyk7XG59XG4jaWZkZWYgSElHSF9QUkVDSVNJT05cblx0ZmxvYXQgcHJlY2lzaW9uU2FmZUxlbmd0aCggdmVjMyB2ICkgeyByZXR1cm4gbGVuZ3RoKCB2ICk7IH1cbiNlbHNlXG5cdGZsb2F0IG1heDMoIHZlYzMgdiApIHsgcmV0dXJuIG1heCggbWF4KCB2LngsIHYueSApLCB2LnogKTsgfVxuXHRmbG9hdCBwcmVjaXNpb25TYWZlTGVuZ3RoKCB2ZWMzIHYgKSB7XG5cdFx0ZmxvYXQgbWF4Q29tcG9uZW50ID0gbWF4MyggYWJzKCB2ICkgKTtcblx0XHRyZXR1cm4gbGVuZ3RoKCB2IC8gbWF4Q29tcG9uZW50ICkgKiBtYXhDb21wb25lbnQ7XG5cdH1cbiNlbmRpZlxuc3RydWN0IEluY2lkZW50TGlnaHQge1xuXHR2ZWMzIGNvbG9yO1xuXHR2ZWMzIGRpcmVjdGlvbjtcblx0Ym9vbCB2aXNpYmxlO1xufTtcbnN0cnVjdCBSZWZsZWN0ZWRMaWdodCB7XG5cdHZlYzMgZGlyZWN0RGlmZnVzZTtcblx0dmVjMyBkaXJlY3RTcGVjdWxhcjtcblx0dmVjMyBpbmRpcmVjdERpZmZ1c2U7XG5cdHZlYzMgaW5kaXJlY3RTcGVjdWxhcjtcbn07XG5zdHJ1Y3QgR2VvbWV0cmljQ29udGV4dCB7XG5cdHZlYzMgcG9zaXRpb247XG5cdHZlYzMgbm9ybWFsO1xuXHR2ZWMzIHZpZXdEaXI7XG4jaWZkZWYgQ0xFQVJDT0FUXG5cdHZlYzMgY2xlYXJjb2F0Tm9ybWFsO1xuI2VuZGlmXG59O1xudmVjMyB0cmFuc2Zvcm1EaXJlY3Rpb24oIGluIHZlYzMgZGlyLCBpbiBtYXQ0IG1hdHJpeCApIHtcblx0cmV0dXJuIG5vcm1hbGl6ZSggKCBtYXRyaXggKiB2ZWM0KCBkaXIsIDAuMCApICkueHl6ICk7XG59XG52ZWMzIGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIGluIHZlYzMgZGlyLCBpbiBtYXQ0IG1hdHJpeCApIHtcblx0cmV0dXJuIG5vcm1hbGl6ZSggKCB2ZWM0KCBkaXIsIDAuMCApICogbWF0cml4ICkueHl6ICk7XG59XG52ZWMzIHByb2plY3RPblBsYW5lKGluIHZlYzMgcG9pbnQsIGluIHZlYzMgcG9pbnRPblBsYW5lLCBpbiB2ZWMzIHBsYW5lTm9ybWFsICkge1xuXHRmbG9hdCBkaXN0YW5jZSA9IGRvdCggcGxhbmVOb3JtYWwsIHBvaW50IC0gcG9pbnRPblBsYW5lICk7XG5cdHJldHVybiAtIGRpc3RhbmNlICogcGxhbmVOb3JtYWwgKyBwb2ludDtcbn1cbmZsb2F0IHNpZGVPZlBsYW5lKCBpbiB2ZWMzIHBvaW50LCBpbiB2ZWMzIHBvaW50T25QbGFuZSwgaW4gdmVjMyBwbGFuZU5vcm1hbCApIHtcblx0cmV0dXJuIHNpZ24oIGRvdCggcG9pbnQgLSBwb2ludE9uUGxhbmUsIHBsYW5lTm9ybWFsICkgKTtcbn1cbnZlYzMgbGluZVBsYW5lSW50ZXJzZWN0KCBpbiB2ZWMzIHBvaW50T25MaW5lLCBpbiB2ZWMzIGxpbmVEaXJlY3Rpb24sIGluIHZlYzMgcG9pbnRPblBsYW5lLCBpbiB2ZWMzIHBsYW5lTm9ybWFsICkge1xuXHRyZXR1cm4gbGluZURpcmVjdGlvbiAqICggZG90KCBwbGFuZU5vcm1hbCwgcG9pbnRPblBsYW5lIC0gcG9pbnRPbkxpbmUgKSAvIGRvdCggcGxhbmVOb3JtYWwsIGxpbmVEaXJlY3Rpb24gKSApICsgcG9pbnRPbkxpbmU7XG59XG5tYXQzIHRyYW5zcG9zZU1hdDMoIGNvbnN0IGluIG1hdDMgbSApIHtcblx0bWF0MyB0bXA7XG5cdHRtcFsgMCBdID0gdmVjMyggbVsgMCBdLngsIG1bIDEgXS54LCBtWyAyIF0ueCApO1xuXHR0bXBbIDEgXSA9IHZlYzMoIG1bIDAgXS55LCBtWyAxIF0ueSwgbVsgMiBdLnkgKTtcblx0dG1wWyAyIF0gPSB2ZWMzKCBtWyAwIF0ueiwgbVsgMSBdLnosIG1bIDIgXS56ICk7XG5cdHJldHVybiB0bXA7XG59XG5mbG9hdCBsaW5lYXJUb1JlbGF0aXZlTHVtaW5hbmNlKCBjb25zdCBpbiB2ZWMzIGNvbG9yICkge1xuXHR2ZWMzIHdlaWdodHMgPSB2ZWMzKCAwLjIxMjYsIDAuNzE1MiwgMC4wNzIyICk7XG5cdHJldHVybiBkb3QoIHdlaWdodHMsIGNvbG9yLnJnYiApO1xufVxuYm9vbCBpc1BlcnNwZWN0aXZlTWF0cml4KCBtYXQ0IG0gKSB7XG5cdHJldHVybiBtWyAyIF1bIDMgXSA9PSAtIDEuMDtcbn1cbnZlYzIgZXF1aXJlY3RVdiggaW4gdmVjMyBkaXIgKSB7XG5cdGZsb2F0IHUgPSBhdGFuKCBkaXIueiwgZGlyLnggKSAqIFJFQ0lQUk9DQUxfUEkyICsgMC41O1xuXHRmbG9hdCB2ID0gYXNpbiggY2xhbXAoIGRpci55LCAtIDEuMCwgMS4wICkgKSAqIFJFQ0lQUk9DQUxfUEkgKyAwLjU7XG5cdHJldHVybiB2ZWMyKCB1LCB2ICk7XG59IixjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ6IiNpZmRlZiBFTlZNQVBfVFlQRV9DVUJFX1VWXG5cdCNkZWZpbmUgY3ViZVVWX21heE1pcExldmVsIDguMFxuXHQjZGVmaW5lIGN1YmVVVl9taW5NaXBMZXZlbCA0LjBcblx0I2RlZmluZSBjdWJlVVZfbWF4VGlsZVNpemUgMjU2LjBcblx0I2RlZmluZSBjdWJlVVZfbWluVGlsZVNpemUgMTYuMFxuXHRmbG9hdCBnZXRGYWNlKCB2ZWMzIGRpcmVjdGlvbiApIHtcblx0XHR2ZWMzIGFic0RpcmVjdGlvbiA9IGFicyggZGlyZWN0aW9uICk7XG5cdFx0ZmxvYXQgZmFjZSA9IC0gMS4wO1xuXHRcdGlmICggYWJzRGlyZWN0aW9uLnggPiBhYnNEaXJlY3Rpb24ueiApIHtcblx0XHRcdGlmICggYWJzRGlyZWN0aW9uLnggPiBhYnNEaXJlY3Rpb24ueSApXG5cdFx0XHRcdGZhY2UgPSBkaXJlY3Rpb24ueCA+IDAuMCA/IDAuMCA6IDMuMDtcblx0XHRcdGVsc2Vcblx0XHRcdFx0ZmFjZSA9IGRpcmVjdGlvbi55ID4gMC4wID8gMS4wIDogNC4wO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoIGFic0RpcmVjdGlvbi56ID4gYWJzRGlyZWN0aW9uLnkgKVxuXHRcdFx0XHRmYWNlID0gZGlyZWN0aW9uLnogPiAwLjAgPyAyLjAgOiA1LjA7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdGZhY2UgPSBkaXJlY3Rpb24ueSA+IDAuMCA/IDEuMCA6IDQuMDtcblx0XHR9XG5cdFx0cmV0dXJuIGZhY2U7XG5cdH1cblx0dmVjMiBnZXRVViggdmVjMyBkaXJlY3Rpb24sIGZsb2F0IGZhY2UgKSB7XG5cdFx0dmVjMiB1djtcblx0XHRpZiAoIGZhY2UgPT0gMC4wICkge1xuXHRcdFx0dXYgPSB2ZWMyKCBkaXJlY3Rpb24ueiwgZGlyZWN0aW9uLnkgKSAvIGFicyggZGlyZWN0aW9uLnggKTtcblx0XHR9IGVsc2UgaWYgKCBmYWNlID09IDEuMCApIHtcblx0XHRcdHV2ID0gdmVjMiggLSBkaXJlY3Rpb24ueCwgLSBkaXJlY3Rpb24ueiApIC8gYWJzKCBkaXJlY3Rpb24ueSApO1xuXHRcdH0gZWxzZSBpZiAoIGZhY2UgPT0gMi4wICkge1xuXHRcdFx0dXYgPSB2ZWMyKCAtIGRpcmVjdGlvbi54LCBkaXJlY3Rpb24ueSApIC8gYWJzKCBkaXJlY3Rpb24ueiApO1xuXHRcdH0gZWxzZSBpZiAoIGZhY2UgPT0gMy4wICkge1xuXHRcdFx0dXYgPSB2ZWMyKCAtIGRpcmVjdGlvbi56LCBkaXJlY3Rpb24ueSApIC8gYWJzKCBkaXJlY3Rpb24ueCApO1xuXHRcdH0gZWxzZSBpZiAoIGZhY2UgPT0gNC4wICkge1xuXHRcdFx0dXYgPSB2ZWMyKCAtIGRpcmVjdGlvbi54LCBkaXJlY3Rpb24ueiApIC8gYWJzKCBkaXJlY3Rpb24ueSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR1diA9IHZlYzIoIGRpcmVjdGlvbi54LCBkaXJlY3Rpb24ueSApIC8gYWJzKCBkaXJlY3Rpb24ueiApO1xuXHRcdH1cblx0XHRyZXR1cm4gMC41ICogKCB1diArIDEuMCApO1xuXHR9XG5cdHZlYzMgYmlsaW5lYXJDdWJlVVYoIHNhbXBsZXIyRCBlbnZNYXAsIHZlYzMgZGlyZWN0aW9uLCBmbG9hdCBtaXBJbnQgKSB7XG5cdFx0ZmxvYXQgZmFjZSA9IGdldEZhY2UoIGRpcmVjdGlvbiApO1xuXHRcdGZsb2F0IGZpbHRlckludCA9IG1heCggY3ViZVVWX21pbk1pcExldmVsIC0gbWlwSW50LCAwLjAgKTtcblx0XHRtaXBJbnQgPSBtYXgoIG1pcEludCwgY3ViZVVWX21pbk1pcExldmVsICk7XG5cdFx0ZmxvYXQgZmFjZVNpemUgPSBleHAyKCBtaXBJbnQgKTtcblx0XHRmbG9hdCB0ZXhlbFNpemUgPSAxLjAgLyAoIDMuMCAqIGN1YmVVVl9tYXhUaWxlU2l6ZSApO1xuXHRcdHZlYzIgdXYgPSBnZXRVViggZGlyZWN0aW9uLCBmYWNlICkgKiAoIGZhY2VTaXplIC0gMS4wICk7XG5cdFx0dmVjMiBmID0gZnJhY3QoIHV2ICk7XG5cdFx0dXYgKz0gMC41IC0gZjtcblx0XHRpZiAoIGZhY2UgPiAyLjAgKSB7XG5cdFx0XHR1di55ICs9IGZhY2VTaXplO1xuXHRcdFx0ZmFjZSAtPSAzLjA7XG5cdFx0fVxuXHRcdHV2LnggKz0gZmFjZSAqIGZhY2VTaXplO1xuXHRcdGlmICggbWlwSW50IDwgY3ViZVVWX21heE1pcExldmVsICkge1xuXHRcdFx0dXYueSArPSAyLjAgKiBjdWJlVVZfbWF4VGlsZVNpemU7XG5cdFx0fVxuXHRcdHV2LnkgKz0gZmlsdGVySW50ICogMi4wICogY3ViZVVWX21pblRpbGVTaXplO1xuXHRcdHV2LnggKz0gMy4wICogbWF4KCAwLjAsIGN1YmVVVl9tYXhUaWxlU2l6ZSAtIDIuMCAqIGZhY2VTaXplICk7XG5cdFx0dXYgKj0gdGV4ZWxTaXplO1xuXHRcdHZlYzMgdGwgPSBlbnZNYXBUZXhlbFRvTGluZWFyKCB0ZXh0dXJlMkQoIGVudk1hcCwgdXYgKSApLnJnYjtcblx0XHR1di54ICs9IHRleGVsU2l6ZTtcblx0XHR2ZWMzIHRyID0gZW52TWFwVGV4ZWxUb0xpbmVhciggdGV4dHVyZTJEKCBlbnZNYXAsIHV2ICkgKS5yZ2I7XG5cdFx0dXYueSArPSB0ZXhlbFNpemU7XG5cdFx0dmVjMyBiciA9IGVudk1hcFRleGVsVG9MaW5lYXIoIHRleHR1cmUyRCggZW52TWFwLCB1diApICkucmdiO1xuXHRcdHV2LnggLT0gdGV4ZWxTaXplO1xuXHRcdHZlYzMgYmwgPSBlbnZNYXBUZXhlbFRvTGluZWFyKCB0ZXh0dXJlMkQoIGVudk1hcCwgdXYgKSApLnJnYjtcblx0XHR2ZWMzIHRtID0gbWl4KCB0bCwgdHIsIGYueCApO1xuXHRcdHZlYzMgYm0gPSBtaXgoIGJsLCBiciwgZi54ICk7XG5cdFx0cmV0dXJuIG1peCggdG0sIGJtLCBmLnkgKTtcblx0fVxuXHQjZGVmaW5lIHIwIDEuMFxuXHQjZGVmaW5lIHYwIDAuMzM5XG5cdCNkZWZpbmUgbTAgLSAyLjBcblx0I2RlZmluZSByMSAwLjhcblx0I2RlZmluZSB2MSAwLjI3NlxuXHQjZGVmaW5lIG0xIC0gMS4wXG5cdCNkZWZpbmUgcjQgMC40XG5cdCNkZWZpbmUgdjQgMC4wNDZcblx0I2RlZmluZSBtNCAyLjBcblx0I2RlZmluZSByNSAwLjMwNVxuXHQjZGVmaW5lIHY1IDAuMDE2XG5cdCNkZWZpbmUgbTUgMy4wXG5cdCNkZWZpbmUgcjYgMC4yMVxuXHQjZGVmaW5lIHY2IDAuMDAzOFxuXHQjZGVmaW5lIG02IDQuMFxuXHRmbG9hdCByb3VnaG5lc3NUb01pcCggZmxvYXQgcm91Z2huZXNzICkge1xuXHRcdGZsb2F0IG1pcCA9IDAuMDtcblx0XHRpZiAoIHJvdWdobmVzcyA+PSByMSApIHtcblx0XHRcdG1pcCA9ICggcjAgLSByb3VnaG5lc3MgKSAqICggbTEgLSBtMCApIC8gKCByMCAtIHIxICkgKyBtMDtcblx0XHR9IGVsc2UgaWYgKCByb3VnaG5lc3MgPj0gcjQgKSB7XG5cdFx0XHRtaXAgPSAoIHIxIC0gcm91Z2huZXNzICkgKiAoIG00IC0gbTEgKSAvICggcjEgLSByNCApICsgbTE7XG5cdFx0fSBlbHNlIGlmICggcm91Z2huZXNzID49IHI1ICkge1xuXHRcdFx0bWlwID0gKCByNCAtIHJvdWdobmVzcyApICogKCBtNSAtIG00ICkgLyAoIHI0IC0gcjUgKSArIG00O1xuXHRcdH0gZWxzZSBpZiAoIHJvdWdobmVzcyA+PSByNiApIHtcblx0XHRcdG1pcCA9ICggcjUgLSByb3VnaG5lc3MgKSAqICggbTYgLSBtNSApIC8gKCByNSAtIHI2ICkgKyBtNTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWlwID0gLSAyLjAgKiBsb2cyKCAxLjE2ICogcm91Z2huZXNzICk7XHRcdH1cblx0XHRyZXR1cm4gbWlwO1xuXHR9XG5cdHZlYzQgdGV4dHVyZUN1YmVVViggc2FtcGxlcjJEIGVudk1hcCwgdmVjMyBzYW1wbGVEaXIsIGZsb2F0IHJvdWdobmVzcyApIHtcblx0XHRmbG9hdCBtaXAgPSBjbGFtcCggcm91Z2huZXNzVG9NaXAoIHJvdWdobmVzcyApLCBtMCwgY3ViZVVWX21heE1pcExldmVsICk7XG5cdFx0ZmxvYXQgbWlwRiA9IGZyYWN0KCBtaXAgKTtcblx0XHRmbG9hdCBtaXBJbnQgPSBmbG9vciggbWlwICk7XG5cdFx0dmVjMyBjb2xvcjAgPSBiaWxpbmVhckN1YmVVViggZW52TWFwLCBzYW1wbGVEaXIsIG1pcEludCApO1xuXHRcdGlmICggbWlwRiA9PSAwLjAgKSB7XG5cdFx0XHRyZXR1cm4gdmVjNCggY29sb3IwLCAxLjAgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmVjMyBjb2xvcjEgPSBiaWxpbmVhckN1YmVVViggZW52TWFwLCBzYW1wbGVEaXIsIG1pcEludCArIDEuMCApO1xuXHRcdFx0cmV0dXJuIHZlYzQoIG1peCggY29sb3IwLCBjb2xvcjEsIG1pcEYgKSwgMS4wICk7XG5cdFx0fVxuXHR9XG4jZW5kaWYiLGRlZmF1bHRub3JtYWxfdmVydGV4OiJ2ZWMzIHRyYW5zZm9ybWVkTm9ybWFsID0gb2JqZWN0Tm9ybWFsO1xuI2lmZGVmIFVTRV9JTlNUQU5DSU5HXG5cdG1hdDMgbSA9IG1hdDMoIGluc3RhbmNlTWF0cml4ICk7XG5cdHRyYW5zZm9ybWVkTm9ybWFsIC89IHZlYzMoIGRvdCggbVsgMCBdLCBtWyAwIF0gKSwgZG90KCBtWyAxIF0sIG1bIDEgXSApLCBkb3QoIG1bIDIgXSwgbVsgMiBdICkgKTtcblx0dHJhbnNmb3JtZWROb3JtYWwgPSBtICogdHJhbnNmb3JtZWROb3JtYWw7XG4jZW5kaWZcbnRyYW5zZm9ybWVkTm9ybWFsID0gbm9ybWFsTWF0cml4ICogdHJhbnNmb3JtZWROb3JtYWw7XG4jaWZkZWYgRkxJUF9TSURFRFxuXHR0cmFuc2Zvcm1lZE5vcm1hbCA9IC0gdHJhbnNmb3JtZWROb3JtYWw7XG4jZW5kaWZcbiNpZmRlZiBVU0VfVEFOR0VOVFxuXHR2ZWMzIHRyYW5zZm9ybWVkVGFuZ2VudCA9ICggbW9kZWxWaWV3TWF0cml4ICogdmVjNCggb2JqZWN0VGFuZ2VudCwgMC4wICkgKS54eXo7XG5cdCNpZmRlZiBGTElQX1NJREVEXG5cdFx0dHJhbnNmb3JtZWRUYW5nZW50ID0gLSB0cmFuc2Zvcm1lZFRhbmdlbnQ7XG5cdCNlbmRpZlxuI2VuZGlmIixkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg6IiNpZmRlZiBVU0VfRElTUExBQ0VNRU5UTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIGRpc3BsYWNlbWVudE1hcDtcblx0dW5pZm9ybSBmbG9hdCBkaXNwbGFjZW1lbnRTY2FsZTtcblx0dW5pZm9ybSBmbG9hdCBkaXNwbGFjZW1lbnRCaWFzO1xuI2VuZGlmIixkaXNwbGFjZW1lbnRtYXBfdmVydGV4OiIjaWZkZWYgVVNFX0RJU1BMQUNFTUVOVE1BUFxuXHR0cmFuc2Zvcm1lZCArPSBub3JtYWxpemUoIG9iamVjdE5vcm1hbCApICogKCB0ZXh0dXJlMkQoIGRpc3BsYWNlbWVudE1hcCwgdlV2ICkueCAqIGRpc3BsYWNlbWVudFNjYWxlICsgZGlzcGxhY2VtZW50QmlhcyApO1xuI2VuZGlmIixlbWlzc2l2ZW1hcF9mcmFnbWVudDoiI2lmZGVmIFVTRV9FTUlTU0lWRU1BUFxuXHR2ZWM0IGVtaXNzaXZlQ29sb3IgPSB0ZXh0dXJlMkQoIGVtaXNzaXZlTWFwLCB2VXYgKTtcblx0ZW1pc3NpdmVDb2xvci5yZ2IgPSBlbWlzc2l2ZU1hcFRleGVsVG9MaW5lYXIoIGVtaXNzaXZlQ29sb3IgKS5yZ2I7XG5cdHRvdGFsRW1pc3NpdmVSYWRpYW5jZSAqPSBlbWlzc2l2ZUNvbG9yLnJnYjtcbiNlbmRpZiIsZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudDoiI2lmZGVmIFVTRV9FTUlTU0lWRU1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBlbWlzc2l2ZU1hcDtcbiNlbmRpZiIsZW5jb2RpbmdzX2ZyYWdtZW50OiJnbF9GcmFnQ29sb3IgPSBsaW5lYXJUb091dHB1dFRleGVsKCBnbF9GcmFnQ29sb3IgKTsiLGVuY29kaW5nc19wYXJzX2ZyYWdtZW50OiJcbnZlYzQgTGluZWFyVG9MaW5lYXIoIGluIHZlYzQgdmFsdWUgKSB7XG5cdHJldHVybiB2YWx1ZTtcbn1cbnZlYzQgR2FtbWFUb0xpbmVhciggaW4gdmVjNCB2YWx1ZSwgaW4gZmxvYXQgZ2FtbWFGYWN0b3IgKSB7XG5cdHJldHVybiB2ZWM0KCBwb3coIHZhbHVlLnJnYiwgdmVjMyggZ2FtbWFGYWN0b3IgKSApLCB2YWx1ZS5hICk7XG59XG52ZWM0IExpbmVhclRvR2FtbWEoIGluIHZlYzQgdmFsdWUsIGluIGZsb2F0IGdhbW1hRmFjdG9yICkge1xuXHRyZXR1cm4gdmVjNCggcG93KCB2YWx1ZS5yZ2IsIHZlYzMoIDEuMCAvIGdhbW1hRmFjdG9yICkgKSwgdmFsdWUuYSApO1xufVxudmVjNCBzUkdCVG9MaW5lYXIoIGluIHZlYzQgdmFsdWUgKSB7XG5cdHJldHVybiB2ZWM0KCBtaXgoIHBvdyggdmFsdWUucmdiICogMC45NDc4NjcyOTg2ICsgdmVjMyggMC4wNTIxMzI3MDE0ICksIHZlYzMoIDIuNCApICksIHZhbHVlLnJnYiAqIDAuMDc3Mzk5MzgwOCwgdmVjMyggbGVzc1RoYW5FcXVhbCggdmFsdWUucmdiLCB2ZWMzKCAwLjA0MDQ1ICkgKSApICksIHZhbHVlLmEgKTtcbn1cbnZlYzQgTGluZWFyVG9zUkdCKCBpbiB2ZWM0IHZhbHVlICkge1xuXHRyZXR1cm4gdmVjNCggbWl4KCBwb3coIHZhbHVlLnJnYiwgdmVjMyggMC40MTY2NiApICkgKiAxLjA1NSAtIHZlYzMoIDAuMDU1ICksIHZhbHVlLnJnYiAqIDEyLjkyLCB2ZWMzKCBsZXNzVGhhbkVxdWFsKCB2YWx1ZS5yZ2IsIHZlYzMoIDAuMDAzMTMwOCApICkgKSApLCB2YWx1ZS5hICk7XG59XG52ZWM0IFJHQkVUb0xpbmVhciggaW4gdmVjNCB2YWx1ZSApIHtcblx0cmV0dXJuIHZlYzQoIHZhbHVlLnJnYiAqIGV4cDIoIHZhbHVlLmEgKiAyNTUuMCAtIDEyOC4wICksIDEuMCApO1xufVxudmVjNCBMaW5lYXJUb1JHQkUoIGluIHZlYzQgdmFsdWUgKSB7XG5cdGZsb2F0IG1heENvbXBvbmVudCA9IG1heCggbWF4KCB2YWx1ZS5yLCB2YWx1ZS5nICksIHZhbHVlLmIgKTtcblx0ZmxvYXQgZkV4cCA9IGNsYW1wKCBjZWlsKCBsb2cyKCBtYXhDb21wb25lbnQgKSApLCAtMTI4LjAsIDEyNy4wICk7XG5cdHJldHVybiB2ZWM0KCB2YWx1ZS5yZ2IgLyBleHAyKCBmRXhwICksICggZkV4cCArIDEyOC4wICkgLyAyNTUuMCApO1xufVxudmVjNCBSR0JNVG9MaW5lYXIoIGluIHZlYzQgdmFsdWUsIGluIGZsb2F0IG1heFJhbmdlICkge1xuXHRyZXR1cm4gdmVjNCggdmFsdWUucmdiICogdmFsdWUuYSAqIG1heFJhbmdlLCAxLjAgKTtcbn1cbnZlYzQgTGluZWFyVG9SR0JNKCBpbiB2ZWM0IHZhbHVlLCBpbiBmbG9hdCBtYXhSYW5nZSApIHtcblx0ZmxvYXQgbWF4UkdCID0gbWF4KCB2YWx1ZS5yLCBtYXgoIHZhbHVlLmcsIHZhbHVlLmIgKSApO1xuXHRmbG9hdCBNID0gY2xhbXAoIG1heFJHQiAvIG1heFJhbmdlLCAwLjAsIDEuMCApO1xuXHRNID0gY2VpbCggTSAqIDI1NS4wICkgLyAyNTUuMDtcblx0cmV0dXJuIHZlYzQoIHZhbHVlLnJnYiAvICggTSAqIG1heFJhbmdlICksIE0gKTtcbn1cbnZlYzQgUkdCRFRvTGluZWFyKCBpbiB2ZWM0IHZhbHVlLCBpbiBmbG9hdCBtYXhSYW5nZSApIHtcblx0cmV0dXJuIHZlYzQoIHZhbHVlLnJnYiAqICggKCBtYXhSYW5nZSAvIDI1NS4wICkgLyB2YWx1ZS5hICksIDEuMCApO1xufVxudmVjNCBMaW5lYXJUb1JHQkQoIGluIHZlYzQgdmFsdWUsIGluIGZsb2F0IG1heFJhbmdlICkge1xuXHRmbG9hdCBtYXhSR0IgPSBtYXgoIHZhbHVlLnIsIG1heCggdmFsdWUuZywgdmFsdWUuYiApICk7XG5cdGZsb2F0IEQgPSBtYXgoIG1heFJhbmdlIC8gbWF4UkdCLCAxLjAgKTtcblx0RCA9IGNsYW1wKCBmbG9vciggRCApIC8gMjU1LjAsIDAuMCwgMS4wICk7XG5cdHJldHVybiB2ZWM0KCB2YWx1ZS5yZ2IgKiAoIEQgKiAoIDI1NS4wIC8gbWF4UmFuZ2UgKSApLCBEICk7XG59XG5jb25zdCBtYXQzIGNMb2dMdXZNID0gbWF0MyggMC4yMjA5LCAwLjMzOTAsIDAuNDE4NCwgMC4xMTM4LCAwLjY3ODAsIDAuNzMxOSwgMC4wMTAyLCAwLjExMzAsIDAuMjk2OSApO1xudmVjNCBMaW5lYXJUb0xvZ0x1diggaW4gdmVjNCB2YWx1ZSApIHtcblx0dmVjMyBYcF9ZX1hZWnAgPSBjTG9nTHV2TSAqIHZhbHVlLnJnYjtcblx0WHBfWV9YWVpwID0gbWF4KCBYcF9ZX1hZWnAsIHZlYzMoIDFlLTYsIDFlLTYsIDFlLTYgKSApO1xuXHR2ZWM0IHZSZXN1bHQ7XG5cdHZSZXN1bHQueHkgPSBYcF9ZX1hZWnAueHkgLyBYcF9ZX1hZWnAuejtcblx0ZmxvYXQgTGUgPSAyLjAgKiBsb2cyKFhwX1lfWFlacC55KSArIDEyNy4wO1xuXHR2UmVzdWx0LncgPSBmcmFjdCggTGUgKTtcblx0dlJlc3VsdC56ID0gKCBMZSAtICggZmxvb3IoIHZSZXN1bHQudyAqIDI1NS4wICkgKSAvIDI1NS4wICkgLyAyNTUuMDtcblx0cmV0dXJuIHZSZXN1bHQ7XG59XG5jb25zdCBtYXQzIGNMb2dMdXZJbnZlcnNlTSA9IG1hdDMoIDYuMDAxNCwgLTIuNzAwOCwgLTEuNzk5NiwgLTEuMzMyMCwgMy4xMDI5LCAtNS43NzIxLCAwLjMwMDgsIC0xLjA4ODIsIDUuNjI2OCApO1xudmVjNCBMb2dMdXZUb0xpbmVhciggaW4gdmVjNCB2YWx1ZSApIHtcblx0ZmxvYXQgTGUgPSB2YWx1ZS56ICogMjU1LjAgKyB2YWx1ZS53O1xuXHR2ZWMzIFhwX1lfWFlacDtcblx0WHBfWV9YWVpwLnkgPSBleHAyKCAoIExlIC0gMTI3LjAgKSAvIDIuMCApO1xuXHRYcF9ZX1hZWnAueiA9IFhwX1lfWFlacC55IC8gdmFsdWUueTtcblx0WHBfWV9YWVpwLnggPSB2YWx1ZS54ICogWHBfWV9YWVpwLno7XG5cdHZlYzMgdlJHQiA9IGNMb2dMdXZJbnZlcnNlTSAqIFhwX1lfWFlacC5yZ2I7XG5cdHJldHVybiB2ZWM0KCBtYXgoIHZSR0IsIDAuMCApLCAxLjAgKTtcbn0iLGVudm1hcF9mcmFnbWVudDoiI2lmZGVmIFVTRV9FTlZNQVBcblx0I2lmZGVmIEVOVl9XT1JMRFBPU1xuXHRcdHZlYzMgY2FtZXJhVG9GcmFnO1xuXHRcdGlmICggaXNPcnRob2dyYXBoaWMgKSB7XG5cdFx0XHRjYW1lcmFUb0ZyYWcgPSBub3JtYWxpemUoIHZlYzMoIC0gdmlld01hdHJpeFsgMCBdWyAyIF0sIC0gdmlld01hdHJpeFsgMSBdWyAyIF0sIC0gdmlld01hdHJpeFsgMiBdWyAyIF0gKSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjYW1lcmFUb0ZyYWcgPSBub3JtYWxpemUoIHZXb3JsZFBvc2l0aW9uIC0gY2FtZXJhUG9zaXRpb24gKTtcblx0XHR9XG5cdFx0dmVjMyB3b3JsZE5vcm1hbCA9IGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIG5vcm1hbCwgdmlld01hdHJpeCApO1xuXHRcdCNpZmRlZiBFTlZNQVBfTU9ERV9SRUZMRUNUSU9OXG5cdFx0XHR2ZWMzIHJlZmxlY3RWZWMgPSByZWZsZWN0KCBjYW1lcmFUb0ZyYWcsIHdvcmxkTm9ybWFsICk7XG5cdFx0I2Vsc2Vcblx0XHRcdHZlYzMgcmVmbGVjdFZlYyA9IHJlZnJhY3QoIGNhbWVyYVRvRnJhZywgd29ybGROb3JtYWwsIHJlZnJhY3Rpb25SYXRpbyApO1xuXHRcdCNlbmRpZlxuXHQjZWxzZVxuXHRcdHZlYzMgcmVmbGVjdFZlYyA9IHZSZWZsZWN0O1xuXHQjZW5kaWZcblx0I2lmZGVmIEVOVk1BUF9UWVBFX0NVQkVcblx0XHR2ZWM0IGVudkNvbG9yID0gdGV4dHVyZUN1YmUoIGVudk1hcCwgdmVjMyggZmxpcEVudk1hcCAqIHJlZmxlY3RWZWMueCwgcmVmbGVjdFZlYy55eiApICk7XG5cdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKVxuXHRcdHZlYzQgZW52Q29sb3IgPSB0ZXh0dXJlQ3ViZVVWKCBlbnZNYXAsIHJlZmxlY3RWZWMsIDAuMCApO1xuXHQjZWxzZVxuXHRcdHZlYzQgZW52Q29sb3IgPSB2ZWM0KCAwLjAgKTtcblx0I2VuZGlmXG5cdCNpZm5kZWYgRU5WTUFQX1RZUEVfQ1VCRV9VVlxuXHRcdGVudkNvbG9yID0gZW52TWFwVGV4ZWxUb0xpbmVhciggZW52Q29sb3IgKTtcblx0I2VuZGlmXG5cdCNpZmRlZiBFTlZNQVBfQkxFTkRJTkdfTVVMVElQTFlcblx0XHRvdXRnb2luZ0xpZ2h0ID0gbWl4KCBvdXRnb2luZ0xpZ2h0LCBvdXRnb2luZ0xpZ2h0ICogZW52Q29sb3IueHl6LCBzcGVjdWxhclN0cmVuZ3RoICogcmVmbGVjdGl2aXR5ICk7XG5cdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9CTEVORElOR19NSVggKVxuXHRcdG91dGdvaW5nTGlnaHQgPSBtaXgoIG91dGdvaW5nTGlnaHQsIGVudkNvbG9yLnh5eiwgc3BlY3VsYXJTdHJlbmd0aCAqIHJlZmxlY3Rpdml0eSApO1xuXHQjZWxpZiBkZWZpbmVkKCBFTlZNQVBfQkxFTkRJTkdfQUREIClcblx0XHRvdXRnb2luZ0xpZ2h0ICs9IGVudkNvbG9yLnh5eiAqIHNwZWN1bGFyU3RyZW5ndGggKiByZWZsZWN0aXZpdHk7XG5cdCNlbmRpZlxuI2VuZGlmIixlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ6IiNpZmRlZiBVU0VfRU5WTUFQXG5cdHVuaWZvcm0gZmxvYXQgZW52TWFwSW50ZW5zaXR5O1xuXHR1bmlmb3JtIGZsb2F0IGZsaXBFbnZNYXA7XG5cdHVuaWZvcm0gaW50IG1heE1pcExldmVsO1xuXHQjaWZkZWYgRU5WTUFQX1RZUEVfQ1VCRVxuXHRcdHVuaWZvcm0gc2FtcGxlckN1YmUgZW52TWFwO1xuXHQjZWxzZVxuXHRcdHVuaWZvcm0gc2FtcGxlcjJEIGVudk1hcDtcblx0I2VuZGlmXG5cdFxuI2VuZGlmIixlbnZtYXBfcGFyc19mcmFnbWVudDoiI2lmZGVmIFVTRV9FTlZNQVBcblx0dW5pZm9ybSBmbG9hdCByZWZsZWN0aXZpdHk7XG5cdCNpZiBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFVTRV9OT1JNQUxNQVAgKSB8fCBkZWZpbmVkKCBQSE9ORyApXG5cdFx0I2RlZmluZSBFTlZfV09STERQT1Ncblx0I2VuZGlmXG5cdCNpZmRlZiBFTlZfV09STERQT1Ncblx0XHR2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XG5cdFx0dW5pZm9ybSBmbG9hdCByZWZyYWN0aW9uUmF0aW87XG5cdCNlbHNlXG5cdFx0dmFyeWluZyB2ZWMzIHZSZWZsZWN0O1xuXHQjZW5kaWZcbiNlbmRpZiIsZW52bWFwX3BhcnNfdmVydGV4OiIjaWZkZWYgVVNFX0VOVk1BUFxuXHQjaWYgZGVmaW5lZCggVVNFX0JVTVBNQVAgKSB8fCBkZWZpbmVkKCBVU0VfTk9STUFMTUFQICkgfHxkZWZpbmVkKCBQSE9ORyApXG5cdFx0I2RlZmluZSBFTlZfV09STERQT1Ncblx0I2VuZGlmXG5cdCNpZmRlZiBFTlZfV09STERQT1Ncblx0XHRcblx0XHR2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XG5cdCNlbHNlXG5cdFx0dmFyeWluZyB2ZWMzIHZSZWZsZWN0O1xuXHRcdHVuaWZvcm0gZmxvYXQgcmVmcmFjdGlvblJhdGlvO1xuXHQjZW5kaWZcbiNlbmRpZiIsZW52bWFwX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQ6IiNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQIClcblx0I2lmZGVmIEVOVk1BUF9NT0RFX1JFRlJBQ1RJT05cblx0XHR1bmlmb3JtIGZsb2F0IHJlZnJhY3Rpb25SYXRpbztcblx0I2VuZGlmXG5cdHZlYzMgZ2V0TGlnaHRQcm9iZUluZGlyZWN0SXJyYWRpYW5jZSggY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gaW50IG1heE1JUExldmVsICkge1xuXHRcdHZlYzMgd29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCBnZW9tZXRyeS5ub3JtYWwsIHZpZXdNYXRyaXggKTtcblx0XHQjaWZkZWYgRU5WTUFQX1RZUEVfQ1VCRVxuXHRcdFx0dmVjMyBxdWVyeVZlYyA9IHZlYzMoIGZsaXBFbnZNYXAgKiB3b3JsZE5vcm1hbC54LCB3b3JsZE5vcm1hbC55eiApO1xuXHRcdFx0I2lmZGVmIFRFWFRVUkVfTE9EX0VYVFxuXHRcdFx0XHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZUN1YmVMb2RFWFQoIGVudk1hcCwgcXVlcnlWZWMsIGZsb2F0KCBtYXhNSVBMZXZlbCApICk7XG5cdFx0XHQjZWxzZVxuXHRcdFx0XHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZUN1YmUoIGVudk1hcCwgcXVlcnlWZWMsIGZsb2F0KCBtYXhNSVBMZXZlbCApICk7XG5cdFx0XHQjZW5kaWZcblx0XHRcdGVudk1hcENvbG9yLnJnYiA9IGVudk1hcFRleGVsVG9MaW5lYXIoIGVudk1hcENvbG9yICkucmdiO1xuXHRcdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKVxuXHRcdFx0dmVjNCBlbnZNYXBDb2xvciA9IHRleHR1cmVDdWJlVVYoIGVudk1hcCwgd29ybGROb3JtYWwsIDEuMCApO1xuXHRcdCNlbHNlXG5cdFx0XHR2ZWM0IGVudk1hcENvbG9yID0gdmVjNCggMC4wICk7XG5cdFx0I2VuZGlmXG5cdFx0cmV0dXJuIFBJICogZW52TWFwQ29sb3IucmdiICogZW52TWFwSW50ZW5zaXR5O1xuXHR9XG5cdGZsb2F0IGdldFNwZWN1bGFyTUlQTGV2ZWwoIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcywgY29uc3QgaW4gaW50IG1heE1JUExldmVsICkge1xuXHRcdGZsb2F0IG1heE1JUExldmVsU2NhbGFyID0gZmxvYXQoIG1heE1JUExldmVsICk7XG5cdFx0ZmxvYXQgc2lnbWEgPSBQSSAqIHJvdWdobmVzcyAqIHJvdWdobmVzcyAvICggMS4wICsgcm91Z2huZXNzICk7XG5cdFx0ZmxvYXQgZGVzaXJlZE1JUExldmVsID0gbWF4TUlQTGV2ZWxTY2FsYXIgKyBsb2cyKCBzaWdtYSApO1xuXHRcdHJldHVybiBjbGFtcCggZGVzaXJlZE1JUExldmVsLCAwLjAsIG1heE1JUExldmVsU2NhbGFyICk7XG5cdH1cblx0dmVjMyBnZXRMaWdodFByb2JlSW5kaXJlY3RSYWRpYW5jZSggY29uc3QgaW4gdmVjMyB2aWV3RGlyLCBjb25zdCBpbiB2ZWMzIG5vcm1hbCwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzLCBjb25zdCBpbiBpbnQgbWF4TUlQTGV2ZWwgKSB7XG5cdFx0I2lmZGVmIEVOVk1BUF9NT0RFX1JFRkxFQ1RJT05cblx0XHRcdHZlYzMgcmVmbGVjdFZlYyA9IHJlZmxlY3QoIC12aWV3RGlyLCBub3JtYWwgKTtcblx0XHRcdHJlZmxlY3RWZWMgPSBub3JtYWxpemUoIG1peCggcmVmbGVjdFZlYywgbm9ybWFsLCByb3VnaG5lc3MgKiByb3VnaG5lc3MpICk7XG5cdFx0I2Vsc2Vcblx0XHRcdHZlYzMgcmVmbGVjdFZlYyA9IHJlZnJhY3QoIC12aWV3RGlyLCBub3JtYWwsIHJlZnJhY3Rpb25SYXRpbyApO1xuXHRcdCNlbmRpZlxuXHRcdHJlZmxlY3RWZWMgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCByZWZsZWN0VmVjLCB2aWV3TWF0cml4ICk7XG5cdFx0ZmxvYXQgc3BlY3VsYXJNSVBMZXZlbCA9IGdldFNwZWN1bGFyTUlQTGV2ZWwoIHJvdWdobmVzcywgbWF4TUlQTGV2ZWwgKTtcblx0XHQjaWZkZWYgRU5WTUFQX1RZUEVfQ1VCRVxuXHRcdFx0dmVjMyBxdWVyeVJlZmxlY3RWZWMgPSB2ZWMzKCBmbGlwRW52TWFwICogcmVmbGVjdFZlYy54LCByZWZsZWN0VmVjLnl6ICk7XG5cdFx0XHQjaWZkZWYgVEVYVFVSRV9MT0RfRVhUXG5cdFx0XHRcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZUxvZEVYVCggZW52TWFwLCBxdWVyeVJlZmxlY3RWZWMsIHNwZWN1bGFyTUlQTGV2ZWwgKTtcblx0XHRcdCNlbHNlXG5cdFx0XHRcdHZlYzQgZW52TWFwQ29sb3IgPSB0ZXh0dXJlQ3ViZSggZW52TWFwLCBxdWVyeVJlZmxlY3RWZWMsIHNwZWN1bGFyTUlQTGV2ZWwgKTtcblx0XHRcdCNlbmRpZlxuXHRcdFx0ZW52TWFwQ29sb3IucmdiID0gZW52TWFwVGV4ZWxUb0xpbmVhciggZW52TWFwQ29sb3IgKS5yZ2I7XG5cdFx0I2VsaWYgZGVmaW5lZCggRU5WTUFQX1RZUEVfQ1VCRV9VViApXG5cdFx0XHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZUN1YmVVViggZW52TWFwLCByZWZsZWN0VmVjLCByb3VnaG5lc3MgKTtcblx0XHQjZW5kaWZcblx0XHRyZXR1cm4gZW52TWFwQ29sb3IucmdiICogZW52TWFwSW50ZW5zaXR5O1xuXHR9XG4jZW5kaWYiLGVudm1hcF92ZXJ0ZXg6IiNpZmRlZiBVU0VfRU5WTUFQXG5cdCNpZmRlZiBFTlZfV09STERQT1Ncblx0XHR2V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24ueHl6O1xuXHQjZWxzZVxuXHRcdHZlYzMgY2FtZXJhVG9WZXJ0ZXg7XG5cdFx0aWYgKCBpc09ydGhvZ3JhcGhpYyApIHtcblx0XHRcdGNhbWVyYVRvVmVydGV4ID0gbm9ybWFsaXplKCB2ZWMzKCAtIHZpZXdNYXRyaXhbIDAgXVsgMiBdLCAtIHZpZXdNYXRyaXhbIDEgXVsgMiBdLCAtIHZpZXdNYXRyaXhbIDIgXVsgMiBdICkgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2FtZXJhVG9WZXJ0ZXggPSBub3JtYWxpemUoIHdvcmxkUG9zaXRpb24ueHl6IC0gY2FtZXJhUG9zaXRpb24gKTtcblx0XHR9XG5cdFx0dmVjMyB3b3JsZE5vcm1hbCA9IGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIHRyYW5zZm9ybWVkTm9ybWFsLCB2aWV3TWF0cml4ICk7XG5cdFx0I2lmZGVmIEVOVk1BUF9NT0RFX1JFRkxFQ1RJT05cblx0XHRcdHZSZWZsZWN0ID0gcmVmbGVjdCggY2FtZXJhVG9WZXJ0ZXgsIHdvcmxkTm9ybWFsICk7XG5cdFx0I2Vsc2Vcblx0XHRcdHZSZWZsZWN0ID0gcmVmcmFjdCggY2FtZXJhVG9WZXJ0ZXgsIHdvcmxkTm9ybWFsLCByZWZyYWN0aW9uUmF0aW8gKTtcblx0XHQjZW5kaWZcblx0I2VuZGlmXG4jZW5kaWYiLGZvZ192ZXJ0ZXg6IiNpZmRlZiBVU0VfRk9HXG5cdGZvZ0RlcHRoID0gLSBtdlBvc2l0aW9uLno7XG4jZW5kaWYiLGZvZ19wYXJzX3ZlcnRleDoiI2lmZGVmIFVTRV9GT0dcblx0dmFyeWluZyBmbG9hdCBmb2dEZXB0aDtcbiNlbmRpZiIsZm9nX2ZyYWdtZW50OiIjaWZkZWYgVVNFX0ZPR1xuXHQjaWZkZWYgRk9HX0VYUDJcblx0XHRmbG9hdCBmb2dGYWN0b3IgPSAxLjAgLSBleHAoIC0gZm9nRGVuc2l0eSAqIGZvZ0RlbnNpdHkgKiBmb2dEZXB0aCAqIGZvZ0RlcHRoICk7XG5cdCNlbHNlXG5cdFx0ZmxvYXQgZm9nRmFjdG9yID0gc21vb3Roc3RlcCggZm9nTmVhciwgZm9nRmFyLCBmb2dEZXB0aCApO1xuXHQjZW5kaWZcblx0Z2xfRnJhZ0NvbG9yLnJnYiA9IG1peCggZ2xfRnJhZ0NvbG9yLnJnYiwgZm9nQ29sb3IsIGZvZ0ZhY3RvciApO1xuI2VuZGlmIixmb2dfcGFyc19mcmFnbWVudDoiI2lmZGVmIFVTRV9GT0dcblx0dW5pZm9ybSB2ZWMzIGZvZ0NvbG9yO1xuXHR2YXJ5aW5nIGZsb2F0IGZvZ0RlcHRoO1xuXHQjaWZkZWYgRk9HX0VYUDJcblx0XHR1bmlmb3JtIGZsb2F0IGZvZ0RlbnNpdHk7XG5cdCNlbHNlXG5cdFx0dW5pZm9ybSBmbG9hdCBmb2dOZWFyO1xuXHRcdHVuaWZvcm0gZmxvYXQgZm9nRmFyO1xuXHQjZW5kaWZcbiNlbmRpZiIsZ3JhZGllbnRtYXBfcGFyc19mcmFnbWVudDoiI2lmZGVmIFVTRV9HUkFESUVOVE1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBncmFkaWVudE1hcDtcbiNlbmRpZlxudmVjMyBnZXRHcmFkaWVudElycmFkaWFuY2UoIHZlYzMgbm9ybWFsLCB2ZWMzIGxpZ2h0RGlyZWN0aW9uICkge1xuXHRmbG9hdCBkb3ROTCA9IGRvdCggbm9ybWFsLCBsaWdodERpcmVjdGlvbiApO1xuXHR2ZWMyIGNvb3JkID0gdmVjMiggZG90TkwgKiAwLjUgKyAwLjUsIDAuMCApO1xuXHQjaWZkZWYgVVNFX0dSQURJRU5UTUFQXG5cdFx0cmV0dXJuIHRleHR1cmUyRCggZ3JhZGllbnRNYXAsIGNvb3JkICkucmdiO1xuXHQjZWxzZVxuXHRcdHJldHVybiAoIGNvb3JkLnggPCAwLjcgKSA/IHZlYzMoIDAuNyApIDogdmVjMyggMS4wICk7XG5cdCNlbmRpZlxufSIsbGlnaHRtYXBfZnJhZ21lbnQ6IiNpZmRlZiBVU0VfTElHSFRNQVBcblx0dmVjNCBsaWdodE1hcFRleGVsPSB0ZXh0dXJlMkQoIGxpZ2h0TWFwLCB2VXYyICk7XG5cdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBQSSAqIGxpZ2h0TWFwVGV4ZWxUb0xpbmVhciggbGlnaHRNYXBUZXhlbCApLnJnYiAqIGxpZ2h0TWFwSW50ZW5zaXR5O1xuI2VuZGlmIixsaWdodG1hcF9wYXJzX2ZyYWdtZW50OiIjaWZkZWYgVVNFX0xJR0hUTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIGxpZ2h0TWFwO1xuXHR1bmlmb3JtIGZsb2F0IGxpZ2h0TWFwSW50ZW5zaXR5O1xuI2VuZGlmIixsaWdodHNfbGFtYmVydF92ZXJ0ZXg6InZlYzMgZGlmZnVzZSA9IHZlYzMoIDEuMCApO1xuR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeTtcbmdlb21ldHJ5LnBvc2l0aW9uID0gbXZQb3NpdGlvbi54eXo7XG5nZW9tZXRyeS5ub3JtYWwgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkTm9ybWFsICk7XG5nZW9tZXRyeS52aWV3RGlyID0gKCBpc09ydGhvZ3JhcGhpYyApID8gdmVjMyggMCwgMCwgMSApIDogbm9ybWFsaXplKCAtbXZQb3NpdGlvbi54eXogKTtcbkdlb21ldHJpY0NvbnRleHQgYmFja0dlb21ldHJ5O1xuYmFja0dlb21ldHJ5LnBvc2l0aW9uID0gZ2VvbWV0cnkucG9zaXRpb247XG5iYWNrR2VvbWV0cnkubm9ybWFsID0gLWdlb21ldHJ5Lm5vcm1hbDtcbmJhY2tHZW9tZXRyeS52aWV3RGlyID0gZ2VvbWV0cnkudmlld0RpcjtcbnZMaWdodEZyb250ID0gdmVjMyggMC4wICk7XG52SW5kaXJlY3RGcm9udCA9IHZlYzMoIDAuMCApO1xuI2lmZGVmIERPVUJMRV9TSURFRFxuXHR2TGlnaHRCYWNrID0gdmVjMyggMC4wICk7XG5cdHZJbmRpcmVjdEJhY2sgPSB2ZWMzKCAwLjAgKTtcbiNlbmRpZlxuSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodDtcbmZsb2F0IGRvdE5MO1xudmVjMyBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7XG52SW5kaXJlY3RGcm9udCArPSBnZXRBbWJpZW50TGlnaHRJcnJhZGlhbmNlKCBhbWJpZW50TGlnaHRDb2xvciApO1xudkluZGlyZWN0RnJvbnQgKz0gZ2V0TGlnaHRQcm9iZUlycmFkaWFuY2UoIGxpZ2h0UHJvYmUsIGdlb21ldHJ5ICk7XG4jaWZkZWYgRE9VQkxFX1NJREVEXG5cdHZJbmRpcmVjdEJhY2sgKz0gZ2V0QW1iaWVudExpZ2h0SXJyYWRpYW5jZSggYW1iaWVudExpZ2h0Q29sb3IgKTtcblx0dkluZGlyZWN0QmFjayArPSBnZXRMaWdodFByb2JlSXJyYWRpYW5jZSggbGlnaHRQcm9iZSwgYmFja0dlb21ldHJ5ICk7XG4jZW5kaWZcbiNpZiBOVU1fUE9JTlRfTElHSFRTID4gMFxuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVFM7IGkgKysgKSB7XG5cdFx0Z2V0UG9pbnREaXJlY3RMaWdodElycmFkaWFuY2UoIHBvaW50TGlnaHRzWyBpIF0sIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApO1xuXHRcdGRvdE5MID0gZG90KCBnZW9tZXRyeS5ub3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApO1xuXHRcdGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZSA9IFBJICogZGlyZWN0TGlnaHQuY29sb3I7XG5cdFx0dkxpZ2h0RnJvbnQgKz0gc2F0dXJhdGUoIGRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7XG5cdFx0I2lmZGVmIERPVUJMRV9TSURFRFxuXHRcdFx0dkxpZ2h0QmFjayArPSBzYXR1cmF0ZSggLWRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7XG5cdFx0I2VuZGlmXG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcbiNlbmRpZlxuI2lmIE5VTV9TUE9UX0xJR0hUUyA+IDBcblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVFM7IGkgKysgKSB7XG5cdFx0Z2V0U3BvdERpcmVjdExpZ2h0SXJyYWRpYW5jZSggc3BvdExpZ2h0c1sgaSBdLCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcblx0XHRkb3ROTCA9IGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKTtcblx0XHRkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2UgPSBQSSAqIGRpcmVjdExpZ2h0LmNvbG9yO1xuXHRcdHZMaWdodEZyb250ICs9IHNhdHVyYXRlKCBkb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlO1xuXHRcdCNpZmRlZiBET1VCTEVfU0lERURcblx0XHRcdHZMaWdodEJhY2sgKz0gc2F0dXJhdGUoIC1kb3ROTCApICogZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlO1xuXHRcdCNlbmRpZlxuXHR9XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG4jZW5kaWZcbiNpZiBOVU1fRElSX0xJR0hUUyA+IDBcblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUUzsgaSArKyApIHtcblx0XHRnZXREaXJlY3Rpb25hbERpcmVjdExpZ2h0SXJyYWRpYW5jZSggZGlyZWN0aW9uYWxMaWdodHNbIGkgXSwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7XG5cdFx0ZG90TkwgPSBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICk7XG5cdFx0ZGlyZWN0TGlnaHRDb2xvcl9EaWZmdXNlID0gUEkgKiBkaXJlY3RMaWdodC5jb2xvcjtcblx0XHR2TGlnaHRGcm9udCArPSBzYXR1cmF0ZSggZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTtcblx0XHQjaWZkZWYgRE9VQkxFX1NJREVEXG5cdFx0XHR2TGlnaHRCYWNrICs9IHNhdHVyYXRlKCAtZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTtcblx0XHQjZW5kaWZcblx0fVxuXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuI2VuZGlmXG4jaWYgTlVNX0hFTUlfTElHSFRTID4gMFxuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9IRU1JX0xJR0hUUzsgaSArKyApIHtcblx0XHR2SW5kaXJlY3RGcm9udCArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGdlb21ldHJ5ICk7XG5cdFx0I2lmZGVmIERPVUJMRV9TSURFRFxuXHRcdFx0dkluZGlyZWN0QmFjayArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGJhY2tHZW9tZXRyeSApO1xuXHRcdCNlbmRpZlxuXHR9XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG4jZW5kaWYiLGxpZ2h0c19wYXJzX2JlZ2luOiJ1bmlmb3JtIGJvb2wgcmVjZWl2ZVNoYWRvdztcbnVuaWZvcm0gdmVjMyBhbWJpZW50TGlnaHRDb2xvcjtcbnVuaWZvcm0gdmVjMyBsaWdodFByb2JlWyA5IF07XG52ZWMzIHNoR2V0SXJyYWRpYW5jZUF0KCBpbiB2ZWMzIG5vcm1hbCwgaW4gdmVjMyBzaENvZWZmaWNpZW50c1sgOSBdICkge1xuXHRmbG9hdCB4ID0gbm9ybWFsLngsIHkgPSBub3JtYWwueSwgeiA9IG5vcm1hbC56O1xuXHR2ZWMzIHJlc3VsdCA9IHNoQ29lZmZpY2llbnRzWyAwIF0gKiAwLjg4NjIyNztcblx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyAxIF0gKiAyLjAgKiAwLjUxMTY2NCAqIHk7XG5cdHJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgMiBdICogMi4wICogMC41MTE2NjQgKiB6O1xuXHRyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDMgXSAqIDIuMCAqIDAuNTExNjY0ICogeDtcblx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA0IF0gKiAyLjAgKiAwLjQyOTA0MyAqIHggKiB5O1xuXHRyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDUgXSAqIDIuMCAqIDAuNDI5MDQzICogeSAqIHo7XG5cdHJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgNiBdICogKCAwLjc0MzEyNSAqIHogKiB6IC0gMC4yNDc3MDggKTtcblx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA3IF0gKiAyLjAgKiAwLjQyOTA0MyAqIHggKiB6O1xuXHRyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDggXSAqIDAuNDI5MDQzICogKCB4ICogeCAtIHkgKiB5ICk7XG5cdHJldHVybiByZXN1bHQ7XG59XG52ZWMzIGdldExpZ2h0UHJvYmVJcnJhZGlhbmNlKCBjb25zdCBpbiB2ZWMzIGxpZ2h0UHJvYmVbIDkgXSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSApIHtcblx0dmVjMyB3b3JsZE5vcm1hbCA9IGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIGdlb21ldHJ5Lm5vcm1hbCwgdmlld01hdHJpeCApO1xuXHR2ZWMzIGlycmFkaWFuY2UgPSBzaEdldElycmFkaWFuY2VBdCggd29ybGROb3JtYWwsIGxpZ2h0UHJvYmUgKTtcblx0cmV0dXJuIGlycmFkaWFuY2U7XG59XG52ZWMzIGdldEFtYmllbnRMaWdodElycmFkaWFuY2UoIGNvbnN0IGluIHZlYzMgYW1iaWVudExpZ2h0Q29sb3IgKSB7XG5cdHZlYzMgaXJyYWRpYW5jZSA9IGFtYmllbnRMaWdodENvbG9yO1xuXHQjaWZuZGVmIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFNcblx0XHRpcnJhZGlhbmNlICo9IFBJO1xuXHQjZW5kaWZcblx0cmV0dXJuIGlycmFkaWFuY2U7XG59XG4jaWYgTlVNX0RJUl9MSUdIVFMgPiAwXG5cdHN0cnVjdCBEaXJlY3Rpb25hbExpZ2h0IHtcblx0XHR2ZWMzIGRpcmVjdGlvbjtcblx0XHR2ZWMzIGNvbG9yO1xuXHR9O1xuXHR1bmlmb3JtIERpcmVjdGlvbmFsTGlnaHQgZGlyZWN0aW9uYWxMaWdodHNbIE5VTV9ESVJfTElHSFRTIF07XG5cdHZvaWQgZ2V0RGlyZWN0aW9uYWxEaXJlY3RMaWdodElycmFkaWFuY2UoIGNvbnN0IGluIERpcmVjdGlvbmFsTGlnaHQgZGlyZWN0aW9uYWxMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgb3V0IEluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQgKSB7XG5cdFx0ZGlyZWN0TGlnaHQuY29sb3IgPSBkaXJlY3Rpb25hbExpZ2h0LmNvbG9yO1xuXHRcdGRpcmVjdExpZ2h0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbmFsTGlnaHQuZGlyZWN0aW9uO1xuXHRcdGRpcmVjdExpZ2h0LnZpc2libGUgPSB0cnVlO1xuXHR9XG4jZW5kaWZcbiNpZiBOVU1fUE9JTlRfTElHSFRTID4gMFxuXHRzdHJ1Y3QgUG9pbnRMaWdodCB7XG5cdFx0dmVjMyBwb3NpdGlvbjtcblx0XHR2ZWMzIGNvbG9yO1xuXHRcdGZsb2F0IGRpc3RhbmNlO1xuXHRcdGZsb2F0IGRlY2F5O1xuXHR9O1xuXHR1bmlmb3JtIFBvaW50TGlnaHQgcG9pbnRMaWdodHNbIE5VTV9QT0lOVF9MSUdIVFMgXTtcblx0dm9pZCBnZXRQb2ludERpcmVjdExpZ2h0SXJyYWRpYW5jZSggY29uc3QgaW4gUG9pbnRMaWdodCBwb2ludExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBvdXQgSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCApIHtcblx0XHR2ZWMzIGxWZWN0b3IgPSBwb2ludExpZ2h0LnBvc2l0aW9uIC0gZ2VvbWV0cnkucG9zaXRpb247XG5cdFx0ZGlyZWN0TGlnaHQuZGlyZWN0aW9uID0gbm9ybWFsaXplKCBsVmVjdG9yICk7XG5cdFx0ZmxvYXQgbGlnaHREaXN0YW5jZSA9IGxlbmd0aCggbFZlY3RvciApO1xuXHRcdGRpcmVjdExpZ2h0LmNvbG9yID0gcG9pbnRMaWdodC5jb2xvcjtcblx0XHRkaXJlY3RMaWdodC5jb2xvciAqPSBwdW5jdHVhbExpZ2h0SW50ZW5zaXR5VG9JcnJhZGlhbmNlRmFjdG9yKCBsaWdodERpc3RhbmNlLCBwb2ludExpZ2h0LmRpc3RhbmNlLCBwb2ludExpZ2h0LmRlY2F5ICk7XG5cdFx0ZGlyZWN0TGlnaHQudmlzaWJsZSA9ICggZGlyZWN0TGlnaHQuY29sb3IgIT0gdmVjMyggMC4wICkgKTtcblx0fVxuI2VuZGlmXG4jaWYgTlVNX1NQT1RfTElHSFRTID4gMFxuXHRzdHJ1Y3QgU3BvdExpZ2h0IHtcblx0XHR2ZWMzIHBvc2l0aW9uO1xuXHRcdHZlYzMgZGlyZWN0aW9uO1xuXHRcdHZlYzMgY29sb3I7XG5cdFx0ZmxvYXQgZGlzdGFuY2U7XG5cdFx0ZmxvYXQgZGVjYXk7XG5cdFx0ZmxvYXQgY29uZUNvcztcblx0XHRmbG9hdCBwZW51bWJyYUNvcztcblx0fTtcblx0dW5pZm9ybSBTcG90TGlnaHQgc3BvdExpZ2h0c1sgTlVNX1NQT1RfTElHSFRTIF07XG5cdHZvaWQgZ2V0U3BvdERpcmVjdExpZ2h0SXJyYWRpYW5jZSggY29uc3QgaW4gU3BvdExpZ2h0IHNwb3RMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgb3V0IEluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQgKSB7XG5cdFx0dmVjMyBsVmVjdG9yID0gc3BvdExpZ2h0LnBvc2l0aW9uIC0gZ2VvbWV0cnkucG9zaXRpb247XG5cdFx0ZGlyZWN0TGlnaHQuZGlyZWN0aW9uID0gbm9ybWFsaXplKCBsVmVjdG9yICk7XG5cdFx0ZmxvYXQgbGlnaHREaXN0YW5jZSA9IGxlbmd0aCggbFZlY3RvciApO1xuXHRcdGZsb2F0IGFuZ2xlQ29zID0gZG90KCBkaXJlY3RMaWdodC5kaXJlY3Rpb24sIHNwb3RMaWdodC5kaXJlY3Rpb24gKTtcblx0XHRpZiAoIGFuZ2xlQ29zID4gc3BvdExpZ2h0LmNvbmVDb3MgKSB7XG5cdFx0XHRmbG9hdCBzcG90RWZmZWN0ID0gc21vb3Roc3RlcCggc3BvdExpZ2h0LmNvbmVDb3MsIHNwb3RMaWdodC5wZW51bWJyYUNvcywgYW5nbGVDb3MgKTtcblx0XHRcdGRpcmVjdExpZ2h0LmNvbG9yID0gc3BvdExpZ2h0LmNvbG9yO1xuXHRcdFx0ZGlyZWN0TGlnaHQuY29sb3IgKj0gc3BvdEVmZmVjdCAqIHB1bmN0dWFsTGlnaHRJbnRlbnNpdHlUb0lycmFkaWFuY2VGYWN0b3IoIGxpZ2h0RGlzdGFuY2UsIHNwb3RMaWdodC5kaXN0YW5jZSwgc3BvdExpZ2h0LmRlY2F5ICk7XG5cdFx0XHRkaXJlY3RMaWdodC52aXNpYmxlID0gdHJ1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGlyZWN0TGlnaHQuY29sb3IgPSB2ZWMzKCAwLjAgKTtcblx0XHRcdGRpcmVjdExpZ2h0LnZpc2libGUgPSBmYWxzZTtcblx0XHR9XG5cdH1cbiNlbmRpZlxuI2lmIE5VTV9SRUNUX0FSRUFfTElHSFRTID4gMFxuXHRzdHJ1Y3QgUmVjdEFyZWFMaWdodCB7XG5cdFx0dmVjMyBjb2xvcjtcblx0XHR2ZWMzIHBvc2l0aW9uO1xuXHRcdHZlYzMgaGFsZldpZHRoO1xuXHRcdHZlYzMgaGFsZkhlaWdodDtcblx0fTtcblx0dW5pZm9ybSBzYW1wbGVyMkQgbHRjXzE7XHR1bmlmb3JtIHNhbXBsZXIyRCBsdGNfMjtcblx0dW5pZm9ybSBSZWN0QXJlYUxpZ2h0IHJlY3RBcmVhTGlnaHRzWyBOVU1fUkVDVF9BUkVBX0xJR0hUUyBdO1xuI2VuZGlmXG4jaWYgTlVNX0hFTUlfTElHSFRTID4gMFxuXHRzdHJ1Y3QgSGVtaXNwaGVyZUxpZ2h0IHtcblx0XHR2ZWMzIGRpcmVjdGlvbjtcblx0XHR2ZWMzIHNreUNvbG9yO1xuXHRcdHZlYzMgZ3JvdW5kQ29sb3I7XG5cdH07XG5cdHVuaWZvcm0gSGVtaXNwaGVyZUxpZ2h0IGhlbWlzcGhlcmVMaWdodHNbIE5VTV9IRU1JX0xJR0hUUyBdO1xuXHR2ZWMzIGdldEhlbWlzcGhlcmVMaWdodElycmFkaWFuY2UoIGNvbnN0IGluIEhlbWlzcGhlcmVMaWdodCBoZW1pTGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnkgKSB7XG5cdFx0ZmxvYXQgZG90TkwgPSBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgaGVtaUxpZ2h0LmRpcmVjdGlvbiApO1xuXHRcdGZsb2F0IGhlbWlEaWZmdXNlV2VpZ2h0ID0gMC41ICogZG90TkwgKyAwLjU7XG5cdFx0dmVjMyBpcnJhZGlhbmNlID0gbWl4KCBoZW1pTGlnaHQuZ3JvdW5kQ29sb3IsIGhlbWlMaWdodC5za3lDb2xvciwgaGVtaURpZmZ1c2VXZWlnaHQgKTtcblx0XHQjaWZuZGVmIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFNcblx0XHRcdGlycmFkaWFuY2UgKj0gUEk7XG5cdFx0I2VuZGlmXG5cdFx0cmV0dXJuIGlycmFkaWFuY2U7XG5cdH1cbiNlbmRpZiIsbGlnaHRzX3Rvb25fZnJhZ21lbnQ6IlRvb25NYXRlcmlhbCBtYXRlcmlhbDtcbm1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IGRpZmZ1c2VDb2xvci5yZ2I7IixsaWdodHNfdG9vbl9wYXJzX2ZyYWdtZW50OiJ2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcbiNpZm5kZWYgRkxBVF9TSEFERURcblx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XG4jZW5kaWZcbnN0cnVjdCBUb29uTWF0ZXJpYWwge1xuXHR2ZWMzIGRpZmZ1c2VDb2xvcjtcbn07XG52b2lkIFJFX0RpcmVjdF9Ub29uKCBjb25zdCBpbiBJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBUb29uTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkge1xuXHR2ZWMzIGlycmFkaWFuY2UgPSBnZXRHcmFkaWVudElycmFkaWFuY2UoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICkgKiBkaXJlY3RMaWdodC5jb2xvcjtcblx0I2lmbmRlZiBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTXG5cdFx0aXJyYWRpYW5jZSAqPSBQSTtcblx0I2VuZGlmXG5cdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKz0gaXJyYWRpYW5jZSAqIEJSREZfRGlmZnVzZV9MYW1iZXJ0KCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKTtcbn1cbnZvaWQgUkVfSW5kaXJlY3REaWZmdXNlX1Rvb24oIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gVG9vbk1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcblx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0RpZmZ1c2VfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XG59XG4jZGVmaW5lIFJFX0RpcmVjdFx0XHRcdFx0UkVfRGlyZWN0X1Rvb25cbiNkZWZpbmUgUkVfSW5kaXJlY3REaWZmdXNlXHRcdFJFX0luZGlyZWN0RGlmZnVzZV9Ub29uXG4jZGVmaW5lIE1hdGVyaWFsX0xpZ2h0UHJvYmVMT0QoIG1hdGVyaWFsIClcdCgwKSIsbGlnaHRzX3Bob25nX2ZyYWdtZW50OiJCbGlublBob25nTWF0ZXJpYWwgbWF0ZXJpYWw7XG5tYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBkaWZmdXNlQ29sb3IucmdiO1xubWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IHNwZWN1bGFyO1xubWF0ZXJpYWwuc3BlY3VsYXJTaGluaW5lc3MgPSBzaGluaW5lc3M7XG5tYXRlcmlhbC5zcGVjdWxhclN0cmVuZ3RoID0gc3BlY3VsYXJTdHJlbmd0aDsiLGxpZ2h0c19waG9uZ19wYXJzX2ZyYWdtZW50OiJ2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcbiNpZm5kZWYgRkxBVF9TSEFERURcblx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XG4jZW5kaWZcbnN0cnVjdCBCbGlublBob25nTWF0ZXJpYWwge1xuXHR2ZWMzIGRpZmZ1c2VDb2xvcjtcblx0dmVjMyBzcGVjdWxhckNvbG9yO1xuXHRmbG9hdCBzcGVjdWxhclNoaW5pbmVzcztcblx0ZmxvYXQgc3BlY3VsYXJTdHJlbmd0aDtcbn07XG52b2lkIFJFX0RpcmVjdF9CbGlublBob25nKCBjb25zdCBpbiBJbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBCbGlublBob25nTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkge1xuXHRmbG9hdCBkb3ROTCA9IHNhdHVyYXRlKCBkb3QoIGdlb21ldHJ5Lm5vcm1hbCwgZGlyZWN0TGlnaHQuZGlyZWN0aW9uICkgKTtcblx0dmVjMyBpcnJhZGlhbmNlID0gZG90TkwgKiBkaXJlY3RMaWdodC5jb2xvcjtcblx0I2lmbmRlZiBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTXG5cdFx0aXJyYWRpYW5jZSAqPSBQSTtcblx0I2VuZGlmXG5cdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKz0gaXJyYWRpYW5jZSAqIEJSREZfRGlmZnVzZV9MYW1iZXJ0KCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKTtcblx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKz0gaXJyYWRpYW5jZSAqIEJSREZfU3BlY3VsYXJfQmxpbm5QaG9uZyggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhclNoaW5pbmVzcyApICogbWF0ZXJpYWwuc3BlY3VsYXJTdHJlbmd0aDtcbn1cbnZvaWQgUkVfSW5kaXJlY3REaWZmdXNlX0JsaW5uUGhvbmcoIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gQmxpbm5QaG9uZ01hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcblx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0RpZmZ1c2VfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XG59XG4jZGVmaW5lIFJFX0RpcmVjdFx0XHRcdFx0UkVfRGlyZWN0X0JsaW5uUGhvbmdcbiNkZWZpbmUgUkVfSW5kaXJlY3REaWZmdXNlXHRcdFJFX0luZGlyZWN0RGlmZnVzZV9CbGlublBob25nXG4jZGVmaW5lIE1hdGVyaWFsX0xpZ2h0UHJvYmVMT0QoIG1hdGVyaWFsIClcdCgwKSIsbGlnaHRzX3BoeXNpY2FsX2ZyYWdtZW50OiJQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsO1xubWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gZGlmZnVzZUNvbG9yLnJnYiAqICggMS4wIC0gbWV0YWxuZXNzRmFjdG9yICk7XG52ZWMzIGR4eSA9IG1heCggYWJzKCBkRmR4KCBnZW9tZXRyeU5vcm1hbCApICksIGFicyggZEZkeSggZ2VvbWV0cnlOb3JtYWwgKSApICk7XG5mbG9hdCBnZW9tZXRyeVJvdWdobmVzcyA9IG1heCggbWF4KCBkeHkueCwgZHh5LnkgKSwgZHh5LnogKTtcbm1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzID0gbWF4KCByb3VnaG5lc3NGYWN0b3IsIDAuMDUyNSApO21hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzICs9IGdlb21ldHJ5Um91Z2huZXNzO1xubWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MgPSBtaW4oIG1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzLCAxLjAgKTtcbiNpZmRlZiBSRUZMRUNUSVZJVFlcblx0bWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IG1peCggdmVjMyggTUFYSU1VTV9TUEVDVUxBUl9DT0VGRklDSUVOVCAqIHBvdzIoIHJlZmxlY3Rpdml0eSApICksIGRpZmZ1c2VDb2xvci5yZ2IsIG1ldGFsbmVzc0ZhY3RvciApO1xuI2Vsc2Vcblx0bWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IG1peCggdmVjMyggREVGQVVMVF9TUEVDVUxBUl9DT0VGRklDSUVOVCApLCBkaWZmdXNlQ29sb3IucmdiLCBtZXRhbG5lc3NGYWN0b3IgKTtcbiNlbmRpZlxuI2lmZGVmIENMRUFSQ09BVFxuXHRtYXRlcmlhbC5jbGVhcmNvYXQgPSBjbGVhcmNvYXQ7XG5cdG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyA9IGNsZWFyY29hdFJvdWdobmVzcztcblx0I2lmZGVmIFVTRV9DTEVBUkNPQVRNQVBcblx0XHRtYXRlcmlhbC5jbGVhcmNvYXQgKj0gdGV4dHVyZTJEKCBjbGVhcmNvYXRNYXAsIHZVdiApLng7XG5cdCNlbmRpZlxuXHQjaWZkZWYgVVNFX0NMRUFSQ09BVF9ST1VHSE5FU1NNQVBcblx0XHRtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKj0gdGV4dHVyZTJEKCBjbGVhcmNvYXRSb3VnaG5lc3NNYXAsIHZVdiApLnk7XG5cdCNlbmRpZlxuXHRtYXRlcmlhbC5jbGVhcmNvYXQgPSBzYXR1cmF0ZSggbWF0ZXJpYWwuY2xlYXJjb2F0ICk7XHRtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgPSBtYXgoIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcywgMC4wNTI1ICk7XG5cdG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyArPSBnZW9tZXRyeVJvdWdobmVzcztcblx0bWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzID0gbWluKCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MsIDEuMCApO1xuI2VuZGlmXG4jaWZkZWYgVVNFX1NIRUVOXG5cdG1hdGVyaWFsLnNoZWVuQ29sb3IgPSBzaGVlbjtcbiNlbmRpZiIsbGlnaHRzX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQ6InN0cnVjdCBQaHlzaWNhbE1hdGVyaWFsIHtcblx0dmVjMyBkaWZmdXNlQ29sb3I7XG5cdGZsb2F0IHNwZWN1bGFyUm91Z2huZXNzO1xuXHR2ZWMzIHNwZWN1bGFyQ29sb3I7XG4jaWZkZWYgQ0xFQVJDT0FUXG5cdGZsb2F0IGNsZWFyY29hdDtcblx0ZmxvYXQgY2xlYXJjb2F0Um91Z2huZXNzO1xuI2VuZGlmXG4jaWZkZWYgVVNFX1NIRUVOXG5cdHZlYzMgc2hlZW5Db2xvcjtcbiNlbmRpZlxufTtcbiNkZWZpbmUgTUFYSU1VTV9TUEVDVUxBUl9DT0VGRklDSUVOVCAwLjE2XG4jZGVmaW5lIERFRkFVTFRfU1BFQ1VMQVJfQ09FRkZJQ0lFTlQgMC4wNFxuZmxvYXQgY2xlYXJjb2F0REhSQXBwcm94KCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MsIGNvbnN0IGluIGZsb2F0IGRvdE5MICkge1xuXHRyZXR1cm4gREVGQVVMVF9TUEVDVUxBUl9DT0VGRklDSUVOVCArICggMS4wIC0gREVGQVVMVF9TUEVDVUxBUl9DT0VGRklDSUVOVCApICogKCBwb3coIDEuMCAtIGRvdE5MLCA1LjAgKSAqIHBvdyggMS4wIC0gcm91Z2huZXNzLCAyLjAgKSApO1xufVxuI2lmIE5VTV9SRUNUX0FSRUFfTElHSFRTID4gMFxuXHR2b2lkIFJFX0RpcmVjdF9SZWN0QXJlYV9QaHlzaWNhbCggY29uc3QgaW4gUmVjdEFyZWFMaWdodCByZWN0QXJlYUxpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcblx0XHR2ZWMzIG5vcm1hbCA9IGdlb21ldHJ5Lm5vcm1hbDtcblx0XHR2ZWMzIHZpZXdEaXIgPSBnZW9tZXRyeS52aWV3RGlyO1xuXHRcdHZlYzMgcG9zaXRpb24gPSBnZW9tZXRyeS5wb3NpdGlvbjtcblx0XHR2ZWMzIGxpZ2h0UG9zID0gcmVjdEFyZWFMaWdodC5wb3NpdGlvbjtcblx0XHR2ZWMzIGhhbGZXaWR0aCA9IHJlY3RBcmVhTGlnaHQuaGFsZldpZHRoO1xuXHRcdHZlYzMgaGFsZkhlaWdodCA9IHJlY3RBcmVhTGlnaHQuaGFsZkhlaWdodDtcblx0XHR2ZWMzIGxpZ2h0Q29sb3IgPSByZWN0QXJlYUxpZ2h0LmNvbG9yO1xuXHRcdGZsb2F0IHJvdWdobmVzcyA9IG1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzO1xuXHRcdHZlYzMgcmVjdENvb3Jkc1sgNCBdO1xuXHRcdHJlY3RDb29yZHNbIDAgXSA9IGxpZ2h0UG9zICsgaGFsZldpZHRoIC0gaGFsZkhlaWdodDtcdFx0cmVjdENvb3Jkc1sgMSBdID0gbGlnaHRQb3MgLSBoYWxmV2lkdGggLSBoYWxmSGVpZ2h0O1xuXHRcdHJlY3RDb29yZHNbIDIgXSA9IGxpZ2h0UG9zIC0gaGFsZldpZHRoICsgaGFsZkhlaWdodDtcblx0XHRyZWN0Q29vcmRzWyAzIF0gPSBsaWdodFBvcyArIGhhbGZXaWR0aCArIGhhbGZIZWlnaHQ7XG5cdFx0dmVjMiB1diA9IExUQ19Vdiggbm9ybWFsLCB2aWV3RGlyLCByb3VnaG5lc3MgKTtcblx0XHR2ZWM0IHQxID0gdGV4dHVyZTJEKCBsdGNfMSwgdXYgKTtcblx0XHR2ZWM0IHQyID0gdGV4dHVyZTJEKCBsdGNfMiwgdXYgKTtcblx0XHRtYXQzIG1JbnYgPSBtYXQzKFxuXHRcdFx0dmVjMyggdDEueCwgMCwgdDEueSApLFxuXHRcdFx0dmVjMyhcdFx0MCwgMSxcdFx0MCApLFxuXHRcdFx0dmVjMyggdDEueiwgMCwgdDEudyApXG5cdFx0KTtcblx0XHR2ZWMzIGZyZXNuZWwgPSAoIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgKiB0Mi54ICsgKCB2ZWMzKCAxLjAgKSAtIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgKSAqIHQyLnkgKTtcblx0XHRyZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArPSBsaWdodENvbG9yICogZnJlc25lbCAqIExUQ19FdmFsdWF0ZSggbm9ybWFsLCB2aWV3RGlyLCBwb3NpdGlvbiwgbUludiwgcmVjdENvb3JkcyApO1xuXHRcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKz0gbGlnaHRDb2xvciAqIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciAqIExUQ19FdmFsdWF0ZSggbm9ybWFsLCB2aWV3RGlyLCBwb3NpdGlvbiwgbWF0MyggMS4wICksIHJlY3RDb29yZHMgKTtcblx0fVxuI2VuZGlmXG52b2lkIFJFX0RpcmVjdF9QaHlzaWNhbCggY29uc3QgaW4gSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7XG5cdGZsb2F0IGRvdE5MID0gc2F0dXJhdGUoIGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKSApO1xuXHR2ZWMzIGlycmFkaWFuY2UgPSBkb3ROTCAqIGRpcmVjdExpZ2h0LmNvbG9yO1xuXHQjaWZuZGVmIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFNcblx0XHRpcnJhZGlhbmNlICo9IFBJO1xuXHQjZW5kaWZcblx0I2lmZGVmIENMRUFSQ09BVFxuXHRcdGZsb2F0IGNjRG90TkwgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApICk7XG5cdFx0dmVjMyBjY0lycmFkaWFuY2UgPSBjY0RvdE5MICogZGlyZWN0TGlnaHQuY29sb3I7XG5cdFx0I2lmbmRlZiBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTXG5cdFx0XHRjY0lycmFkaWFuY2UgKj0gUEk7XG5cdFx0I2VuZGlmXG5cdFx0ZmxvYXQgY2xlYXJjb2F0REhSID0gbWF0ZXJpYWwuY2xlYXJjb2F0ICogY2xlYXJjb2F0REhSQXBwcm94KCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MsIGNjRG90TkwgKTtcblx0XHRyZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArPSBjY0lycmFkaWFuY2UgKiBtYXRlcmlhbC5jbGVhcmNvYXQgKiBCUkRGX1NwZWN1bGFyX0dHWCggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LnZpZXdEaXIsIGdlb21ldHJ5LmNsZWFyY29hdE5vcm1hbCwgdmVjMyggREVGQVVMVF9TUEVDVUxBUl9DT0VGRklDSUVOVCApLCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKTtcblx0I2Vsc2Vcblx0XHRmbG9hdCBjbGVhcmNvYXRESFIgPSAwLjA7XG5cdCNlbmRpZlxuXHQjaWZkZWYgVVNFX1NIRUVOXG5cdFx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKz0gKCAxLjAgLSBjbGVhcmNvYXRESFIgKSAqIGlycmFkaWFuY2UgKiBCUkRGX1NwZWN1bGFyX1NoZWVuKFxuXHRcdFx0bWF0ZXJpYWwuc3BlY3VsYXJSb3VnaG5lc3MsXG5cdFx0XHRkaXJlY3RMaWdodC5kaXJlY3Rpb24sXG5cdFx0XHRnZW9tZXRyeSxcblx0XHRcdG1hdGVyaWFsLnNoZWVuQ29sb3Jcblx0XHQpO1xuXHQjZWxzZVxuXHRcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICs9ICggMS4wIC0gY2xlYXJjb2F0REhSICkgKiBpcnJhZGlhbmNlICogQlJERl9TcGVjdWxhcl9HR1goIGRpcmVjdExpZ2h0LCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5ub3JtYWwsIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IsIG1hdGVyaWFsLnNwZWN1bGFyUm91Z2huZXNzKTtcblx0I2VuZGlmXG5cdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKz0gKCAxLjAgLSBjbGVhcmNvYXRESFIgKSAqIGlycmFkaWFuY2UgKiBCUkRGX0RpZmZ1c2VfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XG59XG52b2lkIFJFX0luZGlyZWN0RGlmZnVzZV9QaHlzaWNhbCggY29uc3QgaW4gdmVjMyBpcnJhZGlhbmNlLCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsLCBpbm91dCBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCApIHtcblx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0RpZmZ1c2VfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XG59XG52b2lkIFJFX0luZGlyZWN0U3BlY3VsYXJfUGh5c2ljYWwoIGNvbnN0IGluIHZlYzMgcmFkaWFuY2UsIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gdmVjMyBjbGVhcmNvYXRSYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQpIHtcblx0I2lmZGVmIENMRUFSQ09BVFxuXHRcdGZsb2F0IGNjRG90TlYgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIGdlb21ldHJ5LnZpZXdEaXIgKSApO1xuXHRcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKz0gY2xlYXJjb2F0UmFkaWFuY2UgKiBtYXRlcmlhbC5jbGVhcmNvYXQgKiBCUkRGX1NwZWN1bGFyX0dHWF9FbnZpcm9ubWVudCggZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsLCB2ZWMzKCBERUZBVUxUX1NQRUNVTEFSX0NPRUZGSUNJRU5UICksIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyApO1xuXHRcdGZsb2F0IGNjRG90TkwgPSBjY0RvdE5WO1xuXHRcdGZsb2F0IGNsZWFyY29hdERIUiA9IG1hdGVyaWFsLmNsZWFyY29hdCAqIGNsZWFyY29hdERIUkFwcHJveCggbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzLCBjY0RvdE5MICk7XG5cdCNlbHNlXG5cdFx0ZmxvYXQgY2xlYXJjb2F0REhSID0gMC4wO1xuXHQjZW5kaWZcblx0ZmxvYXQgY2xlYXJjb2F0SW52ID0gMS4wIC0gY2xlYXJjb2F0REhSO1xuXHR2ZWMzIHNpbmdsZVNjYXR0ZXJpbmcgPSB2ZWMzKCAwLjAgKTtcblx0dmVjMyBtdWx0aVNjYXR0ZXJpbmcgPSB2ZWMzKCAwLjAgKTtcblx0dmVjMyBjb3NpbmVXZWlnaHRlZElycmFkaWFuY2UgPSBpcnJhZGlhbmNlICogUkVDSVBST0NBTF9QSTtcblx0QlJERl9TcGVjdWxhcl9NdWx0aXNjYXR0ZXJpbmdfRW52aXJvbm1lbnQoIGdlb21ldHJ5LCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcywgc2luZ2xlU2NhdHRlcmluZywgbXVsdGlTY2F0dGVyaW5nICk7XG5cdHZlYzMgZGlmZnVzZSA9IG1hdGVyaWFsLmRpZmZ1c2VDb2xvciAqICggMS4wIC0gKCBzaW5nbGVTY2F0dGVyaW5nICsgbXVsdGlTY2F0dGVyaW5nICkgKTtcblx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhciArPSBjbGVhcmNvYXRJbnYgKiByYWRpYW5jZSAqIHNpbmdsZVNjYXR0ZXJpbmc7XG5cdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKz0gbXVsdGlTY2F0dGVyaW5nICogY29zaW5lV2VpZ2h0ZWRJcnJhZGlhbmNlO1xuXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gZGlmZnVzZSAqIGNvc2luZVdlaWdodGVkSXJyYWRpYW5jZTtcbn1cbiNkZWZpbmUgUkVfRGlyZWN0XHRcdFx0XHRSRV9EaXJlY3RfUGh5c2ljYWxcbiNkZWZpbmUgUkVfRGlyZWN0X1JlY3RBcmVhXHRcdFJFX0RpcmVjdF9SZWN0QXJlYV9QaHlzaWNhbFxuI2RlZmluZSBSRV9JbmRpcmVjdERpZmZ1c2VcdFx0UkVfSW5kaXJlY3REaWZmdXNlX1BoeXNpY2FsXG4jZGVmaW5lIFJFX0luZGlyZWN0U3BlY3VsYXJcdFx0UkVfSW5kaXJlY3RTcGVjdWxhcl9QaHlzaWNhbFxuZmxvYXQgY29tcHV0ZVNwZWN1bGFyT2NjbHVzaW9uKCBjb25zdCBpbiBmbG9hdCBkb3ROViwgY29uc3QgaW4gZmxvYXQgYW1iaWVudE9jY2x1c2lvbiwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkge1xuXHRyZXR1cm4gc2F0dXJhdGUoIHBvdyggZG90TlYgKyBhbWJpZW50T2NjbHVzaW9uLCBleHAyKCAtIDE2LjAgKiByb3VnaG5lc3MgLSAxLjAgKSApIC0gMS4wICsgYW1iaWVudE9jY2x1c2lvbiApO1xufSIsbGlnaHRzX2ZyYWdtZW50X2JlZ2luOiJcbkdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnk7XG5nZW9tZXRyeS5wb3NpdGlvbiA9IC0gdlZpZXdQb3NpdGlvbjtcbmdlb21ldHJ5Lm5vcm1hbCA9IG5vcm1hbDtcbmdlb21ldHJ5LnZpZXdEaXIgPSAoIGlzT3J0aG9ncmFwaGljICkgPyB2ZWMzKCAwLCAwLCAxICkgOiBub3JtYWxpemUoIHZWaWV3UG9zaXRpb24gKTtcbiNpZmRlZiBDTEVBUkNPQVRcblx0Z2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsID0gY2xlYXJjb2F0Tm9ybWFsO1xuI2VuZGlmXG5JbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0O1xuI2lmICggTlVNX1BPSU5UX0xJR0hUUyA+IDAgKSAmJiBkZWZpbmVkKCBSRV9EaXJlY3QgKVxuXHRQb2ludExpZ2h0IHBvaW50TGlnaHQ7XG5cdCNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgPiAwXG5cdFBvaW50TGlnaHRTaGFkb3cgcG9pbnRMaWdodFNoYWRvdztcblx0I2VuZGlmXG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1BPSU5UX0xJR0hUUzsgaSArKyApIHtcblx0XHRwb2ludExpZ2h0ID0gcG9pbnRMaWdodHNbIGkgXTtcblx0XHRnZXRQb2ludERpcmVjdExpZ2h0SXJyYWRpYW5jZSggcG9pbnRMaWdodCwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7XG5cdFx0I2lmIGRlZmluZWQoIFVTRV9TSEFET1dNQVAgKSAmJiAoIFVOUk9MTEVEX0xPT1BfSU5ERVggPCBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyApXG5cdFx0cG9pbnRMaWdodFNoYWRvdyA9IHBvaW50TGlnaHRTaGFkb3dzWyBpIF07XG5cdFx0ZGlyZWN0TGlnaHQuY29sb3IgKj0gYWxsKCBidmVjMiggZGlyZWN0TGlnaHQudmlzaWJsZSwgcmVjZWl2ZVNoYWRvdyApICkgPyBnZXRQb2ludFNoYWRvdyggcG9pbnRTaGFkb3dNYXBbIGkgXSwgcG9pbnRMaWdodFNoYWRvdy5zaGFkb3dNYXBTaXplLCBwb2ludExpZ2h0U2hhZG93LnNoYWRvd0JpYXMsIHBvaW50TGlnaHRTaGFkb3cuc2hhZG93UmFkaXVzLCB2UG9pbnRTaGFkb3dDb29yZFsgaSBdLCBwb2ludExpZ2h0U2hhZG93LnNoYWRvd0NhbWVyYU5lYXIsIHBvaW50TGlnaHRTaGFkb3cuc2hhZG93Q2FtZXJhRmFyICkgOiAxLjA7XG5cdFx0I2VuZGlmXG5cdFx0UkVfRGlyZWN0KCBkaXJlY3RMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApO1xuXHR9XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG4jZW5kaWZcbiNpZiAoIE5VTV9TUE9UX0xJR0hUUyA+IDAgKSAmJiBkZWZpbmVkKCBSRV9EaXJlY3QgKVxuXHRTcG90TGlnaHQgc3BvdExpZ2h0O1xuXHQjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgPiAwXG5cdFNwb3RMaWdodFNoYWRvdyBzcG90TGlnaHRTaGFkb3c7XG5cdCNlbmRpZlxuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9TUE9UX0xJR0hUUzsgaSArKyApIHtcblx0XHRzcG90TGlnaHQgPSBzcG90TGlnaHRzWyBpIF07XG5cdFx0Z2V0U3BvdERpcmVjdExpZ2h0SXJyYWRpYW5jZSggc3BvdExpZ2h0LCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcblx0XHQjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmICggVU5ST0xMRURfTE9PUF9JTkRFWCA8IE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgKVxuXHRcdHNwb3RMaWdodFNoYWRvdyA9IHNwb3RMaWdodFNoYWRvd3NbIGkgXTtcblx0XHRkaXJlY3RMaWdodC5jb2xvciAqPSBhbGwoIGJ2ZWMyKCBkaXJlY3RMaWdodC52aXNpYmxlLCByZWNlaXZlU2hhZG93ICkgKSA/IGdldFNoYWRvdyggc3BvdFNoYWRvd01hcFsgaSBdLCBzcG90TGlnaHRTaGFkb3cuc2hhZG93TWFwU2l6ZSwgc3BvdExpZ2h0U2hhZG93LnNoYWRvd0JpYXMsIHNwb3RMaWdodFNoYWRvdy5zaGFkb3dSYWRpdXMsIHZTcG90U2hhZG93Q29vcmRbIGkgXSApIDogMS4wO1xuXHRcdCNlbmRpZlxuXHRcdFJFX0RpcmVjdCggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTtcblx0fVxuXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuI2VuZGlmXG4jaWYgKCBOVU1fRElSX0xJR0hUUyA+IDAgKSAmJiBkZWZpbmVkKCBSRV9EaXJlY3QgKVxuXHREaXJlY3Rpb25hbExpZ2h0IGRpcmVjdGlvbmFsTGlnaHQ7XG5cdCNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgTlVNX0RJUl9MSUdIVF9TSEFET1dTID4gMFxuXHREaXJlY3Rpb25hbExpZ2h0U2hhZG93IGRpcmVjdGlvbmFsTGlnaHRTaGFkb3c7XG5cdCNlbmRpZlxuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9ESVJfTElHSFRTOyBpICsrICkge1xuXHRcdGRpcmVjdGlvbmFsTGlnaHQgPSBkaXJlY3Rpb25hbExpZ2h0c1sgaSBdO1xuXHRcdGdldERpcmVjdGlvbmFsRGlyZWN0TGlnaHRJcnJhZGlhbmNlKCBkaXJlY3Rpb25hbExpZ2h0LCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcblx0XHQjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmICggVU5ST0xMRURfTE9PUF9JTkRFWCA8IE5VTV9ESVJfTElHSFRfU0hBRE9XUyApXG5cdFx0ZGlyZWN0aW9uYWxMaWdodFNoYWRvdyA9IGRpcmVjdGlvbmFsTGlnaHRTaGFkb3dzWyBpIF07XG5cdFx0ZGlyZWN0TGlnaHQuY29sb3IgKj0gYWxsKCBidmVjMiggZGlyZWN0TGlnaHQudmlzaWJsZSwgcmVjZWl2ZVNoYWRvdyApICkgPyBnZXRTaGFkb3coIGRpcmVjdGlvbmFsU2hhZG93TWFwWyBpIF0sIGRpcmVjdGlvbmFsTGlnaHRTaGFkb3cuc2hhZG93TWFwU2l6ZSwgZGlyZWN0aW9uYWxMaWdodFNoYWRvdy5zaGFkb3dCaWFzLCBkaXJlY3Rpb25hbExpZ2h0U2hhZG93LnNoYWRvd1JhZGl1cywgdkRpcmVjdGlvbmFsU2hhZG93Q29vcmRbIGkgXSApIDogMS4wO1xuXHRcdCNlbmRpZlxuXHRcdFJFX0RpcmVjdCggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTtcblx0fVxuXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuI2VuZGlmXG4jaWYgKCBOVU1fUkVDVF9BUkVBX0xJR0hUUyA+IDAgKSAmJiBkZWZpbmVkKCBSRV9EaXJlY3RfUmVjdEFyZWEgKVxuXHRSZWN0QXJlYUxpZ2h0IHJlY3RBcmVhTGlnaHQ7XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1JFQ1RfQVJFQV9MSUdIVFM7IGkgKysgKSB7XG5cdFx0cmVjdEFyZWFMaWdodCA9IHJlY3RBcmVhTGlnaHRzWyBpIF07XG5cdFx0UkVfRGlyZWN0X1JlY3RBcmVhKCByZWN0QXJlYUxpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7XG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcbiNlbmRpZlxuI2lmIGRlZmluZWQoIFJFX0luZGlyZWN0RGlmZnVzZSApXG5cdHZlYzMgaWJsSXJyYWRpYW5jZSA9IHZlYzMoIDAuMCApO1xuXHR2ZWMzIGlycmFkaWFuY2UgPSBnZXRBbWJpZW50TGlnaHRJcnJhZGlhbmNlKCBhbWJpZW50TGlnaHRDb2xvciApO1xuXHRpcnJhZGlhbmNlICs9IGdldExpZ2h0UHJvYmVJcnJhZGlhbmNlKCBsaWdodFByb2JlLCBnZW9tZXRyeSApO1xuXHQjaWYgKCBOVU1fSEVNSV9MSUdIVFMgPiAwIClcblx0XHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdFx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0hFTUlfTElHSFRTOyBpICsrICkge1xuXHRcdFx0aXJyYWRpYW5jZSArPSBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBoZW1pc3BoZXJlTGlnaHRzWyBpIF0sIGdlb21ldHJ5ICk7XG5cdFx0fVxuXHRcdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG5cdCNlbmRpZlxuI2VuZGlmXG4jaWYgZGVmaW5lZCggUkVfSW5kaXJlY3RTcGVjdWxhciApXG5cdHZlYzMgcmFkaWFuY2UgPSB2ZWMzKCAwLjAgKTtcblx0dmVjMyBjbGVhcmNvYXRSYWRpYW5jZSA9IHZlYzMoIDAuMCApO1xuI2VuZGlmIixsaWdodHNfZnJhZ21lbnRfbWFwczoiI2lmIGRlZmluZWQoIFJFX0luZGlyZWN0RGlmZnVzZSApXG5cdCNpZmRlZiBVU0VfTElHSFRNQVBcblx0XHR2ZWM0IGxpZ2h0TWFwVGV4ZWw9IHRleHR1cmUyRCggbGlnaHRNYXAsIHZVdjIgKTtcblx0XHR2ZWMzIGxpZ2h0TWFwSXJyYWRpYW5jZSA9IGxpZ2h0TWFwVGV4ZWxUb0xpbmVhciggbGlnaHRNYXBUZXhlbCApLnJnYiAqIGxpZ2h0TWFwSW50ZW5zaXR5O1xuXHRcdCNpZm5kZWYgUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUU1xuXHRcdFx0bGlnaHRNYXBJcnJhZGlhbmNlICo9IFBJO1xuXHRcdCNlbmRpZlxuXHRcdGlycmFkaWFuY2UgKz0gbGlnaHRNYXBJcnJhZGlhbmNlO1xuXHQjZW5kaWZcblx0I2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSAmJiBkZWZpbmVkKCBTVEFOREFSRCApICYmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKVxuXHRcdGlibElycmFkaWFuY2UgKz0gZ2V0TGlnaHRQcm9iZUluZGlyZWN0SXJyYWRpYW5jZSggZ2VvbWV0cnksIG1heE1pcExldmVsICk7XG5cdCNlbmRpZlxuI2VuZGlmXG4jaWYgZGVmaW5lZCggVVNFX0VOVk1BUCApICYmIGRlZmluZWQoIFJFX0luZGlyZWN0U3BlY3VsYXIgKVxuXHRyYWRpYW5jZSArPSBnZXRMaWdodFByb2JlSW5kaXJlY3RSYWRpYW5jZSggZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkubm9ybWFsLCBtYXRlcmlhbC5zcGVjdWxhclJvdWdobmVzcywgbWF4TWlwTGV2ZWwgKTtcblx0I2lmZGVmIENMRUFSQ09BVFxuXHRcdGNsZWFyY29hdFJhZGlhbmNlICs9IGdldExpZ2h0UHJvYmVJbmRpcmVjdFJhZGlhbmNlKCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcywgbWF4TWlwTGV2ZWwgKTtcblx0I2VuZGlmXG4jZW5kaWYiLGxpZ2h0c19mcmFnbWVudF9lbmQ6IiNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdERpZmZ1c2UgKVxuXHRSRV9JbmRpcmVjdERpZmZ1c2UoIGlycmFkaWFuY2UsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTtcbiNlbmRpZlxuI2lmIGRlZmluZWQoIFJFX0luZGlyZWN0U3BlY3VsYXIgKVxuXHRSRV9JbmRpcmVjdFNwZWN1bGFyKCByYWRpYW5jZSwgaWJsSXJyYWRpYW5jZSwgY2xlYXJjb2F0UmFkaWFuY2UsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTtcbiNlbmRpZiIsbG9nZGVwdGhidWZfZnJhZ21lbnQ6IiNpZiBkZWZpbmVkKCBVU0VfTE9HREVQVEhCVUYgKSAmJiBkZWZpbmVkKCBVU0VfTE9HREVQVEhCVUZfRVhUIClcblx0Z2xfRnJhZ0RlcHRoRVhUID0gdklzUGVyc3BlY3RpdmUgPT0gMC4wID8gZ2xfRnJhZ0Nvb3JkLnogOiBsb2cyKCB2RnJhZ0RlcHRoICkgKiBsb2dEZXB0aEJ1ZkZDICogMC41O1xuI2VuZGlmIixsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50OiIjaWYgZGVmaW5lZCggVVNFX0xPR0RFUFRIQlVGICkgJiYgZGVmaW5lZCggVVNFX0xPR0RFUFRIQlVGX0VYVCApXG5cdHVuaWZvcm0gZmxvYXQgbG9nRGVwdGhCdWZGQztcblx0dmFyeWluZyBmbG9hdCB2RnJhZ0RlcHRoO1xuXHR2YXJ5aW5nIGZsb2F0IHZJc1BlcnNwZWN0aXZlO1xuI2VuZGlmIixsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleDoiI2lmZGVmIFVTRV9MT0dERVBUSEJVRlxuXHQjaWZkZWYgVVNFX0xPR0RFUFRIQlVGX0VYVFxuXHRcdHZhcnlpbmcgZmxvYXQgdkZyYWdEZXB0aDtcblx0XHR2YXJ5aW5nIGZsb2F0IHZJc1BlcnNwZWN0aXZlO1xuXHQjZWxzZVxuXHRcdHVuaWZvcm0gZmxvYXQgbG9nRGVwdGhCdWZGQztcblx0I2VuZGlmXG4jZW5kaWYiLGxvZ2RlcHRoYnVmX3ZlcnRleDoiI2lmZGVmIFVTRV9MT0dERVBUSEJVRlxuXHQjaWZkZWYgVVNFX0xPR0RFUFRIQlVGX0VYVFxuXHRcdHZGcmFnRGVwdGggPSAxLjAgKyBnbF9Qb3NpdGlvbi53O1xuXHRcdHZJc1BlcnNwZWN0aXZlID0gZmxvYXQoIGlzUGVyc3BlY3RpdmVNYXRyaXgoIHByb2plY3Rpb25NYXRyaXggKSApO1xuXHQjZWxzZVxuXHRcdGlmICggaXNQZXJzcGVjdGl2ZU1hdHJpeCggcHJvamVjdGlvbk1hdHJpeCApICkge1xuXHRcdFx0Z2xfUG9zaXRpb24ueiA9IGxvZzIoIG1heCggRVBTSUxPTiwgZ2xfUG9zaXRpb24udyArIDEuMCApICkgKiBsb2dEZXB0aEJ1ZkZDIC0gMS4wO1xuXHRcdFx0Z2xfUG9zaXRpb24ueiAqPSBnbF9Qb3NpdGlvbi53O1xuXHRcdH1cblx0I2VuZGlmXG4jZW5kaWYiLG1hcF9mcmFnbWVudDoiI2lmZGVmIFVTRV9NQVBcblx0dmVjNCB0ZXhlbENvbG9yID0gdGV4dHVyZTJEKCBtYXAsIHZVdiApO1xuXHR0ZXhlbENvbG9yID0gbWFwVGV4ZWxUb0xpbmVhciggdGV4ZWxDb2xvciApO1xuXHRkaWZmdXNlQ29sb3IgKj0gdGV4ZWxDb2xvcjtcbiNlbmRpZiIsbWFwX3BhcnNfZnJhZ21lbnQ6IiNpZmRlZiBVU0VfTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIG1hcDtcbiNlbmRpZiIsbWFwX3BhcnRpY2xlX2ZyYWdtZW50OiIjaWYgZGVmaW5lZCggVVNFX01BUCApIHx8IGRlZmluZWQoIFVTRV9BTFBIQU1BUCApXG5cdHZlYzIgdXYgPSAoIHV2VHJhbnNmb3JtICogdmVjMyggZ2xfUG9pbnRDb29yZC54LCAxLjAgLSBnbF9Qb2ludENvb3JkLnksIDEgKSApLnh5O1xuI2VuZGlmXG4jaWZkZWYgVVNFX01BUFxuXHR2ZWM0IG1hcFRleGVsID0gdGV4dHVyZTJEKCBtYXAsIHV2ICk7XG5cdGRpZmZ1c2VDb2xvciAqPSBtYXBUZXhlbFRvTGluZWFyKCBtYXBUZXhlbCApO1xuI2VuZGlmXG4jaWZkZWYgVVNFX0FMUEhBTUFQXG5cdGRpZmZ1c2VDb2xvci5hICo9IHRleHR1cmUyRCggYWxwaGFNYXAsIHV2ICkuZztcbiNlbmRpZiIsbWFwX3BhcnRpY2xlX3BhcnNfZnJhZ21lbnQ6IiNpZiBkZWZpbmVkKCBVU0VfTUFQICkgfHwgZGVmaW5lZCggVVNFX0FMUEhBTUFQIClcblx0dW5pZm9ybSBtYXQzIHV2VHJhbnNmb3JtO1xuI2VuZGlmXG4jaWZkZWYgVVNFX01BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBtYXA7XG4jZW5kaWZcbiNpZmRlZiBVU0VfQUxQSEFNQVBcblx0dW5pZm9ybSBzYW1wbGVyMkQgYWxwaGFNYXA7XG4jZW5kaWYiLG1ldGFsbmVzc21hcF9mcmFnbWVudDoiZmxvYXQgbWV0YWxuZXNzRmFjdG9yID0gbWV0YWxuZXNzO1xuI2lmZGVmIFVTRV9NRVRBTE5FU1NNQVBcblx0dmVjNCB0ZXhlbE1ldGFsbmVzcyA9IHRleHR1cmUyRCggbWV0YWxuZXNzTWFwLCB2VXYgKTtcblx0bWV0YWxuZXNzRmFjdG9yICo9IHRleGVsTWV0YWxuZXNzLmI7XG4jZW5kaWYiLG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50OiIjaWZkZWYgVVNFX01FVEFMTkVTU01BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBtZXRhbG5lc3NNYXA7XG4jZW5kaWYiLG1vcnBobm9ybWFsX3ZlcnRleDoiI2lmZGVmIFVTRV9NT1JQSE5PUk1BTFNcblx0b2JqZWN0Tm9ybWFsICo9IG1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZTtcblx0b2JqZWN0Tm9ybWFsICs9IG1vcnBoTm9ybWFsMCAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMCBdO1xuXHRvYmplY3ROb3JtYWwgKz0gbW9ycGhOb3JtYWwxICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAxIF07XG5cdG9iamVjdE5vcm1hbCArPSBtb3JwaE5vcm1hbDIgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDIgXTtcblx0b2JqZWN0Tm9ybWFsICs9IG1vcnBoTm9ybWFsMyAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMyBdO1xuI2VuZGlmIixtb3JwaHRhcmdldF9wYXJzX3ZlcnRleDoiI2lmZGVmIFVTRV9NT1JQSFRBUkdFVFNcblx0dW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldEJhc2VJbmZsdWVuY2U7XG5cdCNpZm5kZWYgVVNFX01PUlBITk9STUFMU1xuXHRcdHVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA4IF07XG5cdCNlbHNlXG5cdFx0dW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDQgXTtcblx0I2VuZGlmXG4jZW5kaWYiLG1vcnBodGFyZ2V0X3ZlcnRleDoiI2lmZGVmIFVTRV9NT1JQSFRBUkdFVFNcblx0dHJhbnNmb3JtZWQgKj0gbW9ycGhUYXJnZXRCYXNlSW5mbHVlbmNlO1xuXHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDAgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDAgXTtcblx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQxICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAxIF07XG5cdHRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0MiAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMiBdO1xuXHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDMgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDMgXTtcblx0I2lmbmRlZiBVU0VfTU9SUEhOT1JNQUxTXG5cdFx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQ0ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA0IF07XG5cdFx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQ1ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA1IF07XG5cdFx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQ2ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA2IF07XG5cdFx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQ3ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA3IF07XG5cdCNlbmRpZlxuI2VuZGlmIixub3JtYWxfZnJhZ21lbnRfYmVnaW46ImZsb2F0IGZhY2VEaXJlY3Rpb24gPSBmbG9hdCggZ2xfRnJvbnRGYWNpbmcgKSAqIDIuMCAtIDEuMDtcbiNpZmRlZiBGTEFUX1NIQURFRFxuXHR2ZWMzIGZkeCA9IHZlYzMoIGRGZHgoIHZWaWV3UG9zaXRpb24ueCApLCBkRmR4KCB2Vmlld1Bvc2l0aW9uLnkgKSwgZEZkeCggdlZpZXdQb3NpdGlvbi56ICkgKTtcblx0dmVjMyBmZHkgPSB2ZWMzKCBkRmR5KCB2Vmlld1Bvc2l0aW9uLnggKSwgZEZkeSggdlZpZXdQb3NpdGlvbi55ICksIGRGZHkoIHZWaWV3UG9zaXRpb24ueiApICk7XG5cdHZlYzMgbm9ybWFsID0gbm9ybWFsaXplKCBjcm9zcyggZmR4LCBmZHkgKSApO1xuI2Vsc2Vcblx0dmVjMyBub3JtYWwgPSBub3JtYWxpemUoIHZOb3JtYWwgKTtcblx0I2lmZGVmIERPVUJMRV9TSURFRFxuXHRcdG5vcm1hbCA9IG5vcm1hbCAqIGZhY2VEaXJlY3Rpb247XG5cdCNlbmRpZlxuXHQjaWZkZWYgVVNFX1RBTkdFTlRcblx0XHR2ZWMzIHRhbmdlbnQgPSBub3JtYWxpemUoIHZUYW5nZW50ICk7XG5cdFx0dmVjMyBiaXRhbmdlbnQgPSBub3JtYWxpemUoIHZCaXRhbmdlbnQgKTtcblx0XHQjaWZkZWYgRE9VQkxFX1NJREVEXG5cdFx0XHR0YW5nZW50ID0gdGFuZ2VudCAqIGZhY2VEaXJlY3Rpb247XG5cdFx0XHRiaXRhbmdlbnQgPSBiaXRhbmdlbnQgKiBmYWNlRGlyZWN0aW9uO1xuXHRcdCNlbmRpZlxuXHRcdCNpZiBkZWZpbmVkKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQICkgfHwgZGVmaW5lZCggVVNFX0NMRUFSQ09BVF9OT1JNQUxNQVAgKVxuXHRcdFx0bWF0MyB2VEJOID0gbWF0MyggdGFuZ2VudCwgYml0YW5nZW50LCBub3JtYWwgKTtcblx0XHQjZW5kaWZcblx0I2VuZGlmXG4jZW5kaWZcbnZlYzMgZ2VvbWV0cnlOb3JtYWwgPSBub3JtYWw7Iixub3JtYWxfZnJhZ21lbnRfbWFwczoiI2lmZGVmIE9CSkVDVFNQQUNFX05PUk1BTE1BUFxuXHRub3JtYWwgPSB0ZXh0dXJlMkQoIG5vcm1hbE1hcCwgdlV2ICkueHl6ICogMi4wIC0gMS4wO1xuXHQjaWZkZWYgRkxJUF9TSURFRFxuXHRcdG5vcm1hbCA9IC0gbm9ybWFsO1xuXHQjZW5kaWZcblx0I2lmZGVmIERPVUJMRV9TSURFRFxuXHRcdG5vcm1hbCA9IG5vcm1hbCAqIGZhY2VEaXJlY3Rpb247XG5cdCNlbmRpZlxuXHRub3JtYWwgPSBub3JtYWxpemUoIG5vcm1hbE1hdHJpeCAqIG5vcm1hbCApO1xuI2VsaWYgZGVmaW5lZCggVEFOR0VOVFNQQUNFX05PUk1BTE1BUCApXG5cdHZlYzMgbWFwTiA9IHRleHR1cmUyRCggbm9ybWFsTWFwLCB2VXYgKS54eXogKiAyLjAgLSAxLjA7XG5cdG1hcE4ueHkgKj0gbm9ybWFsU2NhbGU7XG5cdCNpZmRlZiBVU0VfVEFOR0VOVFxuXHRcdG5vcm1hbCA9IG5vcm1hbGl6ZSggdlRCTiAqIG1hcE4gKTtcblx0I2Vsc2Vcblx0XHRub3JtYWwgPSBwZXJ0dXJiTm9ybWFsMkFyYiggLXZWaWV3UG9zaXRpb24sIG5vcm1hbCwgbWFwTiwgZmFjZURpcmVjdGlvbiApO1xuXHQjZW5kaWZcbiNlbGlmIGRlZmluZWQoIFVTRV9CVU1QTUFQIClcblx0bm9ybWFsID0gcGVydHVyYk5vcm1hbEFyYiggLXZWaWV3UG9zaXRpb24sIG5vcm1hbCwgZEhkeHlfZndkKCksIGZhY2VEaXJlY3Rpb24gKTtcbiNlbmRpZiIsbm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQ6IiNpZmRlZiBVU0VfTk9STUFMTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIG5vcm1hbE1hcDtcblx0dW5pZm9ybSB2ZWMyIG5vcm1hbFNjYWxlO1xuI2VuZGlmXG4jaWZkZWYgT0JKRUNUU1BBQ0VfTk9STUFMTUFQXG5cdHVuaWZvcm0gbWF0MyBub3JtYWxNYXRyaXg7XG4jZW5kaWZcbiNpZiAhIGRlZmluZWQgKCBVU0VfVEFOR0VOVCApICYmICggZGVmaW5lZCAoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKSB8fCBkZWZpbmVkICggVVNFX0NMRUFSQ09BVF9OT1JNQUxNQVAgKSApXG5cdHZlYzMgcGVydHVyYk5vcm1hbDJBcmIoIHZlYzMgZXllX3BvcywgdmVjMyBzdXJmX25vcm0sIHZlYzMgbWFwTiwgZmxvYXQgZmFjZURpcmVjdGlvbiApIHtcblx0XHR2ZWMzIHEwID0gdmVjMyggZEZkeCggZXllX3Bvcy54ICksIGRGZHgoIGV5ZV9wb3MueSApLCBkRmR4KCBleWVfcG9zLnogKSApO1xuXHRcdHZlYzMgcTEgPSB2ZWMzKCBkRmR5KCBleWVfcG9zLnggKSwgZEZkeSggZXllX3Bvcy55ICksIGRGZHkoIGV5ZV9wb3MueiApICk7XG5cdFx0dmVjMiBzdDAgPSBkRmR4KCB2VXYuc3QgKTtcblx0XHR2ZWMyIHN0MSA9IGRGZHkoIHZVdi5zdCApO1xuXHRcdGZsb2F0IHNjYWxlID0gc2lnbiggc3QxLnQgKiBzdDAucyAtIHN0MC50ICogc3QxLnMgKTtcblx0XHR2ZWMzIFMgPSBub3JtYWxpemUoICggcTAgKiBzdDEudCAtIHExICogc3QwLnQgKSAqIHNjYWxlICk7XG5cdFx0dmVjMyBUID0gbm9ybWFsaXplKCAoIC0gcTAgKiBzdDEucyArIHExICogc3QwLnMgKSAqIHNjYWxlICk7XG5cdFx0dmVjMyBOID0gbm9ybWFsaXplKCBzdXJmX25vcm0gKTtcblx0XHRtYXQzIHRzbiA9IG1hdDMoIFMsIFQsIE4gKTtcblx0XHRtYXBOLnh5ICo9IGZhY2VEaXJlY3Rpb247XG5cdFx0cmV0dXJuIG5vcm1hbGl6ZSggdHNuICogbWFwTiApO1xuXHR9XG4jZW5kaWYiLGNsZWFyY29hdF9ub3JtYWxfZnJhZ21lbnRfYmVnaW46IiNpZmRlZiBDTEVBUkNPQVRcblx0dmVjMyBjbGVhcmNvYXROb3JtYWwgPSBnZW9tZXRyeU5vcm1hbDtcbiNlbmRpZiIsY2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9tYXBzOiIjaWZkZWYgVVNFX0NMRUFSQ09BVF9OT1JNQUxNQVBcblx0dmVjMyBjbGVhcmNvYXRNYXBOID0gdGV4dHVyZTJEKCBjbGVhcmNvYXROb3JtYWxNYXAsIHZVdiApLnh5eiAqIDIuMCAtIDEuMDtcblx0Y2xlYXJjb2F0TWFwTi54eSAqPSBjbGVhcmNvYXROb3JtYWxTY2FsZTtcblx0I2lmZGVmIFVTRV9UQU5HRU5UXG5cdFx0Y2xlYXJjb2F0Tm9ybWFsID0gbm9ybWFsaXplKCB2VEJOICogY2xlYXJjb2F0TWFwTiApO1xuXHQjZWxzZVxuXHRcdGNsZWFyY29hdE5vcm1hbCA9IHBlcnR1cmJOb3JtYWwyQXJiKCAtIHZWaWV3UG9zaXRpb24sIGNsZWFyY29hdE5vcm1hbCwgY2xlYXJjb2F0TWFwTiwgZmFjZURpcmVjdGlvbiApO1xuXHQjZW5kaWZcbiNlbmRpZiIsY2xlYXJjb2F0X3BhcnNfZnJhZ21lbnQ6IiNpZmRlZiBVU0VfQ0xFQVJDT0FUTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIGNsZWFyY29hdE1hcDtcbiNlbmRpZlxuI2lmZGVmIFVTRV9DTEVBUkNPQVRfUk9VR0hORVNTTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIGNsZWFyY29hdFJvdWdobmVzc01hcDtcbiNlbmRpZlxuI2lmZGVmIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIGNsZWFyY29hdE5vcm1hbE1hcDtcblx0dW5pZm9ybSB2ZWMyIGNsZWFyY29hdE5vcm1hbFNjYWxlO1xuI2VuZGlmIixwYWNraW5nOiJ2ZWMzIHBhY2tOb3JtYWxUb1JHQiggY29uc3QgaW4gdmVjMyBub3JtYWwgKSB7XG5cdHJldHVybiBub3JtYWxpemUoIG5vcm1hbCApICogMC41ICsgMC41O1xufVxudmVjMyB1bnBhY2tSR0JUb05vcm1hbCggY29uc3QgaW4gdmVjMyByZ2IgKSB7XG5cdHJldHVybiAyLjAgKiByZ2IueHl6IC0gMS4wO1xufVxuY29uc3QgZmxvYXQgUGFja1Vwc2NhbGUgPSAyNTYuIC8gMjU1Ljtjb25zdCBmbG9hdCBVbnBhY2tEb3duc2NhbGUgPSAyNTUuIC8gMjU2LjtcbmNvbnN0IHZlYzMgUGFja0ZhY3RvcnMgPSB2ZWMzKCAyNTYuICogMjU2LiAqIDI1Ni4sIDI1Ni4gKiAyNTYuLCAyNTYuICk7XG5jb25zdCB2ZWM0IFVucGFja0ZhY3RvcnMgPSBVbnBhY2tEb3duc2NhbGUgLyB2ZWM0KCBQYWNrRmFjdG9ycywgMS4gKTtcbmNvbnN0IGZsb2F0IFNoaWZ0UmlnaHQ4ID0gMS4gLyAyNTYuO1xudmVjNCBwYWNrRGVwdGhUb1JHQkEoIGNvbnN0IGluIGZsb2F0IHYgKSB7XG5cdHZlYzQgciA9IHZlYzQoIGZyYWN0KCB2ICogUGFja0ZhY3RvcnMgKSwgdiApO1xuXHRyLnl6dyAtPSByLnh5eiAqIFNoaWZ0UmlnaHQ4O1x0cmV0dXJuIHIgKiBQYWNrVXBzY2FsZTtcbn1cbmZsb2F0IHVucGFja1JHQkFUb0RlcHRoKCBjb25zdCBpbiB2ZWM0IHYgKSB7XG5cdHJldHVybiBkb3QoIHYsIFVucGFja0ZhY3RvcnMgKTtcbn1cbnZlYzQgcGFjazJIYWxmVG9SR0JBKCB2ZWMyIHYgKSB7XG5cdHZlYzQgciA9IHZlYzQoIHYueCwgZnJhY3QoIHYueCAqIDI1NS4wICksIHYueSwgZnJhY3QoIHYueSAqIDI1NS4wICkpO1xuXHRyZXR1cm4gdmVjNCggci54IC0gci55IC8gMjU1LjAsIHIueSwgci56IC0gci53IC8gMjU1LjAsIHIudyk7XG59XG52ZWMyIHVucGFja1JHQkFUbzJIYWxmKCB2ZWM0IHYgKSB7XG5cdHJldHVybiB2ZWMyKCB2LnggKyAoIHYueSAvIDI1NS4wICksIHYueiArICggdi53IC8gMjU1LjAgKSApO1xufVxuZmxvYXQgdmlld1pUb09ydGhvZ3JhcGhpY0RlcHRoKCBjb25zdCBpbiBmbG9hdCB2aWV3WiwgY29uc3QgaW4gZmxvYXQgbmVhciwgY29uc3QgaW4gZmxvYXQgZmFyICkge1xuXHRyZXR1cm4gKCB2aWV3WiArIG5lYXIgKSAvICggbmVhciAtIGZhciApO1xufVxuZmxvYXQgb3J0aG9ncmFwaGljRGVwdGhUb1ZpZXdaKCBjb25zdCBpbiBmbG9hdCBsaW5lYXJDbGlwWiwgY29uc3QgaW4gZmxvYXQgbmVhciwgY29uc3QgaW4gZmxvYXQgZmFyICkge1xuXHRyZXR1cm4gbGluZWFyQ2xpcFogKiAoIG5lYXIgLSBmYXIgKSAtIG5lYXI7XG59XG5mbG9hdCB2aWV3WlRvUGVyc3BlY3RpdmVEZXB0aCggY29uc3QgaW4gZmxvYXQgdmlld1osIGNvbnN0IGluIGZsb2F0IG5lYXIsIGNvbnN0IGluIGZsb2F0IGZhciApIHtcblx0cmV0dXJuICgoIG5lYXIgKyB2aWV3WiApICogZmFyICkgLyAoKCBmYXIgLSBuZWFyICkgKiB2aWV3WiApO1xufVxuZmxvYXQgcGVyc3BlY3RpdmVEZXB0aFRvVmlld1ooIGNvbnN0IGluIGZsb2F0IGludkNsaXBaLCBjb25zdCBpbiBmbG9hdCBuZWFyLCBjb25zdCBpbiBmbG9hdCBmYXIgKSB7XG5cdHJldHVybiAoIG5lYXIgKiBmYXIgKSAvICggKCBmYXIgLSBuZWFyICkgKiBpbnZDbGlwWiAtIGZhciApO1xufSIscHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudDoiI2lmZGVmIFBSRU1VTFRJUExJRURfQUxQSEFcblx0Z2xfRnJhZ0NvbG9yLnJnYiAqPSBnbF9GcmFnQ29sb3IuYTtcbiNlbmRpZiIscHJvamVjdF92ZXJ0ZXg6InZlYzQgbXZQb3NpdGlvbiA9IHZlYzQoIHRyYW5zZm9ybWVkLCAxLjAgKTtcbiNpZmRlZiBVU0VfSU5TVEFOQ0lOR1xuXHRtdlBvc2l0aW9uID0gaW5zdGFuY2VNYXRyaXggKiBtdlBvc2l0aW9uO1xuI2VuZGlmXG5tdlBvc2l0aW9uID0gbW9kZWxWaWV3TWF0cml4ICogbXZQb3NpdGlvbjtcbmdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG12UG9zaXRpb247IixkaXRoZXJpbmdfZnJhZ21lbnQ6IiNpZmRlZiBESVRIRVJJTkdcblx0Z2xfRnJhZ0NvbG9yLnJnYiA9IGRpdGhlcmluZyggZ2xfRnJhZ0NvbG9yLnJnYiApO1xuI2VuZGlmIixkaXRoZXJpbmdfcGFyc19mcmFnbWVudDoiI2lmZGVmIERJVEhFUklOR1xuXHR2ZWMzIGRpdGhlcmluZyggdmVjMyBjb2xvciApIHtcblx0XHRmbG9hdCBncmlkX3Bvc2l0aW9uID0gcmFuZCggZ2xfRnJhZ0Nvb3JkLnh5ICk7XG5cdFx0dmVjMyBkaXRoZXJfc2hpZnRfUkdCID0gdmVjMyggMC4yNSAvIDI1NS4wLCAtMC4yNSAvIDI1NS4wLCAwLjI1IC8gMjU1LjAgKTtcblx0XHRkaXRoZXJfc2hpZnRfUkdCID0gbWl4KCAyLjAgKiBkaXRoZXJfc2hpZnRfUkdCLCAtMi4wICogZGl0aGVyX3NoaWZ0X1JHQiwgZ3JpZF9wb3NpdGlvbiApO1xuXHRcdHJldHVybiBjb2xvciArIGRpdGhlcl9zaGlmdF9SR0I7XG5cdH1cbiNlbmRpZiIscm91Z2huZXNzbWFwX2ZyYWdtZW50OiJmbG9hdCByb3VnaG5lc3NGYWN0b3IgPSByb3VnaG5lc3M7XG4jaWZkZWYgVVNFX1JPVUdITkVTU01BUFxuXHR2ZWM0IHRleGVsUm91Z2huZXNzID0gdGV4dHVyZTJEKCByb3VnaG5lc3NNYXAsIHZVdiApO1xuXHRyb3VnaG5lc3NGYWN0b3IgKj0gdGV4ZWxSb3VnaG5lc3MuZztcbiNlbmRpZiIscm91Z2huZXNzbWFwX3BhcnNfZnJhZ21lbnQ6IiNpZmRlZiBVU0VfUk9VR0hORVNTTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIHJvdWdobmVzc01hcDtcbiNlbmRpZiIsc2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ6IiNpZmRlZiBVU0VfU0hBRE9XTUFQXG5cdCNpZiBOVU1fRElSX0xJR0hUX1NIQURPV1MgPiAwXG5cdFx0dW5pZm9ybSBzYW1wbGVyMkQgZGlyZWN0aW9uYWxTaGFkb3dNYXBbIE5VTV9ESVJfTElHSFRfU0hBRE9XUyBdO1xuXHRcdHZhcnlpbmcgdmVjNCB2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07XG5cdFx0c3RydWN0IERpcmVjdGlvbmFsTGlnaHRTaGFkb3cge1xuXHRcdFx0ZmxvYXQgc2hhZG93Qmlhcztcblx0XHRcdGZsb2F0IHNoYWRvd05vcm1hbEJpYXM7XG5cdFx0XHRmbG9hdCBzaGFkb3dSYWRpdXM7XG5cdFx0XHR2ZWMyIHNoYWRvd01hcFNpemU7XG5cdFx0fTtcblx0XHR1bmlmb3JtIERpcmVjdGlvbmFsTGlnaHRTaGFkb3cgZGlyZWN0aW9uYWxMaWdodFNoYWRvd3NbIE5VTV9ESVJfTElHSFRfU0hBRE9XUyBdO1xuXHQjZW5kaWZcblx0I2lmIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgPiAwXG5cdFx0dW5pZm9ybSBzYW1wbGVyMkQgc3BvdFNoYWRvd01hcFsgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyBdO1xuXHRcdHZhcnlpbmcgdmVjNCB2U3BvdFNoYWRvd0Nvb3JkWyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07XG5cdFx0c3RydWN0IFNwb3RMaWdodFNoYWRvdyB7XG5cdFx0XHRmbG9hdCBzaGFkb3dCaWFzO1xuXHRcdFx0ZmxvYXQgc2hhZG93Tm9ybWFsQmlhcztcblx0XHRcdGZsb2F0IHNoYWRvd1JhZGl1cztcblx0XHRcdHZlYzIgc2hhZG93TWFwU2l6ZTtcblx0XHR9O1xuXHRcdHVuaWZvcm0gU3BvdExpZ2h0U2hhZG93IHNwb3RMaWdodFNoYWRvd3NbIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgXTtcblx0I2VuZGlmXG5cdCNpZiBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyA+IDBcblx0XHR1bmlmb3JtIHNhbXBsZXIyRCBwb2ludFNoYWRvd01hcFsgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTtcblx0XHR2YXJ5aW5nIHZlYzQgdlBvaW50U2hhZG93Q29vcmRbIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTIF07XG5cdFx0c3RydWN0IFBvaW50TGlnaHRTaGFkb3cge1xuXHRcdFx0ZmxvYXQgc2hhZG93Qmlhcztcblx0XHRcdGZsb2F0IHNoYWRvd05vcm1hbEJpYXM7XG5cdFx0XHRmbG9hdCBzaGFkb3dSYWRpdXM7XG5cdFx0XHR2ZWMyIHNoYWRvd01hcFNpemU7XG5cdFx0XHRmbG9hdCBzaGFkb3dDYW1lcmFOZWFyO1xuXHRcdFx0ZmxvYXQgc2hhZG93Q2FtZXJhRmFyO1xuXHRcdH07XG5cdFx0dW5pZm9ybSBQb2ludExpZ2h0U2hhZG93IHBvaW50TGlnaHRTaGFkb3dzWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdO1xuXHQjZW5kaWZcblx0ZmxvYXQgdGV4dHVyZTJEQ29tcGFyZSggc2FtcGxlcjJEIGRlcHRocywgdmVjMiB1diwgZmxvYXQgY29tcGFyZSApIHtcblx0XHRyZXR1cm4gc3RlcCggY29tcGFyZSwgdW5wYWNrUkdCQVRvRGVwdGgoIHRleHR1cmUyRCggZGVwdGhzLCB1diApICkgKTtcblx0fVxuXHR2ZWMyIHRleHR1cmUyRERpc3RyaWJ1dGlvbiggc2FtcGxlcjJEIHNoYWRvdywgdmVjMiB1diApIHtcblx0XHRyZXR1cm4gdW5wYWNrUkdCQVRvMkhhbGYoIHRleHR1cmUyRCggc2hhZG93LCB1diApICk7XG5cdH1cblx0ZmxvYXQgVlNNU2hhZG93IChzYW1wbGVyMkQgc2hhZG93LCB2ZWMyIHV2LCBmbG9hdCBjb21wYXJlICl7XG5cdFx0ZmxvYXQgb2NjbHVzaW9uID0gMS4wO1xuXHRcdHZlYzIgZGlzdHJpYnV0aW9uID0gdGV4dHVyZTJERGlzdHJpYnV0aW9uKCBzaGFkb3csIHV2ICk7XG5cdFx0ZmxvYXQgaGFyZF9zaGFkb3cgPSBzdGVwKCBjb21wYXJlICwgZGlzdHJpYnV0aW9uLnggKTtcblx0XHRpZiAoaGFyZF9zaGFkb3cgIT0gMS4wICkge1xuXHRcdFx0ZmxvYXQgZGlzdGFuY2UgPSBjb21wYXJlIC0gZGlzdHJpYnV0aW9uLnggO1xuXHRcdFx0ZmxvYXQgdmFyaWFuY2UgPSBtYXgoIDAuMDAwMDAsIGRpc3RyaWJ1dGlvbi55ICogZGlzdHJpYnV0aW9uLnkgKTtcblx0XHRcdGZsb2F0IHNvZnRuZXNzX3Byb2JhYmlsaXR5ID0gdmFyaWFuY2UgLyAodmFyaWFuY2UgKyBkaXN0YW5jZSAqIGRpc3RhbmNlICk7XHRcdFx0c29mdG5lc3NfcHJvYmFiaWxpdHkgPSBjbGFtcCggKCBzb2Z0bmVzc19wcm9iYWJpbGl0eSAtIDAuMyApIC8gKCAwLjk1IC0gMC4zICksIDAuMCwgMS4wICk7XHRcdFx0b2NjbHVzaW9uID0gY2xhbXAoIG1heCggaGFyZF9zaGFkb3csIHNvZnRuZXNzX3Byb2JhYmlsaXR5ICksIDAuMCwgMS4wICk7XG5cdFx0fVxuXHRcdHJldHVybiBvY2NsdXNpb247XG5cdH1cblx0ZmxvYXQgZ2V0U2hhZG93KCBzYW1wbGVyMkQgc2hhZG93TWFwLCB2ZWMyIHNoYWRvd01hcFNpemUsIGZsb2F0IHNoYWRvd0JpYXMsIGZsb2F0IHNoYWRvd1JhZGl1cywgdmVjNCBzaGFkb3dDb29yZCApIHtcblx0XHRmbG9hdCBzaGFkb3cgPSAxLjA7XG5cdFx0c2hhZG93Q29vcmQueHl6IC89IHNoYWRvd0Nvb3JkLnc7XG5cdFx0c2hhZG93Q29vcmQueiArPSBzaGFkb3dCaWFzO1xuXHRcdGJ2ZWM0IGluRnJ1c3R1bVZlYyA9IGJ2ZWM0ICggc2hhZG93Q29vcmQueCA+PSAwLjAsIHNoYWRvd0Nvb3JkLnggPD0gMS4wLCBzaGFkb3dDb29yZC55ID49IDAuMCwgc2hhZG93Q29vcmQueSA8PSAxLjAgKTtcblx0XHRib29sIGluRnJ1c3R1bSA9IGFsbCggaW5GcnVzdHVtVmVjICk7XG5cdFx0YnZlYzIgZnJ1c3R1bVRlc3RWZWMgPSBidmVjMiggaW5GcnVzdHVtLCBzaGFkb3dDb29yZC56IDw9IDEuMCApO1xuXHRcdGJvb2wgZnJ1c3R1bVRlc3QgPSBhbGwoIGZydXN0dW1UZXN0VmVjICk7XG5cdFx0aWYgKCBmcnVzdHVtVGVzdCApIHtcblx0XHQjaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGIClcblx0XHRcdHZlYzIgdGV4ZWxTaXplID0gdmVjMiggMS4wICkgLyBzaGFkb3dNYXBTaXplO1xuXHRcdFx0ZmxvYXQgZHgwID0gLSB0ZXhlbFNpemUueCAqIHNoYWRvd1JhZGl1cztcblx0XHRcdGZsb2F0IGR5MCA9IC0gdGV4ZWxTaXplLnkgKiBzaGFkb3dSYWRpdXM7XG5cdFx0XHRmbG9hdCBkeDEgPSArIHRleGVsU2l6ZS54ICogc2hhZG93UmFkaXVzO1xuXHRcdFx0ZmxvYXQgZHkxID0gKyB0ZXhlbFNpemUueSAqIHNoYWRvd1JhZGl1cztcblx0XHRcdGZsb2F0IGR4MiA9IGR4MCAvIDIuMDtcblx0XHRcdGZsb2F0IGR5MiA9IGR5MCAvIDIuMDtcblx0XHRcdGZsb2F0IGR4MyA9IGR4MSAvIDIuMDtcblx0XHRcdGZsb2F0IGR5MyA9IGR5MSAvIDIuMDtcblx0XHRcdHNoYWRvdyA9IChcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MCwgZHkwICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MCApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgxLCBkeTAgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MiwgZHkyICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MiApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgzLCBkeTIgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MCwgMC4wICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDIsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5LCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgzLCAwLjAgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgMC4wICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDIsIGR5MyApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggMC4wLCBkeTMgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MywgZHkzICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDAsIGR5MSApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggMC4wLCBkeTEgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgZHkxICksIHNoYWRvd0Nvb3JkLnogKVxuXHRcdFx0KSAqICggMS4wIC8gMTcuMCApO1xuXHRcdCNlbGlmIGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1BDRl9TT0ZUIClcblx0XHRcdHZlYzIgdGV4ZWxTaXplID0gdmVjMiggMS4wICkgLyBzaGFkb3dNYXBTaXplO1xuXHRcdFx0ZmxvYXQgZHggPSB0ZXhlbFNpemUueDtcblx0XHRcdGZsb2F0IGR5ID0gdGV4ZWxTaXplLnk7XG5cdFx0XHR2ZWMyIHV2ID0gc2hhZG93Q29vcmQueHk7XG5cdFx0XHR2ZWMyIGYgPSBmcmFjdCggdXYgKiBzaGFkb3dNYXBTaXplICsgMC41ICk7XG5cdFx0XHR1diAtPSBmICogdGV4ZWxTaXplO1xuXHRcdFx0c2hhZG93ID0gKFxuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2LCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggZHgsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggMC4wLCBkeSApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdGV4ZWxTaXplLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHRtaXgoIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAtZHgsIDAuMCApLCBzaGFkb3dDb29yZC56ICksIFxuXHRcdFx0XHRcdCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggMi4wICogZHgsIDAuMCApLCBzaGFkb3dDb29yZC56ICksXG5cdFx0XHRcdFx0IGYueCApICtcblx0XHRcdFx0bWl4KCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggLWR4LCBkeSApLCBzaGFkb3dDb29yZC56ICksIFxuXHRcdFx0XHRcdCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggMi4wICogZHgsIGR5ICksIHNoYWRvd0Nvb3JkLnogKSxcblx0XHRcdFx0XHQgZi54ICkgK1xuXHRcdFx0XHRtaXgoIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAwLjAsIC1keSApLCBzaGFkb3dDb29yZC56ICksIFxuXHRcdFx0XHRcdCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggMC4wLCAyLjAgKiBkeSApLCBzaGFkb3dDb29yZC56ICksXG5cdFx0XHRcdFx0IGYueSApICtcblx0XHRcdFx0bWl4KCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggZHgsIC1keSApLCBzaGFkb3dDb29yZC56ICksIFxuXHRcdFx0XHRcdCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggZHgsIDIuMCAqIGR5ICksIHNoYWRvd0Nvb3JkLnogKSxcblx0XHRcdFx0XHQgZi55ICkgK1xuXHRcdFx0XHRtaXgoIG1peCggdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIC1keCwgLWR5ICksIHNoYWRvd0Nvb3JkLnogKSwgXG5cdFx0XHRcdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAyLjAgKiBkeCwgLWR5ICksIHNoYWRvd0Nvb3JkLnogKSxcblx0XHRcdFx0XHRcdFx0Zi54ICksXG5cdFx0XHRcdFx0IG1peCggdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIC1keCwgMi4wICogZHkgKSwgc2hhZG93Q29vcmQueiApLCBcblx0XHRcdFx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIDIuMCAqIGR4LCAyLjAgKiBkeSApLCBzaGFkb3dDb29yZC56ICksXG5cdFx0XHRcdFx0XHRcdGYueCApLFxuXHRcdFx0XHRcdCBmLnkgKVxuXHRcdFx0KSAqICggMS4wIC8gOS4wICk7XG5cdFx0I2VsaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfVlNNIClcblx0XHRcdHNoYWRvdyA9IFZTTVNoYWRvdyggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSwgc2hhZG93Q29vcmQueiApO1xuXHRcdCNlbHNlXG5cdFx0XHRzaGFkb3cgPSB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5LCBzaGFkb3dDb29yZC56ICk7XG5cdFx0I2VuZGlmXG5cdFx0fVxuXHRcdHJldHVybiBzaGFkb3c7XG5cdH1cblx0dmVjMiBjdWJlVG9VViggdmVjMyB2LCBmbG9hdCB0ZXhlbFNpemVZICkge1xuXHRcdHZlYzMgYWJzViA9IGFicyggdiApO1xuXHRcdGZsb2F0IHNjYWxlVG9DdWJlID0gMS4wIC8gbWF4KCBhYnNWLngsIG1heCggYWJzVi55LCBhYnNWLnogKSApO1xuXHRcdGFic1YgKj0gc2NhbGVUb0N1YmU7XG5cdFx0diAqPSBzY2FsZVRvQ3ViZSAqICggMS4wIC0gMi4wICogdGV4ZWxTaXplWSApO1xuXHRcdHZlYzIgcGxhbmFyID0gdi54eTtcblx0XHRmbG9hdCBhbG1vc3RBVGV4ZWwgPSAxLjUgKiB0ZXhlbFNpemVZO1xuXHRcdGZsb2F0IGFsbW9zdE9uZSA9IDEuMCAtIGFsbW9zdEFUZXhlbDtcblx0XHRpZiAoIGFic1YueiA+PSBhbG1vc3RPbmUgKSB7XG5cdFx0XHRpZiAoIHYueiA+IDAuMCApXG5cdFx0XHRcdHBsYW5hci54ID0gNC4wIC0gdi54O1xuXHRcdH0gZWxzZSBpZiAoIGFic1YueCA+PSBhbG1vc3RPbmUgKSB7XG5cdFx0XHRmbG9hdCBzaWduWCA9IHNpZ24oIHYueCApO1xuXHRcdFx0cGxhbmFyLnggPSB2LnogKiBzaWduWCArIDIuMCAqIHNpZ25YO1xuXHRcdH0gZWxzZSBpZiAoIGFic1YueSA+PSBhbG1vc3RPbmUgKSB7XG5cdFx0XHRmbG9hdCBzaWduWSA9IHNpZ24oIHYueSApO1xuXHRcdFx0cGxhbmFyLnggPSB2LnggKyAyLjAgKiBzaWduWSArIDIuMDtcblx0XHRcdHBsYW5hci55ID0gdi56ICogc2lnblkgLSAyLjA7XG5cdFx0fVxuXHRcdHJldHVybiB2ZWMyKCAwLjEyNSwgMC4yNSApICogcGxhbmFyICsgdmVjMiggMC4zNzUsIDAuNzUgKTtcblx0fVxuXHRmbG9hdCBnZXRQb2ludFNoYWRvdyggc2FtcGxlcjJEIHNoYWRvd01hcCwgdmVjMiBzaGFkb3dNYXBTaXplLCBmbG9hdCBzaGFkb3dCaWFzLCBmbG9hdCBzaGFkb3dSYWRpdXMsIHZlYzQgc2hhZG93Q29vcmQsIGZsb2F0IHNoYWRvd0NhbWVyYU5lYXIsIGZsb2F0IHNoYWRvd0NhbWVyYUZhciApIHtcblx0XHR2ZWMyIHRleGVsU2l6ZSA9IHZlYzIoIDEuMCApIC8gKCBzaGFkb3dNYXBTaXplICogdmVjMiggNC4wLCAyLjAgKSApO1xuXHRcdHZlYzMgbGlnaHRUb1Bvc2l0aW9uID0gc2hhZG93Q29vcmQueHl6O1xuXHRcdGZsb2F0IGRwID0gKCBsZW5ndGgoIGxpZ2h0VG9Qb3NpdGlvbiApIC0gc2hhZG93Q2FtZXJhTmVhciApIC8gKCBzaGFkb3dDYW1lcmFGYXIgLSBzaGFkb3dDYW1lcmFOZWFyICk7XHRcdGRwICs9IHNoYWRvd0JpYXM7XG5cdFx0dmVjMyBiZDNEID0gbm9ybWFsaXplKCBsaWdodFRvUG9zaXRpb24gKTtcblx0XHQjaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGICkgfHwgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGX1NPRlQgKSB8fCBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9WU00gKVxuXHRcdFx0dmVjMiBvZmZzZXQgPSB2ZWMyKCAtIDEsIDEgKSAqIHNoYWRvd1JhZGl1cyAqIHRleGVsU2l6ZS55O1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC54eXksIHRleGVsU2l6ZS55ICksIGRwICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnl5eSwgdGV4ZWxTaXplLnkgKSwgZHAgKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueHl4LCB0ZXhlbFNpemUueSApLCBkcCApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC55eXgsIHRleGVsU2l6ZS55ICksIGRwICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNELCB0ZXhlbFNpemUueSApLCBkcCApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC54eHksIHRleGVsU2l6ZS55ICksIGRwICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnl4eSwgdGV4ZWxTaXplLnkgKSwgZHAgKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueHh4LCB0ZXhlbFNpemUueSApLCBkcCApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC55eHgsIHRleGVsU2l6ZS55ICksIGRwIClcblx0XHRcdCkgKiAoIDEuMCAvIDkuMCApO1xuXHRcdCNlbHNlXG5cdFx0XHRyZXR1cm4gdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCwgdGV4ZWxTaXplLnkgKSwgZHAgKTtcblx0XHQjZW5kaWZcblx0fVxuI2VuZGlmIixzaGFkb3dtYXBfcGFyc192ZXJ0ZXg6IiNpZmRlZiBVU0VfU0hBRE9XTUFQXG5cdCNpZiBOVU1fRElSX0xJR0hUX1NIQURPV1MgPiAwXG5cdFx0dW5pZm9ybSBtYXQ0IGRpcmVjdGlvbmFsU2hhZG93TWF0cml4WyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTtcblx0XHR2YXJ5aW5nIHZlYzQgdkRpcmVjdGlvbmFsU2hhZG93Q29vcmRbIE5VTV9ESVJfTElHSFRfU0hBRE9XUyBdO1xuXHRcdHN0cnVjdCBEaXJlY3Rpb25hbExpZ2h0U2hhZG93IHtcblx0XHRcdGZsb2F0IHNoYWRvd0JpYXM7XG5cdFx0XHRmbG9hdCBzaGFkb3dOb3JtYWxCaWFzO1xuXHRcdFx0ZmxvYXQgc2hhZG93UmFkaXVzO1xuXHRcdFx0dmVjMiBzaGFkb3dNYXBTaXplO1xuXHRcdH07XG5cdFx0dW5pZm9ybSBEaXJlY3Rpb25hbExpZ2h0U2hhZG93IGRpcmVjdGlvbmFsTGlnaHRTaGFkb3dzWyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTtcblx0I2VuZGlmXG5cdCNpZiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMFxuXHRcdHVuaWZvcm0gbWF0NCBzcG90U2hhZG93TWF0cml4WyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07XG5cdFx0dmFyeWluZyB2ZWM0IHZTcG90U2hhZG93Q29vcmRbIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgXTtcblx0XHRzdHJ1Y3QgU3BvdExpZ2h0U2hhZG93IHtcblx0XHRcdGZsb2F0IHNoYWRvd0JpYXM7XG5cdFx0XHRmbG9hdCBzaGFkb3dOb3JtYWxCaWFzO1xuXHRcdFx0ZmxvYXQgc2hhZG93UmFkaXVzO1xuXHRcdFx0dmVjMiBzaGFkb3dNYXBTaXplO1xuXHRcdH07XG5cdFx0dW5pZm9ybSBTcG90TGlnaHRTaGFkb3cgc3BvdExpZ2h0U2hhZG93c1sgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyBdO1xuXHQjZW5kaWZcblx0I2lmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMFxuXHRcdHVuaWZvcm0gbWF0NCBwb2ludFNoYWRvd01hdHJpeFsgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTtcblx0XHR2YXJ5aW5nIHZlYzQgdlBvaW50U2hhZG93Q29vcmRbIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTIF07XG5cdFx0c3RydWN0IFBvaW50TGlnaHRTaGFkb3cge1xuXHRcdFx0ZmxvYXQgc2hhZG93Qmlhcztcblx0XHRcdGZsb2F0IHNoYWRvd05vcm1hbEJpYXM7XG5cdFx0XHRmbG9hdCBzaGFkb3dSYWRpdXM7XG5cdFx0XHR2ZWMyIHNoYWRvd01hcFNpemU7XG5cdFx0XHRmbG9hdCBzaGFkb3dDYW1lcmFOZWFyO1xuXHRcdFx0ZmxvYXQgc2hhZG93Q2FtZXJhRmFyO1xuXHRcdH07XG5cdFx0dW5pZm9ybSBQb2ludExpZ2h0U2hhZG93IHBvaW50TGlnaHRTaGFkb3dzWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdO1xuXHQjZW5kaWZcbiNlbmRpZiIsc2hhZG93bWFwX3ZlcnRleDoiI2lmZGVmIFVTRV9TSEFET1dNQVBcblx0I2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDAgfHwgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDAgfHwgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgPiAwXG5cdFx0dmVjMyBzaGFkb3dXb3JsZE5vcm1hbCA9IGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIHRyYW5zZm9ybWVkTm9ybWFsLCB2aWV3TWF0cml4ICk7XG5cdFx0dmVjNCBzaGFkb3dXb3JsZFBvc2l0aW9uO1xuXHQjZW5kaWZcblx0I2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDBcblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XG5cdFx0c2hhZG93V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24gKyB2ZWM0KCBzaGFkb3dXb3JsZE5vcm1hbCAqIGRpcmVjdGlvbmFsTGlnaHRTaGFkb3dzWyBpIF0uc2hhZG93Tm9ybWFsQmlhcywgMCApO1xuXHRcdHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBpIF0gPSBkaXJlY3Rpb25hbFNoYWRvd01hdHJpeFsgaSBdICogc2hhZG93V29ybGRQb3NpdGlvbjtcblx0fVxuXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuXHQjZW5kaWZcblx0I2lmIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgPiAwXG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1NQT1RfTElHSFRfU0hBRE9XUzsgaSArKyApIHtcblx0XHRzaGFkb3dXb3JsZFBvc2l0aW9uID0gd29ybGRQb3NpdGlvbiArIHZlYzQoIHNoYWRvd1dvcmxkTm9ybWFsICogc3BvdExpZ2h0U2hhZG93c1sgaSBdLnNoYWRvd05vcm1hbEJpYXMsIDAgKTtcblx0XHR2U3BvdFNoYWRvd0Nvb3JkWyBpIF0gPSBzcG90U2hhZG93TWF0cml4WyBpIF0gKiBzaGFkb3dXb3JsZFBvc2l0aW9uO1xuXHR9XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG5cdCNlbmRpZlxuXHQjaWYgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgPiAwXG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XG5cdFx0c2hhZG93V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24gKyB2ZWM0KCBzaGFkb3dXb3JsZE5vcm1hbCAqIHBvaW50TGlnaHRTaGFkb3dzWyBpIF0uc2hhZG93Tm9ybWFsQmlhcywgMCApO1xuXHRcdHZQb2ludFNoYWRvd0Nvb3JkWyBpIF0gPSBwb2ludFNoYWRvd01hdHJpeFsgaSBdICogc2hhZG93V29ybGRQb3NpdGlvbjtcblx0fVxuXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuXHQjZW5kaWZcbiNlbmRpZiIsc2hhZG93bWFza19wYXJzX2ZyYWdtZW50OiJmbG9hdCBnZXRTaGFkb3dNYXNrKCkge1xuXHRmbG9hdCBzaGFkb3cgPSAxLjA7XG5cdCNpZmRlZiBVU0VfU0hBRE9XTUFQXG5cdCNpZiBOVU1fRElSX0xJR0hUX1NIQURPV1MgPiAwXG5cdERpcmVjdGlvbmFsTGlnaHRTaGFkb3cgZGlyZWN0aW9uYWxMaWdodDtcblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XG5cdFx0ZGlyZWN0aW9uYWxMaWdodCA9IGRpcmVjdGlvbmFsTGlnaHRTaGFkb3dzWyBpIF07XG5cdFx0c2hhZG93ICo9IHJlY2VpdmVTaGFkb3cgPyBnZXRTaGFkb3coIGRpcmVjdGlvbmFsU2hhZG93TWFwWyBpIF0sIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93TWFwU2l6ZSwgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3dCaWFzLCBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvd1JhZGl1cywgdkRpcmVjdGlvbmFsU2hhZG93Q29vcmRbIGkgXSApIDogMS4wO1xuXHR9XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG5cdCNlbmRpZlxuXHQjaWYgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDBcblx0U3BvdExpZ2h0U2hhZG93IHNwb3RMaWdodDtcblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVF9TSEFET1dTOyBpICsrICkge1xuXHRcdHNwb3RMaWdodCA9IHNwb3RMaWdodFNoYWRvd3NbIGkgXTtcblx0XHRzaGFkb3cgKj0gcmVjZWl2ZVNoYWRvdyA/IGdldFNoYWRvdyggc3BvdFNoYWRvd01hcFsgaSBdLCBzcG90TGlnaHQuc2hhZG93TWFwU2l6ZSwgc3BvdExpZ2h0LnNoYWRvd0JpYXMsIHNwb3RMaWdodC5zaGFkb3dSYWRpdXMsIHZTcG90U2hhZG93Q29vcmRbIGkgXSApIDogMS4wO1xuXHR9XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG5cdCNlbmRpZlxuXHQjaWYgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgPiAwXG5cdFBvaW50TGlnaHRTaGFkb3cgcG9pbnRMaWdodDtcblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUzsgaSArKyApIHtcblx0XHRwb2ludExpZ2h0ID0gcG9pbnRMaWdodFNoYWRvd3NbIGkgXTtcblx0XHRzaGFkb3cgKj0gcmVjZWl2ZVNoYWRvdyA/IGdldFBvaW50U2hhZG93KCBwb2ludFNoYWRvd01hcFsgaSBdLCBwb2ludExpZ2h0LnNoYWRvd01hcFNpemUsIHBvaW50TGlnaHQuc2hhZG93QmlhcywgcG9pbnRMaWdodC5zaGFkb3dSYWRpdXMsIHZQb2ludFNoYWRvd0Nvb3JkWyBpIF0sIHBvaW50TGlnaHQuc2hhZG93Q2FtZXJhTmVhciwgcG9pbnRMaWdodC5zaGFkb3dDYW1lcmFGYXIgKSA6IDEuMDtcblx0fVxuXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuXHQjZW5kaWZcblx0I2VuZGlmXG5cdHJldHVybiBzaGFkb3c7XG59Iixza2luYmFzZV92ZXJ0ZXg6IiNpZmRlZiBVU0VfU0tJTk5JTkdcblx0bWF0NCBib25lTWF0WCA9IGdldEJvbmVNYXRyaXgoIHNraW5JbmRleC54ICk7XG5cdG1hdDQgYm9uZU1hdFkgPSBnZXRCb25lTWF0cml4KCBza2luSW5kZXgueSApO1xuXHRtYXQ0IGJvbmVNYXRaID0gZ2V0Qm9uZU1hdHJpeCggc2tpbkluZGV4LnogKTtcblx0bWF0NCBib25lTWF0VyA9IGdldEJvbmVNYXRyaXgoIHNraW5JbmRleC53ICk7XG4jZW5kaWYiLHNraW5uaW5nX3BhcnNfdmVydGV4OiIjaWZkZWYgVVNFX1NLSU5OSU5HXG5cdHVuaWZvcm0gbWF0NCBiaW5kTWF0cml4O1xuXHR1bmlmb3JtIG1hdDQgYmluZE1hdHJpeEludmVyc2U7XG5cdCNpZmRlZiBCT05FX1RFWFRVUkVcblx0XHR1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBib25lVGV4dHVyZTtcblx0XHR1bmlmb3JtIGludCBib25lVGV4dHVyZVNpemU7XG5cdFx0bWF0NCBnZXRCb25lTWF0cml4KCBjb25zdCBpbiBmbG9hdCBpICkge1xuXHRcdFx0ZmxvYXQgaiA9IGkgKiA0LjA7XG5cdFx0XHRmbG9hdCB4ID0gbW9kKCBqLCBmbG9hdCggYm9uZVRleHR1cmVTaXplICkgKTtcblx0XHRcdGZsb2F0IHkgPSBmbG9vciggaiAvIGZsb2F0KCBib25lVGV4dHVyZVNpemUgKSApO1xuXHRcdFx0ZmxvYXQgZHggPSAxLjAgLyBmbG9hdCggYm9uZVRleHR1cmVTaXplICk7XG5cdFx0XHRmbG9hdCBkeSA9IDEuMCAvIGZsb2F0KCBib25lVGV4dHVyZVNpemUgKTtcblx0XHRcdHkgPSBkeSAqICggeSArIDAuNSApO1xuXHRcdFx0dmVjNCB2MSA9IHRleHR1cmUyRCggYm9uZVRleHR1cmUsIHZlYzIoIGR4ICogKCB4ICsgMC41ICksIHkgKSApO1xuXHRcdFx0dmVjNCB2MiA9IHRleHR1cmUyRCggYm9uZVRleHR1cmUsIHZlYzIoIGR4ICogKCB4ICsgMS41ICksIHkgKSApO1xuXHRcdFx0dmVjNCB2MyA9IHRleHR1cmUyRCggYm9uZVRleHR1cmUsIHZlYzIoIGR4ICogKCB4ICsgMi41ICksIHkgKSApO1xuXHRcdFx0dmVjNCB2NCA9IHRleHR1cmUyRCggYm9uZVRleHR1cmUsIHZlYzIoIGR4ICogKCB4ICsgMy41ICksIHkgKSApO1xuXHRcdFx0bWF0NCBib25lID0gbWF0NCggdjEsIHYyLCB2MywgdjQgKTtcblx0XHRcdHJldHVybiBib25lO1xuXHRcdH1cblx0I2Vsc2Vcblx0XHR1bmlmb3JtIG1hdDQgYm9uZU1hdHJpY2VzWyBNQVhfQk9ORVMgXTtcblx0XHRtYXQ0IGdldEJvbmVNYXRyaXgoIGNvbnN0IGluIGZsb2F0IGkgKSB7XG5cdFx0XHRtYXQ0IGJvbmUgPSBib25lTWF0cmljZXNbIGludChpKSBdO1xuXHRcdFx0cmV0dXJuIGJvbmU7XG5cdFx0fVxuXHQjZW5kaWZcbiNlbmRpZiIsc2tpbm5pbmdfdmVydGV4OiIjaWZkZWYgVVNFX1NLSU5OSU5HXG5cdHZlYzQgc2tpblZlcnRleCA9IGJpbmRNYXRyaXggKiB2ZWM0KCB0cmFuc2Zvcm1lZCwgMS4wICk7XG5cdHZlYzQgc2tpbm5lZCA9IHZlYzQoIDAuMCApO1xuXHRza2lubmVkICs9IGJvbmVNYXRYICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQueDtcblx0c2tpbm5lZCArPSBib25lTWF0WSAqIHNraW5WZXJ0ZXggKiBza2luV2VpZ2h0Lnk7XG5cdHNraW5uZWQgKz0gYm9uZU1hdFogKiBza2luVmVydGV4ICogc2tpbldlaWdodC56O1xuXHRza2lubmVkICs9IGJvbmVNYXRXICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQudztcblx0dHJhbnNmb3JtZWQgPSAoIGJpbmRNYXRyaXhJbnZlcnNlICogc2tpbm5lZCApLnh5ejtcbiNlbmRpZiIsc2tpbm5vcm1hbF92ZXJ0ZXg6IiNpZmRlZiBVU0VfU0tJTk5JTkdcblx0bWF0NCBza2luTWF0cml4ID0gbWF0NCggMC4wICk7XG5cdHNraW5NYXRyaXggKz0gc2tpbldlaWdodC54ICogYm9uZU1hdFg7XG5cdHNraW5NYXRyaXggKz0gc2tpbldlaWdodC55ICogYm9uZU1hdFk7XG5cdHNraW5NYXRyaXggKz0gc2tpbldlaWdodC56ICogYm9uZU1hdFo7XG5cdHNraW5NYXRyaXggKz0gc2tpbldlaWdodC53ICogYm9uZU1hdFc7XG5cdHNraW5NYXRyaXggPSBiaW5kTWF0cml4SW52ZXJzZSAqIHNraW5NYXRyaXggKiBiaW5kTWF0cml4O1xuXHRvYmplY3ROb3JtYWwgPSB2ZWM0KCBza2luTWF0cml4ICogdmVjNCggb2JqZWN0Tm9ybWFsLCAwLjAgKSApLnh5ejtcblx0I2lmZGVmIFVTRV9UQU5HRU5UXG5cdFx0b2JqZWN0VGFuZ2VudCA9IHZlYzQoIHNraW5NYXRyaXggKiB2ZWM0KCBvYmplY3RUYW5nZW50LCAwLjAgKSApLnh5ejtcblx0I2VuZGlmXG4jZW5kaWYiLHNwZWN1bGFybWFwX2ZyYWdtZW50OiJmbG9hdCBzcGVjdWxhclN0cmVuZ3RoO1xuI2lmZGVmIFVTRV9TUEVDVUxBUk1BUFxuXHR2ZWM0IHRleGVsU3BlY3VsYXIgPSB0ZXh0dXJlMkQoIHNwZWN1bGFyTWFwLCB2VXYgKTtcblx0c3BlY3VsYXJTdHJlbmd0aCA9IHRleGVsU3BlY3VsYXIucjtcbiNlbHNlXG5cdHNwZWN1bGFyU3RyZW5ndGggPSAxLjA7XG4jZW5kaWYiLHNwZWN1bGFybWFwX3BhcnNfZnJhZ21lbnQ6IiNpZmRlZiBVU0VfU1BFQ1VMQVJNQVBcblx0dW5pZm9ybSBzYW1wbGVyMkQgc3BlY3VsYXJNYXA7XG4jZW5kaWYiLHRvbmVtYXBwaW5nX2ZyYWdtZW50OiIjaWYgZGVmaW5lZCggVE9ORV9NQVBQSU5HIClcblx0Z2xfRnJhZ0NvbG9yLnJnYiA9IHRvbmVNYXBwaW5nKCBnbF9GcmFnQ29sb3IucmdiICk7XG4jZW5kaWYiLHRvbmVtYXBwaW5nX3BhcnNfZnJhZ21lbnQ6IiNpZm5kZWYgc2F0dXJhdGVcbiNkZWZpbmUgc2F0dXJhdGUoYSkgY2xhbXAoIGEsIDAuMCwgMS4wIClcbiNlbmRpZlxudW5pZm9ybSBmbG9hdCB0b25lTWFwcGluZ0V4cG9zdXJlO1xudmVjMyBMaW5lYXJUb25lTWFwcGluZyggdmVjMyBjb2xvciApIHtcblx0cmV0dXJuIHRvbmVNYXBwaW5nRXhwb3N1cmUgKiBjb2xvcjtcbn1cbnZlYzMgUmVpbmhhcmRUb25lTWFwcGluZyggdmVjMyBjb2xvciApIHtcblx0Y29sb3IgKj0gdG9uZU1hcHBpbmdFeHBvc3VyZTtcblx0cmV0dXJuIHNhdHVyYXRlKCBjb2xvciAvICggdmVjMyggMS4wICkgKyBjb2xvciApICk7XG59XG52ZWMzIE9wdGltaXplZENpbmVvblRvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkge1xuXHRjb2xvciAqPSB0b25lTWFwcGluZ0V4cG9zdXJlO1xuXHRjb2xvciA9IG1heCggdmVjMyggMC4wICksIGNvbG9yIC0gMC4wMDQgKTtcblx0cmV0dXJuIHBvdyggKCBjb2xvciAqICggNi4yICogY29sb3IgKyAwLjUgKSApIC8gKCBjb2xvciAqICggNi4yICogY29sb3IgKyAxLjcgKSArIDAuMDYgKSwgdmVjMyggMi4yICkgKTtcbn1cbnZlYzMgUlJUQW5kT0RURml0KCB2ZWMzIHYgKSB7XG5cdHZlYzMgYSA9IHYgKiAoIHYgKyAwLjAyNDU3ODYgKSAtIDAuMDAwMDkwNTM3O1xuXHR2ZWMzIGIgPSB2ICogKCAwLjk4MzcyOSAqIHYgKyAwLjQzMjk1MTAgKSArIDAuMjM4MDgxO1xuXHRyZXR1cm4gYSAvIGI7XG59XG52ZWMzIEFDRVNGaWxtaWNUb25lTWFwcGluZyggdmVjMyBjb2xvciApIHtcblx0Y29uc3QgbWF0MyBBQ0VTSW5wdXRNYXQgPSBtYXQzKFxuXHRcdHZlYzMoIDAuNTk3MTksIDAuMDc2MDAsIDAuMDI4NDAgKSxcdFx0dmVjMyggMC4zNTQ1OCwgMC45MDgzNCwgMC4xMzM4MyApLFxuXHRcdHZlYzMoIDAuMDQ4MjMsIDAuMDE1NjYsIDAuODM3NzcgKVxuXHQpO1xuXHRjb25zdCBtYXQzIEFDRVNPdXRwdXRNYXQgPSBtYXQzKFxuXHRcdHZlYzMoXHQxLjYwNDc1LCAtMC4xMDIwOCwgLTAuMDAzMjcgKSxcdFx0dmVjMyggLTAuNTMxMDgsXHQxLjEwODEzLCAtMC4wNzI3NiApLFxuXHRcdHZlYzMoIC0wLjA3MzY3LCAtMC4wMDYwNSxcdDEuMDc2MDIgKVxuXHQpO1xuXHRjb2xvciAqPSB0b25lTWFwcGluZ0V4cG9zdXJlIC8gMC42O1xuXHRjb2xvciA9IEFDRVNJbnB1dE1hdCAqIGNvbG9yO1xuXHRjb2xvciA9IFJSVEFuZE9EVEZpdCggY29sb3IgKTtcblx0Y29sb3IgPSBBQ0VTT3V0cHV0TWF0ICogY29sb3I7XG5cdHJldHVybiBzYXR1cmF0ZSggY29sb3IgKTtcbn1cbnZlYzMgQ3VzdG9tVG9uZU1hcHBpbmcoIHZlYzMgY29sb3IgKSB7IHJldHVybiBjb2xvcjsgfSIsdHJhbnNtaXNzaW9ubWFwX2ZyYWdtZW50OiIjaWZkZWYgVVNFX1RSQU5TTUlTU0lPTk1BUFxuXHR0b3RhbFRyYW5zbWlzc2lvbiAqPSB0ZXh0dXJlMkQoIHRyYW5zbWlzc2lvbk1hcCwgdlV2ICkucjtcbiNlbmRpZiIsdHJhbnNtaXNzaW9ubWFwX3BhcnNfZnJhZ21lbnQ6IiNpZmRlZiBVU0VfVFJBTlNNSVNTSU9OTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIHRyYW5zbWlzc2lvbk1hcDtcbiNlbmRpZiIsdXZfcGFyc19mcmFnbWVudDoiI2lmICggZGVmaW5lZCggVVNFX1VWICkgJiYgISBkZWZpbmVkKCBVVlNfVkVSVEVYX09OTFkgKSApXG5cdHZhcnlpbmcgdmVjMiB2VXY7XG4jZW5kaWYiLHV2X3BhcnNfdmVydGV4OiIjaWZkZWYgVVNFX1VWXG5cdCNpZmRlZiBVVlNfVkVSVEVYX09OTFlcblx0XHR2ZWMyIHZVdjtcblx0I2Vsc2Vcblx0XHR2YXJ5aW5nIHZlYzIgdlV2O1xuXHQjZW5kaWZcblx0dW5pZm9ybSBtYXQzIHV2VHJhbnNmb3JtO1xuI2VuZGlmIix1dl92ZXJ0ZXg6IiNpZmRlZiBVU0VfVVZcblx0dlV2ID0gKCB1dlRyYW5zZm9ybSAqIHZlYzMoIHV2LCAxICkgKS54eTtcbiNlbmRpZiIsdXYyX3BhcnNfZnJhZ21lbnQ6IiNpZiBkZWZpbmVkKCBVU0VfTElHSFRNQVAgKSB8fCBkZWZpbmVkKCBVU0VfQU9NQVAgKVxuXHR2YXJ5aW5nIHZlYzIgdlV2MjtcbiNlbmRpZiIsdXYyX3BhcnNfdmVydGV4OiIjaWYgZGVmaW5lZCggVVNFX0xJR0hUTUFQICkgfHwgZGVmaW5lZCggVVNFX0FPTUFQIClcblx0YXR0cmlidXRlIHZlYzIgdXYyO1xuXHR2YXJ5aW5nIHZlYzIgdlV2Mjtcblx0dW5pZm9ybSBtYXQzIHV2MlRyYW5zZm9ybTtcbiNlbmRpZiIsdXYyX3ZlcnRleDoiI2lmIGRlZmluZWQoIFVTRV9MSUdIVE1BUCApIHx8IGRlZmluZWQoIFVTRV9BT01BUCApXG5cdHZVdjIgPSAoIHV2MlRyYW5zZm9ybSAqIHZlYzMoIHV2MiwgMSApICkueHk7XG4jZW5kaWYiLHdvcmxkcG9zX3ZlcnRleDoiI2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSB8fCBkZWZpbmVkKCBESVNUQU5DRSApIHx8IGRlZmluZWQgKCBVU0VfU0hBRE9XTUFQIClcblx0dmVjNCB3b3JsZFBvc2l0aW9uID0gdmVjNCggdHJhbnNmb3JtZWQsIDEuMCApO1xuXHQjaWZkZWYgVVNFX0lOU1RBTkNJTkdcblx0XHR3b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VNYXRyaXggKiB3b3JsZFBvc2l0aW9uO1xuXHQjZW5kaWZcblx0d29ybGRQb3NpdGlvbiA9IG1vZGVsTWF0cml4ICogd29ybGRQb3NpdGlvbjtcbiNlbmRpZiIsYmFja2dyb3VuZF9mcmFnOiJ1bmlmb3JtIHNhbXBsZXIyRCB0MkQ7XG52YXJ5aW5nIHZlYzIgdlV2O1xudm9pZCBtYWluKCkge1xuXHR2ZWM0IHRleENvbG9yID0gdGV4dHVyZTJEKCB0MkQsIHZVdiApO1xuXHRnbF9GcmFnQ29sb3IgPSBtYXBUZXhlbFRvTGluZWFyKCB0ZXhDb2xvciApO1xuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG59IixiYWNrZ3JvdW5kX3ZlcnQ6InZhcnlpbmcgdmVjMiB2VXY7XG51bmlmb3JtIG1hdDMgdXZUcmFuc2Zvcm07XG52b2lkIG1haW4oKSB7XG5cdHZVdiA9ICggdXZUcmFuc2Zvcm0gKiB2ZWMzKCB1diwgMSApICkueHk7XG5cdGdsX1Bvc2l0aW9uID0gdmVjNCggcG9zaXRpb24ueHksIDEuMCwgMS4wICk7XG59IixjdWJlX2ZyYWc6IiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG52YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1xuI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0dmVjMyB2UmVmbGVjdCA9IHZXb3JsZERpcmVjdGlvbjtcblx0I2luY2x1ZGUgPGVudm1hcF9mcmFnbWVudD5cblx0Z2xfRnJhZ0NvbG9yID0gZW52Q29sb3I7XG5cdGdsX0ZyYWdDb2xvci5hICo9IG9wYWNpdHk7XG5cdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cbn0iLGN1YmVfdmVydDoidmFyeWluZyB2ZWMzIHZXb3JsZERpcmVjdGlvbjtcbiNpbmNsdWRlIDxjb21tb24+XG52b2lkIG1haW4oKSB7XG5cdHZXb3JsZERpcmVjdGlvbiA9IHRyYW5zZm9ybURpcmVjdGlvbiggcG9zaXRpb24sIG1vZGVsTWF0cml4ICk7XG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cblx0Z2xfUG9zaXRpb24ueiA9IGdsX1Bvc2l0aW9uLnc7XG59IixkZXB0aF9mcmFnOiIjaWYgREVQVEhfUEFDS0lORyA9PSAzMjAwXG5cdHVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbiNlbmRpZlxuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDxwYWNraW5nPlxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50PlxudmFyeWluZyB2ZWMyIHZIaWdoUHJlY2lzaW9uWlc7XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XG5cdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggMS4wICk7XG5cdCNpZiBERVBUSF9QQUNLSU5HID09IDMyMDBcblx0XHRkaWZmdXNlQ29sb3IuYSA9IG9wYWNpdHk7XG5cdCNlbmRpZlxuXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cblx0ZmxvYXQgZnJhZ0Nvb3JkWiA9IDAuNSAqIHZIaWdoUHJlY2lzaW9uWldbMF0gLyB2SGlnaFByZWNpc2lvblpXWzFdICsgMC41O1xuXHQjaWYgREVQVEhfUEFDS0lORyA9PSAzMjAwXG5cdFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggdmVjMyggMS4wIC0gZnJhZ0Nvb3JkWiApLCBvcGFjaXR5ICk7XG5cdCNlbGlmIERFUFRIX1BBQ0tJTkcgPT0gMzIwMVxuXHRcdGdsX0ZyYWdDb2xvciA9IHBhY2tEZXB0aFRvUkdCQSggZnJhZ0Nvb3JkWiApO1xuXHQjZW5kaWZcbn0iLGRlcHRoX3ZlcnQ6IiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZhcnlpbmcgdmVjMiB2SGlnaFByZWNpc2lvblpXO1xudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxuXHQjaWZkZWYgVVNFX0RJU1BMQUNFTUVOVE1BUFxuXHRcdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XG5cdFx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cblx0XHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNlbmRpZlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cblx0dkhpZ2hQcmVjaXNpb25aVyA9IGdsX1Bvc2l0aW9uLnp3O1xufSIsZGlzdGFuY2VSR0JBX2ZyYWc6IiNkZWZpbmUgRElTVEFOQ0VcbnVuaWZvcm0gdmVjMyByZWZlcmVuY2VQb3NpdGlvbjtcbnVuaWZvcm0gZmxvYXQgbmVhckRpc3RhbmNlO1xudW5pZm9ybSBmbG9hdCBmYXJEaXN0YW5jZTtcbnZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8cGFja2luZz5cbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XG52b2lkIG1haW4gKCkge1xuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIDEuMCApO1xuXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XG5cdGZsb2F0IGRpc3QgPSBsZW5ndGgoIHZXb3JsZFBvc2l0aW9uIC0gcmVmZXJlbmNlUG9zaXRpb24gKTtcblx0ZGlzdCA9ICggZGlzdCAtIG5lYXJEaXN0YW5jZSApIC8gKCBmYXJEaXN0YW5jZSAtIG5lYXJEaXN0YW5jZSApO1xuXHRkaXN0ID0gc2F0dXJhdGUoIGRpc3QgKTtcblx0Z2xfRnJhZ0NvbG9yID0gcGFja0RlcHRoVG9SR0JBKCBkaXN0ICk7XG59IixkaXN0YW5jZVJHQkFfdmVydDoiI2RlZmluZSBESVNUQU5DRVxudmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uO1xuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxuXHQjaWZkZWYgVVNFX0RJU1BMQUNFTUVOVE1BUFxuXHRcdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XG5cdFx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cblx0XHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNlbmRpZlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cblx0dldvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uLnh5ejtcbn0iLGVxdWlyZWN0X2ZyYWc6InVuaWZvcm0gc2FtcGxlcjJEIHRFcXVpcmVjdDtcbnZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247XG4jaW5jbHVkZSA8Y29tbW9uPlxudm9pZCBtYWluKCkge1xuXHR2ZWMzIGRpcmVjdGlvbiA9IG5vcm1hbGl6ZSggdldvcmxkRGlyZWN0aW9uICk7XG5cdHZlYzIgc2FtcGxlVVYgPSBlcXVpcmVjdFV2KCBkaXJlY3Rpb24gKTtcblx0dmVjNCB0ZXhDb2xvciA9IHRleHR1cmUyRCggdEVxdWlyZWN0LCBzYW1wbGVVViApO1xuXHRnbF9GcmFnQ29sb3IgPSBtYXBUZXhlbFRvTGluZWFyKCB0ZXhDb2xvciApO1xuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG59IixlcXVpcmVjdF92ZXJ0OiJ2YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1xuI2luY2x1ZGUgPGNvbW1vbj5cbnZvaWQgbWFpbigpIHtcblx0dldvcmxkRGlyZWN0aW9uID0gdHJhbnNmb3JtRGlyZWN0aW9uKCBwb3NpdGlvbiwgbW9kZWxNYXRyaXggKTtcblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxufSIsbGluZWRhc2hlZF9mcmFnOiJ1bmlmb3JtIHZlYzMgZGlmZnVzZTtcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gZmxvYXQgZGFzaFNpemU7XG51bmlmb3JtIGZsb2F0IHRvdGFsU2l6ZTtcbnZhcnlpbmcgZmxvYXQgdkxpbmVEaXN0YW5jZTtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXHRpZiAoIG1vZCggdkxpbmVEaXN0YW5jZSwgdG90YWxTaXplICkgPiBkYXNoU2l6ZSApIHtcblx0XHRkaXNjYXJkO1xuXHR9XG5cdHZlYzMgb3V0Z29pbmdMaWdodCA9IHZlYzMoIDAuMCApO1xuXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+XG5cdG91dGdvaW5nTGlnaHQgPSBkaWZmdXNlQ29sb3IucmdiO1xuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PlxufSIsbGluZWRhc2hlZF92ZXJ0OiJ1bmlmb3JtIGZsb2F0IHNjYWxlO1xuYXR0cmlidXRlIGZsb2F0IGxpbmVEaXN0YW5jZTtcbnZhcnlpbmcgZmxvYXQgdkxpbmVEaXN0YW5jZTtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0dkxpbmVEaXN0YW5jZSA9IHNjYWxlICogbGluZURpc3RhbmNlO1xuXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cbn0iLG1lc2hiYXNpY19mcmFnOiJ1bmlmb3JtIHZlYzMgZGlmZnVzZTtcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbiNpZm5kZWYgRkxBVF9TSEFERURcblx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XG4jZW5kaWZcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8ZGl0aGVyaW5nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHV2Ml9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YW9tYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsaWdodG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGVudm1hcF9jb21tb25fcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxlbnZtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8c3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPHNwZWN1bGFybWFwX2ZyYWdtZW50PlxuXHRSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApO1xuXHQjaWZkZWYgVVNFX0xJR0hUTUFQXG5cdFxuXHRcdHZlYzQgbGlnaHRNYXBUZXhlbD0gdGV4dHVyZTJEKCBsaWdodE1hcCwgdlV2MiApO1xuXHRcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBsaWdodE1hcFRleGVsVG9MaW5lYXIoIGxpZ2h0TWFwVGV4ZWwgKS5yZ2IgKiBsaWdodE1hcEludGVuc2l0eTtcblx0I2Vsc2Vcblx0XHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gdmVjMyggMS4wICk7XG5cdCNlbmRpZlxuXHQjaW5jbHVkZSA8YW9tYXBfZnJhZ21lbnQ+XG5cdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSAqPSBkaWZmdXNlQ29sb3IucmdiO1xuXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2U7XG5cdCNpbmNsdWRlIDxlbnZtYXBfZnJhZ21lbnQ+XG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XG5cdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+XG59IixtZXNoYmFzaWNfdmVydDoiI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDx1djJfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxuXHQjaWZkZWYgVVNFX0VOVk1BUFxuXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cblx0I2VuZGlmXG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cblx0I2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxlbnZtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cbn0iLG1lc2hsYW1iZXJ0X2ZyYWc6InVuaWZvcm0gdmVjMyBkaWZmdXNlO1xudW5pZm9ybSB2ZWMzIGVtaXNzaXZlO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xudmFyeWluZyB2ZWMzIHZMaWdodEZyb250O1xudmFyeWluZyB2ZWMzIHZJbmRpcmVjdEZyb250O1xuI2lmZGVmIERPVUJMRV9TSURFRFxuXHR2YXJ5aW5nIHZlYzMgdkxpZ2h0QmFjaztcblx0dmFyeWluZyB2ZWMzIHZJbmRpcmVjdEJhY2s7XG4jZW5kaWZcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8cGFja2luZz5cbiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGJzZGZzPlxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHNoYWRvd21hc2tfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxzcGVjdWxhcm1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XG5cdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xuXHRSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApO1xuXHR2ZWMzIHRvdGFsRW1pc3NpdmVSYWRpYW5jZSA9IGVtaXNzaXZlO1xuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8c3BlY3VsYXJtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9mcmFnbWVudD5cblx0I2lmZGVmIERPVUJMRV9TSURFRFxuXHRcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSAoIGdsX0Zyb250RmFjaW5nICkgPyB2SW5kaXJlY3RGcm9udCA6IHZJbmRpcmVjdEJhY2s7XG5cdCNlbHNlXG5cdFx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9IHZJbmRpcmVjdEZyb250O1xuXHQjZW5kaWZcblx0I2luY2x1ZGUgPGxpZ2h0bWFwX2ZyYWdtZW50PlxuXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKj0gQlJERl9EaWZmdXNlX0xhbWJlcnQoIGRpZmZ1c2VDb2xvci5yZ2IgKTtcblx0I2lmZGVmIERPVUJMRV9TSURFRFxuXHRcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgPSAoIGdsX0Zyb250RmFjaW5nICkgPyB2TGlnaHRGcm9udCA6IHZMaWdodEJhY2s7XG5cdCNlbHNlXG5cdFx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSA9IHZMaWdodEZyb250O1xuXHQjZW5kaWZcblx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSAqPSBCUkRGX0RpZmZ1c2VfTGFtYmVydCggZGlmZnVzZUNvbG9yLnJnYiApICogZ2V0U2hhZG93TWFzaygpO1xuXHQjaW5jbHVkZSA8YW9tYXBfZnJhZ21lbnQ+XG5cdHZlYzMgb3V0Z29pbmdMaWdodCA9IHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKyB0b3RhbEVtaXNzaXZlUmFkaWFuY2U7XG5cdCNpbmNsdWRlIDxlbnZtYXBfZnJhZ21lbnQ+XG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XG5cdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+XG59IixtZXNobGFtYmVydF92ZXJ0OiIjZGVmaW5lIExBTUJFUlRcbnZhcnlpbmcgdmVjMyB2TGlnaHRGcm9udDtcbnZhcnlpbmcgdmVjMyB2SW5kaXJlY3RGcm9udDtcbiNpZmRlZiBET1VCTEVfU0lERURcblx0dmFyeWluZyB2ZWMzIHZMaWdodEJhY2s7XG5cdHZhcnlpbmcgdmVjMyB2SW5kaXJlY3RCYWNrO1xuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHV2Ml9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxlbnZtYXBfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8YnNkZnM+XG4jaW5jbHVkZSA8bGlnaHRzX3BhcnNfYmVnaW4+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDx1djJfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cblx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cblx0I2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD5cblx0I2luY2x1ZGUgPGVudm1hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsaWdodHNfbGFtYmVydF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cbn0iLG1lc2htYXRjYXBfZnJhZzoiI2RlZmluZSBNQVRDQVBcbnVuaWZvcm0gdmVjMyBkaWZmdXNlO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xudW5pZm9ybSBzYW1wbGVyMkQgbWF0Y2FwO1xudmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XG4jaWZuZGVmIEZMQVRfU0hBREVEXG5cdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGJ1bXBtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxub3JtYWxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9iZWdpbj5cblx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9tYXBzPlxuXHR2ZWMzIHZpZXdEaXIgPSBub3JtYWxpemUoIHZWaWV3UG9zaXRpb24gKTtcblx0dmVjMyB4ID0gbm9ybWFsaXplKCB2ZWMzKCB2aWV3RGlyLnosIDAuMCwgLSB2aWV3RGlyLnggKSApO1xuXHR2ZWMzIHkgPSBjcm9zcyggdmlld0RpciwgeCApO1xuXHR2ZWMyIHV2ID0gdmVjMiggZG90KCB4LCBub3JtYWwgKSwgZG90KCB5LCBub3JtYWwgKSApICogMC40OTUgKyAwLjU7XG5cdCNpZmRlZiBVU0VfTUFUQ0FQXG5cdFx0dmVjNCBtYXRjYXBDb2xvciA9IHRleHR1cmUyRCggbWF0Y2FwLCB1diApO1xuXHRcdG1hdGNhcENvbG9yID0gbWF0Y2FwVGV4ZWxUb0xpbmVhciggbWF0Y2FwQ29sb3IgKTtcblx0I2Vsc2Vcblx0XHR2ZWM0IG1hdGNhcENvbG9yID0gdmVjNCggMS4wICk7XG5cdCNlbmRpZlxuXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSBkaWZmdXNlQ29sb3IucmdiICogbWF0Y2FwQ29sb3IucmdiO1xuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50PlxufSIsbWVzaG1hdGNhcF92ZXJ0OiIjZGVmaW5lIE1BVENBUFxudmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XG4jaWZuZGVmIEZMQVRfU0hBREVEXG5cdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cblx0I2lmbmRlZiBGTEFUX1NIQURFRFxuXHRcdHZOb3JtYWwgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkTm9ybWFsICk7XG5cdCNlbmRpZlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cblx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XG5cdHZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6O1xufSIsbWVzaHRvb25fZnJhZzoiI2RlZmluZSBUT09OXG51bmlmb3JtIHZlYzMgZGlmZnVzZTtcbnVuaWZvcm0gdmVjMyBlbWlzc2l2ZTtcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8cGFja2luZz5cbiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxncmFkaWVudG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGJzZGZzPlxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxuI2luY2x1ZGUgPGxpZ2h0c190b29uX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YnVtcG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XG5cdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xuXHRSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApO1xuXHR2ZWMzIHRvdGFsRW1pc3NpdmVSYWRpYW5jZSA9IGVtaXNzaXZlO1xuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+XG5cdCNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGxpZ2h0c190b29uX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X21hcHM+XG5cdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfZW5kPlxuXHQjaW5jbHVkZSA8YW9tYXBfZnJhZ21lbnQ+XG5cdHZlYzMgb3V0Z29pbmdMaWdodCA9IHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKyB0b3RhbEVtaXNzaXZlUmFkaWFuY2U7XG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XG5cdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+XG59IixtZXNodG9vbl92ZXJ0OiIjZGVmaW5lIFRPT05cbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xuI2lmbmRlZiBGTEFUX1NIQURFRFxuXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcbiNlbmRpZlxuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxuXHQjaW5jbHVkZSA8dXYyX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNvbG9yX3ZlcnRleD5cblx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+XG4jaWZuZGVmIEZMQVRfU0hBREVEXG5cdHZOb3JtYWwgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkTm9ybWFsICk7XG4jZW5kaWZcblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XG5cdHZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6O1xuXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2hhZG93bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XG59IixtZXNocGhvbmdfZnJhZzoiI2RlZmluZSBQSE9OR1xudW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XG51bmlmb3JtIHZlYzMgZW1pc3NpdmU7XG51bmlmb3JtIHZlYzMgc3BlY3VsYXI7XG51bmlmb3JtIGZsb2F0IHNoaW5pbmVzcztcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8cGFja2luZz5cbiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGJzZGZzPlxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxuI2luY2x1ZGUgPGxpZ2h0c19waG9uZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGJ1bXBtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxub3JtYWxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxzcGVjdWxhcm1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XG5cdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xuXHRSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApO1xuXHR2ZWMzIHRvdGFsRW1pc3NpdmVSYWRpYW5jZSA9IGVtaXNzaXZlO1xuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8c3BlY3VsYXJtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfYmVnaW4+XG5cdCNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfbWFwcz5cblx0I2luY2x1ZGUgPGVtaXNzaXZlbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bGlnaHRzX3Bob25nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X21hcHM+XG5cdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfZW5kPlxuXHQjaW5jbHVkZSA8YW9tYXBfZnJhZ21lbnQ+XG5cdHZlYzMgb3V0Z29pbmdMaWdodCA9IHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKyB0b3RhbEVtaXNzaXZlUmFkaWFuY2U7XG5cdCNpbmNsdWRlIDxlbnZtYXBfZnJhZ21lbnQ+XG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XG5cdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+XG59IixtZXNocGhvbmdfdmVydDoiI2RlZmluZSBQSE9OR1xudmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XG4jaWZuZGVmIEZMQVRfU0hBREVEXG5cdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHV2Ml9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxuXHQjaW5jbHVkZSA8dXYyX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNvbG9yX3ZlcnRleD5cblx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+XG4jaWZuZGVmIEZMQVRfU0hBREVEXG5cdHZOb3JtYWwgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkTm9ybWFsICk7XG4jZW5kaWZcblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XG5cdHZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6O1xuXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZW52bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxmb2dfdmVydGV4PlxufSIsbWVzaHBoeXNpY2FsX2ZyYWc6IiNkZWZpbmUgU1RBTkRBUkRcbiNpZmRlZiBQSFlTSUNBTFxuXHQjZGVmaW5lIFJFRkxFQ1RJVklUWVxuXHQjZGVmaW5lIENMRUFSQ09BVFxuXHQjZGVmaW5lIFRSQU5TTUlTU0lPTlxuI2VuZGlmXG51bmlmb3JtIHZlYzMgZGlmZnVzZTtcbnVuaWZvcm0gdmVjMyBlbWlzc2l2ZTtcbnVuaWZvcm0gZmxvYXQgcm91Z2huZXNzO1xudW5pZm9ybSBmbG9hdCBtZXRhbG5lc3M7XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG4jaWZkZWYgVFJBTlNNSVNTSU9OXG5cdHVuaWZvcm0gZmxvYXQgdHJhbnNtaXNzaW9uO1xuI2VuZGlmXG4jaWZkZWYgUkVGTEVDVElWSVRZXG5cdHVuaWZvcm0gZmxvYXQgcmVmbGVjdGl2aXR5O1xuI2VuZGlmXG4jaWZkZWYgQ0xFQVJDT0FUXG5cdHVuaWZvcm0gZmxvYXQgY2xlYXJjb2F0O1xuXHR1bmlmb3JtIGZsb2F0IGNsZWFyY29hdFJvdWdobmVzcztcbiNlbmRpZlxuI2lmZGVmIFVTRV9TSEVFTlxuXHR1bmlmb3JtIHZlYzMgc2hlZW47XG4jZW5kaWZcbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xuI2lmbmRlZiBGTEFUX1NIQURFRFxuXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcblx0I2lmZGVmIFVTRV9UQU5HRU5UXG5cdFx0dmFyeWluZyB2ZWMzIHZUYW5nZW50O1xuXHRcdHZhcnlpbmcgdmVjMyB2Qml0YW5nZW50O1xuXHQjZW5kaWZcbiNlbmRpZlxuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDxwYWNraW5nPlxuI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFvbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bGlnaHRtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHRyYW5zbWlzc2lvbm1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGJzZGZzPlxuI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD5cbiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW52bWFwX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bGlnaHRzX3BhcnNfYmVnaW4+XG4jaW5jbHVkZSA8bGlnaHRzX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YnVtcG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsZWFyY29hdF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHJvdWdobmVzc21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XG5cdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xuXHRSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApO1xuXHR2ZWMzIHRvdGFsRW1pc3NpdmVSYWRpYW5jZSA9IGVtaXNzaXZlO1xuXHQjaWZkZWYgVFJBTlNNSVNTSU9OXG5cdFx0ZmxvYXQgdG90YWxUcmFuc21pc3Npb24gPSB0cmFuc21pc3Npb247XG5cdCNlbmRpZlxuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8cm91Z2huZXNzbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bWV0YWxuZXNzbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+XG5cdCNpbmNsdWRlIDxjbGVhcmNvYXRfbm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8Y2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9tYXBzPlxuXHQjaW5jbHVkZSA8ZW1pc3NpdmVtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDx0cmFuc21pc3Npb25tYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxsaWdodHNfcGh5c2ljYWxfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfYmVnaW4+XG5cdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfbWFwcz5cblx0I2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9lbmQ+XG5cdCNpbmNsdWRlIDxhb21hcF9mcmFnbWVudD5cblx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gcmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhciArIHRvdGFsRW1pc3NpdmVSYWRpYW5jZTtcblx0I2lmZGVmIFRSQU5TTUlTU0lPTlxuXHRcdGRpZmZ1c2VDb2xvci5hICo9IG1peCggc2F0dXJhdGUoIDEuIC0gdG90YWxUcmFuc21pc3Npb24gKyBsaW5lYXJUb1JlbGF0aXZlTHVtaW5hbmNlKCByZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKSApLCAxLjAsIG1ldGFsbmVzcyApO1xuXHQjZW5kaWZcblx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTtcblx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGRpdGhlcmluZ19mcmFnbWVudD5cbn0iLG1lc2hwaHlzaWNhbF92ZXJ0OiIjZGVmaW5lIFNUQU5EQVJEXG52YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcbiNpZm5kZWYgRkxBVF9TSEFERURcblx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XG5cdCNpZmRlZiBVU0VfVEFOR0VOVFxuXHRcdHZhcnlpbmcgdmVjMyB2VGFuZ2VudDtcblx0XHR2YXJ5aW5nIHZlYzMgdkJpdGFuZ2VudDtcblx0I2VuZGlmXG4jZW5kaWZcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0I2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxuI2lmbmRlZiBGTEFUX1NIQURFRFxuXHR2Tm9ybWFsID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZE5vcm1hbCApO1xuXHQjaWZkZWYgVVNFX1RBTkdFTlRcblx0XHR2VGFuZ2VudCA9IG5vcm1hbGl6ZSggdHJhbnNmb3JtZWRUYW5nZW50ICk7XG5cdFx0dkJpdGFuZ2VudCA9IG5vcm1hbGl6ZSggY3Jvc3MoIHZOb3JtYWwsIHZUYW5nZW50ICkgKiB0YW5nZW50LncgKTtcblx0I2VuZGlmXG4jZW5kaWZcblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XG5cdHZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6O1xuXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2hhZG93bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XG59Iixub3JtYWxfZnJhZzoiI2RlZmluZSBOT1JNQUxcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbiNpZiBkZWZpbmVkKCBGTEFUX1NIQURFRCApIHx8IGRlZmluZWQoIFVTRV9CVU1QTUFQICkgfHwgZGVmaW5lZCggVEFOR0VOVFNQQUNFX05PUk1BTE1BUCApXG5cdHZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xuI2VuZGlmXG4jaWZuZGVmIEZMQVRfU0hBREVEXG5cdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xuXHQjaWZkZWYgVVNFX1RBTkdFTlRcblx0XHR2YXJ5aW5nIHZlYzMgdlRhbmdlbnQ7XG5cdFx0dmFyeWluZyB2ZWMzIHZCaXRhbmdlbnQ7XG5cdCNlbmRpZlxuI2VuZGlmXG4jaW5jbHVkZSA8cGFja2luZz5cbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGJ1bXBtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxub3JtYWxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfYmVnaW4+XG5cdCNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfbWFwcz5cblx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggcGFja05vcm1hbFRvUkdCKCBub3JtYWwgKSwgb3BhY2l0eSApO1xufSIsbm9ybWFsX3ZlcnQ6IiNkZWZpbmUgTk9STUFMXG4jaWYgZGVmaW5lZCggRkxBVF9TSEFERUQgKSB8fCBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKVxuXHR2YXJ5aW5nIHZlYzMgdlZpZXdQb3NpdGlvbjtcbiNlbmRpZlxuI2lmbmRlZiBGTEFUX1NIQURFRFxuXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcblx0I2lmZGVmIFVTRV9UQU5HRU5UXG5cdFx0dmFyeWluZyB2ZWMzIHZUYW5nZW50O1xuXHRcdHZhcnlpbmcgdmVjMyB2Qml0YW5nZW50O1xuXHQjZW5kaWZcbiNlbmRpZlxuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cbiNpZm5kZWYgRkxBVF9TSEFERURcblx0dk5vcm1hbCA9IG5vcm1hbGl6ZSggdHJhbnNmb3JtZWROb3JtYWwgKTtcblx0I2lmZGVmIFVTRV9UQU5HRU5UXG5cdFx0dlRhbmdlbnQgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkVGFuZ2VudCApO1xuXHRcdHZCaXRhbmdlbnQgPSBub3JtYWxpemUoIGNyb3NzKCB2Tm9ybWFsLCB2VGFuZ2VudCApICogdGFuZ2VudC53ICk7XG5cdCNlbmRpZlxuI2VuZGlmXG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuI2lmIGRlZmluZWQoIEZMQVRfU0hBREVEICkgfHwgZGVmaW5lZCggVVNFX0JVTVBNQVAgKSB8fCBkZWZpbmVkKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQIClcblx0dlZpZXdQb3NpdGlvbiA9IC0gbXZQb3NpdGlvbi54eXo7XG4jZW5kaWZcbn0iLHBvaW50c19mcmFnOiJ1bmlmb3JtIHZlYzMgZGlmZnVzZTtcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxtYXBfcGFydGljbGVfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSB2ZWMzKCAwLjAgKTtcblx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG1hcF9wYXJ0aWNsZV9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxuXHRvdXRnb2luZ0xpZ2h0ID0gZGlmZnVzZUNvbG9yLnJnYjtcblx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTtcblx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cbn0iLHBvaW50c192ZXJ0OiJ1bmlmb3JtIGZsb2F0IHNpemU7XG51bmlmb3JtIGZsb2F0IHNjYWxlO1xuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdGdsX1BvaW50U2l6ZSA9IHNpemU7XG5cdCNpZmRlZiBVU0VfU0laRUFUVEVOVUFUSU9OXG5cdFx0Ym9vbCBpc1BlcnNwZWN0aXZlID0gaXNQZXJzcGVjdGl2ZU1hdHJpeCggcHJvamVjdGlvbk1hdHJpeCApO1xuXHRcdGlmICggaXNQZXJzcGVjdGl2ZSApIGdsX1BvaW50U2l6ZSAqPSAoIHNjYWxlIC8gLSBtdlBvc2l0aW9uLnogKTtcblx0I2VuZGlmXG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxuXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cbn0iLHNoYWRvd19mcmFnOiJ1bmlmb3JtIHZlYzMgY29sb3I7XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHBhY2tpbmc+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YnNkZnM+XG4jaW5jbHVkZSA8bGlnaHRzX3BhcnNfYmVnaW4+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8c2hhZG93bWFza19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluKCkge1xuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBjb2xvciwgb3BhY2l0eSAqICggMS4wIC0gZ2V0U2hhZG93TWFzaygpICkgKTtcblx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PlxufSIsc2hhZG93X3ZlcnQ6IiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxmb2dfdmVydGV4PlxufSIsc3ByaXRlX2ZyYWc6InVuaWZvcm0gdmVjMyBkaWZmdXNlO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gdmVjMyggMC4wICk7XG5cdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cblx0b3V0Z29pbmdMaWdodCA9IGRpZmZ1c2VDb2xvci5yZ2I7XG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XG5cdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cbn0iLHNwcml0ZV92ZXJ0OiJ1bmlmb3JtIGZsb2F0IHJvdGF0aW9uO1xudW5pZm9ybSB2ZWMyIGNlbnRlcjtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0dmVjNCBtdlBvc2l0aW9uID0gbW9kZWxWaWV3TWF0cml4ICogdmVjNCggMC4wLCAwLjAsIDAuMCwgMS4wICk7XG5cdHZlYzIgc2NhbGU7XG5cdHNjYWxlLnggPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAwIF0ueCwgbW9kZWxNYXRyaXhbIDAgXS55LCBtb2RlbE1hdHJpeFsgMCBdLnogKSApO1xuXHRzY2FsZS55ID0gbGVuZ3RoKCB2ZWMzKCBtb2RlbE1hdHJpeFsgMSBdLngsIG1vZGVsTWF0cml4WyAxIF0ueSwgbW9kZWxNYXRyaXhbIDEgXS56ICkgKTtcblx0I2lmbmRlZiBVU0VfU0laRUFUVEVOVUFUSU9OXG5cdFx0Ym9vbCBpc1BlcnNwZWN0aXZlID0gaXNQZXJzcGVjdGl2ZU1hdHJpeCggcHJvamVjdGlvbk1hdHJpeCApO1xuXHRcdGlmICggaXNQZXJzcGVjdGl2ZSApIHNjYWxlICo9IC0gbXZQb3NpdGlvbi56O1xuXHQjZW5kaWZcblx0dmVjMiBhbGlnbmVkUG9zaXRpb24gPSAoIHBvc2l0aW9uLnh5IC0gKCBjZW50ZXIgLSB2ZWMyKCAwLjUgKSApICkgKiBzY2FsZTtcblx0dmVjMiByb3RhdGVkUG9zaXRpb247XG5cdHJvdGF0ZWRQb3NpdGlvbi54ID0gY29zKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnggLSBzaW4oIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueTtcblx0cm90YXRlZFBvc2l0aW9uLnkgPSBzaW4oIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueCArIGNvcyggcm90YXRpb24gKSAqIGFsaWduZWRQb3NpdGlvbi55O1xuXHRtdlBvc2l0aW9uLnh5ICs9IHJvdGF0ZWRQb3NpdGlvbjtcblx0Z2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbXZQb3NpdGlvbjtcblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxmb2dfdmVydGV4PlxufSJ9LGNpPXtjb21tb246e2RpZmZ1c2U6e3ZhbHVlOm5ldyBRZSgxNTY1ODczNCl9LG9wYWNpdHk6e3ZhbHVlOjF9LG1hcDp7dmFsdWU6bnVsbH0sdXZUcmFuc2Zvcm06e3ZhbHVlOm5ldyB4dH0sdXYyVHJhbnNmb3JtOnt2YWx1ZTpuZXcgeHR9LGFscGhhTWFwOnt2YWx1ZTpudWxsfX0sc3BlY3VsYXJtYXA6e3NwZWN1bGFyTWFwOnt2YWx1ZTpudWxsfX0sZW52bWFwOntlbnZNYXA6e3ZhbHVlOm51bGx9LGZsaXBFbnZNYXA6e3ZhbHVlOi0xfSxyZWZsZWN0aXZpdHk6e3ZhbHVlOjF9LHJlZnJhY3Rpb25SYXRpbzp7dmFsdWU6Ljk4fSxtYXhNaXBMZXZlbDp7dmFsdWU6MH19LGFvbWFwOnthb01hcDp7dmFsdWU6bnVsbH0sYW9NYXBJbnRlbnNpdHk6e3ZhbHVlOjF9fSxsaWdodG1hcDp7bGlnaHRNYXA6e3ZhbHVlOm51bGx9LGxpZ2h0TWFwSW50ZW5zaXR5Ont2YWx1ZToxfX0sZW1pc3NpdmVtYXA6e2VtaXNzaXZlTWFwOnt2YWx1ZTpudWxsfX0sYnVtcG1hcDp7YnVtcE1hcDp7dmFsdWU6bnVsbH0sYnVtcFNjYWxlOnt2YWx1ZToxfX0sbm9ybWFsbWFwOntub3JtYWxNYXA6e3ZhbHVlOm51bGx9LG5vcm1hbFNjYWxlOnt2YWx1ZTpuZXcgeXQoMSwxKX19LGRpc3BsYWNlbWVudG1hcDp7ZGlzcGxhY2VtZW50TWFwOnt2YWx1ZTpudWxsfSxkaXNwbGFjZW1lbnRTY2FsZTp7dmFsdWU6MX0sZGlzcGxhY2VtZW50Qmlhczp7dmFsdWU6MH19LHJvdWdobmVzc21hcDp7cm91Z2huZXNzTWFwOnt2YWx1ZTpudWxsfX0sbWV0YWxuZXNzbWFwOnttZXRhbG5lc3NNYXA6e3ZhbHVlOm51bGx9fSxncmFkaWVudG1hcDp7Z3JhZGllbnRNYXA6e3ZhbHVlOm51bGx9fSxmb2c6e2ZvZ0RlbnNpdHk6e3ZhbHVlOjI1ZS01fSxmb2dOZWFyOnt2YWx1ZToxfSxmb2dGYXI6e3ZhbHVlOjJlM30sZm9nQ29sb3I6e3ZhbHVlOm5ldyBRZSgxNjc3NzIxNSl9fSxsaWdodHM6e2FtYmllbnRMaWdodENvbG9yOnt2YWx1ZTpbXX0sbGlnaHRQcm9iZTp7dmFsdWU6W119LGRpcmVjdGlvbmFsTGlnaHRzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntkaXJlY3Rpb246e30sY29sb3I6e319fSxkaXJlY3Rpb25hbExpZ2h0U2hhZG93czp7dmFsdWU6W10scHJvcGVydGllczp7c2hhZG93Qmlhczp7fSxzaGFkb3dOb3JtYWxCaWFzOnt9LHNoYWRvd1JhZGl1czp7fSxzaGFkb3dNYXBTaXplOnt9fX0sZGlyZWN0aW9uYWxTaGFkb3dNYXA6e3ZhbHVlOltdfSxkaXJlY3Rpb25hbFNoYWRvd01hdHJpeDp7dmFsdWU6W119LHNwb3RMaWdodHM6e3ZhbHVlOltdLHByb3BlcnRpZXM6e2NvbG9yOnt9LHBvc2l0aW9uOnt9LGRpcmVjdGlvbjp7fSxkaXN0YW5jZTp7fSxjb25lQ29zOnt9LHBlbnVtYnJhQ29zOnt9LGRlY2F5Ont9fX0sc3BvdExpZ2h0U2hhZG93czp7dmFsdWU6W10scHJvcGVydGllczp7c2hhZG93Qmlhczp7fSxzaGFkb3dOb3JtYWxCaWFzOnt9LHNoYWRvd1JhZGl1czp7fSxzaGFkb3dNYXBTaXplOnt9fX0sc3BvdFNoYWRvd01hcDp7dmFsdWU6W119LHNwb3RTaGFkb3dNYXRyaXg6e3ZhbHVlOltdfSxwb2ludExpZ2h0czp7dmFsdWU6W10scHJvcGVydGllczp7Y29sb3I6e30scG9zaXRpb246e30sZGVjYXk6e30sZGlzdGFuY2U6e319fSxwb2ludExpZ2h0U2hhZG93czp7dmFsdWU6W10scHJvcGVydGllczp7c2hhZG93Qmlhczp7fSxzaGFkb3dOb3JtYWxCaWFzOnt9LHNoYWRvd1JhZGl1czp7fSxzaGFkb3dNYXBTaXplOnt9LHNoYWRvd0NhbWVyYU5lYXI6e30sc2hhZG93Q2FtZXJhRmFyOnt9fX0scG9pbnRTaGFkb3dNYXA6e3ZhbHVlOltdfSxwb2ludFNoYWRvd01hdHJpeDp7dmFsdWU6W119LGhlbWlzcGhlcmVMaWdodHM6e3ZhbHVlOltdLHByb3BlcnRpZXM6e2RpcmVjdGlvbjp7fSxza3lDb2xvcjp7fSxncm91bmRDb2xvcjp7fX19LHJlY3RBcmVhTGlnaHRzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntjb2xvcjp7fSxwb3NpdGlvbjp7fSx3aWR0aDp7fSxoZWlnaHQ6e319fSxsdGNfMTp7dmFsdWU6bnVsbH0sbHRjXzI6e3ZhbHVlOm51bGx9fSxwb2ludHM6e2RpZmZ1c2U6e3ZhbHVlOm5ldyBRZSgxNTY1ODczNCl9LG9wYWNpdHk6e3ZhbHVlOjF9LHNpemU6e3ZhbHVlOjF9LHNjYWxlOnt2YWx1ZToxfSxtYXA6e3ZhbHVlOm51bGx9LGFscGhhTWFwOnt2YWx1ZTpudWxsfSx1dlRyYW5zZm9ybTp7dmFsdWU6bmV3IHh0fX0sc3ByaXRlOntkaWZmdXNlOnt2YWx1ZTpuZXcgUWUoMTU2NTg3MzQpfSxvcGFjaXR5Ont2YWx1ZToxfSxjZW50ZXI6e3ZhbHVlOm5ldyB5dCguNSwuNSl9LHJvdGF0aW9uOnt2YWx1ZTowfSxtYXA6e3ZhbHVlOm51bGx9LGFscGhhTWFwOnt2YWx1ZTpudWxsfSx1dlRyYW5zZm9ybTp7dmFsdWU6bmV3IHh0fX19LGxpPXtiYXNpYzp7dW5pZm9ybXM6am4oW2NpLmNvbW1vbixjaS5zcGVjdWxhcm1hcCxjaS5lbnZtYXAsY2kuYW9tYXAsY2kubGlnaHRtYXAsY2kuZm9nXSksdmVydGV4U2hhZGVyOnNpLm1lc2hiYXNpY192ZXJ0LGZyYWdtZW50U2hhZGVyOnNpLm1lc2hiYXNpY19mcmFnfSxsYW1iZXJ0Ont1bmlmb3JtczpqbihbY2kuY29tbW9uLGNpLnNwZWN1bGFybWFwLGNpLmVudm1hcCxjaS5hb21hcCxjaS5saWdodG1hcCxjaS5lbWlzc2l2ZW1hcCxjaS5mb2csY2kubGlnaHRzLHtlbWlzc2l2ZTp7dmFsdWU6bmV3IFFlKDApfX1dKSx2ZXJ0ZXhTaGFkZXI6c2kubWVzaGxhbWJlcnRfdmVydCxmcmFnbWVudFNoYWRlcjpzaS5tZXNobGFtYmVydF9mcmFnfSxwaG9uZzp7dW5pZm9ybXM6am4oW2NpLmNvbW1vbixjaS5zcGVjdWxhcm1hcCxjaS5lbnZtYXAsY2kuYW9tYXAsY2kubGlnaHRtYXAsY2kuZW1pc3NpdmVtYXAsY2kuYnVtcG1hcCxjaS5ub3JtYWxtYXAsY2kuZGlzcGxhY2VtZW50bWFwLGNpLmZvZyxjaS5saWdodHMse2VtaXNzaXZlOnt2YWx1ZTpuZXcgUWUoMCl9LHNwZWN1bGFyOnt2YWx1ZTpuZXcgUWUoMTExODQ4MSl9LHNoaW5pbmVzczp7dmFsdWU6MzB9fV0pLHZlcnRleFNoYWRlcjpzaS5tZXNocGhvbmdfdmVydCxmcmFnbWVudFNoYWRlcjpzaS5tZXNocGhvbmdfZnJhZ30sc3RhbmRhcmQ6e3VuaWZvcm1zOmpuKFtjaS5jb21tb24sY2kuZW52bWFwLGNpLmFvbWFwLGNpLmxpZ2h0bWFwLGNpLmVtaXNzaXZlbWFwLGNpLmJ1bXBtYXAsY2kubm9ybWFsbWFwLGNpLmRpc3BsYWNlbWVudG1hcCxjaS5yb3VnaG5lc3NtYXAsY2kubWV0YWxuZXNzbWFwLGNpLmZvZyxjaS5saWdodHMse2VtaXNzaXZlOnt2YWx1ZTpuZXcgUWUoMCl9LHJvdWdobmVzczp7dmFsdWU6MX0sbWV0YWxuZXNzOnt2YWx1ZTowfSxlbnZNYXBJbnRlbnNpdHk6e3ZhbHVlOjF9fV0pLHZlcnRleFNoYWRlcjpzaS5tZXNocGh5c2ljYWxfdmVydCxmcmFnbWVudFNoYWRlcjpzaS5tZXNocGh5c2ljYWxfZnJhZ30sdG9vbjp7dW5pZm9ybXM6am4oW2NpLmNvbW1vbixjaS5hb21hcCxjaS5saWdodG1hcCxjaS5lbWlzc2l2ZW1hcCxjaS5idW1wbWFwLGNpLm5vcm1hbG1hcCxjaS5kaXNwbGFjZW1lbnRtYXAsY2kuZ3JhZGllbnRtYXAsY2kuZm9nLGNpLmxpZ2h0cyx7ZW1pc3NpdmU6e3ZhbHVlOm5ldyBRZSgwKX19XSksdmVydGV4U2hhZGVyOnNpLm1lc2h0b29uX3ZlcnQsZnJhZ21lbnRTaGFkZXI6c2kubWVzaHRvb25fZnJhZ30sbWF0Y2FwOnt1bmlmb3JtczpqbihbY2kuY29tbW9uLGNpLmJ1bXBtYXAsY2kubm9ybWFsbWFwLGNpLmRpc3BsYWNlbWVudG1hcCxjaS5mb2cse21hdGNhcDp7dmFsdWU6bnVsbH19XSksdmVydGV4U2hhZGVyOnNpLm1lc2htYXRjYXBfdmVydCxmcmFnbWVudFNoYWRlcjpzaS5tZXNobWF0Y2FwX2ZyYWd9LHBvaW50czp7dW5pZm9ybXM6am4oW2NpLnBvaW50cyxjaS5mb2ddKSx2ZXJ0ZXhTaGFkZXI6c2kucG9pbnRzX3ZlcnQsZnJhZ21lbnRTaGFkZXI6c2kucG9pbnRzX2ZyYWd9LGRhc2hlZDp7dW5pZm9ybXM6am4oW2NpLmNvbW1vbixjaS5mb2cse3NjYWxlOnt2YWx1ZToxfSxkYXNoU2l6ZTp7dmFsdWU6MX0sdG90YWxTaXplOnt2YWx1ZToyfX1dKSx2ZXJ0ZXhTaGFkZXI6c2kubGluZWRhc2hlZF92ZXJ0LGZyYWdtZW50U2hhZGVyOnNpLmxpbmVkYXNoZWRfZnJhZ30sZGVwdGg6e3VuaWZvcm1zOmpuKFtjaS5jb21tb24sY2kuZGlzcGxhY2VtZW50bWFwXSksdmVydGV4U2hhZGVyOnNpLmRlcHRoX3ZlcnQsZnJhZ21lbnRTaGFkZXI6c2kuZGVwdGhfZnJhZ30sbm9ybWFsOnt1bmlmb3JtczpqbihbY2kuY29tbW9uLGNpLmJ1bXBtYXAsY2kubm9ybWFsbWFwLGNpLmRpc3BsYWNlbWVudG1hcCx7b3BhY2l0eTp7dmFsdWU6MX19XSksdmVydGV4U2hhZGVyOnNpLm5vcm1hbF92ZXJ0LGZyYWdtZW50U2hhZGVyOnNpLm5vcm1hbF9mcmFnfSxzcHJpdGU6e3VuaWZvcm1zOmpuKFtjaS5zcHJpdGUsY2kuZm9nXSksdmVydGV4U2hhZGVyOnNpLnNwcml0ZV92ZXJ0LGZyYWdtZW50U2hhZGVyOnNpLnNwcml0ZV9mcmFnfSxiYWNrZ3JvdW5kOnt1bmlmb3Jtczp7dXZUcmFuc2Zvcm06e3ZhbHVlOm5ldyB4dH0sdDJEOnt2YWx1ZTpudWxsfX0sdmVydGV4U2hhZGVyOnNpLmJhY2tncm91bmRfdmVydCxmcmFnbWVudFNoYWRlcjpzaS5iYWNrZ3JvdW5kX2ZyYWd9LGN1YmU6e3VuaWZvcm1zOmpuKFtjaS5lbnZtYXAse29wYWNpdHk6e3ZhbHVlOjF9fV0pLHZlcnRleFNoYWRlcjpzaS5jdWJlX3ZlcnQsZnJhZ21lbnRTaGFkZXI6c2kuY3ViZV9mcmFnfSxlcXVpcmVjdDp7dW5pZm9ybXM6e3RFcXVpcmVjdDp7dmFsdWU6bnVsbH19LHZlcnRleFNoYWRlcjpzaS5lcXVpcmVjdF92ZXJ0LGZyYWdtZW50U2hhZGVyOnNpLmVxdWlyZWN0X2ZyYWd9LGRpc3RhbmNlUkdCQTp7dW5pZm9ybXM6am4oW2NpLmNvbW1vbixjaS5kaXNwbGFjZW1lbnRtYXAse3JlZmVyZW5jZVBvc2l0aW9uOnt2YWx1ZTpuZXcgTHR9LG5lYXJEaXN0YW5jZTp7dmFsdWU6MX0sZmFyRGlzdGFuY2U6e3ZhbHVlOjFlM319XSksdmVydGV4U2hhZGVyOnNpLmRpc3RhbmNlUkdCQV92ZXJ0LGZyYWdtZW50U2hhZGVyOnNpLmRpc3RhbmNlUkdCQV9mcmFnfSxzaGFkb3c6e3VuaWZvcm1zOmpuKFtjaS5saWdodHMsY2kuZm9nLHtjb2xvcjp7dmFsdWU6bmV3IFFlKDApfSxvcGFjaXR5Ont2YWx1ZToxfX1dKSx2ZXJ0ZXhTaGFkZXI6c2kuc2hhZG93X3ZlcnQsZnJhZ21lbnRTaGFkZXI6c2kuc2hhZG93X2ZyYWd9fTtmdW5jdGlvbiB1aSh0LGUsbixpLHIpe3ZhciBhLG8scz1uZXcgUWUoMCksYz0wLHU9bnVsbCxoPTAsZD1udWxsO2Z1bmN0aW9uIHAodCxlKXtuLmJ1ZmZlcnMuY29sb3Iuc2V0Q2xlYXIodC5yLHQuZyx0LmIsZSxyKX1yZXR1cm57Z2V0Q2xlYXJDb2xvcjpmdW5jdGlvbigpe3JldHVybiBzfSxzZXRDbGVhckNvbG9yOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9MSkscy5zZXQodCkscChzLGM9ZSl9LGdldENsZWFyQWxwaGE6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0Q2xlYXJBbHBoYTpmdW5jdGlvbih0KXtwKHMsYz10KX0scmVuZGVyOmZ1bmN0aW9uKG4scixmLG0pe3ZhciB2PSEwPT09ci5pc1NjZW5lP3IuYmFja2dyb3VuZDpudWxsO3YmJnYuaXNUZXh0dXJlJiYodj1lLmdldCh2KSk7dmFyIGc9dC54cix5PWcuZ2V0U2Vzc2lvbiYmZy5nZXRTZXNzaW9uKCk7eSYmImFkZGl0aXZlIj09PXkuZW52aXJvbm1lbnRCbGVuZE1vZGUmJih2PW51bGwpLG51bGw9PT12P3AocyxjKTp2JiZ2LmlzQ29sb3ImJihwKHYsMSksbT0hMCksKHQuYXV0b0NsZWFyfHxtKSYmdC5jbGVhcih0LmF1dG9DbGVhckNvbG9yLHQuYXV0b0NsZWFyRGVwdGgsdC5hdXRvQ2xlYXJTdGVuY2lsKSx2JiYodi5pc0N1YmVUZXh0dXJlfHx2LmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0fHx2Lm1hcHBpbmc9PT1sKT8odm9pZCAwPT09byYmKChvPW5ldyBVbihuZXcgVm4oMSwxLDEpLG5ldyBYbih7bmFtZToiQmFja2dyb3VuZEN1YmVNYXRlcmlhbCIsdW5pZm9ybXM6V24obGkuY3ViZS51bmlmb3JtcyksdmVydGV4U2hhZGVyOmxpLmN1YmUudmVydGV4U2hhZGVyLGZyYWdtZW50U2hhZGVyOmxpLmN1YmUuZnJhZ21lbnRTaGFkZXIsc2lkZToxLGRlcHRoVGVzdDohMSxkZXB0aFdyaXRlOiExLGZvZzohMX0pKSkuZ2VvbWV0cnkuZGVsZXRlQXR0cmlidXRlKCJub3JtYWwiKSxvLmdlb21ldHJ5LmRlbGV0ZUF0dHJpYnV0ZSgidXYiKSxvLm9uQmVmb3JlUmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm1hdHJpeFdvcmxkLmNvcHlQb3NpdGlvbihuLm1hdHJpeFdvcmxkKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KG8ubWF0ZXJpYWwsImVudk1hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLmVudk1hcC52YWx1ZX19KSxpLnVwZGF0ZShvKSksdi5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldCYmKHY9di50ZXh0dXJlKSxvLm1hdGVyaWFsLnVuaWZvcm1zLmVudk1hcC52YWx1ZT12LG8ubWF0ZXJpYWwudW5pZm9ybXMuZmxpcEVudk1hcC52YWx1ZT12LmlzQ3ViZVRleHR1cmUmJnYuX25lZWRzRmxpcEVudk1hcD8tMToxLHU9PT12JiZoPT09di52ZXJzaW9uJiZkPT09dC50b25lTWFwcGluZ3x8KG8ubWF0ZXJpYWwubmVlZHNVcGRhdGU9ITAsdT12LGg9di52ZXJzaW9uLGQ9dC50b25lTWFwcGluZyksbi51bnNoaWZ0KG8sby5nZW9tZXRyeSxvLm1hdGVyaWFsLDAsMCxudWxsKSk6diYmdi5pc1RleHR1cmUmJih2b2lkIDA9PT1hJiYoKGE9bmV3IFVuKG5ldyBvaSgyLDIpLG5ldyBYbih7bmFtZToiQmFja2dyb3VuZE1hdGVyaWFsIix1bmlmb3JtczpXbihsaS5iYWNrZ3JvdW5kLnVuaWZvcm1zKSx2ZXJ0ZXhTaGFkZXI6bGkuYmFja2dyb3VuZC52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6bGkuYmFja2dyb3VuZC5mcmFnbWVudFNoYWRlcixzaWRlOjAsZGVwdGhUZXN0OiExLGRlcHRoV3JpdGU6ITEsZm9nOiExfSkpKS5nZW9tZXRyeS5kZWxldGVBdHRyaWJ1dGUoIm5vcm1hbCIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLm1hdGVyaWFsLCJtYXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy50MkQudmFsdWV9fSksaS51cGRhdGUoYSkpLGEubWF0ZXJpYWwudW5pZm9ybXMudDJELnZhbHVlPXYsITA9PT12Lm1hdHJpeEF1dG9VcGRhdGUmJnYudXBkYXRlTWF0cml4KCksYS5tYXRlcmlhbC51bmlmb3Jtcy51dlRyYW5zZm9ybS52YWx1ZS5jb3B5KHYubWF0cml4KSx1PT09diYmaD09PXYudmVyc2lvbiYmZD09PXQudG9uZU1hcHBpbmd8fChhLm1hdGVyaWFsLm5lZWRzVXBkYXRlPSEwLHU9dixoPXYudmVyc2lvbixkPXQudG9uZU1hcHBpbmcpLG4udW5zaGlmdChhLGEuZ2VvbWV0cnksYS5tYXRlcmlhbCwwLDAsbnVsbCkpfX19ZnVuY3Rpb24gaGkodCxlLG4saSl7dmFyIHI9dC5nZXRQYXJhbWV0ZXIoMzQ5MjEpLGE9aS5pc1dlYkdMMj9udWxsOmUuZ2V0KCJPRVNfdmVydGV4X2FycmF5X29iamVjdCIpLG89aS5pc1dlYkdMMnx8bnVsbCE9PWEscz17fSxjPWQobnVsbCksbD1jO2Z1bmN0aW9uIHUoZSl7cmV0dXJuIGkuaXNXZWJHTDI/dC5iaW5kVmVydGV4QXJyYXkoZSk6YS5iaW5kVmVydGV4QXJyYXlPRVMoZSl9ZnVuY3Rpb24gaChlKXtyZXR1cm4gaS5pc1dlYkdMMj90LmRlbGV0ZVZlcnRleEFycmF5KGUpOmEuZGVsZXRlVmVydGV4QXJyYXlPRVMoZSl9ZnVuY3Rpb24gZCh0KXtmb3IodmFyIGU9W10sbj1bXSxpPVtdLGE9MDthPHI7YSsrKWVbYV09MCxuW2FdPTAsaVthXT0wO3JldHVybntnZW9tZXRyeTpudWxsLHByb2dyYW06bnVsbCx3aXJlZnJhbWU6ITEsbmV3QXR0cmlidXRlczplLGVuYWJsZWRBdHRyaWJ1dGVzOm4sYXR0cmlidXRlRGl2aXNvcnM6aSxvYmplY3Q6dCxhdHRyaWJ1dGVzOnt9LGluZGV4Om51bGx9fWZ1bmN0aW9uIHAoKXtmb3IodmFyIHQ9bC5uZXdBdHRyaWJ1dGVzLGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspdFtlXT0wfWZ1bmN0aW9uIGYodCl7bSh0LDApfWZ1bmN0aW9uIG0obixyKXt2YXIgYT1sLm5ld0F0dHJpYnV0ZXMsbz1sLmVuYWJsZWRBdHRyaWJ1dGVzLHM9bC5hdHRyaWJ1dGVEaXZpc29yczsoYVtuXT0xLDA9PT1vW25dJiYodC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShuKSxvW25dPTEpLHNbbl0hPT1yKSYmKChpLmlzV2ViR0wyP3Q6ZS5nZXQoIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiKSlbaS5pc1dlYkdMMj8idmVydGV4QXR0cmliRGl2aXNvciI6InZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRSJdKG4sciksc1tuXT1yKX1mdW5jdGlvbiB2KCl7Zm9yKHZhciBlPWwubmV3QXR0cmlidXRlcyxuPWwuZW5hYmxlZEF0dHJpYnV0ZXMsaT0wLHI9bi5sZW5ndGg7aTxyO2krKyluW2ldIT09ZVtpXSYmKHQuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGkpLG5baV09MCl9ZnVuY3Rpb24gZyhlLG4scixhLG8scyl7ITAhPT1pLmlzV2ViR0wyfHw1MTI0IT09ciYmNTEyNSE9PXI/dC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGUsbixyLGEsbyxzKTp0LnZlcnRleEF0dHJpYklQb2ludGVyKGUsbixyLG8scyl9ZnVuY3Rpb24geSgpe3goKSxsIT09YyYmdSgobD1jKS5vYmplY3QpfWZ1bmN0aW9uIHgoKXtjLmdlb21ldHJ5PW51bGwsYy5wcm9ncmFtPW51bGwsYy53aXJlZnJhbWU9ITF9cmV0dXJue3NldHVwOmZ1bmN0aW9uKHIsYyxoLHkseCl7dmFyIF89ITE7aWYobyl7dmFyIGI9ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPSEwPT09ci53aXJlZnJhbWUsYz1zW2UuaWRdO3ZvaWQgMD09PWMmJihjPXt9LHNbZS5pZF09Yyk7dmFyIGw9Y1tuLmlkXTt2b2lkIDA9PT1sJiYobD17fSxjW24uaWRdPWwpO3ZhciB1PWxbb107dm9pZCAwPT09dSYmKHU9ZChpLmlzV2ViR0wyP3QuY3JlYXRlVmVydGV4QXJyYXkoKTphLmNyZWF0ZVZlcnRleEFycmF5T0VTKCkpLGxbb109dSk7cmV0dXJuIHV9KHksaCxjKTtsIT09YiYmdSgobD1iKS5vYmplY3QpLChfPWZ1bmN0aW9uKHQsZSl7dmFyIG49bC5hdHRyaWJ1dGVzLGk9dC5hdHRyaWJ1dGVzLHI9MDtmb3IodmFyIGEgaW4gaSl7dmFyIG89blthXSxzPWlbYV07aWYodm9pZCAwPT09bylyZXR1cm4hMDtpZihvLmF0dHJpYnV0ZSE9PXMpcmV0dXJuITA7aWYoby5kYXRhIT09cy5kYXRhKXJldHVybiEwO3IrK31yZXR1cm4gbC5hdHRyaWJ1dGVzTnVtIT09cnx8bC5pbmRleCE9PWV9KHkseCkpJiZmdW5jdGlvbih0LGUpe3ZhciBuPXt9LGk9dC5hdHRyaWJ1dGVzLHI9MDtmb3IodmFyIGEgaW4gaSl7dmFyIG89aVthXSxzPXt9O3MuYXR0cmlidXRlPW8sby5kYXRhJiYocy5kYXRhPW8uZGF0YSksblthXT1zLHIrK31sLmF0dHJpYnV0ZXM9bixsLmF0dHJpYnV0ZXNOdW09cixsLmluZGV4PWV9KHkseCl9ZWxzZXt2YXIgdz0hMD09PWMud2lyZWZyYW1lO2wuZ2VvbWV0cnk9PT15LmlkJiZsLnByb2dyYW09PT1oLmlkJiZsLndpcmVmcmFtZT09PXd8fChsLmdlb21ldHJ5PXkuaWQsbC5wcm9ncmFtPWguaWQsbC53aXJlZnJhbWU9dyxfPSEwKX0hMD09PXIuaXNJbnN0YW5jZWRNZXNoJiYoXz0hMCksbnVsbCE9PXgmJm4udXBkYXRlKHgsMzQ5NjMpLF8mJighZnVuY3Rpb24ocixhLG8scyl7aWYoITE9PT1pLmlzV2ViR0wyJiYoci5pc0luc3RhbmNlZE1lc2h8fHMuaXNJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSkmJm51bGw9PT1lLmdldCgiQU5HTEVfaW5zdGFuY2VkX2FycmF5cyIpKXJldHVybjtwKCk7dmFyIGM9cy5hdHRyaWJ1dGVzLGw9by5nZXRBdHRyaWJ1dGVzKCksdT1hLmRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXM7Zm9yKHZhciBoIGluIGwpe3ZhciBkPWxbaF07aWYoZD49MCl7dmFyIHk9Y1toXTtpZih2b2lkIDAhPT15KXt2YXIgeD15Lm5vcm1hbGl6ZWQsXz15Lml0ZW1TaXplLGI9bi5nZXQoeSk7aWYodm9pZCAwPT09Yiljb250aW51ZTt2YXIgdz1iLmJ1ZmZlcixNPWIudHlwZSxTPWIuYnl0ZXNQZXJFbGVtZW50O2lmKHkuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSl7dmFyIFQ9eS5kYXRhLEU9VC5zdHJpZGUsQT15Lm9mZnNldDtUJiZULmlzSW5zdGFuY2VkSW50ZXJsZWF2ZWRCdWZmZXI/KG0oZCxULm1lc2hQZXJBdHRyaWJ1dGUpLHZvaWQgMD09PXMuX21heEluc3RhbmNlQ291bnQmJihzLl9tYXhJbnN0YW5jZUNvdW50PVQubWVzaFBlckF0dHJpYnV0ZSpULmNvdW50KSk6ZihkKSx0LmJpbmRCdWZmZXIoMzQ5NjIsdyksZyhkLF8sTSx4LEUqUyxBKlMpfWVsc2UgeS5pc0luc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZT8obShkLHkubWVzaFBlckF0dHJpYnV0ZSksdm9pZCAwPT09cy5fbWF4SW5zdGFuY2VDb3VudCYmKHMuX21heEluc3RhbmNlQ291bnQ9eS5tZXNoUGVyQXR0cmlidXRlKnkuY291bnQpKTpmKGQpLHQuYmluZEJ1ZmZlcigzNDk2Mix3KSxnKGQsXyxNLHgsMCwwKX1lbHNlIGlmKCJpbnN0YW5jZU1hdHJpeCI9PT1oKXt2YXIgTD1uLmdldChyLmluc3RhbmNlTWF0cml4KTtpZih2b2lkIDA9PT1MKWNvbnRpbnVlO3ZhciBSPUwuYnVmZmVyLEM9TC50eXBlO20oZCswLDEpLG0oZCsxLDEpLG0oZCsyLDEpLG0oZCszLDEpLHQuYmluZEJ1ZmZlcigzNDk2MixSKSx0LnZlcnRleEF0dHJpYlBvaW50ZXIoZCswLDQsQywhMSw2NCwwKSx0LnZlcnRleEF0dHJpYlBvaW50ZXIoZCsxLDQsQywhMSw2NCwxNiksdC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGQrMiw0LEMsITEsNjQsMzIpLHQudmVydGV4QXR0cmliUG9pbnRlcihkKzMsNCxDLCExLDY0LDQ4KX1lbHNlIGlmKCJpbnN0YW5jZUNvbG9yIj09PWgpe3ZhciBQPW4uZ2V0KHIuaW5zdGFuY2VDb2xvcik7aWYodm9pZCAwPT09UCljb250aW51ZTt2YXIgRD1QLmJ1ZmZlcixJPVAudHlwZTttKGQsMSksdC5iaW5kQnVmZmVyKDM0OTYyLEQpLHQudmVydGV4QXR0cmliUG9pbnRlcihkLDMsSSwhMSwxMiwwKX1lbHNlIGlmKHZvaWQgMCE9PXUpe3ZhciBPPXVbaF07aWYodm9pZCAwIT09Tylzd2l0Y2goTy5sZW5ndGgpe2Nhc2UgMjp0LnZlcnRleEF0dHJpYjJmdihkLE8pO2JyZWFrO2Nhc2UgMzp0LnZlcnRleEF0dHJpYjNmdihkLE8pO2JyZWFrO2Nhc2UgNDp0LnZlcnRleEF0dHJpYjRmdihkLE8pO2JyZWFrO2RlZmF1bHQ6dC52ZXJ0ZXhBdHRyaWIxZnYoZCxPKX19fX12KCl9KHIsYyxoLHkpLG51bGwhPT14JiZ0LmJpbmRCdWZmZXIoMzQ5NjMsbi5nZXQoeCkuYnVmZmVyKSl9LHJlc2V0OnkscmVzZXREZWZhdWx0U3RhdGU6eCxkaXNwb3NlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHkoKSxzKXt2YXIgZT1zW3RdO2Zvcih2YXIgbiBpbiBlKXt2YXIgaT1lW25dO2Zvcih2YXIgciBpbiBpKWgoaVtyXS5vYmplY3QpLGRlbGV0ZSBpW3JdO2RlbGV0ZSBlW25dfWRlbGV0ZSBzW3RdfX0scmVsZWFzZVN0YXRlc09mR2VvbWV0cnk6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09c1t0LmlkXSl7dmFyIGU9c1t0LmlkXTtmb3IodmFyIG4gaW4gZSl7dmFyIGk9ZVtuXTtmb3IodmFyIHIgaW4gaSloKGlbcl0ub2JqZWN0KSxkZWxldGUgaVtyXTtkZWxldGUgZVtuXX1kZWxldGUgc1t0LmlkXX19LHJlbGVhc2VTdGF0ZXNPZlByb2dyYW06ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHMpe3ZhciBuPXNbZV07aWYodm9pZCAwIT09blt0LmlkXSl7dmFyIGk9blt0LmlkXTtmb3IodmFyIHIgaW4gaSloKGlbcl0ub2JqZWN0KSxkZWxldGUgaVtyXTtkZWxldGUgblt0LmlkXX19fSxpbml0QXR0cmlidXRlczpwLGVuYWJsZUF0dHJpYnV0ZTpmLGRpc2FibGVVbnVzZWRBdHRyaWJ1dGVzOnZ9fWZ1bmN0aW9uIGRpKHQsZSxuLGkpe3ZhciByLGE9aS5pc1dlYkdMMjt0aGlzLnNldE1vZGU9ZnVuY3Rpb24odCl7cj10fSx0aGlzLnJlbmRlcj1mdW5jdGlvbihlLGkpe3QuZHJhd0FycmF5cyhyLGUsaSksbi51cGRhdGUoaSxyLDEpfSx0aGlzLnJlbmRlckluc3RhbmNlcz1mdW5jdGlvbihpLG8scyl7aWYoMCE9PXMpe3ZhciBjLGw7aWYoYSljPXQsbD0iZHJhd0FycmF5c0luc3RhbmNlZCI7ZWxzZSBpZihsPSJkcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUiLG51bGw9PT0oYz1lLmdldCgiQU5HTEVfaW5zdGFuY2VkX2FycmF5cyIpKSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTEJ1ZmZlclJlbmRlcmVyOiB1c2luZyBUSFJFRS5JbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSBidXQgaGFyZHdhcmUgZG9lcyBub3Qgc3VwcG9ydCBleHRlbnNpb24gQU5HTEVfaW5zdGFuY2VkX2FycmF5cy4iKTtjW2xdKHIsaSxvLHMpLG4udXBkYXRlKG8scixzKX19fWZ1bmN0aW9uIHBpKHQsZSxuKXt2YXIgaTtmdW5jdGlvbiByKGUpe2lmKCJoaWdocCI9PT1lKXtpZih0LmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCgzNTYzMywzNjMzOCkucHJlY2lzaW9uPjAmJnQuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KDM1NjMyLDM2MzM4KS5wcmVjaXNpb24+MClyZXR1cm4iaGlnaHAiO2U9Im1lZGl1bXAifXJldHVybiJtZWRpdW1wIj09PWUmJnQuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KDM1NjMzLDM2MzM3KS5wcmVjaXNpb24+MCYmdC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoMzU2MzIsMzYzMzcpLnByZWNpc2lvbj4wPyJtZWRpdW1wIjoibG93cCJ9dmFyIGE9InVuZGVmaW5lZCIhPXR5cGVvZiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0JiZ0IGluc3RhbmNlb2YgV2ViR0wyUmVuZGVyaW5nQ29udGV4dHx8InVuZGVmaW5lZCIhPXR5cGVvZiBXZWJHTDJDb21wdXRlUmVuZGVyaW5nQ29udGV4dCYmdCBpbnN0YW5jZW9mIFdlYkdMMkNvbXB1dGVSZW5kZXJpbmdDb250ZXh0LG89dm9pZCAwIT09bi5wcmVjaXNpb24/bi5wcmVjaXNpb246ImhpZ2hwIixzPXIobyk7cyE9PW8mJihjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IixvLCJub3Qgc3VwcG9ydGVkLCB1c2luZyIscywiaW5zdGVhZC4iKSxvPXMpO3ZhciBjPSEwPT09bi5sb2dhcml0aG1pY0RlcHRoQnVmZmVyLGw9dC5nZXRQYXJhbWV0ZXIoMzQ5MzApLHU9dC5nZXRQYXJhbWV0ZXIoMzU2NjApLGg9dC5nZXRQYXJhbWV0ZXIoMzM3OSksZD10LmdldFBhcmFtZXRlcigzNDA3NikscD10LmdldFBhcmFtZXRlcigzNDkyMSksZj10LmdldFBhcmFtZXRlcigzNjM0NyksbT10LmdldFBhcmFtZXRlcigzNjM0OCksdj10LmdldFBhcmFtZXRlcigzNjM0OSksZz11PjAseT1hfHxlLmhhcygiT0VTX3RleHR1cmVfZmxvYXQiKTtyZXR1cm57aXNXZWJHTDI6YSxnZXRNYXhBbmlzb3Ryb3B5OmZ1bmN0aW9uKCl7aWYodm9pZCAwIT09aSlyZXR1cm4gaTtpZighMD09PWUuaGFzKCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKSl7dmFyIG49ZS5nZXQoIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpO2k9dC5nZXRQYXJhbWV0ZXIobi5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpfWVsc2UgaT0wO3JldHVybiBpfSxnZXRNYXhQcmVjaXNpb246cixwcmVjaXNpb246byxsb2dhcml0aG1pY0RlcHRoQnVmZmVyOmMsbWF4VGV4dHVyZXM6bCxtYXhWZXJ0ZXhUZXh0dXJlczp1LG1heFRleHR1cmVTaXplOmgsbWF4Q3ViZW1hcFNpemU6ZCxtYXhBdHRyaWJ1dGVzOnAsbWF4VmVydGV4VW5pZm9ybXM6ZixtYXhWYXJ5aW5nczptLG1heEZyYWdtZW50VW5pZm9ybXM6dix2ZXJ0ZXhUZXh0dXJlczpnLGZsb2F0RnJhZ21lbnRUZXh0dXJlczp5LGZsb2F0VmVydGV4VGV4dHVyZXM6ZyYmeSxtYXhTYW1wbGVzOmE/dC5nZXRQYXJhbWV0ZXIoMzYxODMpOjB9fWZ1bmN0aW9uIGZpKHQpe3ZhciBlPXRoaXMsbj1udWxsLGk9MCxyPSExLGE9ITEsbz1uZXcgUGUscz1uZXcgeHQsYz17dmFsdWU6bnVsbCxuZWVkc1VwZGF0ZTohMX07ZnVuY3Rpb24gbCgpe2MudmFsdWUhPT1uJiYoYy52YWx1ZT1uLGMubmVlZHNVcGRhdGU9aT4wKSxlLm51bVBsYW5lcz1pLGUubnVtSW50ZXJzZWN0aW9uPTB9ZnVuY3Rpb24gdSh0LG4saSxyKXt2YXIgYT1udWxsIT09dD90Lmxlbmd0aDowLGw9bnVsbDtpZigwIT09YSl7aWYobD1jLnZhbHVlLCEwIT09cnx8bnVsbD09PWwpe3ZhciB1PWkrNCphLGg9bi5tYXRyaXhXb3JsZEludmVyc2U7cy5nZXROb3JtYWxNYXRyaXgoaCksKG51bGw9PT1sfHxsLmxlbmd0aDx1KSYmKGw9bmV3IEZsb2F0MzJBcnJheSh1KSk7Zm9yKHZhciBkPTAscD1pO2QhPT1hOysrZCxwKz00KW8uY29weSh0W2RdKS5hcHBseU1hdHJpeDQoaCxzKSxvLm5vcm1hbC50b0FycmF5KGwscCksbFtwKzNdPW8uY29uc3RhbnR9Yy52YWx1ZT1sLGMubmVlZHNVcGRhdGU9ITB9cmV0dXJuIGUubnVtUGxhbmVzPWEsZS5udW1JbnRlcnNlY3Rpb249MCxsfXRoaXMudW5pZm9ybT1jLHRoaXMubnVtUGxhbmVzPTAsdGhpcy5udW1JbnRlcnNlY3Rpb249MCx0aGlzLmluaXQ9ZnVuY3Rpb24odCxlLGEpe3ZhciBvPTAhPT10Lmxlbmd0aHx8ZXx8MCE9PWl8fHI7cmV0dXJuIHI9ZSxuPXUodCxhLDApLGk9dC5sZW5ndGgsb30sdGhpcy5iZWdpblNoYWRvd3M9ZnVuY3Rpb24oKXthPSEwLHUobnVsbCl9LHRoaXMuZW5kU2hhZG93cz1mdW5jdGlvbigpe2E9ITEsbCgpfSx0aGlzLnNldFN0YXRlPWZ1bmN0aW9uKGUsbyxzKXt2YXIgaD1lLmNsaXBwaW5nUGxhbmVzLGQ9ZS5jbGlwSW50ZXJzZWN0aW9uLHA9ZS5jbGlwU2hhZG93cyxmPXQuZ2V0KGUpO2lmKCFyfHxudWxsPT09aHx8MD09PWgubGVuZ3RofHxhJiYhcClhP3UobnVsbCk6bCgpO2Vsc2V7dmFyIG09YT8wOmksdj00Km0sZz1mLmNsaXBwaW5nU3RhdGV8fG51bGw7Yy52YWx1ZT1nLGc9dShoLG8sdixzKTtmb3IodmFyIHk9MDt5IT09djsrK3kpZ1t5XT1uW3ldO2YuY2xpcHBpbmdTdGF0ZT1nLHRoaXMubnVtSW50ZXJzZWN0aW9uPWQ/dGhpcy5udW1QbGFuZXM6MCx0aGlzLm51bVBsYW5lcys9bX19fWZ1bmN0aW9uIG1pKHQpe3ZhciBlPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gZT09PXM/dC5tYXBwaW5nPWE6ZT09PWMmJih0Lm1hcHBpbmc9byksdH1mdW5jdGlvbiBpKHQpe3ZhciBuPXQudGFyZ2V0O24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsaSk7dmFyIHI9ZS5nZXQobik7dm9pZCAwIT09ciYmKGUuZGVsZXRlKG4pLHIuZGlzcG9zZSgpKX1yZXR1cm57Z2V0OmZ1bmN0aW9uKHIpe2lmKHImJnIuaXNUZXh0dXJlKXt2YXIgYT1yLm1hcHBpbmc7aWYoYT09PXN8fGE9PT1jKXtpZihlLmhhcyhyKSlyZXR1cm4gbihlLmdldChyKS50ZXh0dXJlLHIubWFwcGluZyk7dmFyIG89ci5pbWFnZTtpZihvJiZvLmhlaWdodD4wKXt2YXIgbD10LmdldFJlbmRlckxpc3QoKSx1PXQuZ2V0UmVuZGVyVGFyZ2V0KCksaD1uZXcgJG4oby5oZWlnaHQvMik7cmV0dXJuIGguZnJvbUVxdWlyZWN0YW5ndWxhclRleHR1cmUodCxyKSxlLnNldChyLGgpLHQuc2V0UmVuZGVyVGFyZ2V0KHUpLHQuc2V0UmVuZGVyTGlzdChsKSxyLmFkZEV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLGkpLG4oaC50ZXh0dXJlLHIubWFwcGluZyl9cmV0dXJuIG51bGx9fXJldHVybiByfSxkaXNwb3NlOmZ1bmN0aW9uKCl7ZT1uZXcgV2Vha01hcH19fWZ1bmN0aW9uIHZpKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4obil7aWYodm9pZCAwIT09ZVtuXSlyZXR1cm4gZVtuXTt2YXIgaTtzd2l0Y2gobil7Y2FzZSJXRUJHTF9kZXB0aF90ZXh0dXJlIjppPXQuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZXB0aF90ZXh0dXJlIil8fHQuZ2V0RXh0ZW5zaW9uKCJNT1pfV0VCR0xfZGVwdGhfdGV4dHVyZSIpfHx0LmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2RlcHRoX3RleHR1cmUiKTticmVhaztjYXNlIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyI6aT10LmdldEV4dGVuc2lvbigiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIil8fHQuZ2V0RXh0ZW5zaW9uKCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIil8fHQuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIik7YnJlYWs7Y2FzZSJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyI6aT10LmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMiKXx8dC5nZXRFeHRlbnNpb24oIk1PWl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpfHx0LmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIik7YnJlYWs7Y2FzZSJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMiOmk9dC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpfHx0LmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpO2JyZWFrO2RlZmF1bHQ6aT10LmdldEV4dGVuc2lvbihuKX1yZXR1cm4gZVtuXT1pLGl9cmV0dXJue2hhczpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PW4odCl9LGluaXQ6ZnVuY3Rpb24odCl7dC5pc1dlYkdMMj9uKCJFWFRfY29sb3JfYnVmZmVyX2Zsb2F0Iik6KG4oIldFQkdMX2RlcHRoX3RleHR1cmUiKSxuKCJPRVNfdGV4dHVyZV9mbG9hdCIpLG4oIk9FU190ZXh0dXJlX2hhbGZfZmxvYXQiKSxuKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhciIpLG4oIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyIpLG4oIk9FU19lbGVtZW50X2luZGV4X3VpbnQiKSxuKCJPRVNfdmVydGV4X2FycmF5X29iamVjdCIpLG4oIkFOR0xFX2luc3RhbmNlZF9hcnJheXMiKSksbigiT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyIiksbigiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0Iil9LGdldDpmdW5jdGlvbih0KXt2YXIgZT1uKHQpO3JldHVybiBudWxsPT09ZSYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAiK3QrIiBleHRlbnNpb24gbm90IHN1cHBvcnRlZC4iKSxlfX19ZnVuY3Rpb24gZ2kodCxlLG4saSl7dmFyIHI9e30sYT1uZXcgV2Vha01hcDtmdW5jdGlvbiBvKHQpe3ZhciBzPXQudGFyZ2V0O2Zvcih2YXIgYyBpbiBudWxsIT09cy5pbmRleCYmZS5yZW1vdmUocy5pbmRleCkscy5hdHRyaWJ1dGVzKWUucmVtb3ZlKHMuYXR0cmlidXRlc1tjXSk7cy5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixvKSxkZWxldGUgcltzLmlkXTt2YXIgbD1hLmdldChzKTtsJiYoZS5yZW1vdmUobCksYS5kZWxldGUocykpLGkucmVsZWFzZVN0YXRlc09mR2VvbWV0cnkocyksITA9PT1zLmlzSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnkmJmRlbGV0ZSBzLl9tYXhJbnN0YW5jZUNvdW50LG4ubWVtb3J5Lmdlb21ldHJpZXMtLX1mdW5jdGlvbiBzKHQpe3ZhciBuPVtdLGk9dC5pbmRleCxyPXQuYXR0cmlidXRlcy5wb3NpdGlvbixvPTA7aWYobnVsbCE9PWkpe3ZhciBzPWkuYXJyYXk7bz1pLnZlcnNpb247Zm9yKHZhciBjPTAsbD1zLmxlbmd0aDtjPGw7Yys9Myl7dmFyIHU9c1tjKzBdLGg9c1tjKzFdLGQ9c1tjKzJdO24ucHVzaCh1LGgsaCxkLGQsdSl9fWVsc2V7dmFyIHA9ci5hcnJheTtvPXIudmVyc2lvbjtmb3IodmFyIGY9MCxtPXAubGVuZ3RoLzMtMTtmPG07Zis9Myl7dmFyIHY9ZiswLGc9ZisxLHk9ZisyO24ucHVzaCh2LGcsZyx5LHksdil9fXZhciB4PW5ldyhwbihuKT42NTUzNT9sbjpzbikobiwxKTt4LnZlcnNpb249bzt2YXIgXz1hLmdldCh0KTtfJiZlLnJlbW92ZShfKSxhLnNldCh0LHgpfXJldHVybntnZXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4hMD09PXJbZS5pZF18fChlLmFkZEV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLG8pLHJbZS5pZF09ITAsbi5tZW1vcnkuZ2VvbWV0cmllcysrKSxlfSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIG49dC5hdHRyaWJ1dGVzO2Zvcih2YXIgaSBpbiBuKWUudXBkYXRlKG5baV0sMzQ5NjIpO3ZhciByPXQubW9ycGhBdHRyaWJ1dGVzO2Zvcih2YXIgYSBpbiByKWZvcih2YXIgbz1yW2FdLHM9MCxjPW8ubGVuZ3RoO3M8YztzKyspZS51cGRhdGUob1tzXSwzNDk2Mil9LGdldFdpcmVmcmFtZUF0dHJpYnV0ZTpmdW5jdGlvbih0KXt2YXIgZT1hLmdldCh0KTtpZihlKXt2YXIgbj10LmluZGV4O251bGwhPT1uJiZlLnZlcnNpb248bi52ZXJzaW9uJiZzKHQpfWVsc2Ugcyh0KTtyZXR1cm4gYS5nZXQodCl9fX1mdW5jdGlvbiB5aSh0LGUsbixpKXt2YXIgcixhLG8scz1pLmlzV2ViR0wyO3RoaXMuc2V0TW9kZT1mdW5jdGlvbih0KXtyPXR9LHRoaXMuc2V0SW5kZXg9ZnVuY3Rpb24odCl7YT10LnR5cGUsbz10LmJ5dGVzUGVyRWxlbWVudH0sdGhpcy5yZW5kZXI9ZnVuY3Rpb24oZSxpKXt0LmRyYXdFbGVtZW50cyhyLGksYSxlKm8pLG4udXBkYXRlKGksciwxKX0sdGhpcy5yZW5kZXJJbnN0YW5jZXM9ZnVuY3Rpb24oaSxjLGwpe2lmKDAhPT1sKXt2YXIgdSxoO2lmKHMpdT10LGg9ImRyYXdFbGVtZW50c0luc3RhbmNlZCI7ZWxzZSBpZihoPSJkcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRSIsbnVsbD09PSh1PWUuZ2V0KCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIikpKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMSW5kZXhlZEJ1ZmZlclJlbmRlcmVyOiB1c2luZyBUSFJFRS5JbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSBidXQgaGFyZHdhcmUgZG9lcyBub3Qgc3VwcG9ydCBleHRlbnNpb24gQU5HTEVfaW5zdGFuY2VkX2FycmF5cy4iKTt1W2hdKHIsYyxhLGkqbyxsKSxuLnVwZGF0ZShjLHIsbCl9fX1mdW5jdGlvbiB4aSh0KXt2YXIgZT17ZnJhbWU6MCxjYWxsczowLHRyaWFuZ2xlczowLHBvaW50czowLGxpbmVzOjB9O3JldHVybnttZW1vcnk6e2dlb21ldHJpZXM6MCx0ZXh0dXJlczowfSxyZW5kZXI6ZSxwcm9ncmFtczpudWxsLGF1dG9SZXNldDohMCxyZXNldDpmdW5jdGlvbigpe2UuZnJhbWUrKyxlLmNhbGxzPTAsZS50cmlhbmdsZXM9MCxlLnBvaW50cz0wLGUubGluZXM9MH0sdXBkYXRlOmZ1bmN0aW9uKHQsbixpKXtzd2l0Y2goZS5jYWxscysrLG4pe2Nhc2UgNDplLnRyaWFuZ2xlcys9aSoodC8zKTticmVhaztjYXNlIDE6ZS5saW5lcys9aSoodC8yKTticmVhaztjYXNlIDM6ZS5saW5lcys9aSoodC0xKTticmVhaztjYXNlIDI6ZS5saW5lcys9aSp0O2JyZWFrO2Nhc2UgMDplLnBvaW50cys9aSp0O2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xJbmZvOiBVbmtub3duIGRyYXcgbW9kZToiLG4pfX19fWZ1bmN0aW9uIF9pKHQsZSl7cmV0dXJuIHRbMF0tZVswXX1mdW5jdGlvbiBiaSh0LGUpe3JldHVybiBNYXRoLmFicyhlWzFdKS1NYXRoLmFicyh0WzFdKX1mdW5jdGlvbiB3aSh0KXtmb3IodmFyIGU9e30sbj1uZXcgRmxvYXQzMkFycmF5KDgpLGk9W10scj0wO3I8ODtyKyspaVtyXT1bciwwXTtyZXR1cm57dXBkYXRlOmZ1bmN0aW9uKHIsYSxvLHMpe3ZhciBjPXIubW9ycGhUYXJnZXRJbmZsdWVuY2VzLGw9dm9pZCAwPT09Yz8wOmMubGVuZ3RoLHU9ZVthLmlkXTtpZih2b2lkIDA9PT11KXt1PVtdO2Zvcih2YXIgaD0wO2g8bDtoKyspdVtoXT1baCwwXTtlW2EuaWRdPXV9Zm9yKHZhciBkPTA7ZDxsO2QrKyl7dmFyIHA9dVtkXTtwWzBdPWQscFsxXT1jW2RdfXUuc29ydChiaSk7Zm9yKHZhciBmPTA7Zjw4O2YrKylmPGwmJnVbZl1bMV0/KGlbZl1bMF09dVtmXVswXSxpW2ZdWzFdPXVbZl1bMV0pOihpW2ZdWzBdPU51bWJlci5NQVhfU0FGRV9JTlRFR0VSLGlbZl1bMV09MCk7aS5zb3J0KF9pKTtmb3IodmFyIG09by5tb3JwaFRhcmdldHMmJmEubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uLHY9by5tb3JwaE5vcm1hbHMmJmEubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbCxnPTAseT0wO3k8ODt5Kyspe3ZhciB4PWlbeV0sXz14WzBdLGI9eFsxXTtfIT09TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVImJmI/KG0mJmEuZ2V0QXR0cmlidXRlKCJtb3JwaFRhcmdldCIreSkhPT1tW19dJiZhLnNldEF0dHJpYnV0ZSgibW9ycGhUYXJnZXQiK3ksbVtfXSksdiYmYS5nZXRBdHRyaWJ1dGUoIm1vcnBoTm9ybWFsIit5KSE9PXZbX10mJmEuc2V0QXR0cmlidXRlKCJtb3JwaE5vcm1hbCIreSx2W19dKSxuW3ldPWIsZys9Yik6KG0mJiEwPT09YS5oYXNBdHRyaWJ1dGUoIm1vcnBoVGFyZ2V0Iit5KSYmYS5kZWxldGVBdHRyaWJ1dGUoIm1vcnBoVGFyZ2V0Iit5KSx2JiYhMD09PWEuaGFzQXR0cmlidXRlKCJtb3JwaE5vcm1hbCIreSkmJmEuZGVsZXRlQXR0cmlidXRlKCJtb3JwaE5vcm1hbCIreSksblt5XT0wKX12YXIgdz1hLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPzE6MS1nO3MuZ2V0VW5pZm9ybXMoKS5zZXRWYWx1ZSh0LCJtb3JwaFRhcmdldEJhc2VJbmZsdWVuY2UiLHcpLHMuZ2V0VW5pZm9ybXMoKS5zZXRWYWx1ZSh0LCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiLG4pfX19ZnVuY3Rpb24gTWkodCxlLG4saSl7dmFyIHI9bmV3IFdlYWtNYXA7ZnVuY3Rpb24gYSh0KXt2YXIgZT10LnRhcmdldDtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLGEpLG4ucmVtb3ZlKGUuaW5zdGFuY2VNYXRyaXgpLG51bGwhPT1lLmluc3RhbmNlQ29sb3ImJm4ucmVtb3ZlKGUuaW5zdGFuY2VDb2xvcil9cmV0dXJue3VwZGF0ZTpmdW5jdGlvbih0KXt2YXIgbz1pLnJlbmRlci5mcmFtZSxzPXQuZ2VvbWV0cnksYz1lLmdldCh0LHMpO3JldHVybiByLmdldChjKSE9PW8mJihlLnVwZGF0ZShjKSxyLnNldChjLG8pKSx0LmlzSW5zdGFuY2VkTWVzaCYmKCExPT09dC5oYXNFdmVudExpc3RlbmVyKCJkaXNwb3NlIixhKSYmdC5hZGRFdmVudExpc3RlbmVyKCJkaXNwb3NlIixhKSxuLnVwZGF0ZSh0Lmluc3RhbmNlTWF0cml4LDM0OTYyKSxudWxsIT09dC5pbnN0YW5jZUNvbG9yJiZuLnVwZGF0ZSh0Lmluc3RhbmNlQ29sb3IsMzQ5NjIpKSxjfSxkaXNwb3NlOmZ1bmN0aW9uKCl7cj1uZXcgV2Vha01hcH19fWZ1bmN0aW9uIFNpKHQsZSxuLGkpe3ZvaWQgMD09PXQmJih0PW51bGwpLHZvaWQgMD09PWUmJihlPTEpLHZvaWQgMD09PW4mJihuPTEpLHZvaWQgMD09PWkmJihpPTEpLHd0LmNhbGwodGhpcyxudWxsKSx0aGlzLmltYWdlPXtkYXRhOnQsd2lkdGg6ZSxoZWlnaHQ6bixkZXB0aDppfSx0aGlzLm1hZ0ZpbHRlcj1mLHRoaXMubWluRmlsdGVyPWYsdGhpcy53cmFwUj1kLHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExLHRoaXMuZmxpcFk9ITEsdGhpcy5uZWVkc1VwZGF0ZT0hMH1mdW5jdGlvbiBUaSh0LGUsbixpKXt2b2lkIDA9PT10JiYodD1udWxsKSx2b2lkIDA9PT1lJiYoZT0xKSx2b2lkIDA9PT1uJiYobj0xKSx2b2lkIDA9PT1pJiYoaT0xKSx3dC5jYWxsKHRoaXMsbnVsbCksdGhpcy5pbWFnZT17ZGF0YTp0LHdpZHRoOmUsaGVpZ2h0Om4sZGVwdGg6aX0sdGhpcy5tYWdGaWx0ZXI9Zix0aGlzLm1pbkZpbHRlcj1mLHRoaXMud3JhcFI9ZCx0aGlzLmdlbmVyYXRlTWlwbWFwcz0hMSx0aGlzLmZsaXBZPSExLHRoaXMubmVlZHNVcGRhdGU9ITB9bGkucGh5c2ljYWw9e3VuaWZvcm1zOmpuKFtsaS5zdGFuZGFyZC51bmlmb3Jtcyx7Y2xlYXJjb2F0Ont2YWx1ZTowfSxjbGVhcmNvYXRNYXA6e3ZhbHVlOm51bGx9LGNsZWFyY29hdFJvdWdobmVzczp7dmFsdWU6MH0sY2xlYXJjb2F0Um91Z2huZXNzTWFwOnt2YWx1ZTpudWxsfSxjbGVhcmNvYXROb3JtYWxTY2FsZTp7dmFsdWU6bmV3IHl0KDEsMSl9LGNsZWFyY29hdE5vcm1hbE1hcDp7dmFsdWU6bnVsbH0sc2hlZW46e3ZhbHVlOm5ldyBRZSgwKX0sdHJhbnNtaXNzaW9uOnt2YWx1ZTowfSx0cmFuc21pc3Npb25NYXA6e3ZhbHVlOm51bGx9fV0pLHZlcnRleFNoYWRlcjpzaS5tZXNocGh5c2ljYWxfdmVydCxmcmFnbWVudFNoYWRlcjpzaS5tZXNocGh5c2ljYWxfZnJhZ30sU2kucHJvdG90eXBlPU9iamVjdC5jcmVhdGUod3QucHJvdG90eXBlKSxTaS5wcm90b3R5cGUuY29uc3RydWN0b3I9U2ksU2kucHJvdG90eXBlLmlzRGF0YVRleHR1cmUyREFycmF5PSEwLFRpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHd0LnByb3RvdHlwZSksVGkucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRpLFRpLnByb3RvdHlwZS5pc0RhdGFUZXh0dXJlM0Q9ITA7dmFyIEVpPW5ldyB3dCxBaT1uZXcgU2ksTGk9bmV3IFRpLFJpPW5ldyBLbixDaT1bXSxQaT1bXSxEaT1uZXcgRmxvYXQzMkFycmF5KDE2KSxJaT1uZXcgRmxvYXQzMkFycmF5KDkpLE9pPW5ldyBGbG9hdDMyQXJyYXkoNCk7ZnVuY3Rpb24gTmkodCxlLG4pe3ZhciBpPXRbMF07aWYoaTw9MHx8aT4wKXJldHVybiB0O3ZhciByPWUqbixhPUNpW3JdO2lmKHZvaWQgMD09PWEmJihhPW5ldyBGbG9hdDMyQXJyYXkociksQ2lbcl09YSksMCE9PWUpe2kudG9BcnJheShhLDApO2Zvcih2YXIgbz0xLHM9MDtvIT09ZTsrK28pcys9bix0W29dLnRvQXJyYXkoYSxzKX1yZXR1cm4gYX1mdW5jdGlvbiBCaSh0LGUpe2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTAsaT10Lmxlbmd0aDtuPGk7bisrKWlmKHRbbl0hPT1lW25dKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHppKHQsZSl7Zm9yKHZhciBuPTAsaT1lLmxlbmd0aDtuPGk7bisrKXRbbl09ZVtuXX1mdW5jdGlvbiBGaSh0LGUpe3ZhciBuPVBpW2VdO3ZvaWQgMD09PW4mJihuPW5ldyBJbnQzMkFycmF5KGUpLFBpW2VdPW4pO2Zvcih2YXIgaT0wO2khPT1lOysraSluW2ldPXQuYWxsb2NhdGVUZXh0dXJlVW5pdCgpO3JldHVybiBufWZ1bmN0aW9uIEhpKHQsZSl7dmFyIG49dGhpcy5jYWNoZTtuWzBdIT09ZSYmKHQudW5pZm9ybTFmKHRoaXMuYWRkcixlKSxuWzBdPWUpfWZ1bmN0aW9uIEdpKHQsZSl7dmFyIG49dGhpcy5jYWNoZTtpZih2b2lkIDAhPT1lLngpblswXT09PWUueCYmblsxXT09PWUueXx8KHQudW5pZm9ybTJmKHRoaXMuYWRkcixlLngsZS55KSxuWzBdPWUueCxuWzFdPWUueSk7ZWxzZXtpZihCaShuLGUpKXJldHVybjt0LnVuaWZvcm0yZnYodGhpcy5hZGRyLGUpLHppKG4sZSl9fWZ1bmN0aW9uIFVpKHQsZSl7dmFyIG49dGhpcy5jYWNoZTtpZih2b2lkIDAhPT1lLngpblswXT09PWUueCYmblsxXT09PWUueSYmblsyXT09PWUuenx8KHQudW5pZm9ybTNmKHRoaXMuYWRkcixlLngsZS55LGUueiksblswXT1lLngsblsxXT1lLnksblsyXT1lLnopO2Vsc2UgaWYodm9pZCAwIT09ZS5yKW5bMF09PT1lLnImJm5bMV09PT1lLmcmJm5bMl09PT1lLmJ8fCh0LnVuaWZvcm0zZih0aGlzLmFkZHIsZS5yLGUuZyxlLmIpLG5bMF09ZS5yLG5bMV09ZS5nLG5bMl09ZS5iKTtlbHNle2lmKEJpKG4sZSkpcmV0dXJuO3QudW5pZm9ybTNmdih0aGlzLmFkZHIsZSksemkobixlKX19ZnVuY3Rpb24ga2kodCxlKXt2YXIgbj10aGlzLmNhY2hlO2lmKHZvaWQgMCE9PWUueCluWzBdPT09ZS54JiZuWzFdPT09ZS55JiZuWzJdPT09ZS56JiZuWzNdPT09ZS53fHwodC51bmlmb3JtNGYodGhpcy5hZGRyLGUueCxlLnksZS56LGUudyksblswXT1lLngsblsxXT1lLnksblsyXT1lLnosblszXT1lLncpO2Vsc2V7aWYoQmkobixlKSlyZXR1cm47dC51bmlmb3JtNGZ2KHRoaXMuYWRkcixlKSx6aShuLGUpfX1mdW5jdGlvbiBWaSh0LGUpe3ZhciBuPXRoaXMuY2FjaGUsaT1lLmVsZW1lbnRzO2lmKHZvaWQgMD09PWkpe2lmKEJpKG4sZSkpcmV0dXJuO3QudW5pZm9ybU1hdHJpeDJmdih0aGlzLmFkZHIsITEsZSksemkobixlKX1lbHNle2lmKEJpKG4saSkpcmV0dXJuO09pLnNldChpKSx0LnVuaWZvcm1NYXRyaXgyZnYodGhpcy5hZGRyLCExLE9pKSx6aShuLGkpfX1mdW5jdGlvbiBXaSh0LGUpe3ZhciBuPXRoaXMuY2FjaGUsaT1lLmVsZW1lbnRzO2lmKHZvaWQgMD09PWkpe2lmKEJpKG4sZSkpcmV0dXJuO3QudW5pZm9ybU1hdHJpeDNmdih0aGlzLmFkZHIsITEsZSksemkobixlKX1lbHNle2lmKEJpKG4saSkpcmV0dXJuO0lpLnNldChpKSx0LnVuaWZvcm1NYXRyaXgzZnYodGhpcy5hZGRyLCExLElpKSx6aShuLGkpfX1mdW5jdGlvbiBqaSh0LGUpe3ZhciBuPXRoaXMuY2FjaGUsaT1lLmVsZW1lbnRzO2lmKHZvaWQgMD09PWkpe2lmKEJpKG4sZSkpcmV0dXJuO3QudW5pZm9ybU1hdHJpeDRmdih0aGlzLmFkZHIsITEsZSksemkobixlKX1lbHNle2lmKEJpKG4saSkpcmV0dXJuO0RpLnNldChpKSx0LnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5hZGRyLCExLERpKSx6aShuLGkpfX1mdW5jdGlvbiBxaSh0LGUsbil7dmFyIGk9dGhpcy5jYWNoZSxyPW4uYWxsb2NhdGVUZXh0dXJlVW5pdCgpO2lbMF0hPT1yJiYodC51bmlmb3JtMWkodGhpcy5hZGRyLHIpLGlbMF09ciksbi5zYWZlU2V0VGV4dHVyZTJEKGV8fEVpLHIpfWZ1bmN0aW9uIFhpKHQsZSxuKXt2YXIgaT10aGlzLmNhY2hlLHI9bi5hbGxvY2F0ZVRleHR1cmVVbml0KCk7aVswXSE9PXImJih0LnVuaWZvcm0xaSh0aGlzLmFkZHIsciksaVswXT1yKSxuLnNldFRleHR1cmUyREFycmF5KGV8fEFpLHIpfWZ1bmN0aW9uIFlpKHQsZSxuKXt2YXIgaT10aGlzLmNhY2hlLHI9bi5hbGxvY2F0ZVRleHR1cmVVbml0KCk7aVswXSE9PXImJih0LnVuaWZvcm0xaSh0aGlzLmFkZHIsciksaVswXT1yKSxuLnNldFRleHR1cmUzRChlfHxMaSxyKX1mdW5jdGlvbiBaaSh0LGUsbil7dmFyIGk9dGhpcy5jYWNoZSxyPW4uYWxsb2NhdGVUZXh0dXJlVW5pdCgpO2lbMF0hPT1yJiYodC51bmlmb3JtMWkodGhpcy5hZGRyLHIpLGlbMF09ciksbi5zYWZlU2V0VGV4dHVyZUN1YmUoZXx8Umkscil9ZnVuY3Rpb24gSmkodCxlKXt2YXIgbj10aGlzLmNhY2hlO25bMF0hPT1lJiYodC51bmlmb3JtMWkodGhpcy5hZGRyLGUpLG5bMF09ZSl9ZnVuY3Rpb24gUWkodCxlKXt2YXIgbj10aGlzLmNhY2hlO0JpKG4sZSl8fCh0LnVuaWZvcm0yaXYodGhpcy5hZGRyLGUpLHppKG4sZSkpfWZ1bmN0aW9uIEtpKHQsZSl7dmFyIG49dGhpcy5jYWNoZTtCaShuLGUpfHwodC51bmlmb3JtM2l2KHRoaXMuYWRkcixlKSx6aShuLGUpKX1mdW5jdGlvbiAkaSh0LGUpe3ZhciBuPXRoaXMuY2FjaGU7QmkobixlKXx8KHQudW5pZm9ybTRpdih0aGlzLmFkZHIsZSksemkobixlKSl9ZnVuY3Rpb24gdHIodCxlKXt2YXIgbj10aGlzLmNhY2hlO25bMF0hPT1lJiYodC51bmlmb3JtMXVpKHRoaXMuYWRkcixlKSxuWzBdPWUpfWZ1bmN0aW9uIGVyKHQsZSl7dC51bmlmb3JtMWZ2KHRoaXMuYWRkcixlKX1mdW5jdGlvbiBucih0LGUpe3QudW5pZm9ybTFpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24gaXIodCxlKXt0LnVuaWZvcm0yaXYodGhpcy5hZGRyLGUpfWZ1bmN0aW9uIHJyKHQsZSl7dC51bmlmb3JtM2l2KHRoaXMuYWRkcixlKX1mdW5jdGlvbiBhcih0LGUpe3QudW5pZm9ybTRpdih0aGlzLmFkZHIsZSl9ZnVuY3Rpb24gb3IodCxlKXt2YXIgbj1OaShlLHRoaXMuc2l6ZSwyKTt0LnVuaWZvcm0yZnYodGhpcy5hZGRyLG4pfWZ1bmN0aW9uIHNyKHQsZSl7dmFyIG49TmkoZSx0aGlzLnNpemUsMyk7dC51bmlmb3JtM2Z2KHRoaXMuYWRkcixuKX1mdW5jdGlvbiBjcih0LGUpe3ZhciBuPU5pKGUsdGhpcy5zaXplLDQpO3QudW5pZm9ybTRmdih0aGlzLmFkZHIsbil9ZnVuY3Rpb24gbHIodCxlKXt2YXIgbj1OaShlLHRoaXMuc2l6ZSw0KTt0LnVuaWZvcm1NYXRyaXgyZnYodGhpcy5hZGRyLCExLG4pfWZ1bmN0aW9uIHVyKHQsZSl7dmFyIG49TmkoZSx0aGlzLnNpemUsOSk7dC51bmlmb3JtTWF0cml4M2Z2KHRoaXMuYWRkciwhMSxuKX1mdW5jdGlvbiBocih0LGUpe3ZhciBuPU5pKGUsdGhpcy5zaXplLDE2KTt0LnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5hZGRyLCExLG4pfWZ1bmN0aW9uIGRyKHQsZSxuKXt2YXIgaT1lLmxlbmd0aCxyPUZpKG4saSk7dC51bmlmb3JtMWl2KHRoaXMuYWRkcixyKTtmb3IodmFyIGE9MDthIT09aTsrK2Epbi5zYWZlU2V0VGV4dHVyZTJEKGVbYV18fEVpLHJbYV0pfWZ1bmN0aW9uIHByKHQsZSxuKXt2YXIgaT1lLmxlbmd0aCxyPUZpKG4saSk7dC51bmlmb3JtMWl2KHRoaXMuYWRkcixyKTtmb3IodmFyIGE9MDthIT09aTsrK2Epbi5zYWZlU2V0VGV4dHVyZUN1YmUoZVthXXx8UmksclthXSl9ZnVuY3Rpb24gZnIodCxlLG4pe3RoaXMuaWQ9dCx0aGlzLmFkZHI9bix0aGlzLmNhY2hlPVtdLHRoaXMuc2V0VmFsdWU9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgNTEyNjpyZXR1cm4gSGk7Y2FzZSAzNTY2NDpyZXR1cm4gR2k7Y2FzZSAzNTY2NTpyZXR1cm4gVWk7Y2FzZSAzNTY2NjpyZXR1cm4ga2k7Y2FzZSAzNTY3NDpyZXR1cm4gVmk7Y2FzZSAzNTY3NTpyZXR1cm4gV2k7Y2FzZSAzNTY3NjpyZXR1cm4gamk7Y2FzZSA1MTI0OmNhc2UgMzU2NzA6cmV0dXJuIEppO2Nhc2UgMzU2Njc6Y2FzZSAzNTY3MTpyZXR1cm4gUWk7Y2FzZSAzNTY2ODpjYXNlIDM1NjcyOnJldHVybiBLaTtjYXNlIDM1NjY5OmNhc2UgMzU2NzM6cmV0dXJuICRpO2Nhc2UgNTEyNTpyZXR1cm4gdHI7Y2FzZSAzNTY3ODpjYXNlIDM2MTk4OmNhc2UgMzYyOTg6Y2FzZSAzNjMwNjpjYXNlIDM1NjgyOnJldHVybiBxaTtjYXNlIDM1Njc5OmNhc2UgMzYyOTk6Y2FzZSAzNjMwNzpyZXR1cm4gWWk7Y2FzZSAzNTY4MDpjYXNlIDM2MzAwOmNhc2UgMzYzMDg6Y2FzZSAzNjI5MzpyZXR1cm4gWmk7Y2FzZSAzNjI4OTpjYXNlIDM2MzAzOmNhc2UgMzYzMTE6Y2FzZSAzNjI5MjpyZXR1cm4gWGl9fShlLnR5cGUpfWZ1bmN0aW9uIG1yKHQsZSxuKXt0aGlzLmlkPXQsdGhpcy5hZGRyPW4sdGhpcy5jYWNoZT1bXSx0aGlzLnNpemU9ZS5zaXplLHRoaXMuc2V0VmFsdWU9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgNTEyNjpyZXR1cm4gZXI7Y2FzZSAzNTY2NDpyZXR1cm4gb3I7Y2FzZSAzNTY2NTpyZXR1cm4gc3I7Y2FzZSAzNTY2NjpyZXR1cm4gY3I7Y2FzZSAzNTY3NDpyZXR1cm4gbHI7Y2FzZSAzNTY3NTpyZXR1cm4gdXI7Y2FzZSAzNTY3NjpyZXR1cm4gaHI7Y2FzZSA1MTI0OmNhc2UgMzU2NzA6cmV0dXJuIG5yO2Nhc2UgMzU2Njc6Y2FzZSAzNTY3MTpyZXR1cm4gaXI7Y2FzZSAzNTY2ODpjYXNlIDM1NjcyOnJldHVybiBycjtjYXNlIDM1NjY5OmNhc2UgMzU2NzM6cmV0dXJuIGFyO2Nhc2UgMzU2Nzg6Y2FzZSAzNjE5ODpjYXNlIDM2Mjk4OmNhc2UgMzYzMDY6Y2FzZSAzNTY4MjpyZXR1cm4gZHI7Y2FzZSAzNTY4MDpjYXNlIDM2MzAwOmNhc2UgMzYzMDg6Y2FzZSAzNjI5MzpyZXR1cm4gcHJ9fShlLnR5cGUpfWZ1bmN0aW9uIHZyKHQpe3RoaXMuaWQ9dCx0aGlzLnNlcT1bXSx0aGlzLm1hcD17fX1tci5wcm90b3R5cGUudXBkYXRlQ2FjaGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jYWNoZTt0IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5JiZlLmxlbmd0aCE9PXQubGVuZ3RoJiYodGhpcy5jYWNoZT1uZXcgRmxvYXQzMkFycmF5KHQubGVuZ3RoKSksemkoZSx0KX0sdnIucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dGhpcy5zZXEscj0wLGE9aS5sZW5ndGg7ciE9PWE7KytyKXt2YXIgbz1pW3JdO28uc2V0VmFsdWUodCxlW28uaWRdLG4pfX07dmFyIGdyPS8oXHcrKShcXSk/KFxbfFwuKT8vZztmdW5jdGlvbiB5cih0LGUpe3Quc2VxLnB1c2goZSksdC5tYXBbZS5pZF09ZX1mdW5jdGlvbiB4cih0LGUsbil7dmFyIGk9dC5uYW1lLHI9aS5sZW5ndGg7Zm9yKGdyLmxhc3RJbmRleD0wOzspe3ZhciBhPWdyLmV4ZWMoaSksbz1nci5sYXN0SW5kZXgscz1hWzFdLGM9Il0iPT09YVsyXSxsPWFbM107aWYoYyYmKHN8PTApLHZvaWQgMD09PWx8fCJbIj09PWwmJm8rMj09PXIpe3lyKG4sdm9pZCAwPT09bD9uZXcgZnIocyx0LGUpOm5ldyBtcihzLHQsZSkpO2JyZWFrfXZhciB1PW4ubWFwW3NdO3ZvaWQgMD09PXUmJnlyKG4sdT1uZXcgdnIocykpLG49dX19ZnVuY3Rpb24gX3IodCxlKXt0aGlzLnNlcT1bXSx0aGlzLm1hcD17fTtmb3IodmFyIG49dC5nZXRQcm9ncmFtUGFyYW1ldGVyKGUsMzU3MTgpLGk9MDtpPG47KytpKXt2YXIgcj10LmdldEFjdGl2ZVVuaWZvcm0oZSxpKTt4cihyLHQuZ2V0VW5pZm9ybUxvY2F0aW9uKGUsci5uYW1lKSx0aGlzKX19ZnVuY3Rpb24gYnIodCxlLG4pe3ZhciBpPXQuY3JlYXRlU2hhZGVyKGUpO3JldHVybiB0LnNoYWRlclNvdXJjZShpLG4pLHQuY29tcGlsZVNoYWRlcihpKSxpfV9yLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLm1hcFtlXTt2b2lkIDAhPT1yJiZyLnNldFZhbHVlKHQsbixpKX0sX3IucHJvdG90eXBlLnNldE9wdGlvbmFsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1lW25dO3ZvaWQgMCE9PWkmJnRoaXMuc2V0VmFsdWUodCxuLGkpfSxfci51cGxvYWQ9ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPTAsYT1lLmxlbmd0aDtyIT09YTsrK3Ipe3ZhciBvPWVbcl0scz1uW28uaWRdOyExIT09cy5uZWVkc1VwZGF0ZSYmby5zZXRWYWx1ZSh0LHMudmFsdWUsaSl9fSxfci5zZXFXaXRoVmFsdWU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10saT0wLHI9dC5sZW5ndGg7aSE9PXI7KytpKXt2YXIgYT10W2ldO2EuaWQgaW4gZSYmbi5wdXNoKGEpfXJldHVybiBufTt2YXIgd3I9MDtmdW5jdGlvbiBNcih0KXtzd2l0Y2godCl7Y2FzZSBZOnJldHVyblsiTGluZWFyIiwiKCB2YWx1ZSApIl07Y2FzZSBaOnJldHVyblsic1JHQiIsIiggdmFsdWUgKSJdO2Nhc2UgUTpyZXR1cm5bIlJHQkUiLCIoIHZhbHVlICkiXTtjYXNlIEs6cmV0dXJuWyJSR0JNIiwiKCB2YWx1ZSwgNy4wICkiXTtjYXNlICQ6cmV0dXJuWyJSR0JNIiwiKCB2YWx1ZSwgMTYuMCApIl07Y2FzZSB0dDpyZXR1cm5bIlJHQkQiLCIoIHZhbHVlLCAyNTYuMCApIl07Y2FzZSBKOnJldHVyblsiR2FtbWEiLCIoIHZhbHVlLCBmbG9hdCggR0FNTUFfRkFDVE9SICkgKSJdO2Nhc2UgMzAwMzpyZXR1cm5bIkxvZ0x1diIsIiggdmFsdWUgKSJdO2RlZmF1bHQ6cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xQcm9ncmFtOiBVbnN1cHBvcnRlZCBlbmNvZGluZzoiLHQpLFsiTGluZWFyIiwiKCB2YWx1ZSApIl19fWZ1bmN0aW9uIFNyKHQsZSxuKXt2YXIgaT10LmdldFNoYWRlclBhcmFtZXRlcihlLDM1NzEzKSxyPXQuZ2V0U2hhZGVySW5mb0xvZyhlKS50cmltKCk7cmV0dXJuIGkmJiIiPT09cj8iIjoiVEhSRUUuV2ViR0xTaGFkZXI6IGdsLmdldFNoYWRlckluZm9Mb2coKSAiK24rIlxuIityK2Z1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnNwbGl0KCJcbiIpLG49MDtuPGUubGVuZ3RoO24rKyllW25dPW4rMSsiOiAiK2Vbbl07cmV0dXJuIGUuam9pbigiXG4iKX0odC5nZXRTaGFkZXJTb3VyY2UoZSkpfWZ1bmN0aW9uIFRyKHQsZSl7dmFyIG49TXIoZSk7cmV0dXJuInZlYzQgIit0KyIoIHZlYzQgdmFsdWUgKSB7IHJldHVybiAiK25bMF0rIlRvTGluZWFyIituWzFdKyI7IH0ifWZ1bmN0aW9uIEVyKHQsZSl7dmFyIG47c3dpdGNoKGUpe2Nhc2UgMTpuPSJMaW5lYXIiO2JyZWFrO2Nhc2UgMjpuPSJSZWluaGFyZCI7YnJlYWs7Y2FzZSAzOm49Ik9wdGltaXplZENpbmVvbiI7YnJlYWs7Y2FzZSA0Om49IkFDRVNGaWxtaWMiO2JyZWFrO2Nhc2UgNTpuPSJDdXN0b20iO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFByb2dyYW06IFVuc3VwcG9ydGVkIHRvbmVNYXBwaW5nOiIsZSksbj0iTGluZWFyIn1yZXR1cm4idmVjMyAiK3QrIiggdmVjMyBjb2xvciApIHsgcmV0dXJuICIrbisiVG9uZU1hcHBpbmcoIGNvbG9yICk7IH0ifWZ1bmN0aW9uIEFyKHQpe3JldHVybiIiIT09dH1mdW5jdGlvbiBMcih0LGUpe3JldHVybiB0LnJlcGxhY2UoL05VTV9ESVJfTElHSFRTL2csZS5udW1EaXJMaWdodHMpLnJlcGxhY2UoL05VTV9TUE9UX0xJR0hUUy9nLGUubnVtU3BvdExpZ2h0cykucmVwbGFjZSgvTlVNX1JFQ1RfQVJFQV9MSUdIVFMvZyxlLm51bVJlY3RBcmVhTGlnaHRzKS5yZXBsYWNlKC9OVU1fUE9JTlRfTElHSFRTL2csZS5udW1Qb2ludExpZ2h0cykucmVwbGFjZSgvTlVNX0hFTUlfTElHSFRTL2csZS5udW1IZW1pTGlnaHRzKS5yZXBsYWNlKC9OVU1fRElSX0xJR0hUX1NIQURPV1MvZyxlLm51bURpckxpZ2h0U2hhZG93cykucmVwbGFjZSgvTlVNX1NQT1RfTElHSFRfU0hBRE9XUy9nLGUubnVtU3BvdExpZ2h0U2hhZG93cykucmVwbGFjZSgvTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MvZyxlLm51bVBvaW50TGlnaHRTaGFkb3dzKX1mdW5jdGlvbiBScih0LGUpe3JldHVybiB0LnJlcGxhY2UoL05VTV9DTElQUElOR19QTEFORVMvZyxlLm51bUNsaXBwaW5nUGxhbmVzKS5yZXBsYWNlKC9VTklPTl9DTElQUElOR19QTEFORVMvZyxlLm51bUNsaXBwaW5nUGxhbmVzLWUubnVtQ2xpcEludGVyc2VjdGlvbil9dmFyIENyPS9eWyBcdF0qI2luY2x1ZGUgKzwoW1x3XGQuL10rKT4vZ207ZnVuY3Rpb24gUHIodCl7cmV0dXJuIHQucmVwbGFjZShDcixEcil9ZnVuY3Rpb24gRHIodCxlKXt2YXIgbj1zaVtlXTtpZih2b2lkIDA9PT1uKXRocm93IG5ldyBFcnJvcigiQ2FuIG5vdCByZXNvbHZlICNpbmNsdWRlIDwiK2UrIj4iKTtyZXR1cm4gUHIobil9dmFyIElyPS8jcHJhZ21hIHVucm9sbF9sb29wW1xzXSs/Zm9yIFwoIGludCBpIFw9IChcZCspXDsgaSA8IChcZCspXDsgaSBcK1wrIFwpIFx7KFtcc1xTXSs/KSg/PVx9KVx9L2csT3I9LyNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRccytmb3JccypcKFxzKmludFxzK2lccyo9XHMqKFxkKylccyo7XHMqaVxzKjxccyooXGQrKVxzKjtccyppXHMqXCtcK1xzKlwpXHMqeyhbXHNcU10rPyl9XHMrI3ByYWdtYSB1bnJvbGxfbG9vcF9lbmQvZztmdW5jdGlvbiBOcih0KXtyZXR1cm4gdC5yZXBsYWNlKE9yLHpyKS5yZXBsYWNlKElyLEJyKX1mdW5jdGlvbiBCcih0LGUsbixpKXtyZXR1cm4gY29uc29sZS53YXJuKCJXZWJHTFByb2dyYW06ICNwcmFnbWEgdW5yb2xsX2xvb3Agc2hhZGVyIHN5bnRheCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlICNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnQgc3ludGF4IGluc3RlYWQuIiksenIodCxlLG4saSl9ZnVuY3Rpb24genIodCxlLG4saSl7Zm9yKHZhciByPSIiLGE9cGFyc2VJbnQoZSk7YTxwYXJzZUludChuKTthKyspcis9aS5yZXBsYWNlKC9cW1xzKmlccypcXS9nLCJbICIrYSsiIF0iKS5yZXBsYWNlKC9VTlJPTExFRF9MT09QX0lOREVYL2csYSk7cmV0dXJuIHJ9ZnVuY3Rpb24gRnIodCl7dmFyIGU9InByZWNpc2lvbiAiK3QucHJlY2lzaW9uKyIgZmxvYXQ7XG5wcmVjaXNpb24gIit0LnByZWNpc2lvbisiIGludDsiO3JldHVybiJoaWdocCI9PT10LnByZWNpc2lvbj9lKz0iXG4jZGVmaW5lIEhJR0hfUFJFQ0lTSU9OIjoibWVkaXVtcCI9PT10LnByZWNpc2lvbj9lKz0iXG4jZGVmaW5lIE1FRElVTV9QUkVDSVNJT04iOiJsb3dwIj09PXQucHJlY2lzaW9uJiYoZSs9IlxuI2RlZmluZSBMT1dfUFJFQ0lTSU9OIiksZX1mdW5jdGlvbiBIcih0LGUsbixpKXt2YXIgcixzLGMsaCxkLHA9dC5nZXRDb250ZXh0KCksZj1uLmRlZmluZXMsbT1uLnZlcnRleFNoYWRlcix2PW4uZnJhZ21lbnRTaGFkZXIsZz1mdW5jdGlvbih0KXt2YXIgZT0iU0hBRE9XTUFQX1RZUEVfQkFTSUMiO3JldHVybiAxPT09dC5zaGFkb3dNYXBUeXBlP2U9IlNIQURPV01BUF9UWVBFX1BDRiI6Mj09PXQuc2hhZG93TWFwVHlwZT9lPSJTSEFET1dNQVBfVFlQRV9QQ0ZfU09GVCI6Mz09PXQuc2hhZG93TWFwVHlwZSYmKGU9IlNIQURPV01BUF9UWVBFX1ZTTSIpLGV9KG4pLHk9ZnVuY3Rpb24odCl7dmFyIGU9IkVOVk1BUF9UWVBFX0NVQkUiO2lmKHQuZW52TWFwKXN3aXRjaCh0LmVudk1hcE1vZGUpe2Nhc2UgYTpjYXNlIG86ZT0iRU5WTUFQX1RZUEVfQ1VCRSI7YnJlYWs7Y2FzZSBsOmNhc2UgdTplPSJFTlZNQVBfVFlQRV9DVUJFX1VWIn1yZXR1cm4gZX0obikseD1mdW5jdGlvbih0KXt2YXIgZT0iRU5WTUFQX01PREVfUkVGTEVDVElPTiI7aWYodC5lbnZNYXApc3dpdGNoKHQuZW52TWFwTW9kZSl7Y2FzZSBvOmNhc2UgdTplPSJFTlZNQVBfTU9ERV9SRUZSQUNUSU9OIn1yZXR1cm4gZX0obiksXz1mdW5jdGlvbih0KXt2YXIgZT0iRU5WTUFQX0JMRU5ESU5HX05PTkUiO2lmKHQuZW52TWFwKXN3aXRjaCh0LmNvbWJpbmUpe2Nhc2UgMDplPSJFTlZNQVBfQkxFTkRJTkdfTVVMVElQTFkiO2JyZWFrO2Nhc2UgMTplPSJFTlZNQVBfQkxFTkRJTkdfTUlYIjticmVhaztjYXNlIDI6ZT0iRU5WTUFQX0JMRU5ESU5HX0FERCJ9cmV0dXJuIGV9KG4pLGI9dC5nYW1tYUZhY3Rvcj4wP3QuZ2FtbWFGYWN0b3I6MSx3PW4uaXNXZWJHTDI/IiI6ZnVuY3Rpb24odCl7cmV0dXJuW3QuZXh0ZW5zaW9uRGVyaXZhdGl2ZXN8fHQuZW52TWFwQ3ViZVVWfHx0LmJ1bXBNYXB8fHQudGFuZ2VudFNwYWNlTm9ybWFsTWFwfHx0LmNsZWFyY29hdE5vcm1hbE1hcHx8dC5mbGF0U2hhZGluZ3x8InBoeXNpY2FsIj09PXQuc2hhZGVySUQ/IiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlIjoiIiwodC5leHRlbnNpb25GcmFnRGVwdGh8fHQubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcikmJnQucmVuZGVyZXJFeHRlbnNpb25GcmFnRGVwdGg/IiNleHRlbnNpb24gR0xfRVhUX2ZyYWdfZGVwdGggOiBlbmFibGUiOiIiLHQuZXh0ZW5zaW9uRHJhd0J1ZmZlcnMmJnQucmVuZGVyZXJFeHRlbnNpb25EcmF3QnVmZmVycz8iI2V4dGVuc2lvbiBHTF9FWFRfZHJhd19idWZmZXJzIDogcmVxdWlyZSI6IiIsKHQuZXh0ZW5zaW9uU2hhZGVyVGV4dHVyZUxPRHx8dC5lbnZNYXApJiZ0LnJlbmRlcmVyRXh0ZW5zaW9uU2hhZGVyVGV4dHVyZUxvZD8iI2V4dGVuc2lvbiBHTF9FWFRfc2hhZGVyX3RleHR1cmVfbG9kIDogZW5hYmxlIjoiIl0uZmlsdGVyKEFyKS5qb2luKCJcbiIpfShuKSxNPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgbiBpbiB0KXt2YXIgaT10W25dOyExIT09aSYmZS5wdXNoKCIjZGVmaW5lICIrbisiICIraSl9cmV0dXJuIGUuam9pbigiXG4iKX0oZiksUz1wLmNyZWF0ZVByb2dyYW0oKSxUPW4uZ2xzbFZlcnNpb24/IiN2ZXJzaW9uICIrbi5nbHNsVmVyc2lvbisiXG4iOiIiO24uaXNSYXdTaGFkZXJNYXRlcmlhbD8oKHI9W01dLmZpbHRlcihBcikuam9pbigiXG4iKSkubGVuZ3RoPjAmJihyKz0iXG4iKSwocz1bdyxNXS5maWx0ZXIoQXIpLmpvaW4oIlxuIikpLmxlbmd0aD4wJiYocys9IlxuIikpOihyPVtGcihuKSwiI2RlZmluZSBTSEFERVJfTkFNRSAiK24uc2hhZGVyTmFtZSxNLG4uaW5zdGFuY2luZz8iI2RlZmluZSBVU0VfSU5TVEFOQ0lORyI6IiIsbi5pbnN0YW5jaW5nQ29sb3I/IiNkZWZpbmUgVVNFX0lOU1RBTkNJTkdfQ09MT1IiOiIiLG4uc3VwcG9ydHNWZXJ0ZXhUZXh0dXJlcz8iI2RlZmluZSBWRVJURVhfVEVYVFVSRVMiOiIiLCIjZGVmaW5lIEdBTU1BX0ZBQ1RPUiAiK2IsIiNkZWZpbmUgTUFYX0JPTkVTICIrbi5tYXhCb25lcyxuLnVzZUZvZyYmbi5mb2c/IiNkZWZpbmUgVVNFX0ZPRyI6IiIsbi51c2VGb2cmJm4uZm9nRXhwMj8iI2RlZmluZSBGT0dfRVhQMiI6IiIsbi5tYXA/IiNkZWZpbmUgVVNFX01BUCI6IiIsbi5lbnZNYXA/IiNkZWZpbmUgVVNFX0VOVk1BUCI6IiIsbi5lbnZNYXA/IiNkZWZpbmUgIit4OiIiLG4ubGlnaHRNYXA/IiNkZWZpbmUgVVNFX0xJR0hUTUFQIjoiIixuLmFvTWFwPyIjZGVmaW5lIFVTRV9BT01BUCI6IiIsbi5lbWlzc2l2ZU1hcD8iI2RlZmluZSBVU0VfRU1JU1NJVkVNQVAiOiIiLG4uYnVtcE1hcD8iI2RlZmluZSBVU0VfQlVNUE1BUCI6IiIsbi5ub3JtYWxNYXA/IiNkZWZpbmUgVVNFX05PUk1BTE1BUCI6IiIsbi5ub3JtYWxNYXAmJm4ub2JqZWN0U3BhY2VOb3JtYWxNYXA/IiNkZWZpbmUgT0JKRUNUU1BBQ0VfTk9STUFMTUFQIjoiIixuLm5vcm1hbE1hcCYmbi50YW5nZW50U3BhY2VOb3JtYWxNYXA/IiNkZWZpbmUgVEFOR0VOVFNQQUNFX05PUk1BTE1BUCI6IiIsbi5jbGVhcmNvYXRNYXA/IiNkZWZpbmUgVVNFX0NMRUFSQ09BVE1BUCI6IiIsbi5jbGVhcmNvYXRSb3VnaG5lc3NNYXA/IiNkZWZpbmUgVVNFX0NMRUFSQ09BVF9ST1VHSE5FU1NNQVAiOiIiLG4uY2xlYXJjb2F0Tm9ybWFsTWFwPyIjZGVmaW5lIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQIjoiIixuLmRpc3BsYWNlbWVudE1hcCYmbi5zdXBwb3J0c1ZlcnRleFRleHR1cmVzPyIjZGVmaW5lIFVTRV9ESVNQTEFDRU1FTlRNQVAiOiIiLG4uc3BlY3VsYXJNYXA/IiNkZWZpbmUgVVNFX1NQRUNVTEFSTUFQIjoiIixuLnJvdWdobmVzc01hcD8iI2RlZmluZSBVU0VfUk9VR0hORVNTTUFQIjoiIixuLm1ldGFsbmVzc01hcD8iI2RlZmluZSBVU0VfTUVUQUxORVNTTUFQIjoiIixuLmFscGhhTWFwPyIjZGVmaW5lIFVTRV9BTFBIQU1BUCI6IiIsbi50cmFuc21pc3Npb25NYXA/IiNkZWZpbmUgVVNFX1RSQU5TTUlTU0lPTk1BUCI6IiIsbi52ZXJ0ZXhUYW5nZW50cz8iI2RlZmluZSBVU0VfVEFOR0VOVCI6IiIsbi52ZXJ0ZXhDb2xvcnM/IiNkZWZpbmUgVVNFX0NPTE9SIjoiIixuLnZlcnRleFV2cz8iI2RlZmluZSBVU0VfVVYiOiIiLG4udXZzVmVydGV4T25seT8iI2RlZmluZSBVVlNfVkVSVEVYX09OTFkiOiIiLG4uZmxhdFNoYWRpbmc/IiNkZWZpbmUgRkxBVF9TSEFERUQiOiIiLG4uc2tpbm5pbmc/IiNkZWZpbmUgVVNFX1NLSU5OSU5HIjoiIixuLnVzZVZlcnRleFRleHR1cmU/IiNkZWZpbmUgQk9ORV9URVhUVVJFIjoiIixuLm1vcnBoVGFyZ2V0cz8iI2RlZmluZSBVU0VfTU9SUEhUQVJHRVRTIjoiIixuLm1vcnBoTm9ybWFscyYmITE9PT1uLmZsYXRTaGFkaW5nPyIjZGVmaW5lIFVTRV9NT1JQSE5PUk1BTFMiOiIiLG4uZG91YmxlU2lkZWQ/IiNkZWZpbmUgRE9VQkxFX1NJREVEIjoiIixuLmZsaXBTaWRlZD8iI2RlZmluZSBGTElQX1NJREVEIjoiIixuLnNoYWRvd01hcEVuYWJsZWQ/IiNkZWZpbmUgVVNFX1NIQURPV01BUCI6IiIsbi5zaGFkb3dNYXBFbmFibGVkPyIjZGVmaW5lICIrZzoiIixuLnNpemVBdHRlbnVhdGlvbj8iI2RlZmluZSBVU0VfU0laRUFUVEVOVUFUSU9OIjoiIixuLmxvZ2FyaXRobWljRGVwdGhCdWZmZXI/IiNkZWZpbmUgVVNFX0xPR0RFUFRIQlVGIjoiIixuLmxvZ2FyaXRobWljRGVwdGhCdWZmZXImJm4ucmVuZGVyZXJFeHRlbnNpb25GcmFnRGVwdGg/IiNkZWZpbmUgVVNFX0xPR0RFUFRIQlVGX0VYVCI6IiIsInVuaWZvcm0gbWF0NCBtb2RlbE1hdHJpeDsiLCJ1bmlmb3JtIG1hdDQgbW9kZWxWaWV3TWF0cml4OyIsInVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uTWF0cml4OyIsInVuaWZvcm0gbWF0NCB2aWV3TWF0cml4OyIsInVuaWZvcm0gbWF0MyBub3JtYWxNYXRyaXg7IiwidW5pZm9ybSB2ZWMzIGNhbWVyYVBvc2l0aW9uOyIsInVuaWZvcm0gYm9vbCBpc09ydGhvZ3JhcGhpYzsiLCIjaWZkZWYgVVNFX0lOU1RBTkNJTkciLCJcdGF0dHJpYnV0ZSBtYXQ0IGluc3RhbmNlTWF0cml4OyIsIiNlbmRpZiIsIiNpZmRlZiBVU0VfSU5TVEFOQ0lOR19DT0xPUiIsIlx0YXR0cmlidXRlIHZlYzMgaW5zdGFuY2VDb2xvcjsiLCIjZW5kaWYiLCJhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsiLCJhdHRyaWJ1dGUgdmVjMyBub3JtYWw7IiwiYXR0cmlidXRlIHZlYzIgdXY7IiwiI2lmZGVmIFVTRV9UQU5HRU5UIiwiXHRhdHRyaWJ1dGUgdmVjNCB0YW5nZW50OyIsIiNlbmRpZiIsIiNpZmRlZiBVU0VfQ09MT1IiLCJcdGF0dHJpYnV0ZSB2ZWMzIGNvbG9yOyIsIiNlbmRpZiIsIiNpZmRlZiBVU0VfTU9SUEhUQVJHRVRTIiwiXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDA7IiwiXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDE7IiwiXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDI7IiwiXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDM7IiwiXHQjaWZkZWYgVVNFX01PUlBITk9STUFMUyIsIlx0XHRhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDA7IiwiXHRcdGF0dHJpYnV0ZSB2ZWMzIG1vcnBoTm9ybWFsMTsiLCJcdFx0YXR0cmlidXRlIHZlYzMgbW9ycGhOb3JtYWwyOyIsIlx0XHRhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDM7IiwiXHQjZWxzZSIsIlx0XHRhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDQ7IiwiXHRcdGF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0NTsiLCJcdFx0YXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQ2OyIsIlx0XHRhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDc7IiwiXHQjZW5kaWYiLCIjZW5kaWYiLCIjaWZkZWYgVVNFX1NLSU5OSU5HIiwiXHRhdHRyaWJ1dGUgdmVjNCBza2luSW5kZXg7IiwiXHRhdHRyaWJ1dGUgdmVjNCBza2luV2VpZ2h0OyIsIiNlbmRpZiIsIlxuIl0uZmlsdGVyKEFyKS5qb2luKCJcbiIpLHM9W3csRnIobiksIiNkZWZpbmUgU0hBREVSX05BTUUgIituLnNoYWRlck5hbWUsTSxuLmFscGhhVGVzdD8iI2RlZmluZSBBTFBIQVRFU1QgIituLmFscGhhVGVzdCsobi5hbHBoYVRlc3QlMT8iIjoiLjAiKToiIiwiI2RlZmluZSBHQU1NQV9GQUNUT1IgIitiLG4udXNlRm9nJiZuLmZvZz8iI2RlZmluZSBVU0VfRk9HIjoiIixuLnVzZUZvZyYmbi5mb2dFeHAyPyIjZGVmaW5lIEZPR19FWFAyIjoiIixuLm1hcD8iI2RlZmluZSBVU0VfTUFQIjoiIixuLm1hdGNhcD8iI2RlZmluZSBVU0VfTUFUQ0FQIjoiIixuLmVudk1hcD8iI2RlZmluZSBVU0VfRU5WTUFQIjoiIixuLmVudk1hcD8iI2RlZmluZSAiK3k6IiIsbi5lbnZNYXA/IiNkZWZpbmUgIit4OiIiLG4uZW52TWFwPyIjZGVmaW5lICIrXzoiIixuLmxpZ2h0TWFwPyIjZGVmaW5lIFVTRV9MSUdIVE1BUCI6IiIsbi5hb01hcD8iI2RlZmluZSBVU0VfQU9NQVAiOiIiLG4uZW1pc3NpdmVNYXA/IiNkZWZpbmUgVVNFX0VNSVNTSVZFTUFQIjoiIixuLmJ1bXBNYXA/IiNkZWZpbmUgVVNFX0JVTVBNQVAiOiIiLG4ubm9ybWFsTWFwPyIjZGVmaW5lIFVTRV9OT1JNQUxNQVAiOiIiLG4ubm9ybWFsTWFwJiZuLm9iamVjdFNwYWNlTm9ybWFsTWFwPyIjZGVmaW5lIE9CSkVDVFNQQUNFX05PUk1BTE1BUCI6IiIsbi5ub3JtYWxNYXAmJm4udGFuZ2VudFNwYWNlTm9ybWFsTWFwPyIjZGVmaW5lIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAiOiIiLG4uY2xlYXJjb2F0TWFwPyIjZGVmaW5lIFVTRV9DTEVBUkNPQVRNQVAiOiIiLG4uY2xlYXJjb2F0Um91Z2huZXNzTWFwPyIjZGVmaW5lIFVTRV9DTEVBUkNPQVRfUk9VR0hORVNTTUFQIjoiIixuLmNsZWFyY29hdE5vcm1hbE1hcD8iI2RlZmluZSBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUCI6IiIsbi5zcGVjdWxhck1hcD8iI2RlZmluZSBVU0VfU1BFQ1VMQVJNQVAiOiIiLG4ucm91Z2huZXNzTWFwPyIjZGVmaW5lIFVTRV9ST1VHSE5FU1NNQVAiOiIiLG4ubWV0YWxuZXNzTWFwPyIjZGVmaW5lIFVTRV9NRVRBTE5FU1NNQVAiOiIiLG4uYWxwaGFNYXA/IiNkZWZpbmUgVVNFX0FMUEhBTUFQIjoiIixuLnNoZWVuPyIjZGVmaW5lIFVTRV9TSEVFTiI6IiIsbi50cmFuc21pc3Npb25NYXA/IiNkZWZpbmUgVVNFX1RSQU5TTUlTU0lPTk1BUCI6IiIsbi52ZXJ0ZXhUYW5nZW50cz8iI2RlZmluZSBVU0VfVEFOR0VOVCI6IiIsbi52ZXJ0ZXhDb2xvcnN8fG4uaW5zdGFuY2luZ0NvbG9yPyIjZGVmaW5lIFVTRV9DT0xPUiI6IiIsbi52ZXJ0ZXhVdnM/IiNkZWZpbmUgVVNFX1VWIjoiIixuLnV2c1ZlcnRleE9ubHk/IiNkZWZpbmUgVVZTX1ZFUlRFWF9PTkxZIjoiIixuLmdyYWRpZW50TWFwPyIjZGVmaW5lIFVTRV9HUkFESUVOVE1BUCI6IiIsbi5mbGF0U2hhZGluZz8iI2RlZmluZSBGTEFUX1NIQURFRCI6IiIsbi5kb3VibGVTaWRlZD8iI2RlZmluZSBET1VCTEVfU0lERUQiOiIiLG4uZmxpcFNpZGVkPyIjZGVmaW5lIEZMSVBfU0lERUQiOiIiLG4uc2hhZG93TWFwRW5hYmxlZD8iI2RlZmluZSBVU0VfU0hBRE9XTUFQIjoiIixuLnNoYWRvd01hcEVuYWJsZWQ/IiNkZWZpbmUgIitnOiIiLG4ucHJlbXVsdGlwbGllZEFscGhhPyIjZGVmaW5lIFBSRU1VTFRJUExJRURfQUxQSEEiOiIiLG4ucGh5c2ljYWxseUNvcnJlY3RMaWdodHM/IiNkZWZpbmUgUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUUyI6IiIsbi5sb2dhcml0aG1pY0RlcHRoQnVmZmVyPyIjZGVmaW5lIFVTRV9MT0dERVBUSEJVRiI6IiIsbi5sb2dhcml0aG1pY0RlcHRoQnVmZmVyJiZuLnJlbmRlcmVyRXh0ZW5zaW9uRnJhZ0RlcHRoPyIjZGVmaW5lIFVTRV9MT0dERVBUSEJVRl9FWFQiOiIiLChuLmV4dGVuc2lvblNoYWRlclRleHR1cmVMT0R8fG4uZW52TWFwKSYmbi5yZW5kZXJlckV4dGVuc2lvblNoYWRlclRleHR1cmVMb2Q/IiNkZWZpbmUgVEVYVFVSRV9MT0RfRVhUIjoiIiwidW5pZm9ybSBtYXQ0IHZpZXdNYXRyaXg7IiwidW5pZm9ybSB2ZWMzIGNhbWVyYVBvc2l0aW9uOyIsInVuaWZvcm0gYm9vbCBpc09ydGhvZ3JhcGhpYzsiLDAhPT1uLnRvbmVNYXBwaW5nPyIjZGVmaW5lIFRPTkVfTUFQUElORyI6IiIsMCE9PW4udG9uZU1hcHBpbmc/c2kudG9uZW1hcHBpbmdfcGFyc19mcmFnbWVudDoiIiwwIT09bi50b25lTWFwcGluZz9FcigidG9uZU1hcHBpbmciLG4udG9uZU1hcHBpbmcpOiIiLG4uZGl0aGVyaW5nPyIjZGVmaW5lIERJVEhFUklORyI6IiIsc2kuZW5jb2RpbmdzX3BhcnNfZnJhZ21lbnQsbi5tYXA/VHIoIm1hcFRleGVsVG9MaW5lYXIiLG4ubWFwRW5jb2RpbmcpOiIiLG4ubWF0Y2FwP1RyKCJtYXRjYXBUZXhlbFRvTGluZWFyIixuLm1hdGNhcEVuY29kaW5nKToiIixuLmVudk1hcD9UcigiZW52TWFwVGV4ZWxUb0xpbmVhciIsbi5lbnZNYXBFbmNvZGluZyk6IiIsbi5lbWlzc2l2ZU1hcD9UcigiZW1pc3NpdmVNYXBUZXhlbFRvTGluZWFyIixuLmVtaXNzaXZlTWFwRW5jb2RpbmcpOiIiLG4ubGlnaHRNYXA/VHIoImxpZ2h0TWFwVGV4ZWxUb0xpbmVhciIsbi5saWdodE1hcEVuY29kaW5nKToiIiwoYz0ibGluZWFyVG9PdXRwdXRUZXhlbCIsaD1uLm91dHB1dEVuY29kaW5nLGQ9TXIoaCksInZlYzQgIitjKyIoIHZlYzQgdmFsdWUgKSB7IHJldHVybiBMaW5lYXJUbyIrZFswXStkWzFdKyI7IH0iKSxuLmRlcHRoUGFja2luZz8iI2RlZmluZSBERVBUSF9QQUNLSU5HICIrbi5kZXB0aFBhY2tpbmc6IiIsIlxuIl0uZmlsdGVyKEFyKS5qb2luKCJcbiIpKSxtPVJyKG09THIobT1QcihtKSxuKSxuKSx2PVJyKHY9THIodj1Qcih2KSxuKSxuKSxtPU5yKG0pLHY9TnIodiksbi5pc1dlYkdMMiYmITAhPT1uLmlzUmF3U2hhZGVyTWF0ZXJpYWwmJihUPSIjdmVyc2lvbiAzMDAgZXNcbiIscj1bIiNkZWZpbmUgYXR0cmlidXRlIGluIiwiI2RlZmluZSB2YXJ5aW5nIG91dCIsIiNkZWZpbmUgdGV4dHVyZTJEIHRleHR1cmUiXS5qb2luKCJcbiIpKyJcbiIrcixzPVsiI2RlZmluZSB2YXJ5aW5nIGluIixuLmdsc2xWZXJzaW9uPT09cnQ/IiI6Im91dCBoaWdocCB2ZWM0IHBjX2ZyYWdDb2xvcjsiLG4uZ2xzbFZlcnNpb249PT1ydD8iIjoiI2RlZmluZSBnbF9GcmFnQ29sb3IgcGNfZnJhZ0NvbG9yIiwiI2RlZmluZSBnbF9GcmFnRGVwdGhFWFQgZ2xfRnJhZ0RlcHRoIiwiI2RlZmluZSB0ZXh0dXJlMkQgdGV4dHVyZSIsIiNkZWZpbmUgdGV4dHVyZUN1YmUgdGV4dHVyZSIsIiNkZWZpbmUgdGV4dHVyZTJEUHJvaiB0ZXh0dXJlUHJvaiIsIiNkZWZpbmUgdGV4dHVyZTJETG9kRVhUIHRleHR1cmVMb2QiLCIjZGVmaW5lIHRleHR1cmUyRFByb2pMb2RFWFQgdGV4dHVyZVByb2pMb2QiLCIjZGVmaW5lIHRleHR1cmVDdWJlTG9kRVhUIHRleHR1cmVMb2QiLCIjZGVmaW5lIHRleHR1cmUyREdyYWRFWFQgdGV4dHVyZUdyYWQiLCIjZGVmaW5lIHRleHR1cmUyRFByb2pHcmFkRVhUIHRleHR1cmVQcm9qR3JhZCIsIiNkZWZpbmUgdGV4dHVyZUN1YmVHcmFkRVhUIHRleHR1cmVHcmFkIl0uam9pbigiXG4iKSsiXG4iK3MpO3ZhciBFLEEsTD1UK3MrdixSPWJyKHAsMzU2MzMsVCtyK20pLEM9YnIocCwzNTYzMixMKTtpZihwLmF0dGFjaFNoYWRlcihTLFIpLHAuYXR0YWNoU2hhZGVyKFMsQyksdm9pZCAwIT09bi5pbmRleDBBdHRyaWJ1dGVOYW1lP3AuYmluZEF0dHJpYkxvY2F0aW9uKFMsMCxuLmluZGV4MEF0dHJpYnV0ZU5hbWUpOiEwPT09bi5tb3JwaFRhcmdldHMmJnAuYmluZEF0dHJpYkxvY2F0aW9uKFMsMCwicG9zaXRpb24iKSxwLmxpbmtQcm9ncmFtKFMpLHQuZGVidWcuY2hlY2tTaGFkZXJFcnJvcnMpe3ZhciBQPXAuZ2V0UHJvZ3JhbUluZm9Mb2coUykudHJpbSgpLEQ9cC5nZXRTaGFkZXJJbmZvTG9nKFIpLnRyaW0oKSxJPXAuZ2V0U2hhZGVySW5mb0xvZyhDKS50cmltKCksTz0hMCxOPSEwO2lmKCExPT09cC5nZXRQcm9ncmFtUGFyYW1ldGVyKFMsMzU3MTQpKXtPPSExO3ZhciBCPVNyKHAsUiwidmVydGV4Iiksej1TcihwLEMsImZyYWdtZW50Iik7Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xQcm9ncmFtOiBzaGFkZXIgZXJyb3I6ICIscC5nZXRFcnJvcigpLCIzNTcxNSIscC5nZXRQcm9ncmFtUGFyYW1ldGVyKFMsMzU3MTUpLCJnbC5nZXRQcm9ncmFtSW5mb0xvZyIsUCxCLHopfWVsc2UiIiE9PVA/Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFByb2dyYW06IGdsLmdldFByb2dyYW1JbmZvTG9nKCkiLFApOiIiIT09RCYmIiIhPT1JfHwoTj0hMSk7TiYmKHRoaXMuZGlhZ25vc3RpY3M9e3J1bm5hYmxlOk8scHJvZ3JhbUxvZzpQLHZlcnRleFNoYWRlcjp7bG9nOkQscHJlZml4OnJ9LGZyYWdtZW50U2hhZGVyOntsb2c6SSxwcmVmaXg6c319KX1yZXR1cm4gcC5kZWxldGVTaGFkZXIoUikscC5kZWxldGVTaGFkZXIoQyksdGhpcy5nZXRVbmlmb3Jtcz1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1FJiYoRT1uZXcgX3IocCxTKSksRX0sdGhpcy5nZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PUEmJihBPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXt9LGk9dC5nZXRQcm9ncmFtUGFyYW1ldGVyKGUsMzU3MjEpLHI9MDtyPGk7cisrKXt2YXIgYT10LmdldEFjdGl2ZUF0dHJpYihlLHIpLm5hbWU7blthXT10LmdldEF0dHJpYkxvY2F0aW9uKGUsYSl9cmV0dXJuIG59KHAsUykpLEF9LHRoaXMuZGVzdHJveT1mdW5jdGlvbigpe2kucmVsZWFzZVN0YXRlc09mUHJvZ3JhbSh0aGlzKSxwLmRlbGV0ZVByb2dyYW0oUyksdGhpcy5wcm9ncmFtPXZvaWQgMH0sdGhpcy5uYW1lPW4uc2hhZGVyTmFtZSx0aGlzLmlkPXdyKyssdGhpcy5jYWNoZUtleT1lLHRoaXMudXNlZFRpbWVzPTEsdGhpcy5wcm9ncmFtPVMsdGhpcy52ZXJ0ZXhTaGFkZXI9Uix0aGlzLmZyYWdtZW50U2hhZGVyPUMsdGhpc31mdW5jdGlvbiBHcih0LGUsbixpLHIsYSl7dmFyIG89W10scz1pLmlzV2ViR0wyLGM9aS5sb2dhcml0aG1pY0RlcHRoQnVmZmVyLGg9aS5mbG9hdFZlcnRleFRleHR1cmVzLGQ9aS5tYXhWZXJ0ZXhVbmlmb3JtcyxwPWkudmVydGV4VGV4dHVyZXMsZj1pLnByZWNpc2lvbixtPXtNZXNoRGVwdGhNYXRlcmlhbDoiZGVwdGgiLE1lc2hEaXN0YW5jZU1hdGVyaWFsOiJkaXN0YW5jZVJHQkEiLE1lc2hOb3JtYWxNYXRlcmlhbDoibm9ybWFsIixNZXNoQmFzaWNNYXRlcmlhbDoiYmFzaWMiLE1lc2hMYW1iZXJ0TWF0ZXJpYWw6ImxhbWJlcnQiLE1lc2hQaG9uZ01hdGVyaWFsOiJwaG9uZyIsTWVzaFRvb25NYXRlcmlhbDoidG9vbiIsTWVzaFN0YW5kYXJkTWF0ZXJpYWw6InBoeXNpY2FsIixNZXNoUGh5c2ljYWxNYXRlcmlhbDoicGh5c2ljYWwiLE1lc2hNYXRjYXBNYXRlcmlhbDoibWF0Y2FwIixMaW5lQmFzaWNNYXRlcmlhbDoiYmFzaWMiLExpbmVEYXNoZWRNYXRlcmlhbDoiZGFzaGVkIixQb2ludHNNYXRlcmlhbDoicG9pbnRzIixTaGFkb3dNYXRlcmlhbDoic2hhZG93IixTcHJpdGVNYXRlcmlhbDoic3ByaXRlIn0sdj1bInByZWNpc2lvbiIsImlzV2ViR0wyIiwic3VwcG9ydHNWZXJ0ZXhUZXh0dXJlcyIsIm91dHB1dEVuY29kaW5nIiwiaW5zdGFuY2luZyIsImluc3RhbmNpbmdDb2xvciIsIm1hcCIsIm1hcEVuY29kaW5nIiwibWF0Y2FwIiwibWF0Y2FwRW5jb2RpbmciLCJlbnZNYXAiLCJlbnZNYXBNb2RlIiwiZW52TWFwRW5jb2RpbmciLCJlbnZNYXBDdWJlVVYiLCJsaWdodE1hcCIsImxpZ2h0TWFwRW5jb2RpbmciLCJhb01hcCIsImVtaXNzaXZlTWFwIiwiZW1pc3NpdmVNYXBFbmNvZGluZyIsImJ1bXBNYXAiLCJub3JtYWxNYXAiLCJvYmplY3RTcGFjZU5vcm1hbE1hcCIsInRhbmdlbnRTcGFjZU5vcm1hbE1hcCIsImNsZWFyY29hdE1hcCIsImNsZWFyY29hdFJvdWdobmVzc01hcCIsImNsZWFyY29hdE5vcm1hbE1hcCIsImRpc3BsYWNlbWVudE1hcCIsInNwZWN1bGFyTWFwIiwicm91Z2huZXNzTWFwIiwibWV0YWxuZXNzTWFwIiwiZ3JhZGllbnRNYXAiLCJhbHBoYU1hcCIsImNvbWJpbmUiLCJ2ZXJ0ZXhDb2xvcnMiLCJ2ZXJ0ZXhUYW5nZW50cyIsInZlcnRleFV2cyIsInV2c1ZlcnRleE9ubHkiLCJmb2ciLCJ1c2VGb2ciLCJmb2dFeHAyIiwiZmxhdFNoYWRpbmciLCJzaXplQXR0ZW51YXRpb24iLCJsb2dhcml0aG1pY0RlcHRoQnVmZmVyIiwic2tpbm5pbmciLCJtYXhCb25lcyIsInVzZVZlcnRleFRleHR1cmUiLCJtb3JwaFRhcmdldHMiLCJtb3JwaE5vcm1hbHMiLCJtYXhNb3JwaFRhcmdldHMiLCJtYXhNb3JwaE5vcm1hbHMiLCJwcmVtdWx0aXBsaWVkQWxwaGEiLCJudW1EaXJMaWdodHMiLCJudW1Qb2ludExpZ2h0cyIsIm51bVNwb3RMaWdodHMiLCJudW1IZW1pTGlnaHRzIiwibnVtUmVjdEFyZWFMaWdodHMiLCJudW1EaXJMaWdodFNoYWRvd3MiLCJudW1Qb2ludExpZ2h0U2hhZG93cyIsIm51bVNwb3RMaWdodFNoYWRvd3MiLCJzaGFkb3dNYXBFbmFibGVkIiwic2hhZG93TWFwVHlwZSIsInRvbmVNYXBwaW5nIiwicGh5c2ljYWxseUNvcnJlY3RMaWdodHMiLCJhbHBoYVRlc3QiLCJkb3VibGVTaWRlZCIsImZsaXBTaWRlZCIsIm51bUNsaXBwaW5nUGxhbmVzIiwibnVtQ2xpcEludGVyc2VjdGlvbiIsImRlcHRoUGFja2luZyIsImRpdGhlcmluZyIsInNoZWVuIiwidHJhbnNtaXNzaW9uTWFwIl07ZnVuY3Rpb24gZyh0KXt2YXIgZTtyZXR1cm4gdCYmdC5pc1RleHR1cmU/ZT10LmVuY29kaW5nOnQmJnQuaXNXZWJHTFJlbmRlclRhcmdldD8oY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFByb2dyYW1zLmdldFRleHR1cmVFbmNvZGluZ0Zyb21NYXA6IGRvbid0IHVzZSByZW5kZXIgdGFyZ2V0cyBhcyB0ZXh0dXJlcy4gVXNlIHRoZWlyIC50ZXh0dXJlIHByb3BlcnR5IGluc3RlYWQuIiksZT10LnRleHR1cmUuZW5jb2RpbmcpOmU9WSxlfXJldHVybntnZXRQYXJhbWV0ZXJzOmZ1bmN0aW9uKHIsbyx2LHkseCl7dmFyIF8sYix3PXkuZm9nLE09ci5pc01lc2hTdGFuZGFyZE1hdGVyaWFsP3kuZW52aXJvbm1lbnQ6bnVsbCxTPWUuZ2V0KHIuZW52TWFwfHxNKSxUPW1bci50eXBlXSxFPXguaXNTa2lubmVkTWVzaD9mdW5jdGlvbih0KXt2YXIgZT10LnNrZWxldG9uLmJvbmVzO2lmKGgpcmV0dXJuIDEwMjQ7dmFyIG49ZCxpPU1hdGguZmxvb3IoKG4tMjApLzQpLHI9TWF0aC5taW4oaSxlLmxlbmd0aCk7cmV0dXJuIHI8ZS5sZW5ndGg/KGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogU2tlbGV0b24gaGFzICIrZS5sZW5ndGgrIiBib25lcy4gVGhpcyBHUFUgc3VwcG9ydHMgIityKyIuIiksMCk6cn0oeCk6MDtpZihudWxsIT09ci5wcmVjaXNpb24mJihmPWkuZ2V0TWF4UHJlY2lzaW9uKHIucHJlY2lzaW9uKSkhPT1yLnByZWNpc2lvbiYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFByb2dyYW0uZ2V0UGFyYW1ldGVyczoiLHIucHJlY2lzaW9uLCJub3Qgc3VwcG9ydGVkLCB1c2luZyIsZiwiaW5zdGVhZC4iKSxUKXt2YXIgQT1saVtUXTtfPUEudmVydGV4U2hhZGVyLGI9QS5mcmFnbWVudFNoYWRlcn1lbHNlIF89ci52ZXJ0ZXhTaGFkZXIsYj1yLmZyYWdtZW50U2hhZGVyO3ZhciBMPXQuZ2V0UmVuZGVyVGFyZ2V0KCk7cmV0dXJue2lzV2ViR0wyOnMsc2hhZGVySUQ6VCxzaGFkZXJOYW1lOnIudHlwZSx2ZXJ0ZXhTaGFkZXI6XyxmcmFnbWVudFNoYWRlcjpiLGRlZmluZXM6ci5kZWZpbmVzLGlzUmF3U2hhZGVyTWF0ZXJpYWw6ITA9PT1yLmlzUmF3U2hhZGVyTWF0ZXJpYWwsZ2xzbFZlcnNpb246ci5nbHNsVmVyc2lvbixwcmVjaXNpb246ZixpbnN0YW5jaW5nOiEwPT09eC5pc0luc3RhbmNlZE1lc2gsaW5zdGFuY2luZ0NvbG9yOiEwPT09eC5pc0luc3RhbmNlZE1lc2gmJm51bGwhPT14Lmluc3RhbmNlQ29sb3Isc3VwcG9ydHNWZXJ0ZXhUZXh0dXJlczpwLG91dHB1dEVuY29kaW5nOm51bGwhPT1MP2coTC50ZXh0dXJlKTp0Lm91dHB1dEVuY29kaW5nLG1hcDohIXIubWFwLG1hcEVuY29kaW5nOmcoci5tYXApLG1hdGNhcDohIXIubWF0Y2FwLG1hdGNhcEVuY29kaW5nOmcoci5tYXRjYXApLGVudk1hcDohIVMsZW52TWFwTW9kZTpTJiZTLm1hcHBpbmcsZW52TWFwRW5jb2Rpbmc6ZyhTKSxlbnZNYXBDdWJlVVY6ISFTJiYoUy5tYXBwaW5nPT09bHx8Uy5tYXBwaW5nPT09dSksbGlnaHRNYXA6ISFyLmxpZ2h0TWFwLGxpZ2h0TWFwRW5jb2Rpbmc6ZyhyLmxpZ2h0TWFwKSxhb01hcDohIXIuYW9NYXAsZW1pc3NpdmVNYXA6ISFyLmVtaXNzaXZlTWFwLGVtaXNzaXZlTWFwRW5jb2Rpbmc6ZyhyLmVtaXNzaXZlTWFwKSxidW1wTWFwOiEhci5idW1wTWFwLG5vcm1hbE1hcDohIXIubm9ybWFsTWFwLG9iamVjdFNwYWNlTm9ybWFsTWFwOjE9PT1yLm5vcm1hbE1hcFR5cGUsdGFuZ2VudFNwYWNlTm9ybWFsTWFwOjA9PT1yLm5vcm1hbE1hcFR5cGUsY2xlYXJjb2F0TWFwOiEhci5jbGVhcmNvYXRNYXAsY2xlYXJjb2F0Um91Z2huZXNzTWFwOiEhci5jbGVhcmNvYXRSb3VnaG5lc3NNYXAsY2xlYXJjb2F0Tm9ybWFsTWFwOiEhci5jbGVhcmNvYXROb3JtYWxNYXAsZGlzcGxhY2VtZW50TWFwOiEhci5kaXNwbGFjZW1lbnRNYXAscm91Z2huZXNzTWFwOiEhci5yb3VnaG5lc3NNYXAsbWV0YWxuZXNzTWFwOiEhci5tZXRhbG5lc3NNYXAsc3BlY3VsYXJNYXA6ISFyLnNwZWN1bGFyTWFwLGFscGhhTWFwOiEhci5hbHBoYU1hcCxncmFkaWVudE1hcDohIXIuZ3JhZGllbnRNYXAsc2hlZW46ISFyLnNoZWVuLHRyYW5zbWlzc2lvbk1hcDohIXIudHJhbnNtaXNzaW9uTWFwLGNvbWJpbmU6ci5jb21iaW5lLHZlcnRleFRhbmdlbnRzOnIubm9ybWFsTWFwJiZyLnZlcnRleFRhbmdlbnRzLHZlcnRleENvbG9yczpyLnZlcnRleENvbG9ycyx2ZXJ0ZXhVdnM6ISEoci5tYXB8fHIuYnVtcE1hcHx8ci5ub3JtYWxNYXB8fHIuc3BlY3VsYXJNYXB8fHIuYWxwaGFNYXB8fHIuZW1pc3NpdmVNYXB8fHIucm91Z2huZXNzTWFwfHxyLm1ldGFsbmVzc01hcHx8ci5jbGVhcmNvYXRNYXB8fHIuY2xlYXJjb2F0Um91Z2huZXNzTWFwfHxyLmNsZWFyY29hdE5vcm1hbE1hcHx8ci5kaXNwbGFjZW1lbnRNYXB8fHIudHJhbnNtaXNzaW9uTWFwKSx1dnNWZXJ0ZXhPbmx5OiEoci5tYXB8fHIuYnVtcE1hcHx8ci5ub3JtYWxNYXB8fHIuc3BlY3VsYXJNYXB8fHIuYWxwaGFNYXB8fHIuZW1pc3NpdmVNYXB8fHIucm91Z2huZXNzTWFwfHxyLm1ldGFsbmVzc01hcHx8ci5jbGVhcmNvYXROb3JtYWxNYXB8fHIudHJhbnNtaXNzaW9uTWFwfHwhci5kaXNwbGFjZW1lbnRNYXApLGZvZzohIXcsdXNlRm9nOnIuZm9nLGZvZ0V4cDI6dyYmdy5pc0ZvZ0V4cDIsZmxhdFNoYWRpbmc6ISFyLmZsYXRTaGFkaW5nLHNpemVBdHRlbnVhdGlvbjpyLnNpemVBdHRlbnVhdGlvbixsb2dhcml0aG1pY0RlcHRoQnVmZmVyOmMsc2tpbm5pbmc6ci5za2lubmluZyYmRT4wLG1heEJvbmVzOkUsdXNlVmVydGV4VGV4dHVyZTpoLG1vcnBoVGFyZ2V0czpyLm1vcnBoVGFyZ2V0cyxtb3JwaE5vcm1hbHM6ci5tb3JwaE5vcm1hbHMsbWF4TW9ycGhUYXJnZXRzOnQubWF4TW9ycGhUYXJnZXRzLG1heE1vcnBoTm9ybWFsczp0Lm1heE1vcnBoTm9ybWFscyxudW1EaXJMaWdodHM6by5kaXJlY3Rpb25hbC5sZW5ndGgsbnVtUG9pbnRMaWdodHM6by5wb2ludC5sZW5ndGgsbnVtU3BvdExpZ2h0czpvLnNwb3QubGVuZ3RoLG51bVJlY3RBcmVhTGlnaHRzOm8ucmVjdEFyZWEubGVuZ3RoLG51bUhlbWlMaWdodHM6by5oZW1pLmxlbmd0aCxudW1EaXJMaWdodFNoYWRvd3M6by5kaXJlY3Rpb25hbFNoYWRvd01hcC5sZW5ndGgsbnVtUG9pbnRMaWdodFNoYWRvd3M6by5wb2ludFNoYWRvd01hcC5sZW5ndGgsbnVtU3BvdExpZ2h0U2hhZG93czpvLnNwb3RTaGFkb3dNYXAubGVuZ3RoLG51bUNsaXBwaW5nUGxhbmVzOmEubnVtUGxhbmVzLG51bUNsaXBJbnRlcnNlY3Rpb246YS5udW1JbnRlcnNlY3Rpb24sZGl0aGVyaW5nOnIuZGl0aGVyaW5nLHNoYWRvd01hcEVuYWJsZWQ6dC5zaGFkb3dNYXAuZW5hYmxlZCYmdi5sZW5ndGg+MCxzaGFkb3dNYXBUeXBlOnQuc2hhZG93TWFwLnR5cGUsdG9uZU1hcHBpbmc6ci50b25lTWFwcGVkP3QudG9uZU1hcHBpbmc6MCxwaHlzaWNhbGx5Q29ycmVjdExpZ2h0czp0LnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzLHByZW11bHRpcGxpZWRBbHBoYTpyLnByZW11bHRpcGxpZWRBbHBoYSxhbHBoYVRlc3Q6ci5hbHBoYVRlc3QsZG91YmxlU2lkZWQ6Mj09PXIuc2lkZSxmbGlwU2lkZWQ6MT09PXIuc2lkZSxkZXB0aFBhY2tpbmc6dm9pZCAwIT09ci5kZXB0aFBhY2tpbmcmJnIuZGVwdGhQYWNraW5nLGluZGV4MEF0dHJpYnV0ZU5hbWU6ci5pbmRleDBBdHRyaWJ1dGVOYW1lLGV4dGVuc2lvbkRlcml2YXRpdmVzOnIuZXh0ZW5zaW9ucyYmci5leHRlbnNpb25zLmRlcml2YXRpdmVzLGV4dGVuc2lvbkZyYWdEZXB0aDpyLmV4dGVuc2lvbnMmJnIuZXh0ZW5zaW9ucy5mcmFnRGVwdGgsZXh0ZW5zaW9uRHJhd0J1ZmZlcnM6ci5leHRlbnNpb25zJiZyLmV4dGVuc2lvbnMuZHJhd0J1ZmZlcnMsZXh0ZW5zaW9uU2hhZGVyVGV4dHVyZUxPRDpyLmV4dGVuc2lvbnMmJnIuZXh0ZW5zaW9ucy5zaGFkZXJUZXh0dXJlTE9ELHJlbmRlcmVyRXh0ZW5zaW9uRnJhZ0RlcHRoOnN8fG4uaGFzKCJFWFRfZnJhZ19kZXB0aCIpLHJlbmRlcmVyRXh0ZW5zaW9uRHJhd0J1ZmZlcnM6c3x8bi5oYXMoIldFQkdMX2RyYXdfYnVmZmVycyIpLHJlbmRlcmVyRXh0ZW5zaW9uU2hhZGVyVGV4dHVyZUxvZDpzfHxuLmhhcygiRVhUX3NoYWRlcl90ZXh0dXJlX2xvZCIpLGN1c3RvbVByb2dyYW1DYWNoZUtleTpyLmN1c3RvbVByb2dyYW1DYWNoZUtleSgpfX0sZ2V0UHJvZ3JhbUNhY2hlS2V5OmZ1bmN0aW9uKGUpe3ZhciBuPVtdO2lmKGUuc2hhZGVySUQ/bi5wdXNoKGUuc2hhZGVySUQpOihuLnB1c2goZS5mcmFnbWVudFNoYWRlciksbi5wdXNoKGUudmVydGV4U2hhZGVyKSksdm9pZCAwIT09ZS5kZWZpbmVzKWZvcih2YXIgaSBpbiBlLmRlZmluZXMpbi5wdXNoKGkpLG4ucHVzaChlLmRlZmluZXNbaV0pO2lmKCExPT09ZS5pc1Jhd1NoYWRlck1hdGVyaWFsKXtmb3IodmFyIHI9MDtyPHYubGVuZ3RoO3IrKyluLnB1c2goZVt2W3JdXSk7bi5wdXNoKHQub3V0cHV0RW5jb2RpbmcpLG4ucHVzaCh0LmdhbW1hRmFjdG9yKX1yZXR1cm4gbi5wdXNoKGUuY3VzdG9tUHJvZ3JhbUNhY2hlS2V5KSxuLmpvaW4oKX0sZ2V0VW5pZm9ybXM6ZnVuY3Rpb24odCl7dmFyIGUsbj1tW3QudHlwZV07aWYobil7dmFyIGk9bGlbbl07ZT1xbi5jbG9uZShpLnVuaWZvcm1zKX1lbHNlIGU9dC51bmlmb3JtcztyZXR1cm4gZX0sYWNxdWlyZVByb2dyYW06ZnVuY3Rpb24oZSxuKXtmb3IodmFyIGksYT0wLHM9by5sZW5ndGg7YTxzO2ErKyl7dmFyIGM9b1thXTtpZihjLmNhY2hlS2V5PT09bil7KysoaT1jKS51c2VkVGltZXM7YnJlYWt9fXJldHVybiB2b2lkIDA9PT1pJiYoaT1uZXcgSHIodCxuLGUsciksby5wdXNoKGkpKSxpfSxyZWxlYXNlUHJvZ3JhbTpmdW5jdGlvbih0KXtpZigwPT0tLXQudXNlZFRpbWVzKXt2YXIgZT1vLmluZGV4T2YodCk7b1tlXT1vW28ubGVuZ3RoLTFdLG8ucG9wKCksdC5kZXN0cm95KCl9fSxwcm9ncmFtczpvfX1mdW5jdGlvbiBVcigpe3ZhciB0PW5ldyBXZWFrTWFwO3JldHVybntnZXQ6ZnVuY3Rpb24oZSl7dmFyIG49dC5nZXQoZSk7cmV0dXJuIHZvaWQgMD09PW4mJihuPXt9LHQuc2V0KGUsbikpLG59LHJlbW92ZTpmdW5jdGlvbihlKXt0LmRlbGV0ZShlKX0sdXBkYXRlOmZ1bmN0aW9uKGUsbixpKXt0LmdldChlKVtuXT1pfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dD1uZXcgV2Vha01hcH19fWZ1bmN0aW9uIGtyKHQsZSl7cmV0dXJuIHQuZ3JvdXBPcmRlciE9PWUuZ3JvdXBPcmRlcj90Lmdyb3VwT3JkZXItZS5ncm91cE9yZGVyOnQucmVuZGVyT3JkZXIhPT1lLnJlbmRlck9yZGVyP3QucmVuZGVyT3JkZXItZS5yZW5kZXJPcmRlcjp0LnByb2dyYW0hPT1lLnByb2dyYW0/dC5wcm9ncmFtLmlkLWUucHJvZ3JhbS5pZDp0Lm1hdGVyaWFsLmlkIT09ZS5tYXRlcmlhbC5pZD90Lm1hdGVyaWFsLmlkLWUubWF0ZXJpYWwuaWQ6dC56IT09ZS56P3Quei1lLno6dC5pZC1lLmlkfWZ1bmN0aW9uIFZyKHQsZSl7cmV0dXJuIHQuZ3JvdXBPcmRlciE9PWUuZ3JvdXBPcmRlcj90Lmdyb3VwT3JkZXItZS5ncm91cE9yZGVyOnQucmVuZGVyT3JkZXIhPT1lLnJlbmRlck9yZGVyP3QucmVuZGVyT3JkZXItZS5yZW5kZXJPcmRlcjp0LnohPT1lLno/ZS56LXQuejp0LmlkLWUuaWR9ZnVuY3Rpb24gV3IodCl7dmFyIGU9W10sbj0wLGk9W10scj1bXSxhPXtpZDotMX07ZnVuY3Rpb24gbyhpLHIsbyxzLGMsbCl7dmFyIHU9ZVtuXSxoPXQuZ2V0KG8pO3JldHVybiB2b2lkIDA9PT11Pyh1PXtpZDppLmlkLG9iamVjdDppLGdlb21ldHJ5OnIsbWF0ZXJpYWw6byxwcm9ncmFtOmgucHJvZ3JhbXx8YSxncm91cE9yZGVyOnMscmVuZGVyT3JkZXI6aS5yZW5kZXJPcmRlcix6OmMsZ3JvdXA6bH0sZVtuXT11KToodS5pZD1pLmlkLHUub2JqZWN0PWksdS5nZW9tZXRyeT1yLHUubWF0ZXJpYWw9byx1LnByb2dyYW09aC5wcm9ncmFtfHxhLHUuZ3JvdXBPcmRlcj1zLHUucmVuZGVyT3JkZXI9aS5yZW5kZXJPcmRlcix1Lno9Yyx1Lmdyb3VwPWwpLG4rKyx1fXJldHVybntvcGFxdWU6aSx0cmFuc3BhcmVudDpyLGluaXQ6ZnVuY3Rpb24oKXtuPTAsaS5sZW5ndGg9MCxyLmxlbmd0aD0wfSxwdXNoOmZ1bmN0aW9uKHQsZSxuLGEscyxjKXt2YXIgbD1vKHQsZSxuLGEscyxjKTsoITA9PT1uLnRyYW5zcGFyZW50P3I6aSkucHVzaChsKX0sdW5zaGlmdDpmdW5jdGlvbih0LGUsbixhLHMsYyl7dmFyIGw9byh0LGUsbixhLHMsYyk7KCEwPT09bi50cmFuc3BhcmVudD9yOmkpLnVuc2hpZnQobCl9LGZpbmlzaDpmdW5jdGlvbigpe2Zvcih2YXIgdD1uLGk9ZS5sZW5ndGg7dDxpO3QrKyl7dmFyIHI9ZVt0XTtpZihudWxsPT09ci5pZClicmVhaztyLmlkPW51bGwsci5vYmplY3Q9bnVsbCxyLmdlb21ldHJ5PW51bGwsci5tYXRlcmlhbD1udWxsLHIucHJvZ3JhbT1udWxsLHIuZ3JvdXA9bnVsbH19LHNvcnQ6ZnVuY3Rpb24odCxlKXtpLmxlbmd0aD4xJiZpLnNvcnQodHx8a3IpLHIubGVuZ3RoPjEmJnIuc29ydChlfHxWcil9fX1mdW5jdGlvbiBqcih0KXt2YXIgZT1uZXcgV2Vha01hcDtyZXR1cm57Z2V0OmZ1bmN0aW9uKG4saSl7dmFyIHIsYT1lLmdldChuKTtyZXR1cm4gdm9pZCAwPT09YT8ocj1uZXcgV3IodCksZS5zZXQobixuZXcgV2Vha01hcCksZS5nZXQobikuc2V0KGkscikpOnZvaWQgMD09PShyPWEuZ2V0KGkpKSYmKHI9bmV3IFdyKHQpLGEuc2V0KGkscikpLHJ9LGRpc3Bvc2U6ZnVuY3Rpb24oKXtlPW5ldyBXZWFrTWFwfX19ZnVuY3Rpb24gcXIoKXt2YXIgdD17fTtyZXR1cm57Z2V0OmZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PXRbZS5pZF0pcmV0dXJuIHRbZS5pZF07dmFyIG47c3dpdGNoKGUudHlwZSl7Y2FzZSJEaXJlY3Rpb25hbExpZ2h0IjpuPXtkaXJlY3Rpb246bmV3IEx0LGNvbG9yOm5ldyBRZX07YnJlYWs7Y2FzZSJTcG90TGlnaHQiOm49e3Bvc2l0aW9uOm5ldyBMdCxkaXJlY3Rpb246bmV3IEx0LGNvbG9yOm5ldyBRZSxkaXN0YW5jZTowLGNvbmVDb3M6MCxwZW51bWJyYUNvczowLGRlY2F5OjB9O2JyZWFrO2Nhc2UiUG9pbnRMaWdodCI6bj17cG9zaXRpb246bmV3IEx0LGNvbG9yOm5ldyBRZSxkaXN0YW5jZTowLGRlY2F5OjB9O2JyZWFrO2Nhc2UiSGVtaXNwaGVyZUxpZ2h0IjpuPXtkaXJlY3Rpb246bmV3IEx0LHNreUNvbG9yOm5ldyBRZSxncm91bmRDb2xvcjpuZXcgUWV9O2JyZWFrO2Nhc2UiUmVjdEFyZWFMaWdodCI6bj17Y29sb3I6bmV3IFFlLHBvc2l0aW9uOm5ldyBMdCxoYWxmV2lkdGg6bmV3IEx0LGhhbGZIZWlnaHQ6bmV3IEx0fX1yZXR1cm4gdFtlLmlkXT1uLG59fX12YXIgWHI9MDtmdW5jdGlvbiBZcih0LGUpe3JldHVybihlLmNhc3RTaGFkb3c/MTowKS0odC5jYXN0U2hhZG93PzE6MCl9ZnVuY3Rpb24gWnIodCxlKXtmb3IodmFyIG4saT1uZXcgcXIscj0obj17fSx7Z2V0OmZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PW5bdC5pZF0pcmV0dXJuIG5bdC5pZF07dmFyIGU7c3dpdGNoKHQudHlwZSl7Y2FzZSJEaXJlY3Rpb25hbExpZ2h0IjpjYXNlIlNwb3RMaWdodCI6ZT17c2hhZG93QmlhczowLHNoYWRvd05vcm1hbEJpYXM6MCxzaGFkb3dSYWRpdXM6MSxzaGFkb3dNYXBTaXplOm5ldyB5dH07YnJlYWs7Y2FzZSJQb2ludExpZ2h0IjplPXtzaGFkb3dCaWFzOjAsc2hhZG93Tm9ybWFsQmlhczowLHNoYWRvd1JhZGl1czoxLHNoYWRvd01hcFNpemU6bmV3IHl0LHNoYWRvd0NhbWVyYU5lYXI6MSxzaGFkb3dDYW1lcmFGYXI6MWUzfX1yZXR1cm4gblt0LmlkXT1lLGV9fSksYT17dmVyc2lvbjowLGhhc2g6e2RpcmVjdGlvbmFsTGVuZ3RoOi0xLHBvaW50TGVuZ3RoOi0xLHNwb3RMZW5ndGg6LTEscmVjdEFyZWFMZW5ndGg6LTEsaGVtaUxlbmd0aDotMSxudW1EaXJlY3Rpb25hbFNoYWRvd3M6LTEsbnVtUG9pbnRTaGFkb3dzOi0xLG51bVNwb3RTaGFkb3dzOi0xfSxhbWJpZW50OlswLDAsMF0scHJvYmU6W10sZGlyZWN0aW9uYWw6W10sZGlyZWN0aW9uYWxTaGFkb3c6W10sZGlyZWN0aW9uYWxTaGFkb3dNYXA6W10sZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXg6W10sc3BvdDpbXSxzcG90U2hhZG93OltdLHNwb3RTaGFkb3dNYXA6W10sc3BvdFNoYWRvd01hdHJpeDpbXSxyZWN0QXJlYTpbXSxyZWN0QXJlYUxUQzE6bnVsbCxyZWN0QXJlYUxUQzI6bnVsbCxwb2ludDpbXSxwb2ludFNoYWRvdzpbXSxwb2ludFNoYWRvd01hcDpbXSxwb2ludFNoYWRvd01hdHJpeDpbXSxoZW1pOltdfSxvPTA7bzw5O28rKylhLnByb2JlLnB1c2gobmV3IEx0KTt2YXIgcz1uZXcgTHQsYz1uZXcgbmUsbD1uZXcgbmU7cmV0dXJue3NldHVwOmZ1bmN0aW9uKG4pe2Zvcih2YXIgbz0wLHM9MCxjPTAsbD0wO2w8OTtsKyspYS5wcm9iZVtsXS5zZXQoMCwwLDApO3ZhciB1PTAsaD0wLGQ9MCxwPTAsZj0wLG09MCx2PTAsZz0wO24uc29ydChZcik7Zm9yKHZhciB5PTAseD1uLmxlbmd0aDt5PHg7eSsrKXt2YXIgXz1uW3ldLGI9Xy5jb2xvcix3PV8uaW50ZW5zaXR5LE09Xy5kaXN0YW5jZSxTPV8uc2hhZG93JiZfLnNoYWRvdy5tYXA/Xy5zaGFkb3cubWFwLnRleHR1cmU6bnVsbDtpZihfLmlzQW1iaWVudExpZ2h0KW8rPWIucip3LHMrPWIuZyp3LGMrPWIuYip3O2Vsc2UgaWYoXy5pc0xpZ2h0UHJvYmUpZm9yKHZhciBUPTA7VDw5O1QrKylhLnByb2JlW1RdLmFkZFNjYWxlZFZlY3RvcihfLnNoLmNvZWZmaWNpZW50c1tUXSx3KTtlbHNlIGlmKF8uaXNEaXJlY3Rpb25hbExpZ2h0KXt2YXIgRT1pLmdldChfKTtpZihFLmNvbG9yLmNvcHkoXy5jb2xvcikubXVsdGlwbHlTY2FsYXIoXy5pbnRlbnNpdHkpLF8uY2FzdFNoYWRvdyl7dmFyIEE9Xy5zaGFkb3csTD1yLmdldChfKTtMLnNoYWRvd0JpYXM9QS5iaWFzLEwuc2hhZG93Tm9ybWFsQmlhcz1BLm5vcm1hbEJpYXMsTC5zaGFkb3dSYWRpdXM9QS5yYWRpdXMsTC5zaGFkb3dNYXBTaXplPUEubWFwU2l6ZSxhLmRpcmVjdGlvbmFsU2hhZG93W3VdPUwsYS5kaXJlY3Rpb25hbFNoYWRvd01hcFt1XT1TLGEuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbdV09Xy5zaGFkb3cubWF0cml4LG0rK31hLmRpcmVjdGlvbmFsW3VdPUUsdSsrfWVsc2UgaWYoXy5pc1Nwb3RMaWdodCl7dmFyIFI9aS5nZXQoXyk7aWYoUi5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oXy5tYXRyaXhXb3JsZCksUi5jb2xvci5jb3B5KGIpLm11bHRpcGx5U2NhbGFyKHcpLFIuZGlzdGFuY2U9TSxSLmNvbmVDb3M9TWF0aC5jb3MoXy5hbmdsZSksUi5wZW51bWJyYUNvcz1NYXRoLmNvcyhfLmFuZ2xlKigxLV8ucGVudW1icmEpKSxSLmRlY2F5PV8uZGVjYXksXy5jYXN0U2hhZG93KXt2YXIgQz1fLnNoYWRvdyxQPXIuZ2V0KF8pO1Auc2hhZG93Qmlhcz1DLmJpYXMsUC5zaGFkb3dOb3JtYWxCaWFzPUMubm9ybWFsQmlhcyxQLnNoYWRvd1JhZGl1cz1DLnJhZGl1cyxQLnNoYWRvd01hcFNpemU9Qy5tYXBTaXplLGEuc3BvdFNoYWRvd1tkXT1QLGEuc3BvdFNoYWRvd01hcFtkXT1TLGEuc3BvdFNoYWRvd01hdHJpeFtkXT1fLnNoYWRvdy5tYXRyaXgsZysrfWEuc3BvdFtkXT1SLGQrK31lbHNlIGlmKF8uaXNSZWN0QXJlYUxpZ2h0KXt2YXIgRD1pLmdldChfKTtELmNvbG9yLmNvcHkoYikubXVsdGlwbHlTY2FsYXIodyksRC5oYWxmV2lkdGguc2V0KC41Kl8ud2lkdGgsMCwwKSxELmhhbGZIZWlnaHQuc2V0KDAsLjUqXy5oZWlnaHQsMCksYS5yZWN0QXJlYVtwXT1ELHArK31lbHNlIGlmKF8uaXNQb2ludExpZ2h0KXt2YXIgST1pLmdldChfKTtpZihJLmNvbG9yLmNvcHkoXy5jb2xvcikubXVsdGlwbHlTY2FsYXIoXy5pbnRlbnNpdHkpLEkuZGlzdGFuY2U9Xy5kaXN0YW5jZSxJLmRlY2F5PV8uZGVjYXksXy5jYXN0U2hhZG93KXt2YXIgTz1fLnNoYWRvdyxOPXIuZ2V0KF8pO04uc2hhZG93Qmlhcz1PLmJpYXMsTi5zaGFkb3dOb3JtYWxCaWFzPU8ubm9ybWFsQmlhcyxOLnNoYWRvd1JhZGl1cz1PLnJhZGl1cyxOLnNoYWRvd01hcFNpemU9Ty5tYXBTaXplLE4uc2hhZG93Q2FtZXJhTmVhcj1PLmNhbWVyYS5uZWFyLE4uc2hhZG93Q2FtZXJhRmFyPU8uY2FtZXJhLmZhcixhLnBvaW50U2hhZG93W2hdPU4sYS5wb2ludFNoYWRvd01hcFtoXT1TLGEucG9pbnRTaGFkb3dNYXRyaXhbaF09Xy5zaGFkb3cubWF0cml4LHYrK31hLnBvaW50W2hdPUksaCsrfWVsc2UgaWYoXy5pc0hlbWlzcGhlcmVMaWdodCl7dmFyIEI9aS5nZXQoXyk7Qi5za3lDb2xvci5jb3B5KF8uY29sb3IpLm11bHRpcGx5U2NhbGFyKHcpLEIuZ3JvdW5kQ29sb3IuY29weShfLmdyb3VuZENvbG9yKS5tdWx0aXBseVNjYWxhcih3KSxhLmhlbWlbZl09QixmKyt9fXA+MCYmKGUuaXNXZWJHTDJ8fCEwPT09dC5oYXMoIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhciIpPyhhLnJlY3RBcmVhTFRDMT1jaS5MVENfRkxPQVRfMSxhLnJlY3RBcmVhTFRDMj1jaS5MVENfRkxPQVRfMik6ITA9PT10LmhhcygiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXIiKT8oYS5yZWN0QXJlYUxUQzE9Y2kuTFRDX0hBTEZfMSxhLnJlY3RBcmVhTFRDMj1jaS5MVENfSEFMRl8yKTpjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBVbmFibGUgdG8gdXNlIFJlY3RBcmVhTGlnaHQuIE1pc3NpbmcgV2ViR0wgZXh0ZW5zaW9ucy4iKSksYS5hbWJpZW50WzBdPW8sYS5hbWJpZW50WzFdPXMsYS5hbWJpZW50WzJdPWM7dmFyIHo9YS5oYXNoO3ouZGlyZWN0aW9uYWxMZW5ndGg9PT11JiZ6LnBvaW50TGVuZ3RoPT09aCYmei5zcG90TGVuZ3RoPT09ZCYmei5yZWN0QXJlYUxlbmd0aD09PXAmJnouaGVtaUxlbmd0aD09PWYmJnoubnVtRGlyZWN0aW9uYWxTaGFkb3dzPT09bSYmei5udW1Qb2ludFNoYWRvd3M9PT12JiZ6Lm51bVNwb3RTaGFkb3dzPT09Z3x8KGEuZGlyZWN0aW9uYWwubGVuZ3RoPXUsYS5zcG90Lmxlbmd0aD1kLGEucmVjdEFyZWEubGVuZ3RoPXAsYS5wb2ludC5sZW5ndGg9aCxhLmhlbWkubGVuZ3RoPWYsYS5kaXJlY3Rpb25hbFNoYWRvdy5sZW5ndGg9bSxhLmRpcmVjdGlvbmFsU2hhZG93TWFwLmxlbmd0aD1tLGEucG9pbnRTaGFkb3cubGVuZ3RoPXYsYS5wb2ludFNoYWRvd01hcC5sZW5ndGg9dixhLnNwb3RTaGFkb3cubGVuZ3RoPWcsYS5zcG90U2hhZG93TWFwLmxlbmd0aD1nLGEuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXgubGVuZ3RoPW0sYS5wb2ludFNoYWRvd01hdHJpeC5sZW5ndGg9dixhLnNwb3RTaGFkb3dNYXRyaXgubGVuZ3RoPWcsei5kaXJlY3Rpb25hbExlbmd0aD11LHoucG9pbnRMZW5ndGg9aCx6LnNwb3RMZW5ndGg9ZCx6LnJlY3RBcmVhTGVuZ3RoPXAsei5oZW1pTGVuZ3RoPWYsei5udW1EaXJlY3Rpb25hbFNoYWRvd3M9bSx6Lm51bVBvaW50U2hhZG93cz12LHoubnVtU3BvdFNoYWRvd3M9ZyxhLnZlcnNpb249WHIrKyl9LHNldHVwVmlldzpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLGk9MCxyPTAsbz0wLHU9MCxoPWUubWF0cml4V29ybGRJbnZlcnNlLGQ9MCxwPXQubGVuZ3RoO2Q8cDtkKyspe3ZhciBmPXRbZF07aWYoZi5pc0RpcmVjdGlvbmFsTGlnaHQpe3ZhciBtPWEuZGlyZWN0aW9uYWxbbl07bS5kaXJlY3Rpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGYubWF0cml4V29ybGQpLHMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGYudGFyZ2V0Lm1hdHJpeFdvcmxkKSxtLmRpcmVjdGlvbi5zdWIocyksbS5kaXJlY3Rpb24udHJhbnNmb3JtRGlyZWN0aW9uKGgpLG4rK31lbHNlIGlmKGYuaXNTcG90TGlnaHQpe3ZhciB2PWEuc3BvdFtyXTt2LnBvc2l0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbihmLm1hdHJpeFdvcmxkKSx2LnBvc2l0aW9uLmFwcGx5TWF0cml4NChoKSx2LmRpcmVjdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oZi5tYXRyaXhXb3JsZCkscy5zZXRGcm9tTWF0cml4UG9zaXRpb24oZi50YXJnZXQubWF0cml4V29ybGQpLHYuZGlyZWN0aW9uLnN1YihzKSx2LmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24oaCkscisrfWVsc2UgaWYoZi5pc1JlY3RBcmVhTGlnaHQpe3ZhciBnPWEucmVjdEFyZWFbb107Zy5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oZi5tYXRyaXhXb3JsZCksZy5wb3NpdGlvbi5hcHBseU1hdHJpeDQoaCksbC5pZGVudGl0eSgpLGMuY29weShmLm1hdHJpeFdvcmxkKSxjLnByZW11bHRpcGx5KGgpLGwuZXh0cmFjdFJvdGF0aW9uKGMpLGcuaGFsZldpZHRoLnNldCguNSpmLndpZHRoLDAsMCksZy5oYWxmSGVpZ2h0LnNldCgwLC41KmYuaGVpZ2h0LDApLGcuaGFsZldpZHRoLmFwcGx5TWF0cml4NChsKSxnLmhhbGZIZWlnaHQuYXBwbHlNYXRyaXg0KGwpLG8rK31lbHNlIGlmKGYuaXNQb2ludExpZ2h0KXt2YXIgeT1hLnBvaW50W2ldO3kucG9zaXRpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGYubWF0cml4V29ybGQpLHkucG9zaXRpb24uYXBwbHlNYXRyaXg0KGgpLGkrK31lbHNlIGlmKGYuaXNIZW1pc3BoZXJlTGlnaHQpe3ZhciB4PWEuaGVtaVt1XTt4LmRpcmVjdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24oZi5tYXRyaXhXb3JsZCkseC5kaXJlY3Rpb24udHJhbnNmb3JtRGlyZWN0aW9uKGgpLHguZGlyZWN0aW9uLm5vcm1hbGl6ZSgpLHUrK319fSxzdGF0ZTphfX1mdW5jdGlvbiBKcih0LGUpe3ZhciBuPW5ldyBacih0LGUpLGk9W10scj1bXTtyZXR1cm57aW5pdDpmdW5jdGlvbigpe2kubGVuZ3RoPTAsci5sZW5ndGg9MH0sc3RhdGU6e2xpZ2h0c0FycmF5Omksc2hhZG93c0FycmF5OnIsbGlnaHRzOm59LHNldHVwTGlnaHRzOmZ1bmN0aW9uKCl7bi5zZXR1cChpKX0sc2V0dXBMaWdodHNWaWV3OmZ1bmN0aW9uKHQpe24uc2V0dXBWaWV3KGksdCl9LHB1c2hMaWdodDpmdW5jdGlvbih0KXtpLnB1c2godCl9LHB1c2hTaGFkb3c6ZnVuY3Rpb24odCl7ci5wdXNoKHQpfX19ZnVuY3Rpb24gUXIodCxlKXt2YXIgbj1uZXcgV2Vha01hcDtyZXR1cm57Z2V0OmZ1bmN0aW9uKGkscil7dmFyIGE7cmV0dXJuIHZvaWQgMD09PXImJihyPTApLCExPT09bi5oYXMoaSk/KGE9bmV3IEpyKHQsZSksbi5zZXQoaSxbXSksbi5nZXQoaSkucHVzaChhKSk6cj49bi5nZXQoaSkubGVuZ3RoPyhhPW5ldyBKcih0LGUpLG4uZ2V0KGkpLnB1c2goYSkpOmE9bi5nZXQoaSlbcl0sYX0sZGlzcG9zZTpmdW5jdGlvbigpe249bmV3IFdlYWtNYXB9fX1mdW5jdGlvbiBLcih0KXtXZS5jYWxsKHRoaXMpLHRoaXMudHlwZT0iTWVzaERlcHRoTWF0ZXJpYWwiLHRoaXMuZGVwdGhQYWNraW5nPTMyMDAsdGhpcy5za2lubmluZz0hMSx0aGlzLm1vcnBoVGFyZ2V0cz0hMSx0aGlzLm1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudE1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50U2NhbGU9MSx0aGlzLmRpc3BsYWNlbWVudEJpYXM9MCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMuZm9nPSExLHRoaXMuc2V0VmFsdWVzKHQpfWZ1bmN0aW9uICRyKHQpe1dlLmNhbGwodGhpcyksdGhpcy50eXBlPSJNZXNoRGlzdGFuY2VNYXRlcmlhbCIsdGhpcy5yZWZlcmVuY2VQb3NpdGlvbj1uZXcgTHQsdGhpcy5uZWFyRGlzdGFuY2U9MSx0aGlzLmZhckRpc3RhbmNlPTFlMyx0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubWFwPW51bGwsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMuZm9nPSExLHRoaXMuc2V0VmFsdWVzKHQpfUtyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFdlLnByb3RvdHlwZSksS3IucHJvdG90eXBlLmNvbnN0cnVjdG9yPUtyLEtyLnByb3RvdHlwZS5pc01lc2hEZXB0aE1hdGVyaWFsPSEwLEtyLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiBXZS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5kZXB0aFBhY2tpbmc9dC5kZXB0aFBhY2tpbmcsdGhpcy5za2lubmluZz10LnNraW5uaW5nLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXMubWFwPXQubWFwLHRoaXMuYWxwaGFNYXA9dC5hbHBoYU1hcCx0aGlzLmRpc3BsYWNlbWVudE1hcD10LmRpc3BsYWNlbWVudE1hcCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPXQuZGlzcGxhY2VtZW50U2NhbGUsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPXQuZGlzcGxhY2VtZW50Qmlhcyx0aGlzLndpcmVmcmFtZT10LndpcmVmcmFtZSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD10LndpcmVmcmFtZUxpbmV3aWR0aCx0aGlzfSwkci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShXZS5wcm90b3R5cGUpLCRyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj0kciwkci5wcm90b3R5cGUuaXNNZXNoRGlzdGFuY2VNYXRlcmlhbD0hMCwkci5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gV2UucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMucmVmZXJlbmNlUG9zaXRpb24uY29weSh0LnJlZmVyZW5jZVBvc2l0aW9uKSx0aGlzLm5lYXJEaXN0YW5jZT10Lm5lYXJEaXN0YW5jZSx0aGlzLmZhckRpc3RhbmNlPXQuZmFyRGlzdGFuY2UsdGhpcy5za2lubmluZz10LnNraW5uaW5nLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXMubWFwPXQubWFwLHRoaXMuYWxwaGFNYXA9dC5hbHBoYU1hcCx0aGlzLmRpc3BsYWNlbWVudE1hcD10LmRpc3BsYWNlbWVudE1hcCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPXQuZGlzcGxhY2VtZW50U2NhbGUsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPXQuZGlzcGxhY2VtZW50Qmlhcyx0aGlzfTtmdW5jdGlvbiB0YSh0LGUsbil7dmFyIGk9bmV3IGlpLHI9bmV3IHl0LGE9bmV3IHl0LG89bmV3IFN0LHM9W10sYz1bXSxsPXt9LHU9ezA6MSwxOjAsMjoyfSxoPW5ldyBYbih7ZGVmaW5lczp7U0FNUExFX1JBVEU6Mi84LEhBTEZfU0FNUExFX1JBVEU6MS84fSx1bmlmb3Jtczp7c2hhZG93X3Bhc3M6e3ZhbHVlOm51bGx9LHJlc29sdXRpb246e3ZhbHVlOm5ldyB5dH0scmFkaXVzOnt2YWx1ZTo0fX0sdmVydGV4U2hhZGVyOiJ2b2lkIG1haW4oKSB7XG5cdGdsX1Bvc2l0aW9uID0gdmVjNCggcG9zaXRpb24sIDEuMCApO1xufSIsZnJhZ21lbnRTaGFkZXI6InVuaWZvcm0gc2FtcGxlcjJEIHNoYWRvd19wYXNzO1xudW5pZm9ybSB2ZWMyIHJlc29sdXRpb247XG51bmlmb3JtIGZsb2F0IHJhZGl1cztcbiNpbmNsdWRlIDxwYWNraW5nPlxudm9pZCBtYWluKCkge1xuXHRmbG9hdCBtZWFuID0gMC4wO1xuXHRmbG9hdCBzcXVhcmVkX21lYW4gPSAwLjA7XG5cdGZsb2F0IGRlcHRoID0gdW5wYWNrUkdCQVRvRGVwdGgoIHRleHR1cmUyRCggc2hhZG93X3Bhc3MsICggZ2xfRnJhZ0Nvb3JkLnh5ICkgLyByZXNvbHV0aW9uICkgKTtcblx0Zm9yICggZmxvYXQgaSA9IC0xLjA7IGkgPCAxLjAgOyBpICs9IFNBTVBMRV9SQVRFKSB7XG5cdFx0I2lmZGVmIEhPUklaT05UQUxfUEFTU1xuXHRcdFx0dmVjMiBkaXN0cmlidXRpb24gPSB1bnBhY2tSR0JBVG8ySGFsZiggdGV4dHVyZTJEKCBzaGFkb3dfcGFzcywgKCBnbF9GcmFnQ29vcmQueHkgKyB2ZWMyKCBpLCAwLjAgKSAqIHJhZGl1cyApIC8gcmVzb2x1dGlvbiApICk7XG5cdFx0XHRtZWFuICs9IGRpc3RyaWJ1dGlvbi54O1xuXHRcdFx0c3F1YXJlZF9tZWFuICs9IGRpc3RyaWJ1dGlvbi55ICogZGlzdHJpYnV0aW9uLnkgKyBkaXN0cmlidXRpb24ueCAqIGRpc3RyaWJ1dGlvbi54O1xuXHRcdCNlbHNlXG5cdFx0XHRmbG9hdCBkZXB0aCA9IHVucGFja1JHQkFUb0RlcHRoKCB0ZXh0dXJlMkQoIHNoYWRvd19wYXNzLCAoIGdsX0ZyYWdDb29yZC54eSArIHZlYzIoIDAuMCwgaSApICogcmFkaXVzICkgLyByZXNvbHV0aW9uICkgKTtcblx0XHRcdG1lYW4gKz0gZGVwdGg7XG5cdFx0XHRzcXVhcmVkX21lYW4gKz0gZGVwdGggKiBkZXB0aDtcblx0XHQjZW5kaWZcblx0fVxuXHRtZWFuID0gbWVhbiAqIEhBTEZfU0FNUExFX1JBVEU7XG5cdHNxdWFyZWRfbWVhbiA9IHNxdWFyZWRfbWVhbiAqIEhBTEZfU0FNUExFX1JBVEU7XG5cdGZsb2F0IHN0ZF9kZXYgPSBzcXJ0KCBzcXVhcmVkX21lYW4gLSBtZWFuICogbWVhbiApO1xuXHRnbF9GcmFnQ29sb3IgPSBwYWNrMkhhbGZUb1JHQkEoIHZlYzIoIG1lYW4sIHN0ZF9kZXYgKSApO1xufSJ9KSxkPWguY2xvbmUoKTtkLmRlZmluZXMuSE9SSVpPTlRBTF9QQVNTPTE7dmFyIHA9bmV3IE1uO3Auc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IGVuKG5ldyBGbG9hdDMyQXJyYXkoWy0xLC0xLC41LDMsLTEsLjUsLTEsMywuNV0pLDMpKTt2YXIgbT1uZXcgVW4ocCxoKSx2PXRoaXM7ZnVuY3Rpb24geShuLGkpe3ZhciByPWUudXBkYXRlKG0pO2gudW5pZm9ybXMuc2hhZG93X3Bhc3MudmFsdWU9bi5tYXAudGV4dHVyZSxoLnVuaWZvcm1zLnJlc29sdXRpb24udmFsdWU9bi5tYXBTaXplLGgudW5pZm9ybXMucmFkaXVzLnZhbHVlPW4ucmFkaXVzLHQuc2V0UmVuZGVyVGFyZ2V0KG4ubWFwUGFzcyksdC5jbGVhcigpLHQucmVuZGVyQnVmZmVyRGlyZWN0KGksbnVsbCxyLGgsbSxudWxsKSxkLnVuaWZvcm1zLnNoYWRvd19wYXNzLnZhbHVlPW4ubWFwUGFzcy50ZXh0dXJlLGQudW5pZm9ybXMucmVzb2x1dGlvbi52YWx1ZT1uLm1hcFNpemUsZC51bmlmb3Jtcy5yYWRpdXMudmFsdWU9bi5yYWRpdXMsdC5zZXRSZW5kZXJUYXJnZXQobi5tYXApLHQuY2xlYXIoKSx0LnJlbmRlckJ1ZmZlckRpcmVjdChpLG51bGwscixkLG0sbnVsbCl9ZnVuY3Rpb24geCh0LGUsbil7dmFyIGk9dDw8MHxlPDwxfG48PDIscj1zW2ldO3JldHVybiB2b2lkIDA9PT1yJiYocj1uZXcgS3Ioe2RlcHRoUGFja2luZzozMjAxLG1vcnBoVGFyZ2V0czp0LHNraW5uaW5nOmV9KSxzW2ldPXIpLHJ9ZnVuY3Rpb24gXyh0LGUsbil7dmFyIGk9dDw8MHxlPDwxfG48PDIscj1jW2ldO3JldHVybiB2b2lkIDA9PT1yJiYocj1uZXcgJHIoe21vcnBoVGFyZ2V0czp0LHNraW5uaW5nOmV9KSxjW2ldPXIpLHJ9ZnVuY3Rpb24gYihlLG4saSxyLGEsbyxzKXt2YXIgYz1udWxsLGg9eCxkPWUuY3VzdG9tRGVwdGhNYXRlcmlhbDtpZighMD09PXIuaXNQb2ludExpZ2h0JiYoaD1fLGQ9ZS5jdXN0b21EaXN0YW5jZU1hdGVyaWFsKSx2b2lkIDA9PT1kKXt2YXIgcD0hMTshMD09PWkubW9ycGhUYXJnZXRzJiYocD1uLm1vcnBoQXR0cmlidXRlcyYmbi5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24mJm4ubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uLmxlbmd0aD4wKTt2YXIgZj0hMTshMD09PWUuaXNTa2lubmVkTWVzaCYmKCEwPT09aS5za2lubmluZz9mPSEwOmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xTaGFkb3dNYXA6IFRIUkVFLlNraW5uZWRNZXNoIHdpdGggbWF0ZXJpYWwuc2tpbm5pbmcgc2V0IHRvIGZhbHNlOiIsZSkpLGM9aChwLGYsITA9PT1lLmlzSW5zdGFuY2VkTWVzaCl9ZWxzZSBjPWQ7aWYodC5sb2NhbENsaXBwaW5nRW5hYmxlZCYmITA9PT1pLmNsaXBTaGFkb3dzJiYwIT09aS5jbGlwcGluZ1BsYW5lcy5sZW5ndGgpe3ZhciBtPWMudXVpZCx2PWkudXVpZCxnPWxbbV07dm9pZCAwPT09ZyYmKGc9e30sbFttXT1nKTt2YXIgeT1nW3ZdO3ZvaWQgMD09PXkmJih5PWMuY2xvbmUoKSxnW3ZdPXkpLGM9eX1yZXR1cm4gYy52aXNpYmxlPWkudmlzaWJsZSxjLndpcmVmcmFtZT1pLndpcmVmcmFtZSxjLnNpZGU9Mz09PXM/bnVsbCE9PWkuc2hhZG93U2lkZT9pLnNoYWRvd1NpZGU6aS5zaWRlOm51bGwhPT1pLnNoYWRvd1NpZGU/aS5zaGFkb3dTaWRlOnVbaS5zaWRlXSxjLmNsaXBTaGFkb3dzPWkuY2xpcFNoYWRvd3MsYy5jbGlwcGluZ1BsYW5lcz1pLmNsaXBwaW5nUGxhbmVzLGMuY2xpcEludGVyc2VjdGlvbj1pLmNsaXBJbnRlcnNlY3Rpb24sYy53aXJlZnJhbWVMaW5ld2lkdGg9aS53aXJlZnJhbWVMaW5ld2lkdGgsYy5saW5ld2lkdGg9aS5saW5ld2lkdGgsITA9PT1yLmlzUG9pbnRMaWdodCYmITA9PT1jLmlzTWVzaERpc3RhbmNlTWF0ZXJpYWwmJihjLnJlZmVyZW5jZVBvc2l0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbihyLm1hdHJpeFdvcmxkKSxjLm5lYXJEaXN0YW5jZT1hLGMuZmFyRGlzdGFuY2U9byksY31mdW5jdGlvbiB3KG4scixhLG8scyl7aWYoITEhPT1uLnZpc2libGUpe2lmKG4ubGF5ZXJzLnRlc3Qoci5sYXllcnMpJiYobi5pc01lc2h8fG4uaXNMaW5lfHxuLmlzUG9pbnRzKSYmKG4uY2FzdFNoYWRvd3x8bi5yZWNlaXZlU2hhZG93JiYzPT09cykmJighbi5mcnVzdHVtQ3VsbGVkfHxpLmludGVyc2VjdHNPYmplY3QobikpKXtuLm1vZGVsVmlld01hdHJpeC5tdWx0aXBseU1hdHJpY2VzKGEubWF0cml4V29ybGRJbnZlcnNlLG4ubWF0cml4V29ybGQpO3ZhciBjPWUudXBkYXRlKG4pLGw9bi5tYXRlcmlhbDtpZihBcnJheS5pc0FycmF5KGwpKWZvcih2YXIgdT1jLmdyb3VwcyxoPTAsZD11Lmxlbmd0aDtoPGQ7aCsrKXt2YXIgcD11W2hdLGY9bFtwLm1hdGVyaWFsSW5kZXhdO2lmKGYmJmYudmlzaWJsZSl7dmFyIG09YihuLGMsZixvLGEubmVhcixhLmZhcixzKTt0LnJlbmRlckJ1ZmZlckRpcmVjdChhLG51bGwsYyxtLG4scCl9fWVsc2UgaWYobC52aXNpYmxlKXt2YXIgdj1iKG4sYyxsLG8sYS5uZWFyLGEuZmFyLHMpO3QucmVuZGVyQnVmZmVyRGlyZWN0KGEsbnVsbCxjLHYsbixudWxsKX19Zm9yKHZhciBnPW4uY2hpbGRyZW4seT0wLHg9Zy5sZW5ndGg7eTx4O3krKyl3KGdbeV0scixhLG8scyl9fXRoaXMuZW5hYmxlZD0hMSx0aGlzLmF1dG9VcGRhdGU9ITAsdGhpcy5uZWVkc1VwZGF0ZT0hMSx0aGlzLnR5cGU9MSx0aGlzLnJlbmRlcj1mdW5jdGlvbihlLHMsYyl7aWYoITEhPT12LmVuYWJsZWQmJighMSE9PXYuYXV0b1VwZGF0ZXx8ITEhPT12Lm5lZWRzVXBkYXRlKSYmMCE9PWUubGVuZ3RoKXt2YXIgbD10LmdldFJlbmRlclRhcmdldCgpLHU9dC5nZXRBY3RpdmVDdWJlRmFjZSgpLGg9dC5nZXRBY3RpdmVNaXBtYXBMZXZlbCgpLGQ9dC5zdGF0ZTtkLnNldEJsZW5kaW5nKDApLGQuYnVmZmVycy5jb2xvci5zZXRDbGVhcigxLDEsMSwxKSxkLmJ1ZmZlcnMuZGVwdGguc2V0VGVzdCghMCksZC5zZXRTY2lzc29yVGVzdCghMSk7Zm9yKHZhciBwPTAsbT1lLmxlbmd0aDtwPG07cCsrKXt2YXIgeD1lW3BdLF89eC5zaGFkb3c7aWYodm9pZCAwIT09Xyl7aWYoITEhPT1fLmF1dG9VcGRhdGV8fCExIT09Xy5uZWVkc1VwZGF0ZSl7ci5jb3B5KF8ubWFwU2l6ZSk7dmFyIGI9Xy5nZXRGcmFtZUV4dGVudHMoKTtpZihyLm11bHRpcGx5KGIpLGEuY29weShfLm1hcFNpemUpLChyLng+bnx8ci55Pm4pJiYoci54Pm4mJihhLng9TWF0aC5mbG9vcihuL2IueCksci54PWEueCpiLngsXy5tYXBTaXplLng9YS54KSxyLnk+biYmKGEueT1NYXRoLmZsb29yKG4vYi55KSxyLnk9YS55KmIueSxfLm1hcFNpemUueT1hLnkpKSxudWxsPT09Xy5tYXAmJiFfLmlzUG9pbnRMaWdodFNoYWRvdyYmMz09PXRoaXMudHlwZSl7dmFyIE09e21pbkZpbHRlcjpnLG1hZ0ZpbHRlcjpnLGZvcm1hdDpBfTtfLm1hcD1uZXcgVHQoci54LHIueSxNKSxfLm1hcC50ZXh0dXJlLm5hbWU9eC5uYW1lKyIuc2hhZG93TWFwIixfLm1hcFBhc3M9bmV3IFR0KHIueCxyLnksTSksXy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfWlmKG51bGw9PT1fLm1hcCl7dmFyIFM9e21pbkZpbHRlcjpmLG1hZ0ZpbHRlcjpmLGZvcm1hdDpBfTtfLm1hcD1uZXcgVHQoci54LHIueSxTKSxfLm1hcC50ZXh0dXJlLm5hbWU9eC5uYW1lKyIuc2hhZG93TWFwIixfLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9dC5zZXRSZW5kZXJUYXJnZXQoXy5tYXApLHQuY2xlYXIoKTtmb3IodmFyIFQ9Xy5nZXRWaWV3cG9ydENvdW50KCksRT0wO0U8VDtFKyspe3ZhciBMPV8uZ2V0Vmlld3BvcnQoRSk7by5zZXQoYS54KkwueCxhLnkqTC55LGEueCpMLnosYS55KkwudyksZC52aWV3cG9ydChvKSxfLnVwZGF0ZU1hdHJpY2VzKHgsRSksaT1fLmdldEZydXN0dW0oKSx3KHMsYyxfLmNhbWVyYSx4LHRoaXMudHlwZSl9Xy5pc1BvaW50TGlnaHRTaGFkb3d8fDMhPT10aGlzLnR5cGV8fHkoXyxjKSxfLm5lZWRzVXBkYXRlPSExfX1lbHNlIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xTaGFkb3dNYXA6Iix4LCJoYXMgbm8gc2hhZG93LiIpfXYubmVlZHNVcGRhdGU9ITEsdC5zZXRSZW5kZXJUYXJnZXQobCx1LGgpfX19ZnVuY3Rpb24gZWEodCxlLG4pe3ZhciByLGEsbz1uLmlzV2ViR0wyO3ZhciBzPW5ldyBmdW5jdGlvbigpe3ZhciBlPSExLG49bmV3IFN0LGk9bnVsbCxyPW5ldyBTdCgwLDAsMCwwKTtyZXR1cm57c2V0TWFzazpmdW5jdGlvbihuKXtpPT09bnx8ZXx8KHQuY29sb3JNYXNrKG4sbixuLG4pLGk9bil9LHNldExvY2tlZDpmdW5jdGlvbih0KXtlPXR9LHNldENsZWFyOmZ1bmN0aW9uKGUsaSxhLG8scyl7ITA9PT1zJiYoZSo9byxpKj1vLGEqPW8pLG4uc2V0KGUsaSxhLG8pLCExPT09ci5lcXVhbHMobikmJih0LmNsZWFyQ29sb3IoZSxpLGEsbyksci5jb3B5KG4pKX0scmVzZXQ6ZnVuY3Rpb24oKXtlPSExLGk9bnVsbCxyLnNldCgtMSwwLDAsMCl9fX0sYz1uZXcgZnVuY3Rpb24oKXt2YXIgZT0hMSxuPW51bGwsaT1udWxsLHI9bnVsbDtyZXR1cm57c2V0VGVzdDpmdW5jdGlvbih0KXt0P0IoMjkyOSk6eigyOTI5KX0sc2V0TWFzazpmdW5jdGlvbihpKXtuPT09aXx8ZXx8KHQuZGVwdGhNYXNrKGkpLG49aSl9LHNldEZ1bmM6ZnVuY3Rpb24oZSl7aWYoaSE9PWUpe2lmKGUpc3dpdGNoKGUpe2Nhc2UgMDp0LmRlcHRoRnVuYyg1MTIpO2JyZWFrO2Nhc2UgMTp0LmRlcHRoRnVuYyg1MTkpO2JyZWFrO2Nhc2UgMjp0LmRlcHRoRnVuYyg1MTMpO2JyZWFrO2Nhc2UgMzp0LmRlcHRoRnVuYyg1MTUpO2JyZWFrO2Nhc2UgNDp0LmRlcHRoRnVuYyg1MTQpO2JyZWFrO2Nhc2UgNTp0LmRlcHRoRnVuYyg1MTgpO2JyZWFrO2Nhc2UgNjp0LmRlcHRoRnVuYyg1MTYpO2JyZWFrO2Nhc2UgNzp0LmRlcHRoRnVuYyg1MTcpO2JyZWFrO2RlZmF1bHQ6dC5kZXB0aEZ1bmMoNTE1KX1lbHNlIHQuZGVwdGhGdW5jKDUxNSk7aT1lfX0sc2V0TG9ja2VkOmZ1bmN0aW9uKHQpe2U9dH0sc2V0Q2xlYXI6ZnVuY3Rpb24oZSl7ciE9PWUmJih0LmNsZWFyRGVwdGgoZSkscj1lKX0scmVzZXQ6ZnVuY3Rpb24oKXtlPSExLG49bnVsbCxpPW51bGwscj1udWxsfX19LGw9bmV3IGZ1bmN0aW9uKCl7dmFyIGU9ITEsbj1udWxsLGk9bnVsbCxyPW51bGwsYT1udWxsLG89bnVsbCxzPW51bGwsYz1udWxsLGw9bnVsbDtyZXR1cm57c2V0VGVzdDpmdW5jdGlvbih0KXtlfHwodD9CKDI5NjApOnooMjk2MCkpfSxzZXRNYXNrOmZ1bmN0aW9uKGkpe249PT1pfHxlfHwodC5zdGVuY2lsTWFzayhpKSxuPWkpfSxzZXRGdW5jOmZ1bmN0aW9uKGUsbixvKXtpPT09ZSYmcj09PW4mJmE9PT1vfHwodC5zdGVuY2lsRnVuYyhlLG4sbyksaT1lLHI9bixhPW8pfSxzZXRPcDpmdW5jdGlvbihlLG4saSl7bz09PWUmJnM9PT1uJiZjPT09aXx8KHQuc3RlbmNpbE9wKGUsbixpKSxvPWUscz1uLGM9aSl9LHNldExvY2tlZDpmdW5jdGlvbih0KXtlPXR9LHNldENsZWFyOmZ1bmN0aW9uKGUpe2whPT1lJiYodC5jbGVhclN0ZW5jaWwoZSksbD1lKX0scmVzZXQ6ZnVuY3Rpb24oKXtlPSExLG49bnVsbCxpPW51bGwscj1udWxsLGE9bnVsbCxvPW51bGwscz1udWxsLGM9bnVsbCxsPW51bGx9fX0sdT17fSxoPW51bGwsZD1udWxsLHA9bnVsbCxmPW51bGwsbT1udWxsLHY9bnVsbCxnPW51bGwseT1udWxsLHg9bnVsbCxfPSExLGI9bnVsbCx3PW51bGwsTT1udWxsLFM9bnVsbCxUPW51bGwsRT10LmdldFBhcmFtZXRlcigzNTY2MSksQT0hMSxMPTAsUj10LmdldFBhcmFtZXRlcig3OTM4KTstMSE9PVIuaW5kZXhPZigiV2ViR0wiKT8oTD1wYXJzZUZsb2F0KC9eV2ViR0wgKFxkKS8uZXhlYyhSKVsxXSksQT1MPj0xKTotMSE9PVIuaW5kZXhPZigiT3BlbkdMIEVTIikmJihMPXBhcnNlRmxvYXQoL15PcGVuR0wgRVMgKFxkKS8uZXhlYyhSKVsxXSksQT1MPj0yKTt2YXIgQz1udWxsLFA9e30sRD1uZXcgU3QsST1uZXcgU3Q7ZnVuY3Rpb24gTyhlLG4saSl7dmFyIHI9bmV3IFVpbnQ4QXJyYXkoNCksYT10LmNyZWF0ZVRleHR1cmUoKTt0LmJpbmRUZXh0dXJlKGUsYSksdC50ZXhQYXJhbWV0ZXJpKGUsMTAyNDEsOTcyOCksdC50ZXhQYXJhbWV0ZXJpKGUsMTAyNDAsOTcyOCk7Zm9yKHZhciBvPTA7bzxpO28rKyl0LnRleEltYWdlMkQobitvLDAsNjQwOCwxLDEsMCw2NDA4LDUxMjEscik7cmV0dXJuIGF9dmFyIE49e307ZnVuY3Rpb24gQihlKXshMCE9PXVbZV0mJih0LmVuYWJsZShlKSx1W2VdPSEwKX1mdW5jdGlvbiB6KGUpeyExIT09dVtlXSYmKHQuZGlzYWJsZShlKSx1W2VdPSExKX1OWzM1NTNdPU8oMzU1MywzNTUzLDEpLE5bMzQwNjddPU8oMzQwNjcsMzQwNjksNikscy5zZXRDbGVhcigwLDAsMCwxKSxjLnNldENsZWFyKDEpLGwuc2V0Q2xlYXIoMCksQigyOTI5KSxjLnNldEZ1bmMoMyksayghMSksVigxKSxCKDI4ODQpLFUoMCk7dmFyIEY9KChyPXt9KVsxMDBdPTMyNzc0LHJbMTAxXT0zMjc3OCxyWzEwMl09MzI3Nzkscik7aWYobylGWzEwM109MzI3NzUsRlsxMDRdPTMyNzc2O2Vsc2V7dmFyIEg9ZS5nZXQoIkVYVF9ibGVuZF9taW5tYXgiKTtudWxsIT09SCYmKEZbMTAzXT1ILk1JTl9FWFQsRlsxMDRdPUguTUFYX0VYVCl9dmFyIEc9KChhPXt9KVsyMDBdPTAsYVsyMDFdPTEsYVsyMDJdPTc2OCxhWzIwNF09NzcwLGFbMjEwXT03NzYsYVsyMDhdPTc3NCxhWzIwNl09NzcyLGFbMjAzXT03NjksYVsyMDVdPTc3MSxhWzIwOV09Nzc1LGFbMjA3XT03NzMsYSk7ZnVuY3Rpb24gVShlLG4scixhLG8scyxjLGwpe2lmKDAhPT1lKXtpZihkfHwoQigzMDQyKSxkPSEwKSw1PT09ZSlvPW98fG4scz1zfHxyLGM9Y3x8YSxuPT09ZiYmbz09PWd8fCh0LmJsZW5kRXF1YXRpb25TZXBhcmF0ZShGW25dLEZbb10pLGY9bixnPW8pLHI9PT1tJiZhPT09diYmcz09PXkmJmM9PT14fHwodC5ibGVuZEZ1bmNTZXBhcmF0ZShHW3JdLEdbYV0sR1tzXSxHW2NdKSxtPXIsdj1hLHk9cyx4PWMpLHA9ZSxfPW51bGw7ZWxzZSBpZihlIT09cHx8bCE9PV8pe2lmKGY9PT1pJiZnPT09aXx8KHQuYmxlbmRFcXVhdGlvbigzMjc3NCksZj1pLGc9aSksbClzd2l0Y2goZSl7Y2FzZSAxOnQuYmxlbmRGdW5jU2VwYXJhdGUoMSw3NzEsMSw3NzEpO2JyZWFrO2Nhc2UgMjp0LmJsZW5kRnVuYygxLDEpO2JyZWFrO2Nhc2UgMzp0LmJsZW5kRnVuY1NlcGFyYXRlKDAsMCw3NjksNzcxKTticmVhaztjYXNlIDQ6dC5ibGVuZEZ1bmNTZXBhcmF0ZSgwLDc2OCwwLDc3MCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFN0YXRlOiBJbnZhbGlkIGJsZW5kaW5nOiAiLGUpfWVsc2Ugc3dpdGNoKGUpe2Nhc2UgMTp0LmJsZW5kRnVuY1NlcGFyYXRlKDc3MCw3NzEsMSw3NzEpO2JyZWFrO2Nhc2UgMjp0LmJsZW5kRnVuYyg3NzAsMSk7YnJlYWs7Y2FzZSAzOnQuYmxlbmRGdW5jKDAsNzY5KTticmVhaztjYXNlIDQ6dC5ibGVuZEZ1bmMoMCw3NjgpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xTdGF0ZTogSW52YWxpZCBibGVuZGluZzogIixlKX1tPW51bGwsdj1udWxsLHk9bnVsbCx4PW51bGwscD1lLF89bH19ZWxzZSBkJiYoeigzMDQyKSxkPSExKX1mdW5jdGlvbiBrKGUpe2IhPT1lJiYoZT90LmZyb250RmFjZSgyMzA0KTp0LmZyb250RmFjZSgyMzA1KSxiPWUpfWZ1bmN0aW9uIFYoZSl7MCE9PWU/KEIoMjg4NCksZSE9PXcmJigxPT09ZT90LmN1bGxGYWNlKDEwMjkpOjI9PT1lP3QuY3VsbEZhY2UoMTAyOCk6dC5jdWxsRmFjZSgxMDMyKSkpOnooMjg4NCksdz1lfWZ1bmN0aW9uIFcoZSxuLGkpe2U/KEIoMzI4MjMpLFM9PT1uJiZUPT09aXx8KHQucG9seWdvbk9mZnNldChuLGkpLFM9bixUPWkpKTp6KDMyODIzKX1mdW5jdGlvbiBqKGUpe3ZvaWQgMD09PWUmJihlPTMzOTg0K0UtMSksQyE9PWUmJih0LmFjdGl2ZVRleHR1cmUoZSksQz1lKX1yZXR1cm57YnVmZmVyczp7Y29sb3I6cyxkZXB0aDpjLHN0ZW5jaWw6bH0sZW5hYmxlOkIsZGlzYWJsZTp6LHVzZVByb2dyYW06ZnVuY3Rpb24oZSl7cmV0dXJuIGghPT1lJiYodC51c2VQcm9ncmFtKGUpLGg9ZSwhMCl9LHNldEJsZW5kaW5nOlUsc2V0TWF0ZXJpYWw6ZnVuY3Rpb24odCxlKXsyPT09dC5zaWRlP3ooMjg4NCk6QigyODg0KTt2YXIgbj0xPT09dC5zaWRlO2UmJihuPSFuKSxrKG4pLDE9PT10LmJsZW5kaW5nJiYhMT09PXQudHJhbnNwYXJlbnQ/VSgwKTpVKHQuYmxlbmRpbmcsdC5ibGVuZEVxdWF0aW9uLHQuYmxlbmRTcmMsdC5ibGVuZERzdCx0LmJsZW5kRXF1YXRpb25BbHBoYSx0LmJsZW5kU3JjQWxwaGEsdC5ibGVuZERzdEFscGhhLHQucHJlbXVsdGlwbGllZEFscGhhKSxjLnNldEZ1bmModC5kZXB0aEZ1bmMpLGMuc2V0VGVzdCh0LmRlcHRoVGVzdCksYy5zZXRNYXNrKHQuZGVwdGhXcml0ZSkscy5zZXRNYXNrKHQuY29sb3JXcml0ZSk7dmFyIGk9dC5zdGVuY2lsV3JpdGU7bC5zZXRUZXN0KGkpLGkmJihsLnNldE1hc2sodC5zdGVuY2lsV3JpdGVNYXNrKSxsLnNldEZ1bmModC5zdGVuY2lsRnVuYyx0LnN0ZW5jaWxSZWYsdC5zdGVuY2lsRnVuY01hc2spLGwuc2V0T3AodC5zdGVuY2lsRmFpbCx0LnN0ZW5jaWxaRmFpbCx0LnN0ZW5jaWxaUGFzcykpLFcodC5wb2x5Z29uT2Zmc2V0LHQucG9seWdvbk9mZnNldEZhY3Rvcix0LnBvbHlnb25PZmZzZXRVbml0cyl9LHNldEZsaXBTaWRlZDprLHNldEN1bGxGYWNlOlYsc2V0TGluZVdpZHRoOmZ1bmN0aW9uKGUpe2UhPT1NJiYoQSYmdC5saW5lV2lkdGgoZSksTT1lKX0sc2V0UG9seWdvbk9mZnNldDpXLHNldFNjaXNzb3JUZXN0OmZ1bmN0aW9uKHQpe3Q/QigzMDg5KTp6KDMwODkpfSxhY3RpdmVUZXh0dXJlOmosYmluZFRleHR1cmU6ZnVuY3Rpb24oZSxuKXtudWxsPT09QyYmaigpO3ZhciBpPVBbQ107dm9pZCAwPT09aSYmKGk9e3R5cGU6dm9pZCAwLHRleHR1cmU6dm9pZCAwfSxQW0NdPWkpLGkudHlwZT09PWUmJmkudGV4dHVyZT09PW58fCh0LmJpbmRUZXh0dXJlKGUsbnx8TltlXSksaS50eXBlPWUsaS50ZXh0dXJlPW4pfSx1bmJpbmRUZXh0dXJlOmZ1bmN0aW9uKCl7dmFyIGU9UFtDXTt2b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLnR5cGUmJih0LmJpbmRUZXh0dXJlKGUudHlwZSxudWxsKSxlLnR5cGU9dm9pZCAwLGUudGV4dHVyZT12b2lkIDApfSxjb21wcmVzc2VkVGV4SW1hZ2UyRDpmdW5jdGlvbigpe3RyeXt0LmNvbXByZXNzZWRUZXhJbWFnZTJELmFwcGx5KHQsYXJndW1lbnRzKX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFN0YXRlOiIsdCl9fSx0ZXhJbWFnZTJEOmZ1bmN0aW9uKCl7dHJ5e3QudGV4SW1hZ2UyRC5hcHBseSh0LGFyZ3VtZW50cyl9Y2F0Y2godCl7Y29uc29sZS5lcnJvcigiVEhSRUUuV2ViR0xTdGF0ZToiLHQpfX0sdGV4SW1hZ2UzRDpmdW5jdGlvbigpe3RyeXt0LnRleEltYWdlM0QuYXBwbHkodCxhcmd1bWVudHMpfWNhdGNoKHQpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMU3RhdGU6Iix0KX19LHNjaXNzb3I6ZnVuY3Rpb24oZSl7ITE9PT1ELmVxdWFscyhlKSYmKHQuc2Npc3NvcihlLngsZS55LGUueixlLncpLEQuY29weShlKSl9LHZpZXdwb3J0OmZ1bmN0aW9uKGUpeyExPT09SS5lcXVhbHMoZSkmJih0LnZpZXdwb3J0KGUueCxlLnksZS56LGUudyksSS5jb3B5KGUpKX0scmVzZXQ6ZnVuY3Rpb24oKXt1PXt9LEM9bnVsbCxQPXt9LGg9bnVsbCxkPW51bGwscD1udWxsLGY9bnVsbCxtPW51bGwsdj1udWxsLGc9bnVsbCx5PW51bGwseD1udWxsLF89ITEsYj1udWxsLHc9bnVsbCxNPW51bGwsUz1udWxsLFQ9bnVsbCxzLnJlc2V0KCksYy5yZXNldCgpLGwucmVzZXQoKX19fWZ1bmN0aW9uIG5hKHQsZSxuLGkscixhLG8pe3ZhciBzLGMsbCx1PXIuaXNXZWJHTDIsaD1yLm1heFRleHR1cmVzLHA9ci5tYXhDdWJlbWFwU2l6ZSx5PXIubWF4VGV4dHVyZVNpemUseD1yLm1heFNhbXBsZXMsXz1uZXcgV2Vha01hcCxDPSExO3RyeXtDPSJ1bmRlZmluZWQiIT10eXBlb2YgT2Zmc2NyZWVuQ2FudmFzJiZudWxsIT09bmV3IE9mZnNjcmVlbkNhbnZhcygxLDEpLmdldENvbnRleHQoIjJkIil9Y2F0Y2godCl7fWZ1bmN0aW9uIFAodCxlKXtyZXR1cm4gQz9uZXcgT2Zmc2NyZWVuQ2FudmFzKHQsZSk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwiY2FudmFzIil9ZnVuY3Rpb24gRCh0LGUsbixpKXt2YXIgcj0xO2lmKCh0LndpZHRoPml8fHQuaGVpZ2h0PmkpJiYocj1pL01hdGgubWF4KHQud2lkdGgsdC5oZWlnaHQpKSxyPDF8fCEwPT09ZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBIVE1MSW1hZ2VFbGVtZW50JiZ0IGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudHx8InVuZGVmaW5lZCIhPXR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudCYmdCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHwidW5kZWZpbmVkIiE9dHlwZW9mIEltYWdlQml0bWFwJiZ0IGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApe3ZhciBhPWU/Z3QuZmxvb3JQb3dlck9mVHdvOk1hdGguZmxvb3Isbz1hKHIqdC53aWR0aCkscz1hKHIqdC5oZWlnaHQpO3ZvaWQgMD09PWwmJihsPVAobyxzKSk7dmFyIGM9bj9QKG8scyk6bDtyZXR1cm4gYy53aWR0aD1vLGMuaGVpZ2h0PXMsYy5nZXRDb250ZXh0KCIyZCIpLmRyYXdJbWFnZSh0LDAsMCxvLHMpLGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBoYXMgYmVlbiByZXNpemVkIGZyb20gKCIrdC53aWR0aCsieCIrdC5oZWlnaHQrIikgdG8gKCIrbysieCIrcysiKS4iKSxjfXJldHVybiJkYXRhImluIHQmJmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogSW1hZ2UgaW4gRGF0YVRleHR1cmUgaXMgdG9vIGJpZyAoIit0LndpZHRoKyJ4Iit0LmhlaWdodCsiKS4iKSx0fXJldHVybiB0fWZ1bmN0aW9uIEkodCl7cmV0dXJuIGd0LmlzUG93ZXJPZlR3byh0LndpZHRoKSYmZ3QuaXNQb3dlck9mVHdvKHQuaGVpZ2h0KX1mdW5jdGlvbiBPKHQsZSl7cmV0dXJuIHQuZ2VuZXJhdGVNaXBtYXBzJiZlJiZ0Lm1pbkZpbHRlciE9PWYmJnQubWluRmlsdGVyIT09Z31mdW5jdGlvbiBOKGUsbixyLGEpe3QuZ2VuZXJhdGVNaXBtYXAoZSksaS5nZXQobikuX19tYXhNaXBMZXZlbD1NYXRoLmxvZyhNYXRoLm1heChyLGEpKSpNYXRoLkxPRzJFfWZ1bmN0aW9uIEIobixpLHIpe2lmKCExPT09dSlyZXR1cm4gaTtpZihudWxsIT09bil7aWYodm9pZCAwIT09dFtuXSlyZXR1cm4gdFtuXTtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IEF0dGVtcHQgdG8gdXNlIG5vbi1leGlzdGluZyBXZWJHTCBpbnRlcm5hbCBmb3JtYXQgJyIrbisiJyIpfXZhciBhPWk7cmV0dXJuIDY0MDM9PT1pJiYoNTEyNj09PXImJihhPTMzMzI2KSw1MTMxPT09ciYmKGE9MzMzMjUpLDUxMjE9PT1yJiYoYT0zMzMyMSkpLDY0MDc9PT1pJiYoNTEyNj09PXImJihhPTM0ODM3KSw1MTMxPT09ciYmKGE9MzQ4NDMpLDUxMjE9PT1yJiYoYT0zMjg0OSkpLDY0MDg9PT1pJiYoNTEyNj09PXImJihhPTM0ODM2KSw1MTMxPT09ciYmKGE9MzQ4NDIpLDUxMjE9PT1yJiYoYT0zMjg1NikpLDMzMzI1IT09YSYmMzMzMjYhPT1hJiYzNDg0MiE9PWEmJjM0ODM2IT09YXx8ZS5nZXQoIkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiKSxhfWZ1bmN0aW9uIHoodCl7cmV0dXJuIHQ9PT1mfHx0PT09bXx8dD09PXY/OTcyODo5NzI5fWZ1bmN0aW9uIEYoZSl7dmFyIG49ZS50YXJnZXQ7bi5yZW1vdmVFdmVudExpc3RlbmVyKCJkaXNwb3NlIixGKSxmdW5jdGlvbihlKXt2YXIgbj1pLmdldChlKTtpZih2b2lkIDA9PT1uLl9fd2ViZ2xJbml0KXJldHVybjt0LmRlbGV0ZVRleHR1cmUobi5fX3dlYmdsVGV4dHVyZSksaS5yZW1vdmUoZSl9KG4pLG4uaXNWaWRlb1RleHR1cmUmJl8uZGVsZXRlKG4pLG8ubWVtb3J5LnRleHR1cmVzLS19ZnVuY3Rpb24gSChlKXt2YXIgbj1lLnRhcmdldDtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLEgpLGZ1bmN0aW9uKGUpe3ZhciBuPWUudGV4dHVyZSxyPWkuZ2V0KGUpLGE9aS5nZXQobik7aWYoIWUpcmV0dXJuO3ZvaWQgMCE9PWEuX193ZWJnbFRleHR1cmUmJnQuZGVsZXRlVGV4dHVyZShhLl9fd2ViZ2xUZXh0dXJlKTtlLmRlcHRoVGV4dHVyZSYmZS5kZXB0aFRleHR1cmUuZGlzcG9zZSgpO2lmKGUuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQpZm9yKHZhciBvPTA7bzw2O28rKyl0LmRlbGV0ZUZyYW1lYnVmZmVyKHIuX193ZWJnbEZyYW1lYnVmZmVyW29dKSxyLl9fd2ViZ2xEZXB0aGJ1ZmZlciYmdC5kZWxldGVSZW5kZXJidWZmZXIoci5fX3dlYmdsRGVwdGhidWZmZXJbb10pO2Vsc2UgdC5kZWxldGVGcmFtZWJ1ZmZlcihyLl9fd2ViZ2xGcmFtZWJ1ZmZlciksci5fX3dlYmdsRGVwdGhidWZmZXImJnQuZGVsZXRlUmVuZGVyYnVmZmVyKHIuX193ZWJnbERlcHRoYnVmZmVyKSxyLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlciYmdC5kZWxldGVGcmFtZWJ1ZmZlcihyLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlciksci5fX3dlYmdsQ29sb3JSZW5kZXJidWZmZXImJnQuZGVsZXRlUmVuZGVyYnVmZmVyKHIuX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyKSxyLl9fd2ViZ2xEZXB0aFJlbmRlcmJ1ZmZlciYmdC5kZWxldGVSZW5kZXJidWZmZXIoci5fX3dlYmdsRGVwdGhSZW5kZXJidWZmZXIpO2kucmVtb3ZlKG4pLGkucmVtb3ZlKGUpfShuKSxvLm1lbW9yeS50ZXh0dXJlcy0tfXZhciBHPTA7ZnVuY3Rpb24gVSh0LGUpe3ZhciByPWkuZ2V0KHQpO2lmKHQuaXNWaWRlb1RleHR1cmUmJmZ1bmN0aW9uKHQpe3ZhciBlPW8ucmVuZGVyLmZyYW1lO18uZ2V0KHQpIT09ZSYmKF8uc2V0KHQsZSksdC51cGRhdGUoKSl9KHQpLHQudmVyc2lvbj4wJiZyLl9fdmVyc2lvbiE9PXQudmVyc2lvbil7dmFyIGE9dC5pbWFnZTtpZih2b2lkIDA9PT1hKWNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBtYXJrZWQgZm9yIHVwZGF0ZSBidXQgaW1hZ2UgaXMgdW5kZWZpbmVkIik7ZWxzZXtpZighMSE9PWEuY29tcGxldGUpcmV0dXJuIHZvaWQgWChyLHQsZSk7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBUZXh0dXJlIG1hcmtlZCBmb3IgdXBkYXRlIGJ1dCBpbWFnZSBpcyBpbmNvbXBsZXRlIil9fW4uYWN0aXZlVGV4dHVyZSgzMzk4NCtlKSxuLmJpbmRUZXh0dXJlKDM1NTMsci5fX3dlYmdsVGV4dHVyZSl9ZnVuY3Rpb24gayhlLHIpe3ZhciBvPWkuZ2V0KGUpO2UudmVyc2lvbj4wJiZvLl9fdmVyc2lvbiE9PWUudmVyc2lvbj9mdW5jdGlvbihlLGkscil7aWYoNiE9PWkuaW1hZ2UubGVuZ3RoKXJldHVybjtxKGUsaSksbi5hY3RpdmVUZXh0dXJlKDMzOTg0K3IpLG4uYmluZFRleHR1cmUoMzQwNjcsZS5fX3dlYmdsVGV4dHVyZSksdC5waXhlbFN0b3JlaSgzNzQ0MCxpLmZsaXBZKSx0LnBpeGVsU3RvcmVpKDM3NDQxLGkucHJlbXVsdGlwbHlBbHBoYSksdC5waXhlbFN0b3JlaSgzMzE3LGkudW5wYWNrQWxpZ25tZW50KTtmb3IodmFyIG89aSYmKGkuaXNDb21wcmVzc2VkVGV4dHVyZXx8aS5pbWFnZVswXS5pc0NvbXByZXNzZWRUZXh0dXJlKSxzPWkuaW1hZ2VbMF0mJmkuaW1hZ2VbMF0uaXNEYXRhVGV4dHVyZSxjPVtdLGw9MDtsPDY7bCsrKWNbbF09b3x8cz9zP2kuaW1hZ2VbbF0uaW1hZ2U6aS5pbWFnZVtsXTpEKGkuaW1hZ2VbbF0sITEsITAscCk7dmFyIGgsZD1jWzBdLGY9SShkKXx8dSxtPWEuY29udmVydChpLmZvcm1hdCksdj1hLmNvbnZlcnQoaS50eXBlKSxnPUIoaS5pbnRlcm5hbEZvcm1hdCxtLHYpO2lmKGooMzQwNjcsaSxmKSxvKXtmb3IodmFyIHk9MDt5PDY7eSsrKXtoPWNbeV0ubWlwbWFwcztmb3IodmFyIHg9MDt4PGgubGVuZ3RoO3grKyl7dmFyIF89aFt4XTtpLmZvcm1hdCE9PUEmJmkuZm9ybWF0IT09RT9udWxsIT09bT9uLmNvbXByZXNzZWRUZXhJbWFnZTJEKDM0MDY5K3kseCxnLF8ud2lkdGgsXy5oZWlnaHQsMCxfLmRhdGEpOmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogQXR0ZW1wdCB0byBsb2FkIHVuc3VwcG9ydGVkIGNvbXByZXNzZWQgdGV4dHVyZSBmb3JtYXQgaW4gLnNldFRleHR1cmVDdWJlKCkiKTpuLnRleEltYWdlMkQoMzQwNjkreSx4LGcsXy53aWR0aCxfLmhlaWdodCwwLG0sdixfLmRhdGEpfX1lLl9fbWF4TWlwTGV2ZWw9aC5sZW5ndGgtMX1lbHNle2g9aS5taXBtYXBzO2Zvcih2YXIgYj0wO2I8NjtiKyspaWYocyl7bi50ZXhJbWFnZTJEKDM0MDY5K2IsMCxnLGNbYl0ud2lkdGgsY1tiXS5oZWlnaHQsMCxtLHYsY1tiXS5kYXRhKTtmb3IodmFyIHc9MDt3PGgubGVuZ3RoO3crKyl7dmFyIE09aFt3XS5pbWFnZVtiXS5pbWFnZTtuLnRleEltYWdlMkQoMzQwNjkrYix3KzEsZyxNLndpZHRoLE0uaGVpZ2h0LDAsbSx2LE0uZGF0YSl9fWVsc2V7bi50ZXhJbWFnZTJEKDM0MDY5K2IsMCxnLG0sdixjW2JdKTtmb3IodmFyIFM9MDtTPGgubGVuZ3RoO1MrKyl7dmFyIFQ9aFtTXTtuLnRleEltYWdlMkQoMzQwNjkrYixTKzEsZyxtLHYsVC5pbWFnZVtiXSl9fWUuX19tYXhNaXBMZXZlbD1oLmxlbmd0aH1PKGksZikmJk4oMzQwNjcsaSxkLndpZHRoLGQuaGVpZ2h0KTtlLl9fdmVyc2lvbj1pLnZlcnNpb24saS5vblVwZGF0ZSYmaS5vblVwZGF0ZShpKX0obyxlLHIpOihuLmFjdGl2ZVRleHR1cmUoMzM5ODQrciksbi5iaW5kVGV4dHVyZSgzNDA2NyxvLl9fd2ViZ2xUZXh0dXJlKSl9dmFyIFY9KChzPXt9KVsxZTNdPTEwNDk3LHNbMTAwMV09MzMwNzEsc1sxMDAyXT0zMzY0OCxzKSxXPSgoYz17fSlbMTAwM109OTcyOCxjWzEwMDRdPTk5ODQsY1sxMDA1XT05OTg2LGNbMTAwNl09OTcyOSxjWzEwMDddPTk5ODUsY1sxMDA4XT05OTg3LGMpO2Z1bmN0aW9uIGoobixhLG8pe2lmKG8/KHQudGV4UGFyYW1ldGVyaShuLDEwMjQyLFZbYS53cmFwU10pLHQudGV4UGFyYW1ldGVyaShuLDEwMjQzLFZbYS53cmFwVF0pLDMyODc5IT09biYmMzU4NjYhPT1ufHx0LnRleFBhcmFtZXRlcmkobiwzMjg4MixWW2Eud3JhcFJdKSx0LnRleFBhcmFtZXRlcmkobiwxMDI0MCxXW2EubWFnRmlsdGVyXSksdC50ZXhQYXJhbWV0ZXJpKG4sMTAyNDEsV1thLm1pbkZpbHRlcl0pKToodC50ZXhQYXJhbWV0ZXJpKG4sMTAyNDIsMzMwNzEpLHQudGV4UGFyYW1ldGVyaShuLDEwMjQzLDMzMDcxKSwzMjg3OSE9PW4mJjM1ODY2IT09bnx8dC50ZXhQYXJhbWV0ZXJpKG4sMzI4ODIsMzMwNzEpLGEud3JhcFM9PT1kJiZhLndyYXBUPT09ZHx8Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBUZXh0dXJlIGlzIG5vdCBwb3dlciBvZiB0d28uIFRleHR1cmUud3JhcFMgYW5kIFRleHR1cmUud3JhcFQgc2hvdWxkIGJlIHNldCB0byBUSFJFRS5DbGFtcFRvRWRnZVdyYXBwaW5nLiIpLHQudGV4UGFyYW1ldGVyaShuLDEwMjQwLHooYS5tYWdGaWx0ZXIpKSx0LnRleFBhcmFtZXRlcmkobiwxMDI0MSx6KGEubWluRmlsdGVyKSksYS5taW5GaWx0ZXIhPT1mJiZhLm1pbkZpbHRlciE9PWcmJmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBpcyBub3QgcG93ZXIgb2YgdHdvLiBUZXh0dXJlLm1pbkZpbHRlciBzaG91bGQgYmUgc2V0IHRvIFRIUkVFLk5lYXJlc3RGaWx0ZXIgb3IgVEhSRUUuTGluZWFyRmlsdGVyLiIpKSwhMD09PWUuaGFzKCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKSl7dmFyIHM9ZS5nZXQoIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpO2lmKGEudHlwZT09PU0mJiExPT09ZS5oYXMoIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhciIpKXJldHVybjtpZighMT09PXUmJmEudHlwZT09PVMmJiExPT09ZS5oYXMoIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyIikpcmV0dXJuOyhhLmFuaXNvdHJvcHk+MXx8aS5nZXQoYSkuX19jdXJyZW50QW5pc290cm9weSkmJih0LnRleFBhcmFtZXRlcmYobixzLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULE1hdGgubWluKGEuYW5pc290cm9weSxyLmdldE1heEFuaXNvdHJvcHkoKSkpLGkuZ2V0KGEpLl9fY3VycmVudEFuaXNvdHJvcHk9YS5hbmlzb3Ryb3B5KX19ZnVuY3Rpb24gcShlLG4pe3ZvaWQgMD09PWUuX193ZWJnbEluaXQmJihlLl9fd2ViZ2xJbml0PSEwLG4uYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsRiksZS5fX3dlYmdsVGV4dHVyZT10LmNyZWF0ZVRleHR1cmUoKSxvLm1lbW9yeS50ZXh0dXJlcysrKX1mdW5jdGlvbiBYKGUsaSxyKXt2YXIgbz0zNTUzO2kuaXNEYXRhVGV4dHVyZTJEQXJyYXkmJihvPTM1ODY2KSxpLmlzRGF0YVRleHR1cmUzRCYmKG89MzI4NzkpLHEoZSxpKSxuLmFjdGl2ZVRleHR1cmUoMzM5ODQrciksbi5iaW5kVGV4dHVyZShvLGUuX193ZWJnbFRleHR1cmUpLHQucGl4ZWxTdG9yZWkoMzc0NDAsaS5mbGlwWSksdC5waXhlbFN0b3JlaSgzNzQ0MSxpLnByZW11bHRpcGx5QWxwaGEpLHQucGl4ZWxTdG9yZWkoMzMxNyxpLnVucGFja0FsaWdubWVudCk7dmFyIHMsYz1mdW5jdGlvbih0KXtyZXR1cm4hdSYmKHQud3JhcFMhPT1kfHx0LndyYXBUIT09ZHx8dC5taW5GaWx0ZXIhPT1mJiZ0Lm1pbkZpbHRlciE9PWcpfShpKSYmITE9PT1JKGkuaW1hZ2UpLGw9RChpLmltYWdlLGMsITEseSksaD1JKGwpfHx1LHA9YS5jb252ZXJ0KGkuZm9ybWF0KSxtPWEuY29udmVydChpLnR5cGUpLHY9QihpLmludGVybmFsRm9ybWF0LHAsbSk7aihvLGksaCk7dmFyIHg9aS5taXBtYXBzO2lmKGkuaXNEZXB0aFRleHR1cmUpdj02NDAyLHU/dj1pLnR5cGU9PT1NPzM2MDEyOmkudHlwZT09PXc/MzMxOTA6aS50eXBlPT09VD8zNTA1NjozMzE4OTppLnR5cGU9PT1NJiZjb25zb2xlLmVycm9yKCJXZWJHTFJlbmRlcmVyOiBGbG9hdGluZyBwb2ludCBkZXB0aCB0ZXh0dXJlIHJlcXVpcmVzIFdlYkdMMi4iKSxpLmZvcm1hdD09PUwmJjY0MDI9PT12JiZpLnR5cGUhPT1iJiZpLnR5cGUhPT13JiYoY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBVc2UgVW5zaWduZWRTaG9ydFR5cGUgb3IgVW5zaWduZWRJbnRUeXBlIGZvciBEZXB0aEZvcm1hdCBEZXB0aFRleHR1cmUuIiksaS50eXBlPWIsbT1hLmNvbnZlcnQoaS50eXBlKSksaS5mb3JtYXQ9PT1SJiY2NDAyPT09diYmKHY9MzQwNDEsaS50eXBlIT09VCYmKGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogVXNlIFVuc2lnbmVkSW50MjQ4VHlwZSBmb3IgRGVwdGhTdGVuY2lsRm9ybWF0IERlcHRoVGV4dHVyZS4iKSxpLnR5cGU9VCxtPWEuY29udmVydChpLnR5cGUpKSksbi50ZXhJbWFnZTJEKDM1NTMsMCx2LGwud2lkdGgsbC5oZWlnaHQsMCxwLG0sbnVsbCk7ZWxzZSBpZihpLmlzRGF0YVRleHR1cmUpaWYoeC5sZW5ndGg+MCYmaCl7Zm9yKHZhciBfPTAsUz14Lmxlbmd0aDtfPFM7XysrKXM9eFtfXSxuLnRleEltYWdlMkQoMzU1MyxfLHYscy53aWR0aCxzLmhlaWdodCwwLHAsbSxzLmRhdGEpO2kuZ2VuZXJhdGVNaXBtYXBzPSExLGUuX19tYXhNaXBMZXZlbD14Lmxlbmd0aC0xfWVsc2Ugbi50ZXhJbWFnZTJEKDM1NTMsMCx2LGwud2lkdGgsbC5oZWlnaHQsMCxwLG0sbC5kYXRhKSxlLl9fbWF4TWlwTGV2ZWw9MDtlbHNlIGlmKGkuaXNDb21wcmVzc2VkVGV4dHVyZSl7Zm9yKHZhciBDPTAsUD14Lmxlbmd0aDtDPFA7QysrKXM9eFtDXSxpLmZvcm1hdCE9PUEmJmkuZm9ybWF0IT09RT9udWxsIT09cD9uLmNvbXByZXNzZWRUZXhJbWFnZTJEKDM1NTMsQyx2LHMud2lkdGgscy5oZWlnaHQsMCxzLmRhdGEpOmNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogQXR0ZW1wdCB0byBsb2FkIHVuc3VwcG9ydGVkIGNvbXByZXNzZWQgdGV4dHVyZSBmb3JtYXQgaW4gLnVwbG9hZFRleHR1cmUoKSIpOm4udGV4SW1hZ2UyRCgzNTUzLEMsdixzLndpZHRoLHMuaGVpZ2h0LDAscCxtLHMuZGF0YSk7ZS5fX21heE1pcExldmVsPXgubGVuZ3RoLTF9ZWxzZSBpZihpLmlzRGF0YVRleHR1cmUyREFycmF5KW4udGV4SW1hZ2UzRCgzNTg2NiwwLHYsbC53aWR0aCxsLmhlaWdodCxsLmRlcHRoLDAscCxtLGwuZGF0YSksZS5fX21heE1pcExldmVsPTA7ZWxzZSBpZihpLmlzRGF0YVRleHR1cmUzRCluLnRleEltYWdlM0QoMzI4NzksMCx2LGwud2lkdGgsbC5oZWlnaHQsbC5kZXB0aCwwLHAsbSxsLmRhdGEpLGUuX19tYXhNaXBMZXZlbD0wO2Vsc2UgaWYoeC5sZW5ndGg+MCYmaCl7Zm9yKHZhciB6PTAsRj14Lmxlbmd0aDt6PEY7eisrKXM9eFt6XSxuLnRleEltYWdlMkQoMzU1Myx6LHYscCxtLHMpO2kuZ2VuZXJhdGVNaXBtYXBzPSExLGUuX19tYXhNaXBMZXZlbD14Lmxlbmd0aC0xfWVsc2Ugbi50ZXhJbWFnZTJEKDM1NTMsMCx2LHAsbSxsKSxlLl9fbWF4TWlwTGV2ZWw9MDtPKGksaCkmJk4obyxpLGwud2lkdGgsbC5oZWlnaHQpLGUuX192ZXJzaW9uPWkudmVyc2lvbixpLm9uVXBkYXRlJiZpLm9uVXBkYXRlKGkpfWZ1bmN0aW9uIFkoZSxyLG8scyl7dmFyIGM9ci50ZXh0dXJlLGw9YS5jb252ZXJ0KGMuZm9ybWF0KSx1PWEuY29udmVydChjLnR5cGUpLGg9QihjLmludGVybmFsRm9ybWF0LGwsdSk7MzI4Nzk9PT1zfHwzNTg2Nj09PXM/bi50ZXhJbWFnZTNEKHMsMCxoLHIud2lkdGgsci5oZWlnaHQsci5kZXB0aCwwLGwsdSxudWxsKTpuLnRleEltYWdlMkQocywwLGgsci53aWR0aCxyLmhlaWdodCwwLGwsdSxudWxsKSx0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxlKSx0LmZyYW1lYnVmZmVyVGV4dHVyZTJEKDM2MTYwLG8scyxpLmdldChjKS5fX3dlYmdsVGV4dHVyZSwwKSx0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxudWxsKX1mdW5jdGlvbiBaKGUsbixpKXtpZih0LmJpbmRSZW5kZXJidWZmZXIoMzYxNjEsZSksbi5kZXB0aEJ1ZmZlciYmIW4uc3RlbmNpbEJ1ZmZlcil7dmFyIHI9MzMxODk7aWYoaSl7dmFyIG89bi5kZXB0aFRleHR1cmU7byYmby5pc0RlcHRoVGV4dHVyZSYmKG8udHlwZT09PU0/cj0zNjAxMjpvLnR5cGU9PT13JiYocj0zMzE5MCkpO3ZhciBzPVEobik7dC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoMzYxNjEscyxyLG4ud2lkdGgsbi5oZWlnaHQpfWVsc2UgdC5yZW5kZXJidWZmZXJTdG9yYWdlKDM2MTYxLHIsbi53aWR0aCxuLmhlaWdodCk7dC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcigzNjE2MCwzNjA5NiwzNjE2MSxlKX1lbHNlIGlmKG4uZGVwdGhCdWZmZXImJm4uc3RlbmNpbEJ1ZmZlcil7aWYoaSl7dmFyIGM9UShuKTt0LnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSxjLDM1MDU2LG4ud2lkdGgsbi5oZWlnaHQpfWVsc2UgdC5yZW5kZXJidWZmZXJTdG9yYWdlKDM2MTYxLDM0MDQxLG4ud2lkdGgsbi5oZWlnaHQpO3QuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoMzYxNjAsMzMzMDYsMzYxNjEsZSl9ZWxzZXt2YXIgbD1uLnRleHR1cmUsdT1hLmNvbnZlcnQobC5mb3JtYXQpLGg9YS5jb252ZXJ0KGwudHlwZSksZD1CKGwuaW50ZXJuYWxGb3JtYXQsdSxoKTtpZihpKXt2YXIgcD1RKG4pO3QucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKDM2MTYxLHAsZCxuLndpZHRoLG4uaGVpZ2h0KX1lbHNlIHQucmVuZGVyYnVmZmVyU3RvcmFnZSgzNjE2MSxkLG4ud2lkdGgsbi5oZWlnaHQpfXQuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSxudWxsKX1mdW5jdGlvbiBKKGUpe3ZhciBuPWkuZ2V0KGUpLHI9ITA9PT1lLmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0O2lmKGUuZGVwdGhUZXh0dXJlKXtpZihyKXRocm93IG5ldyBFcnJvcigidGFyZ2V0LmRlcHRoVGV4dHVyZSBub3Qgc3VwcG9ydGVkIGluIEN1YmUgcmVuZGVyIHRhcmdldHMiKTshZnVuY3Rpb24oZSxuKXtpZihuJiZuLmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0KXRocm93IG5ldyBFcnJvcigiRGVwdGggVGV4dHVyZSB3aXRoIGN1YmUgcmVuZGVyIHRhcmdldHMgaXMgbm90IHN1cHBvcnRlZCIpO2lmKHQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLGUpLCFuLmRlcHRoVGV4dHVyZXx8IW4uZGVwdGhUZXh0dXJlLmlzRGVwdGhUZXh0dXJlKXRocm93IG5ldyBFcnJvcigicmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFRIUkVFLkRlcHRoVGV4dHVyZSIpO2kuZ2V0KG4uZGVwdGhUZXh0dXJlKS5fX3dlYmdsVGV4dHVyZSYmbi5kZXB0aFRleHR1cmUuaW1hZ2Uud2lkdGg9PT1uLndpZHRoJiZuLmRlcHRoVGV4dHVyZS5pbWFnZS5oZWlnaHQ9PT1uLmhlaWdodHx8KG4uZGVwdGhUZXh0dXJlLmltYWdlLndpZHRoPW4ud2lkdGgsbi5kZXB0aFRleHR1cmUuaW1hZ2UuaGVpZ2h0PW4uaGVpZ2h0LG4uZGVwdGhUZXh0dXJlLm5lZWRzVXBkYXRlPSEwKSxVKG4uZGVwdGhUZXh0dXJlLDApO3ZhciByPWkuZ2V0KG4uZGVwdGhUZXh0dXJlKS5fX3dlYmdsVGV4dHVyZTtpZihuLmRlcHRoVGV4dHVyZS5mb3JtYXQ9PT1MKXQuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsMzYwOTYsMzU1MyxyLDApO2Vsc2V7aWYobi5kZXB0aFRleHR1cmUuZm9ybWF0IT09Uil0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gZGVwdGhUZXh0dXJlIGZvcm1hdCIpO3QuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsMzMzMDYsMzU1MyxyLDApfX0obi5fX3dlYmdsRnJhbWVidWZmZXIsZSl9ZWxzZSBpZihyKXtuLl9fd2ViZ2xEZXB0aGJ1ZmZlcj1bXTtmb3IodmFyIGE9MDthPDY7YSsrKXQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG4uX193ZWJnbEZyYW1lYnVmZmVyW2FdKSxuLl9fd2ViZ2xEZXB0aGJ1ZmZlclthXT10LmNyZWF0ZVJlbmRlcmJ1ZmZlcigpLFoobi5fX3dlYmdsRGVwdGhidWZmZXJbYV0sZSwhMSl9ZWxzZSB0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxuLl9fd2ViZ2xGcmFtZWJ1ZmZlciksbi5fX3dlYmdsRGVwdGhidWZmZXI9dC5jcmVhdGVSZW5kZXJidWZmZXIoKSxaKG4uX193ZWJnbERlcHRoYnVmZmVyLGUsITEpO3QuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpfWZ1bmN0aW9uIFEodCl7cmV0dXJuIHUmJnQuaXNXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0P01hdGgubWluKHgsdC5zYW1wbGVzKTowfXZhciBLPSExLCQ9ITE7dGhpcy5hbGxvY2F0ZVRleHR1cmVVbml0PWZ1bmN0aW9uKCl7dmFyIHQ9RztyZXR1cm4gdD49aCYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFRleHR1cmVzOiBUcnlpbmcgdG8gdXNlICIrdCsiIHRleHR1cmUgdW5pdHMgd2hpbGUgdGhpcyBHUFUgc3VwcG9ydHMgb25seSAiK2gpLEcrPTEsdH0sdGhpcy5yZXNldFRleHR1cmVVbml0cz1mdW5jdGlvbigpe0c9MH0sdGhpcy5zZXRUZXh0dXJlMkQ9VSx0aGlzLnNldFRleHR1cmUyREFycmF5PWZ1bmN0aW9uKHQsZSl7dmFyIHI9aS5nZXQodCk7dC52ZXJzaW9uPjAmJnIuX192ZXJzaW9uIT09dC52ZXJzaW9uP1gocix0LGUpOihuLmFjdGl2ZVRleHR1cmUoMzM5ODQrZSksbi5iaW5kVGV4dHVyZSgzNTg2NixyLl9fd2ViZ2xUZXh0dXJlKSl9LHRoaXMuc2V0VGV4dHVyZTNEPWZ1bmN0aW9uKHQsZSl7dmFyIHI9aS5nZXQodCk7dC52ZXJzaW9uPjAmJnIuX192ZXJzaW9uIT09dC52ZXJzaW9uP1gocix0LGUpOihuLmFjdGl2ZVRleHR1cmUoMzM5ODQrZSksbi5iaW5kVGV4dHVyZSgzMjg3OSxyLl9fd2ViZ2xUZXh0dXJlKSl9LHRoaXMuc2V0VGV4dHVyZUN1YmU9ayx0aGlzLnNldHVwUmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKGUpe3ZhciByPWUudGV4dHVyZSxzPWkuZ2V0KGUpLGM9aS5nZXQocik7ZS5hZGRFdmVudExpc3RlbmVyKCJkaXNwb3NlIixIKSxjLl9fd2ViZ2xUZXh0dXJlPXQuY3JlYXRlVGV4dHVyZSgpLG8ubWVtb3J5LnRleHR1cmVzKys7dmFyIGw9ITA9PT1lLmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0LGg9ITA9PT1lLmlzV2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldCxkPXIuaXNEYXRhVGV4dHVyZTNEfHxyLmlzRGF0YVRleHR1cmUyREFycmF5LHA9SShlKXx8dTtpZighdXx8ci5mb3JtYXQhPT1FfHxyLnR5cGUhPT1NJiZyLnR5cGUhPT1TfHwoci5mb3JtYXQ9QSxjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IFJlbmRlcmluZyB0byB0ZXh0dXJlcyB3aXRoIFJHQiBmb3JtYXQgaXMgbm90IHN1cHBvcnRlZC4gVXNpbmcgUkdCQSBmb3JtYXQgaW5zdGVhZC4iKSksbCl7cy5fX3dlYmdsRnJhbWVidWZmZXI9W107Zm9yKHZhciBmPTA7Zjw2O2YrKylzLl9fd2ViZ2xGcmFtZWJ1ZmZlcltmXT10LmNyZWF0ZUZyYW1lYnVmZmVyKCl9ZWxzZSBpZihzLl9fd2ViZ2xGcmFtZWJ1ZmZlcj10LmNyZWF0ZUZyYW1lYnVmZmVyKCksaClpZih1KXtzLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlcj10LmNyZWF0ZUZyYW1lYnVmZmVyKCkscy5fX3dlYmdsQ29sb3JSZW5kZXJidWZmZXI9dC5jcmVhdGVSZW5kZXJidWZmZXIoKSx0LmJpbmRSZW5kZXJidWZmZXIoMzYxNjEscy5fX3dlYmdsQ29sb3JSZW5kZXJidWZmZXIpO3ZhciBtPWEuY29udmVydChyLmZvcm1hdCksdj1hLmNvbnZlcnQoci50eXBlKSxnPUIoci5pbnRlcm5hbEZvcm1hdCxtLHYpLHk9UShlKTt0LnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSx5LGcsZS53aWR0aCxlLmhlaWdodCksdC5iaW5kRnJhbWVidWZmZXIoMzYxNjAscy5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXIpLHQuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoMzYxNjAsMzYwNjQsMzYxNjEscy5fX3dlYmdsQ29sb3JSZW5kZXJidWZmZXIpLHQuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSxudWxsKSxlLmRlcHRoQnVmZmVyJiYocy5fX3dlYmdsRGVwdGhSZW5kZXJidWZmZXI9dC5jcmVhdGVSZW5kZXJidWZmZXIoKSxaKHMuX193ZWJnbERlcHRoUmVuZGVyYnVmZmVyLGUsITApKSx0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxudWxsKX1lbHNlIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogV2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldCBjYW4gb25seSBiZSB1c2VkIHdpdGggV2ViR0wyLiIpO2lmKGwpe24uYmluZFRleHR1cmUoMzQwNjcsYy5fX3dlYmdsVGV4dHVyZSksaigzNDA2NyxyLHApO2Zvcih2YXIgeD0wO3g8Njt4KyspWShzLl9fd2ViZ2xGcmFtZWJ1ZmZlclt4XSxlLDM2MDY0LDM0MDY5K3gpO08ocixwKSYmTigzNDA2NyxyLGUud2lkdGgsZS5oZWlnaHQpLG4uYmluZFRleHR1cmUoMzQwNjcsbnVsbCl9ZWxzZXt2YXIgXz0zNTUzO2lmKGQpaWYodSlfPXIuaXNEYXRhVGV4dHVyZTNEPzMyODc5OjM1ODY2O2Vsc2UgY29uc29sZS53YXJuKCJUSFJFRS5EYXRhVGV4dHVyZTNEIGFuZCBUSFJFRS5EYXRhVGV4dHVyZTJEQXJyYXkgb25seSBzdXBwb3J0ZWQgd2l0aCBXZWJHTDIuIik7bi5iaW5kVGV4dHVyZShfLGMuX193ZWJnbFRleHR1cmUpLGooXyxyLHApLFkocy5fX3dlYmdsRnJhbWVidWZmZXIsZSwzNjA2NCxfKSxPKHIscCkmJk4oMzU1MyxyLGUud2lkdGgsZS5oZWlnaHQpLG4uYmluZFRleHR1cmUoMzU1MyxudWxsKX1lLmRlcHRoQnVmZmVyJiZKKGUpfSx0aGlzLnVwZGF0ZVJlbmRlclRhcmdldE1pcG1hcD1mdW5jdGlvbih0KXt2YXIgZT10LnRleHR1cmU7aWYoTyhlLEkodCl8fHUpKXt2YXIgcj10LmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0PzM0MDY3OjM1NTMsYT1pLmdldChlKS5fX3dlYmdsVGV4dHVyZTtuLmJpbmRUZXh0dXJlKHIsYSksTihyLGUsdC53aWR0aCx0LmhlaWdodCksbi5iaW5kVGV4dHVyZShyLG51bGwpfX0sdGhpcy51cGRhdGVNdWx0aXNhbXBsZVJlbmRlclRhcmdldD1mdW5jdGlvbihlKXtpZihlLmlzV2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldClpZih1KXt2YXIgbj1pLmdldChlKTt0LmJpbmRGcmFtZWJ1ZmZlcigzNjAwOCxuLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlciksdC5iaW5kRnJhbWVidWZmZXIoMzYwMDksbi5fX3dlYmdsRnJhbWVidWZmZXIpO3ZhciByPWUud2lkdGgsYT1lLmhlaWdodCxvPTE2Mzg0O2UuZGVwdGhCdWZmZXImJihvfD0yNTYpLGUuc3RlbmNpbEJ1ZmZlciYmKG98PTEwMjQpLHQuYmxpdEZyYW1lYnVmZmVyKDAsMCxyLGEsMCwwLHIsYSxvLDk3MjgpLHQuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG4uX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyKX1lbHNlIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogV2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldCBjYW4gb25seSBiZSB1c2VkIHdpdGggV2ViR0wyLiIpfSx0aGlzLnNhZmVTZXRUZXh0dXJlMkQ9ZnVuY3Rpb24odCxlKXt0JiZ0LmlzV2ViR0xSZW5kZXJUYXJnZXQmJighMT09PUsmJihjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMVGV4dHVyZXMuc2FmZVNldFRleHR1cmUyRDogZG9uJ3QgdXNlIHJlbmRlciB0YXJnZXRzIGFzIHRleHR1cmVzLiBVc2UgdGhlaXIgLnRleHR1cmUgcHJvcGVydHkgaW5zdGVhZC4iKSxLPSEwKSx0PXQudGV4dHVyZSksVSh0LGUpfSx0aGlzLnNhZmVTZXRUZXh0dXJlQ3ViZT1mdW5jdGlvbih0LGUpe3QmJnQuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQmJighMT09PSQmJihjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMVGV4dHVyZXMuc2FmZVNldFRleHR1cmVDdWJlOiBkb24ndCB1c2UgY3ViZSByZW5kZXIgdGFyZ2V0cyBhcyB0ZXh0dXJlcy4gVXNlIHRoZWlyIC50ZXh0dXJlIHByb3BlcnR5IGluc3RlYWQuIiksJD0hMCksdD10LnRleHR1cmUpLGsodCxlKX19ZnVuY3Rpb24gaWEodCxlLG4pe3ZhciBpPW4uaXNXZWJHTDI7cmV0dXJue2NvbnZlcnQ6ZnVuY3Rpb24odCl7dmFyIG47aWYodD09PV8pcmV0dXJuIDUxMjE7aWYoMTAxNz09PXQpcmV0dXJuIDMyODE5O2lmKDEwMTg9PT10KXJldHVybiAzMjgyMDtpZigxMDE5PT09dClyZXR1cm4gMzM2MzU7aWYoMTAxMD09PXQpcmV0dXJuIDUxMjA7aWYoMTAxMT09PXQpcmV0dXJuIDUxMjI7aWYodD09PWIpcmV0dXJuIDUxMjM7aWYoMTAxMz09PXQpcmV0dXJuIDUxMjQ7aWYodD09PXcpcmV0dXJuIDUxMjU7aWYodD09PU0pcmV0dXJuIDUxMjY7aWYodD09PVMpcmV0dXJuIGk/NTEzMTpudWxsIT09KG49ZS5nZXQoIk9FU190ZXh0dXJlX2hhbGZfZmxvYXQiKSk/bi5IQUxGX0ZMT0FUX09FUzpudWxsO2lmKDEwMjE9PT10KXJldHVybiA2NDA2O2lmKHQ9PT1FKXJldHVybiA2NDA3O2lmKHQ9PT1BKXJldHVybiA2NDA4O2lmKDEwMjQ9PT10KXJldHVybiA2NDA5O2lmKDEwMjU9PT10KXJldHVybiA2NDEwO2lmKHQ9PT1MKXJldHVybiA2NDAyO2lmKHQ9PT1SKXJldHVybiAzNDA0MTtpZigxMDI4PT09dClyZXR1cm4gNjQwMztpZigxMDI5PT09dClyZXR1cm4gMzYyNDQ7aWYoMTAzMD09PXQpcmV0dXJuIDMzMzE5O2lmKDEwMzE9PT10KXJldHVybiAzMzMyMDtpZigxMDMyPT09dClyZXR1cm4gMzYyNDg7aWYoMTAzMz09PXQpcmV0dXJuIDM2MjQ5O2lmKHQ9PT1DfHx0PT09UHx8dD09PUR8fHQ9PT1JKXtpZihudWxsPT09KG49ZS5nZXQoIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIikpKXJldHVybiBudWxsO2lmKHQ9PT1DKXJldHVybiBuLkNPTVBSRVNTRURfUkdCX1MzVENfRFhUMV9FWFQ7aWYodD09PVApcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFQ7aWYodD09PUQpcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUM19FWFQ7aWYodD09PUkpcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFR9aWYodD09PU98fHQ9PT1OfHx0PT09Qnx8dD09PXope2lmKG51bGw9PT0obj1lLmdldCgiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjIikpKXJldHVybiBudWxsO2lmKHQ9PT1PKXJldHVybiBuLkNPTVBSRVNTRURfUkdCX1BWUlRDXzRCUFBWMV9JTUc7aWYodD09PU4pcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0JfUFZSVENfMkJQUFYxX0lNRztpZih0PT09QilyZXR1cm4gbi5DT01QUkVTU0VEX1JHQkFfUFZSVENfNEJQUFYxX0lNRztpZih0PT09eilyZXR1cm4gbi5DT01QUkVTU0VEX1JHQkFfUFZSVENfMkJQUFYxX0lNR31pZigzNjE5Nj09PXQpcmV0dXJuIG51bGwhPT0obj1lLmdldCgiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzEiKSk/bi5DT01QUkVTU0VEX1JHQl9FVEMxX1dFQkdMOm51bGw7aWYoKHQ9PT1GfHx0PT09SCkmJm51bGwhPT0obj1lLmdldCgiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YyIpKSl7aWYodD09PUYpcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0I4X0VUQzI7aWYodD09PUgpcmV0dXJuIG4uQ09NUFJFU1NFRF9SR0JBOF9FVEMyX0VBQ31yZXR1cm4gMzc4MDg9PT10fHwzNzgwOT09PXR8fDM3ODEwPT09dHx8Mzc4MTE9PT10fHwzNzgxMj09PXR8fDM3ODEzPT09dHx8Mzc4MTQ9PT10fHwzNzgxNT09PXR8fDM3ODE2PT09dHx8Mzc4MTc9PT10fHwzNzgxOD09PXR8fDM3ODE5PT09dHx8Mzc4MjA9PT10fHwzNzgyMT09PXR8fDM3ODQwPT09dHx8Mzc4NDE9PT10fHwzNzg0Mj09PXR8fDM3ODQzPT09dHx8Mzc4NDQ9PT10fHwzNzg0NT09PXR8fDM3ODQ2PT09dHx8Mzc4NDc9PT10fHwzNzg0OD09PXR8fDM3ODQ5PT09dHx8Mzc4NTA9PT10fHwzNzg1MT09PXR8fDM3ODUyPT09dHx8Mzc4NTM9PT10P251bGwhPT0obj1lLmdldCgiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2FzdGMiKSk/dDpudWxsOjM2NDkyPT09dD9udWxsIT09KG49ZS5nZXQoIkVYVF90ZXh0dXJlX2NvbXByZXNzaW9uX2JwdGMiKSk/dDpudWxsOnQ9PT1UP2k/MzQwNDI6bnVsbCE9PShuPWUuZ2V0KCJXRUJHTF9kZXB0aF90ZXh0dXJlIikpP24uVU5TSUdORURfSU5UXzI0XzhfV0VCR0w6bnVsbDp2b2lkIDB9fX1mdW5jdGlvbiByYSh0KXt2b2lkIDA9PT10JiYodD1bXSksWm4uY2FsbCh0aGlzKSx0aGlzLmNhbWVyYXM9dH1mdW5jdGlvbiBhYSgpe0FlLmNhbGwodGhpcyksdGhpcy50eXBlPSJHcm91cCJ9ZnVuY3Rpb24gb2EoKXt0aGlzLl90YXJnZXRSYXk9bnVsbCx0aGlzLl9ncmlwPW51bGwsdGhpcy5faGFuZD1udWxsfWZ1bmN0aW9uIHNhKHQsZSl7dmFyIG49dGhpcyxpPW51bGwscj0xLGE9bnVsbCxvPSJsb2NhbC1mbG9vciIscz1udWxsLGM9W10sbD1uZXcgTWFwLHU9bmV3IFpuO3UubGF5ZXJzLmVuYWJsZSgxKSx1LnZpZXdwb3J0PW5ldyBTdDt2YXIgaD1uZXcgWm47aC5sYXllcnMuZW5hYmxlKDIpLGgudmlld3BvcnQ9bmV3IFN0O3ZhciBkPVt1LGhdLHA9bmV3IHJhO3AubGF5ZXJzLmVuYWJsZSgxKSxwLmxheWVycy5lbmFibGUoMik7dmFyIGY9bnVsbCxtPW51bGw7ZnVuY3Rpb24gdih0KXt2YXIgZT1sLmdldCh0LmlucHV0U291cmNlKTtlJiZlLmRpc3BhdGNoRXZlbnQoe3R5cGU6dC50eXBlLGRhdGE6dC5pbnB1dFNvdXJjZX0pfWZ1bmN0aW9uIGcoKXtsLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7dC5kaXNjb25uZWN0KGUpfSkpLGwuY2xlYXIoKSxmPW51bGwsbT1udWxsLHQuc2V0RnJhbWVidWZmZXIobnVsbCksdC5zZXRSZW5kZXJUYXJnZXQodC5nZXRSZW5kZXJUYXJnZXQoKSksTS5zdG9wKCksbi5pc1ByZXNlbnRpbmc9ITEsbi5kaXNwYXRjaEV2ZW50KHt0eXBlOiJzZXNzaW9uZW5kIn0pfWZ1bmN0aW9uIHkodCl7Zm9yKHZhciBlPWkuaW5wdXRTb3VyY2VzLG49MDtuPGMubGVuZ3RoO24rKylsLnNldChlW25dLGNbbl0pO2Zvcih2YXIgcj0wO3I8dC5yZW1vdmVkLmxlbmd0aDtyKyspe3ZhciBhPXQucmVtb3ZlZFtyXSxvPWwuZ2V0KGEpO28mJihvLmRpc3BhdGNoRXZlbnQoe3R5cGU6ImRpc2Nvbm5lY3RlZCIsZGF0YTphfSksbC5kZWxldGUoYSkpfWZvcih2YXIgcz0wO3M8dC5hZGRlZC5sZW5ndGg7cysrKXt2YXIgdT10LmFkZGVkW3NdLGg9bC5nZXQodSk7aCYmaC5kaXNwYXRjaEV2ZW50KHt0eXBlOiJjb25uZWN0ZWQiLGRhdGE6dX0pfX10aGlzLmVuYWJsZWQ9ITEsdGhpcy5pc1ByZXNlbnRpbmc9ITEsdGhpcy5nZXRDb250cm9sbGVyPWZ1bmN0aW9uKHQpe3ZhciBlPWNbdF07cmV0dXJuIHZvaWQgMD09PWUmJihlPW5ldyBvYSxjW3RdPWUpLGUuZ2V0VGFyZ2V0UmF5U3BhY2UoKX0sdGhpcy5nZXRDb250cm9sbGVyR3JpcD1mdW5jdGlvbih0KXt2YXIgZT1jW3RdO3JldHVybiB2b2lkIDA9PT1lJiYoZT1uZXcgb2EsY1t0XT1lKSxlLmdldEdyaXBTcGFjZSgpfSx0aGlzLmdldEhhbmQ9ZnVuY3Rpb24odCl7dmFyIGU9Y1t0XTtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bmV3IG9hLGNbdF09ZSksZS5nZXRIYW5kU3BhY2UoKX0sdGhpcy5zZXRGcmFtZWJ1ZmZlclNjYWxlRmFjdG9yPWZ1bmN0aW9uKHQpe3I9dCwhMD09PW4uaXNQcmVzZW50aW5nJiZjb25zb2xlLndhcm4oIlRIUkVFLldlYlhSTWFuYWdlcjogQ2Fubm90IGNoYW5nZSBmcmFtZWJ1ZmZlciBzY2FsZSB3aGlsZSBwcmVzZW50aW5nLiIpfSx0aGlzLnNldFJlZmVyZW5jZVNwYWNlVHlwZT1mdW5jdGlvbih0KXtvPXQsITA9PT1uLmlzUHJlc2VudGluZyYmY29uc29sZS53YXJuKCJUSFJFRS5XZWJYUk1hbmFnZXI6IENhbm5vdCBjaGFuZ2UgcmVmZXJlbmNlIHNwYWNlIHR5cGUgd2hpbGUgcHJlc2VudGluZy4iKX0sdGhpcy5nZXRSZWZlcmVuY2VTcGFjZT1mdW5jdGlvbigpe3JldHVybiBhfSx0aGlzLmdldFNlc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4gaX0sdGhpcy5zZXRTZXNzaW9uPWZ1bmN0aW9uKCl7dmFyIHQscz0odD1yZWdlbmVyYXRvclJ1bnRpbWUubWFyaygoZnVuY3Rpb24gdChzKXt2YXIgYyxsLHU7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDppZihudWxsPT09KGk9cykpe3QubmV4dD0yNDticmVha31pZihpLmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdCIsdiksaS5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3RzdGFydCIsdiksaS5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3RlbmQiLHYpLGkuYWRkRXZlbnRMaXN0ZW5lcigic3F1ZWV6ZSIsdiksaS5hZGRFdmVudExpc3RlbmVyKCJzcXVlZXplc3RhcnQiLHYpLGkuYWRkRXZlbnRMaXN0ZW5lcigic3F1ZWV6ZWVuZCIsdiksaS5hZGRFdmVudExpc3RlbmVyKCJlbmQiLGcpLGkuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXRzb3VyY2VzY2hhbmdlIix5KSwhMD09PShjPWUuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKSkueHJDb21wYXRpYmxlKXt0Lm5leHQ9MTQ7YnJlYWt9cmV0dXJuIHQubmV4dD0xNCxlLm1ha2VYUkNvbXBhdGlibGUoKTtjYXNlIDE0OnJldHVybiBsPXthbnRpYWxpYXM6Yy5hbnRpYWxpYXMsYWxwaGE6Yy5hbHBoYSxkZXB0aDpjLmRlcHRoLHN0ZW5jaWw6Yy5zdGVuY2lsLGZyYW1lYnVmZmVyU2NhbGVGYWN0b3I6cn0sdT1uZXcgWFJXZWJHTExheWVyKGksZSxsKSxpLnVwZGF0ZVJlbmRlclN0YXRlKHtiYXNlTGF5ZXI6dX0pLHQubmV4dD0xOSxpLnJlcXVlc3RSZWZlcmVuY2VTcGFjZShvKTtjYXNlIDE5OmE9dC5zZW50LE0uc2V0Q29udGV4dChpKSxNLnN0YXJ0KCksbi5pc1ByZXNlbnRpbmc9ITAsbi5kaXNwYXRjaEV2ZW50KHt0eXBlOiJzZXNzaW9uc3RhcnQifSk7Y2FzZSAyNDpjYXNlImVuZCI6cmV0dXJuIHQuc3RvcCgpfX0pLHQpfSkpLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxuPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGkscil7dmFyIGE9dC5hcHBseShlLG4pO2Z1bmN0aW9uIG8odCl7YXQoYSxpLHIsbyxzLCJuZXh0Iix0KX1mdW5jdGlvbiBzKHQpe2F0KGEsaSxyLG8scywidGhyb3ciLHQpfW8odm9pZCAwKX0pKX0pO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gcy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpO3ZhciB4PW5ldyBMdCxfPW5ldyBMdDtmdW5jdGlvbiBiKHQsZSl7bnVsbD09PWU/dC5tYXRyaXhXb3JsZC5jb3B5KHQubWF0cml4KTp0Lm1hdHJpeFdvcmxkLm11bHRpcGx5TWF0cmljZXMoZS5tYXRyaXhXb3JsZCx0Lm1hdHJpeCksdC5tYXRyaXhXb3JsZEludmVyc2UuY29weSh0Lm1hdHJpeFdvcmxkKS5pbnZlcnQoKX10aGlzLmdldENhbWVyYT1mdW5jdGlvbih0KXtwLm5lYXI9aC5uZWFyPXUubmVhcj10Lm5lYXIscC5mYXI9aC5mYXI9dS5mYXI9dC5mYXIsZj09PXAubmVhciYmbT09PXAuZmFyfHwoaS51cGRhdGVSZW5kZXJTdGF0ZSh7ZGVwdGhOZWFyOnAubmVhcixkZXB0aEZhcjpwLmZhcn0pLGY9cC5uZWFyLG09cC5mYXIpO3ZhciBlPXQucGFyZW50LG49cC5jYW1lcmFzO2IocCxlKTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyliKG5bcl0sZSk7dC5tYXRyaXhXb3JsZC5jb3B5KHAubWF0cml4V29ybGQpLHQubWF0cml4LmNvcHkocC5tYXRyaXgpLHQubWF0cml4LmRlY29tcG9zZSh0LnBvc2l0aW9uLHQucXVhdGVybmlvbix0LnNjYWxlKTtmb3IodmFyIGE9dC5jaGlsZHJlbixvPTAscz1hLmxlbmd0aDtvPHM7bysrKWFbb10udXBkYXRlTWF0cml4V29ybGQoITApO3JldHVybiAyPT09bi5sZW5ndGg/ZnVuY3Rpb24odCxlLG4pe3guc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGUubWF0cml4V29ybGQpLF8uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKG4ubWF0cml4V29ybGQpO3ZhciBpPXguZGlzdGFuY2VUbyhfKSxyPWUucHJvamVjdGlvbk1hdHJpeC5lbGVtZW50cyxhPW4ucHJvamVjdGlvbk1hdHJpeC5lbGVtZW50cyxvPXJbMTRdLyhyWzEwXS0xKSxzPXJbMTRdLyhyWzEwXSsxKSxjPShyWzldKzEpL3JbNV0sbD0ocls5XS0xKS9yWzVdLHU9KHJbOF0tMSkvclswXSxoPShhWzhdKzEpL2FbMF0sZD1vKnUscD1vKmgsZj1pLygtdStoKSxtPWYqLXU7ZS5tYXRyaXhXb3JsZC5kZWNvbXBvc2UodC5wb3NpdGlvbix0LnF1YXRlcm5pb24sdC5zY2FsZSksdC50cmFuc2xhdGVYKG0pLHQudHJhbnNsYXRlWihmKSx0Lm1hdHJpeFdvcmxkLmNvbXBvc2UodC5wb3NpdGlvbix0LnF1YXRlcm5pb24sdC5zY2FsZSksdC5tYXRyaXhXb3JsZEludmVyc2UuY29weSh0Lm1hdHJpeFdvcmxkKS5pbnZlcnQoKTt2YXIgdj1vK2YsZz1zK2YseT1kLW0sYj1wKyhpLW0pLHc9YypzL2cqdixNPWwqcy9nKnY7dC5wcm9qZWN0aW9uTWF0cml4Lm1ha2VQZXJzcGVjdGl2ZSh5LGIsdyxNLHYsZyl9KHAsdSxoKTpwLnByb2plY3Rpb25NYXRyaXguY29weSh1LnByb2plY3Rpb25NYXRyaXgpLHB9O3ZhciB3PW51bGw7dmFyIE09bmV3IHJpO00uc2V0QW5pbWF0aW9uTG9vcCgoZnVuY3Rpb24oZSxuKXtpZihudWxsIT09KHM9bi5nZXRWaWV3ZXJQb3NlKGEpKSl7dmFyIHI9cy52aWV3cyxvPWkucmVuZGVyU3RhdGUuYmFzZUxheWVyO3Quc2V0RnJhbWVidWZmZXIoby5mcmFtZWJ1ZmZlcik7dmFyIGw9ITE7ci5sZW5ndGghPT1wLmNhbWVyYXMubGVuZ3RoJiYocC5jYW1lcmFzLmxlbmd0aD0wLGw9ITApO2Zvcih2YXIgdT0wO3U8ci5sZW5ndGg7dSsrKXt2YXIgaD1yW3VdLGY9by5nZXRWaWV3cG9ydChoKSxtPWRbdV07bS5tYXRyaXguZnJvbUFycmF5KGgudHJhbnNmb3JtLm1hdHJpeCksbS5wcm9qZWN0aW9uTWF0cml4LmZyb21BcnJheShoLnByb2plY3Rpb25NYXRyaXgpLG0udmlld3BvcnQuc2V0KGYueCxmLnksZi53aWR0aCxmLmhlaWdodCksMD09PXUmJnAubWF0cml4LmNvcHkobS5tYXRyaXgpLCEwPT09bCYmcC5jYW1lcmFzLnB1c2gobSl9fWZvcih2YXIgdj1pLmlucHV0U291cmNlcyxnPTA7ZzxjLmxlbmd0aDtnKyspe3ZhciB5PWNbZ10seD12W2ddO3kudXBkYXRlKHgsbixhKX13JiZ3KGUsbil9KSksdGhpcy5zZXRBbmltYXRpb25Mb29wPWZ1bmN0aW9uKHQpe3c9dH0sdGhpcy5kaXNwb3NlPWZ1bmN0aW9uKCl7fX1mdW5jdGlvbiBjYSh0KXtmdW5jdGlvbiBlKGUsbil7ZS5vcGFjaXR5LnZhbHVlPW4ub3BhY2l0eSxuLmNvbG9yJiZlLmRpZmZ1c2UudmFsdWUuY29weShuLmNvbG9yKSxuLmVtaXNzaXZlJiZlLmVtaXNzaXZlLnZhbHVlLmNvcHkobi5lbWlzc2l2ZSkubXVsdGlwbHlTY2FsYXIobi5lbWlzc2l2ZUludGVuc2l0eSksbi5tYXAmJihlLm1hcC52YWx1ZT1uLm1hcCksbi5hbHBoYU1hcCYmKGUuYWxwaGFNYXAudmFsdWU9bi5hbHBoYU1hcCksbi5zcGVjdWxhck1hcCYmKGUuc3BlY3VsYXJNYXAudmFsdWU9bi5zcGVjdWxhck1hcCk7dmFyIGkscixhPXQuZ2V0KG4pLmVudk1hcDtpZihhKXtlLmVudk1hcC52YWx1ZT1hLGUuZmxpcEVudk1hcC52YWx1ZT1hLmlzQ3ViZVRleHR1cmUmJmEuX25lZWRzRmxpcEVudk1hcD8tMToxLGUucmVmbGVjdGl2aXR5LnZhbHVlPW4ucmVmbGVjdGl2aXR5LGUucmVmcmFjdGlvblJhdGlvLnZhbHVlPW4ucmVmcmFjdGlvblJhdGlvO3ZhciBvPXQuZ2V0KGEpLl9fbWF4TWlwTGV2ZWw7dm9pZCAwIT09byYmKGUubWF4TWlwTGV2ZWwudmFsdWU9byl9bi5saWdodE1hcCYmKGUubGlnaHRNYXAudmFsdWU9bi5saWdodE1hcCxlLmxpZ2h0TWFwSW50ZW5zaXR5LnZhbHVlPW4ubGlnaHRNYXBJbnRlbnNpdHkpLG4uYW9NYXAmJihlLmFvTWFwLnZhbHVlPW4uYW9NYXAsZS5hb01hcEludGVuc2l0eS52YWx1ZT1uLmFvTWFwSW50ZW5zaXR5KSxuLm1hcD9pPW4ubWFwOm4uc3BlY3VsYXJNYXA/aT1uLnNwZWN1bGFyTWFwOm4uZGlzcGxhY2VtZW50TWFwP2k9bi5kaXNwbGFjZW1lbnRNYXA6bi5ub3JtYWxNYXA/aT1uLm5vcm1hbE1hcDpuLmJ1bXBNYXA/aT1uLmJ1bXBNYXA6bi5yb3VnaG5lc3NNYXA/aT1uLnJvdWdobmVzc01hcDpuLm1ldGFsbmVzc01hcD9pPW4ubWV0YWxuZXNzTWFwOm4uYWxwaGFNYXA/aT1uLmFscGhhTWFwOm4uZW1pc3NpdmVNYXA/aT1uLmVtaXNzaXZlTWFwOm4uY2xlYXJjb2F0TWFwP2k9bi5jbGVhcmNvYXRNYXA6bi5jbGVhcmNvYXROb3JtYWxNYXA/aT1uLmNsZWFyY29hdE5vcm1hbE1hcDpuLmNsZWFyY29hdFJvdWdobmVzc01hcCYmKGk9bi5jbGVhcmNvYXRSb3VnaG5lc3NNYXApLHZvaWQgMCE9PWkmJihpLmlzV2ViR0xSZW5kZXJUYXJnZXQmJihpPWkudGV4dHVyZSksITA9PT1pLm1hdHJpeEF1dG9VcGRhdGUmJmkudXBkYXRlTWF0cml4KCksZS51dlRyYW5zZm9ybS52YWx1ZS5jb3B5KGkubWF0cml4KSksbi5hb01hcD9yPW4uYW9NYXA6bi5saWdodE1hcCYmKHI9bi5saWdodE1hcCksdm9pZCAwIT09ciYmKHIuaXNXZWJHTFJlbmRlclRhcmdldCYmKHI9ci50ZXh0dXJlKSwhMD09PXIubWF0cml4QXV0b1VwZGF0ZSYmci51cGRhdGVNYXRyaXgoKSxlLnV2MlRyYW5zZm9ybS52YWx1ZS5jb3B5KHIubWF0cml4KSl9ZnVuY3Rpb24gbihlLG4pe2Uucm91Z2huZXNzLnZhbHVlPW4ucm91Z2huZXNzLGUubWV0YWxuZXNzLnZhbHVlPW4ubWV0YWxuZXNzLG4ucm91Z2huZXNzTWFwJiYoZS5yb3VnaG5lc3NNYXAudmFsdWU9bi5yb3VnaG5lc3NNYXApLG4ubWV0YWxuZXNzTWFwJiYoZS5tZXRhbG5lc3NNYXAudmFsdWU9bi5tZXRhbG5lc3NNYXApLG4uZW1pc3NpdmVNYXAmJihlLmVtaXNzaXZlTWFwLnZhbHVlPW4uZW1pc3NpdmVNYXApLG4uYnVtcE1hcCYmKGUuYnVtcE1hcC52YWx1ZT1uLmJ1bXBNYXAsZS5idW1wU2NhbGUudmFsdWU9bi5idW1wU2NhbGUsMT09PW4uc2lkZSYmKGUuYnVtcFNjYWxlLnZhbHVlKj0tMSkpLG4ubm9ybWFsTWFwJiYoZS5ub3JtYWxNYXAudmFsdWU9bi5ub3JtYWxNYXAsZS5ub3JtYWxTY2FsZS52YWx1ZS5jb3B5KG4ubm9ybWFsU2NhbGUpLDE9PT1uLnNpZGUmJmUubm9ybWFsU2NhbGUudmFsdWUubmVnYXRlKCkpLG4uZGlzcGxhY2VtZW50TWFwJiYoZS5kaXNwbGFjZW1lbnRNYXAudmFsdWU9bi5kaXNwbGFjZW1lbnRNYXAsZS5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT1uLmRpc3BsYWNlbWVudFNjYWxlLGUuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1uLmRpc3BsYWNlbWVudEJpYXMpLHQuZ2V0KG4pLmVudk1hcCYmKGUuZW52TWFwSW50ZW5zaXR5LnZhbHVlPW4uZW52TWFwSW50ZW5zaXR5KX1yZXR1cm57cmVmcmVzaEZvZ1VuaWZvcm1zOmZ1bmN0aW9uKHQsZSl7dC5mb2dDb2xvci52YWx1ZS5jb3B5KGUuY29sb3IpLGUuaXNGb2c/KHQuZm9nTmVhci52YWx1ZT1lLm5lYXIsdC5mb2dGYXIudmFsdWU9ZS5mYXIpOmUuaXNGb2dFeHAyJiYodC5mb2dEZW5zaXR5LnZhbHVlPWUuZGVuc2l0eSl9LHJlZnJlc2hNYXRlcmlhbFVuaWZvcm1zOmZ1bmN0aW9uKHQsaSxyLGEpe2kuaXNNZXNoQmFzaWNNYXRlcmlhbD9lKHQsaSk6aS5pc01lc2hMYW1iZXJ0TWF0ZXJpYWw/KGUodCxpKSxmdW5jdGlvbih0LGUpe2UuZW1pc3NpdmVNYXAmJih0LmVtaXNzaXZlTWFwLnZhbHVlPWUuZW1pc3NpdmVNYXApfSh0LGkpKTppLmlzTWVzaFRvb25NYXRlcmlhbD8oZSh0LGkpLGZ1bmN0aW9uKHQsZSl7ZS5ncmFkaWVudE1hcCYmKHQuZ3JhZGllbnRNYXAudmFsdWU9ZS5ncmFkaWVudE1hcCk7ZS5lbWlzc2l2ZU1hcCYmKHQuZW1pc3NpdmVNYXAudmFsdWU9ZS5lbWlzc2l2ZU1hcCk7ZS5idW1wTWFwJiYodC5idW1wTWFwLnZhbHVlPWUuYnVtcE1hcCx0LmJ1bXBTY2FsZS52YWx1ZT1lLmJ1bXBTY2FsZSwxPT09ZS5zaWRlJiYodC5idW1wU2NhbGUudmFsdWUqPS0xKSk7ZS5ub3JtYWxNYXAmJih0Lm5vcm1hbE1hcC52YWx1ZT1lLm5vcm1hbE1hcCx0Lm5vcm1hbFNjYWxlLnZhbHVlLmNvcHkoZS5ub3JtYWxTY2FsZSksMT09PWUuc2lkZSYmdC5ub3JtYWxTY2FsZS52YWx1ZS5uZWdhdGUoKSk7ZS5kaXNwbGFjZW1lbnRNYXAmJih0LmRpc3BsYWNlbWVudE1hcC52YWx1ZT1lLmRpc3BsYWNlbWVudE1hcCx0LmRpc3BsYWNlbWVudFNjYWxlLnZhbHVlPWUuZGlzcGxhY2VtZW50U2NhbGUsdC5kaXNwbGFjZW1lbnRCaWFzLnZhbHVlPWUuZGlzcGxhY2VtZW50Qmlhcyl9KHQsaSkpOmkuaXNNZXNoUGhvbmdNYXRlcmlhbD8oZSh0LGkpLGZ1bmN0aW9uKHQsZSl7dC5zcGVjdWxhci52YWx1ZS5jb3B5KGUuc3BlY3VsYXIpLHQuc2hpbmluZXNzLnZhbHVlPU1hdGgubWF4KGUuc2hpbmluZXNzLDFlLTQpLGUuZW1pc3NpdmVNYXAmJih0LmVtaXNzaXZlTWFwLnZhbHVlPWUuZW1pc3NpdmVNYXApO2UuYnVtcE1hcCYmKHQuYnVtcE1hcC52YWx1ZT1lLmJ1bXBNYXAsdC5idW1wU2NhbGUudmFsdWU9ZS5idW1wU2NhbGUsMT09PWUuc2lkZSYmKHQuYnVtcFNjYWxlLnZhbHVlKj0tMSkpO2Uubm9ybWFsTWFwJiYodC5ub3JtYWxNYXAudmFsdWU9ZS5ub3JtYWxNYXAsdC5ub3JtYWxTY2FsZS52YWx1ZS5jb3B5KGUubm9ybWFsU2NhbGUpLDE9PT1lLnNpZGUmJnQubm9ybWFsU2NhbGUudmFsdWUubmVnYXRlKCkpO2UuZGlzcGxhY2VtZW50TWFwJiYodC5kaXNwbGFjZW1lbnRNYXAudmFsdWU9ZS5kaXNwbGFjZW1lbnRNYXAsdC5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT1lLmRpc3BsYWNlbWVudFNjYWxlLHQuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1lLmRpc3BsYWNlbWVudEJpYXMpfSh0LGkpKTppLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/KGUodCxpKSxpLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWw/ZnVuY3Rpb24odCxlKXtuKHQsZSksdC5yZWZsZWN0aXZpdHkudmFsdWU9ZS5yZWZsZWN0aXZpdHksdC5jbGVhcmNvYXQudmFsdWU9ZS5jbGVhcmNvYXQsdC5jbGVhcmNvYXRSb3VnaG5lc3MudmFsdWU9ZS5jbGVhcmNvYXRSb3VnaG5lc3MsZS5zaGVlbiYmdC5zaGVlbi52YWx1ZS5jb3B5KGUuc2hlZW4pO2UuY2xlYXJjb2F0TWFwJiYodC5jbGVhcmNvYXRNYXAudmFsdWU9ZS5jbGVhcmNvYXRNYXApO2UuY2xlYXJjb2F0Um91Z2huZXNzTWFwJiYodC5jbGVhcmNvYXRSb3VnaG5lc3NNYXAudmFsdWU9ZS5jbGVhcmNvYXRSb3VnaG5lc3NNYXApO2UuY2xlYXJjb2F0Tm9ybWFsTWFwJiYodC5jbGVhcmNvYXROb3JtYWxTY2FsZS52YWx1ZS5jb3B5KGUuY2xlYXJjb2F0Tm9ybWFsU2NhbGUpLHQuY2xlYXJjb2F0Tm9ybWFsTWFwLnZhbHVlPWUuY2xlYXJjb2F0Tm9ybWFsTWFwLDE9PT1lLnNpZGUmJnQuY2xlYXJjb2F0Tm9ybWFsU2NhbGUudmFsdWUubmVnYXRlKCkpO3QudHJhbnNtaXNzaW9uLnZhbHVlPWUudHJhbnNtaXNzaW9uLGUudHJhbnNtaXNzaW9uTWFwJiYodC50cmFuc21pc3Npb25NYXAudmFsdWU9ZS50cmFuc21pc3Npb25NYXApfSh0LGkpOm4odCxpKSk6aS5pc01lc2hNYXRjYXBNYXRlcmlhbD8oZSh0LGkpLGZ1bmN0aW9uKHQsZSl7ZS5tYXRjYXAmJih0Lm1hdGNhcC52YWx1ZT1lLm1hdGNhcCk7ZS5idW1wTWFwJiYodC5idW1wTWFwLnZhbHVlPWUuYnVtcE1hcCx0LmJ1bXBTY2FsZS52YWx1ZT1lLmJ1bXBTY2FsZSwxPT09ZS5zaWRlJiYodC5idW1wU2NhbGUudmFsdWUqPS0xKSk7ZS5ub3JtYWxNYXAmJih0Lm5vcm1hbE1hcC52YWx1ZT1lLm5vcm1hbE1hcCx0Lm5vcm1hbFNjYWxlLnZhbHVlLmNvcHkoZS5ub3JtYWxTY2FsZSksMT09PWUuc2lkZSYmdC5ub3JtYWxTY2FsZS52YWx1ZS5uZWdhdGUoKSk7ZS5kaXNwbGFjZW1lbnRNYXAmJih0LmRpc3BsYWNlbWVudE1hcC52YWx1ZT1lLmRpc3BsYWNlbWVudE1hcCx0LmRpc3BsYWNlbWVudFNjYWxlLnZhbHVlPWUuZGlzcGxhY2VtZW50U2NhbGUsdC5kaXNwbGFjZW1lbnRCaWFzLnZhbHVlPWUuZGlzcGxhY2VtZW50Qmlhcyl9KHQsaSkpOmkuaXNNZXNoRGVwdGhNYXRlcmlhbD8oZSh0LGkpLGZ1bmN0aW9uKHQsZSl7ZS5kaXNwbGFjZW1lbnRNYXAmJih0LmRpc3BsYWNlbWVudE1hcC52YWx1ZT1lLmRpc3BsYWNlbWVudE1hcCx0LmRpc3BsYWNlbWVudFNjYWxlLnZhbHVlPWUuZGlzcGxhY2VtZW50U2NhbGUsdC5kaXNwbGFjZW1lbnRCaWFzLnZhbHVlPWUuZGlzcGxhY2VtZW50Qmlhcyl9KHQsaSkpOmkuaXNNZXNoRGlzdGFuY2VNYXRlcmlhbD8oZSh0LGkpLGZ1bmN0aW9uKHQsZSl7ZS5kaXNwbGFjZW1lbnRNYXAmJih0LmRpc3BsYWNlbWVudE1hcC52YWx1ZT1lLmRpc3BsYWNlbWVudE1hcCx0LmRpc3BsYWNlbWVudFNjYWxlLnZhbHVlPWUuZGlzcGxhY2VtZW50U2NhbGUsdC5kaXNwbGFjZW1lbnRCaWFzLnZhbHVlPWUuZGlzcGxhY2VtZW50Qmlhcyk7dC5yZWZlcmVuY2VQb3NpdGlvbi52YWx1ZS5jb3B5KGUucmVmZXJlbmNlUG9zaXRpb24pLHQubmVhckRpc3RhbmNlLnZhbHVlPWUubmVhckRpc3RhbmNlLHQuZmFyRGlzdGFuY2UudmFsdWU9ZS5mYXJEaXN0YW5jZX0odCxpKSk6aS5pc01lc2hOb3JtYWxNYXRlcmlhbD8oZSh0LGkpLGZ1bmN0aW9uKHQsZSl7ZS5idW1wTWFwJiYodC5idW1wTWFwLnZhbHVlPWUuYnVtcE1hcCx0LmJ1bXBTY2FsZS52YWx1ZT1lLmJ1bXBTY2FsZSwxPT09ZS5zaWRlJiYodC5idW1wU2NhbGUudmFsdWUqPS0xKSk7ZS5ub3JtYWxNYXAmJih0Lm5vcm1hbE1hcC52YWx1ZT1lLm5vcm1hbE1hcCx0Lm5vcm1hbFNjYWxlLnZhbHVlLmNvcHkoZS5ub3JtYWxTY2FsZSksMT09PWUuc2lkZSYmdC5ub3JtYWxTY2FsZS52YWx1ZS5uZWdhdGUoKSk7ZS5kaXNwbGFjZW1lbnRNYXAmJih0LmRpc3BsYWNlbWVudE1hcC52YWx1ZT1lLmRpc3BsYWNlbWVudE1hcCx0LmRpc3BsYWNlbWVudFNjYWxlLnZhbHVlPWUuZGlzcGxhY2VtZW50U2NhbGUsdC5kaXNwbGFjZW1lbnRCaWFzLnZhbHVlPWUuZGlzcGxhY2VtZW50Qmlhcyl9KHQsaSkpOmkuaXNMaW5lQmFzaWNNYXRlcmlhbD8oZnVuY3Rpb24odCxlKXt0LmRpZmZ1c2UudmFsdWUuY29weShlLmNvbG9yKSx0Lm9wYWNpdHkudmFsdWU9ZS5vcGFjaXR5fSh0LGkpLGkuaXNMaW5lRGFzaGVkTWF0ZXJpYWwmJmZ1bmN0aW9uKHQsZSl7dC5kYXNoU2l6ZS52YWx1ZT1lLmRhc2hTaXplLHQudG90YWxTaXplLnZhbHVlPWUuZGFzaFNpemUrZS5nYXBTaXplLHQuc2NhbGUudmFsdWU9ZS5zY2FsZX0odCxpKSk6aS5pc1BvaW50c01hdGVyaWFsP2Z1bmN0aW9uKHQsZSxuLGkpe3QuZGlmZnVzZS52YWx1ZS5jb3B5KGUuY29sb3IpLHQub3BhY2l0eS52YWx1ZT1lLm9wYWNpdHksdC5zaXplLnZhbHVlPWUuc2l6ZSpuLHQuc2NhbGUudmFsdWU9LjUqaSxlLm1hcCYmKHQubWFwLnZhbHVlPWUubWFwKTtlLmFscGhhTWFwJiYodC5hbHBoYU1hcC52YWx1ZT1lLmFscGhhTWFwKTt2YXIgcjtlLm1hcD9yPWUubWFwOmUuYWxwaGFNYXAmJihyPWUuYWxwaGFNYXApO3ZvaWQgMCE9PXImJighMD09PXIubWF0cml4QXV0b1VwZGF0ZSYmci51cGRhdGVNYXRyaXgoKSx0LnV2VHJhbnNmb3JtLnZhbHVlLmNvcHkoci5tYXRyaXgpKX0odCxpLHIsYSk6aS5pc1Nwcml0ZU1hdGVyaWFsP2Z1bmN0aW9uKHQsZSl7dC5kaWZmdXNlLnZhbHVlLmNvcHkoZS5jb2xvciksdC5vcGFjaXR5LnZhbHVlPWUub3BhY2l0eSx0LnJvdGF0aW9uLnZhbHVlPWUucm90YXRpb24sZS5tYXAmJih0Lm1hcC52YWx1ZT1lLm1hcCk7ZS5hbHBoYU1hcCYmKHQuYWxwaGFNYXAudmFsdWU9ZS5hbHBoYU1hcCk7dmFyIG47ZS5tYXA/bj1lLm1hcDplLmFscGhhTWFwJiYobj1lLmFscGhhTWFwKTt2b2lkIDAhPT1uJiYoITA9PT1uLm1hdHJpeEF1dG9VcGRhdGUmJm4udXBkYXRlTWF0cml4KCksdC51dlRyYW5zZm9ybS52YWx1ZS5jb3B5KG4ubWF0cml4KSl9KHQsaSk6aS5pc1NoYWRvd01hdGVyaWFsPyh0LmNvbG9yLnZhbHVlLmNvcHkoaS5jb2xvciksdC5vcGFjaXR5LnZhbHVlPWkub3BhY2l0eSk6aS5pc1NoYWRlck1hdGVyaWFsJiYoaS51bmlmb3Jtc05lZWRVcGRhdGU9ITEpfX19ZnVuY3Rpb24gbGEodCl7dmFyIGUsbj12b2lkIDAhPT0odD10fHx7fSkuY2FudmFzP3QuY2FudmFzOigoZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLCJjYW52YXMiKSkuc3R5bGUuZGlzcGxheT0iYmxvY2siLGUpLGk9dm9pZCAwIT09dC5jb250ZXh0P3QuY29udGV4dDpudWxsLHI9dm9pZCAwIT09dC5hbHBoYSYmdC5hbHBoYSxhPXZvaWQgMD09PXQuZGVwdGh8fHQuZGVwdGgsbz12b2lkIDA9PT10LnN0ZW5jaWx8fHQuc3RlbmNpbCxzPXZvaWQgMCE9PXQuYW50aWFsaWFzJiZ0LmFudGlhbGlhcyxjPXZvaWQgMD09PXQucHJlbXVsdGlwbGllZEFscGhhfHx0LnByZW11bHRpcGxpZWRBbHBoYSxsPXZvaWQgMCE9PXQucHJlc2VydmVEcmF3aW5nQnVmZmVyJiZ0LnByZXNlcnZlRHJhd2luZ0J1ZmZlcix1PXZvaWQgMCE9PXQucG93ZXJQcmVmZXJlbmNlP3QucG93ZXJQcmVmZXJlbmNlOiJkZWZhdWx0IixoPXZvaWQgMCE9PXQuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCYmdC5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0LGQ9bnVsbCxwPW51bGwsZj1bXTt0aGlzLmRvbUVsZW1lbnQ9bix0aGlzLmRlYnVnPXtjaGVja1NoYWRlckVycm9yczohMH0sdGhpcy5hdXRvQ2xlYXI9ITAsdGhpcy5hdXRvQ2xlYXJDb2xvcj0hMCx0aGlzLmF1dG9DbGVhckRlcHRoPSEwLHRoaXMuYXV0b0NsZWFyU3RlbmNpbD0hMCx0aGlzLnNvcnRPYmplY3RzPSEwLHRoaXMuY2xpcHBpbmdQbGFuZXM9W10sdGhpcy5sb2NhbENsaXBwaW5nRW5hYmxlZD0hMSx0aGlzLmdhbW1hRmFjdG9yPTIsdGhpcy5vdXRwdXRFbmNvZGluZz1ZLHRoaXMucGh5c2ljYWxseUNvcnJlY3RMaWdodHM9ITEsdGhpcy50b25lTWFwcGluZz0wLHRoaXMudG9uZU1hcHBpbmdFeHBvc3VyZT0xLHRoaXMubWF4TW9ycGhUYXJnZXRzPTgsdGhpcy5tYXhNb3JwaE5vcm1hbHM9NDt2YXIgbT10aGlzLHY9ITEsZz1udWxsLHk9MCx4PTAsYj1udWxsLHc9bnVsbCxUPS0xLEU9bnVsbCxMPW5ldyBTdCxSPW5ldyBTdCxDPW51bGwsUD1uLndpZHRoLEQ9bi5oZWlnaHQsST0xLE89bnVsbCxOPW51bGwsQj1uZXcgU3QoMCwwLFAsRCksej1uZXcgU3QoMCwwLFAsRCksRj0hMSxIPW5ldyBpaSxHPSExLFU9ITEsaz1uZXcgbmUsVj1uZXcgTHQsVz17YmFja2dyb3VuZDpudWxsLGZvZzpudWxsLGVudmlyb25tZW50Om51bGwsb3ZlcnJpZGVNYXRlcmlhbDpudWxsLGlzU2NlbmU6ITB9O2Z1bmN0aW9uIGooKXtyZXR1cm4gbnVsbD09PWI/SToxfXZhciBxLFgsWixKLFEsSywkLHR0LGV0LG50LGl0LHJ0LGF0LG90LHN0LGN0LGx0LHV0LGh0LGR0LHB0LGZ0PWk7ZnVuY3Rpb24gbXQodCxlKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIHI9dFtpXSxhPW4uZ2V0Q29udGV4dChyLGUpO2lmKG51bGwhPT1hKXJldHVybiBhfXJldHVybiBudWxsfXRyeXt2YXIgdnQ9e2FscGhhOnIsZGVwdGg6YSxzdGVuY2lsOm8sYW50aWFsaWFzOnMscHJlbXVsdGlwbGllZEFscGhhOmMscHJlc2VydmVEcmF3aW5nQnVmZmVyOmwscG93ZXJQcmVmZXJlbmNlOnUsZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDpofTtpZihuLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLE10LCExKSxuLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIixUdCwhMSksbnVsbD09PWZ0KXt2YXIgeHQ9WyJ3ZWJnbDIiLCJ3ZWJnbCIsImV4cGVyaW1lbnRhbC13ZWJnbCJdO2lmKCEwPT09bS5pc1dlYkdMMVJlbmRlcmVyJiZ4dC5zaGlmdCgpLG51bGw9PT0oZnQ9bXQoeHQsdnQpKSl0aHJvdyBtdCh4dCk/bmV3IEVycm9yKCJFcnJvciBjcmVhdGluZyBXZWJHTCBjb250ZXh0IHdpdGggeW91ciBzZWxlY3RlZCBhdHRyaWJ1dGVzLiIpOm5ldyBFcnJvcigiRXJyb3IgY3JlYXRpbmcgV2ViR0wgY29udGV4dC4iKX12b2lkIDA9PT1mdC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQmJihmdC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQ9ZnVuY3Rpb24oKXtyZXR1cm57cmFuZ2VNaW46MSxyYW5nZU1heDoxLHByZWNpc2lvbjoxfX0pfWNhdGNoKHQpe3Rocm93IGNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXI6ICIrdC5tZXNzYWdlKSx0fWZ1bmN0aW9uIF90KCl7cT1uZXcgdmkoZnQpLFg9bmV3IHBpKGZ0LHEsdCkscS5pbml0KFgpLGR0PW5ldyBpYShmdCxxLFgpLChaPW5ldyBlYShmdCxxLFgpKS5zY2lzc29yKFIuY29weSh6KS5tdWx0aXBseVNjYWxhcihJKS5mbG9vcigpKSxaLnZpZXdwb3J0KEwuY29weShCKS5tdWx0aXBseVNjYWxhcihJKS5mbG9vcigpKSxKPW5ldyB4aShmdCksUT1uZXcgVXIsSz1uZXcgbmEoZnQscSxaLFEsWCxkdCxKKSwkPW5ldyBtaShtKSx0dD1uZXcgYWkoZnQsWCkscHQ9bmV3IGhpKGZ0LHEsdHQsWCksZXQ9bmV3IGdpKGZ0LHR0LEoscHQpLG50PW5ldyBNaShmdCxldCx0dCxKKSxsdD1uZXcgd2koZnQpLHN0PW5ldyBmaShRKSxpdD1uZXcgR3IobSwkLHEsWCxwdCxzdCkscnQ9bmV3IGNhKFEpLGF0PW5ldyBqcihRKSxvdD1uZXcgUXIocSxYKSxjdD1uZXcgdWkobSwkLFosbnQsYyksdXQ9bmV3IGRpKGZ0LHEsSixYKSxodD1uZXcgeWkoZnQscSxKLFgpLEoucHJvZ3JhbXM9aXQucHJvZ3JhbXMsbS5jYXBhYmlsaXRpZXM9WCxtLmV4dGVuc2lvbnM9cSxtLnByb3BlcnRpZXM9USxtLnJlbmRlckxpc3RzPWF0LG0uc3RhdGU9WixtLmluZm89Sn1fdCgpO3ZhciBidD1uZXcgc2EobSxmdCk7dGhpcy54cj1idDt2YXIgd3Q9bmV3IHRhKG0sbnQsWC5tYXhUZXh0dXJlU2l6ZSk7ZnVuY3Rpb24gTXQodCl7dC5wcmV2ZW50RGVmYXVsdCgpLGNvbnNvbGUubG9nKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBDb250ZXh0IExvc3QuIiksdj0hMH1mdW5jdGlvbiBUdCgpe2NvbnNvbGUubG9nKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBDb250ZXh0IFJlc3RvcmVkLiIpLHY9ITEsX3QoKX1mdW5jdGlvbiBFdCh0KXt2YXIgZT10LnRhcmdldDtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImRpc3Bvc2UiLEV0KSxmdW5jdGlvbih0KXtBdCh0KSxRLnJlbW92ZSh0KX0oZSl9ZnVuY3Rpb24gQXQodCl7dmFyIGU9US5nZXQodCkucHJvZ3JhbTt2b2lkIDAhPT1lJiZpdC5yZWxlYXNlUHJvZ3JhbShlKX10aGlzLnNoYWRvd01hcD13dCx0aGlzLmdldENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnR9LHRoaXMuZ2V0Q29udGV4dEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gZnQuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKX0sdGhpcy5mb3JjZUNvbnRleHRMb3NzPWZ1bmN0aW9uKCl7dmFyIHQ9cS5nZXQoIldFQkdMX2xvc2VfY29udGV4dCIpO3QmJnQubG9zZUNvbnRleHQoKX0sdGhpcy5mb3JjZUNvbnRleHRSZXN0b3JlPWZ1bmN0aW9uKCl7dmFyIHQ9cS5nZXQoIldFQkdMX2xvc2VfY29udGV4dCIpO3QmJnQucmVzdG9yZUNvbnRleHQoKX0sdGhpcy5nZXRQaXhlbFJhdGlvPWZ1bmN0aW9uKCl7cmV0dXJuIEl9LHRoaXMuc2V0UGl4ZWxSYXRpbz1mdW5jdGlvbih0KXt2b2lkIDAhPT10JiYoST10LHRoaXMuc2V0U2l6ZShQLEQsITEpKX0sdGhpcy5nZXRTaXplPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKCJXZWJHTFJlbmRlcmVyOiAuZ2V0c2l6ZSgpIG5vdyByZXF1aXJlcyBhIFZlY3RvcjIgYXMgYW4gYXJndW1lbnQiKSx0PW5ldyB5dCksdC5zZXQoUCxEKX0sdGhpcy5zZXRTaXplPWZ1bmN0aW9uKHQsZSxpKXtidC5pc1ByZXNlbnRpbmc/Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBDYW4ndCBjaGFuZ2Ugc2l6ZSB3aGlsZSBWUiBkZXZpY2UgaXMgcHJlc2VudGluZy4iKTooUD10LEQ9ZSxuLndpZHRoPU1hdGguZmxvb3IodCpJKSxuLmhlaWdodD1NYXRoLmZsb29yKGUqSSksITEhPT1pJiYobi5zdHlsZS53aWR0aD10KyJweCIsbi5zdHlsZS5oZWlnaHQ9ZSsicHgiKSx0aGlzLnNldFZpZXdwb3J0KDAsMCx0LGUpKX0sdGhpcy5nZXREcmF3aW5nQnVmZmVyU2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybigiV2ViR0xSZW5kZXJlcjogLmdldGRyYXdpbmdCdWZmZXJTaXplKCkgbm93IHJlcXVpcmVzIGEgVmVjdG9yMiBhcyBhbiBhcmd1bWVudCIpLHQ9bmV3IHl0KSx0LnNldChQKkksRCpJKS5mbG9vcigpfSx0aGlzLnNldERyYXdpbmdCdWZmZXJTaXplPWZ1bmN0aW9uKHQsZSxpKXtQPXQsRD1lLEk9aSxuLndpZHRoPU1hdGguZmxvb3IodCppKSxuLmhlaWdodD1NYXRoLmZsb29yKGUqaSksdGhpcy5zZXRWaWV3cG9ydCgwLDAsdCxlKX0sdGhpcy5nZXRDdXJyZW50Vmlld3BvcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oIldlYkdMUmVuZGVyZXI6IC5nZXRDdXJyZW50Vmlld3BvcnQoKSBub3cgcmVxdWlyZXMgYSBWZWN0b3I0IGFzIGFuIGFyZ3VtZW50IiksdD1uZXcgU3QpLHQuY29weShMKX0sdGhpcy5nZXRWaWV3cG9ydD1mdW5jdGlvbih0KXtyZXR1cm4gdC5jb3B5KEIpfSx0aGlzLnNldFZpZXdwb3J0PWZ1bmN0aW9uKHQsZSxuLGkpe3QuaXNWZWN0b3I0P0Iuc2V0KHQueCx0LnksdC56LHQudyk6Qi5zZXQodCxlLG4saSksWi52aWV3cG9ydChMLmNvcHkoQikubXVsdGlwbHlTY2FsYXIoSSkuZmxvb3IoKSl9LHRoaXMuZ2V0U2Npc3Nvcj1mdW5jdGlvbih0KXtyZXR1cm4gdC5jb3B5KHopfSx0aGlzLnNldFNjaXNzb3I9ZnVuY3Rpb24odCxlLG4saSl7dC5pc1ZlY3RvcjQ/ei5zZXQodC54LHQueSx0LnosdC53KTp6LnNldCh0LGUsbixpKSxaLnNjaXNzb3IoUi5jb3B5KHopLm11bHRpcGx5U2NhbGFyKEkpLmZsb29yKCkpfSx0aGlzLmdldFNjaXNzb3JUZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIEZ9LHRoaXMuc2V0U2Npc3NvclRlc3Q9ZnVuY3Rpb24odCl7Wi5zZXRTY2lzc29yVGVzdChGPXQpfSx0aGlzLnNldE9wYXF1ZVNvcnQ9ZnVuY3Rpb24odCl7Tz10fSx0aGlzLnNldFRyYW5zcGFyZW50U29ydD1mdW5jdGlvbih0KXtOPXR9LHRoaXMuZ2V0Q2xlYXJDb2xvcj1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybigiV2ViR0xSZW5kZXJlcjogLmdldENsZWFyQ29sb3IoKSBub3cgcmVxdWlyZXMgYSBDb2xvciBhcyBhbiBhcmd1bWVudCIpLHQ9bmV3IFFlKSx0LmNvcHkoY3QuZ2V0Q2xlYXJDb2xvcigpKX0sdGhpcy5zZXRDbGVhckNvbG9yPWZ1bmN0aW9uKCl7Y3Quc2V0Q2xlYXJDb2xvci5hcHBseShjdCxhcmd1bWVudHMpfSx0aGlzLmdldENsZWFyQWxwaGE9ZnVuY3Rpb24oKXtyZXR1cm4gY3QuZ2V0Q2xlYXJBbHBoYSgpfSx0aGlzLnNldENsZWFyQWxwaGE9ZnVuY3Rpb24oKXtjdC5zZXRDbGVhckFscGhhLmFwcGx5KGN0LGFyZ3VtZW50cyl9LHRoaXMuY2xlYXI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPTA7KHZvaWQgMD09PXR8fHQpJiYoaXw9MTYzODQpLCh2b2lkIDA9PT1lfHxlKSYmKGl8PTI1NiksKHZvaWQgMD09PW58fG4pJiYoaXw9MTAyNCksZnQuY2xlYXIoaSl9LHRoaXMuY2xlYXJDb2xvcj1mdW5jdGlvbigpe3RoaXMuY2xlYXIoITAsITEsITEpfSx0aGlzLmNsZWFyRGVwdGg9ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKCExLCEwLCExKX0sdGhpcy5jbGVhclN0ZW5jaWw9ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKCExLCExLCEwKX0sdGhpcy5kaXNwb3NlPWZ1bmN0aW9uKCl7bi5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRsb3N0IixNdCwhMSksbi5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsVHQsITEpLGF0LmRpc3Bvc2UoKSxvdC5kaXNwb3NlKCksUS5kaXNwb3NlKCksJC5kaXNwb3NlKCksbnQuZGlzcG9zZSgpLHB0LmRpc3Bvc2UoKSxidC5kaXNwb3NlKCksQ3Quc3RvcCgpfSx0aGlzLnJlbmRlckJ1ZmZlckltbWVkaWF0ZT1mdW5jdGlvbih0LGUpe3B0LmluaXRBdHRyaWJ1dGVzKCk7dmFyIG49US5nZXQodCk7dC5oYXNQb3NpdGlvbnMmJiFuLnBvc2l0aW9uJiYobi5wb3NpdGlvbj1mdC5jcmVhdGVCdWZmZXIoKSksdC5oYXNOb3JtYWxzJiYhbi5ub3JtYWwmJihuLm5vcm1hbD1mdC5jcmVhdGVCdWZmZXIoKSksdC5oYXNVdnMmJiFuLnV2JiYobi51dj1mdC5jcmVhdGVCdWZmZXIoKSksdC5oYXNDb2xvcnMmJiFuLmNvbG9yJiYobi5jb2xvcj1mdC5jcmVhdGVCdWZmZXIoKSk7dmFyIGk9ZS5nZXRBdHRyaWJ1dGVzKCk7dC5oYXNQb3NpdGlvbnMmJihmdC5iaW5kQnVmZmVyKDM0OTYyLG4ucG9zaXRpb24pLGZ0LmJ1ZmZlckRhdGEoMzQ5NjIsdC5wb3NpdGlvbkFycmF5LDM1MDQ4KSxwdC5lbmFibGVBdHRyaWJ1dGUoaS5wb3NpdGlvbiksZnQudmVydGV4QXR0cmliUG9pbnRlcihpLnBvc2l0aW9uLDMsNTEyNiwhMSwwLDApKSx0Lmhhc05vcm1hbHMmJihmdC5iaW5kQnVmZmVyKDM0OTYyLG4ubm9ybWFsKSxmdC5idWZmZXJEYXRhKDM0OTYyLHQubm9ybWFsQXJyYXksMzUwNDgpLHB0LmVuYWJsZUF0dHJpYnV0ZShpLm5vcm1hbCksZnQudmVydGV4QXR0cmliUG9pbnRlcihpLm5vcm1hbCwzLDUxMjYsITEsMCwwKSksdC5oYXNVdnMmJihmdC5iaW5kQnVmZmVyKDM0OTYyLG4udXYpLGZ0LmJ1ZmZlckRhdGEoMzQ5NjIsdC51dkFycmF5LDM1MDQ4KSxwdC5lbmFibGVBdHRyaWJ1dGUoaS51diksZnQudmVydGV4QXR0cmliUG9pbnRlcihpLnV2LDIsNTEyNiwhMSwwLDApKSx0Lmhhc0NvbG9ycyYmKGZ0LmJpbmRCdWZmZXIoMzQ5NjIsbi5jb2xvciksZnQuYnVmZmVyRGF0YSgzNDk2Mix0LmNvbG9yQXJyYXksMzUwNDgpLHB0LmVuYWJsZUF0dHJpYnV0ZShpLmNvbG9yKSxmdC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGkuY29sb3IsMyw1MTI2LCExLDAsMCkpLHB0LmRpc2FibGVVbnVzZWRBdHRyaWJ1dGVzKCksZnQuZHJhd0FycmF5cyg0LDAsdC5jb3VudCksdC5jb3VudD0wfSx0aGlzLnJlbmRlckJ1ZmZlckRpcmVjdD1mdW5jdGlvbih0LGUsbixpLHIsYSl7bnVsbD09PWUmJihlPVcpO3ZhciBvPXIuaXNNZXNoJiZyLm1hdHJpeFdvcmxkLmRldGVybWluYW50KCk8MCxzPU50KHQsZSxpLHIpO1ouc2V0TWF0ZXJpYWwoaSxvKTt2YXIgYz1uLmluZGV4LGw9bi5hdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKG51bGw9PT1jKXtpZih2b2lkIDA9PT1sfHwwPT09bC5jb3VudClyZXR1cm59ZWxzZSBpZigwPT09Yy5jb3VudClyZXR1cm47dmFyIHUsaD0xOyEwPT09aS53aXJlZnJhbWUmJihjPWV0LmdldFdpcmVmcmFtZUF0dHJpYnV0ZShuKSxoPTIpLChpLm1vcnBoVGFyZ2V0c3x8aS5tb3JwaE5vcm1hbHMpJiZsdC51cGRhdGUocixuLGkscykscHQuc2V0dXAocixpLHMsbixjKTt2YXIgZD11dDtudWxsIT09YyYmKHU9dHQuZ2V0KGMpLChkPWh0KS5zZXRJbmRleCh1KSk7dmFyIHA9bnVsbCE9PWM/Yy5jb3VudDpsLmNvdW50LGY9bi5kcmF3UmFuZ2Uuc3RhcnQqaCxtPW4uZHJhd1JhbmdlLmNvdW50Kmgsdj1udWxsIT09YT9hLnN0YXJ0Kmg6MCxnPW51bGwhPT1hP2EuY291bnQqaDoxLzAseT1NYXRoLm1heChmLHYpLHg9TWF0aC5taW4ocCxmK20sditnKS0xLF89TWF0aC5tYXgoMCx4LXkrMSk7aWYoMCE9PV8pe2lmKHIuaXNNZXNoKSEwPT09aS53aXJlZnJhbWU/KFouc2V0TGluZVdpZHRoKGkud2lyZWZyYW1lTGluZXdpZHRoKmooKSksZC5zZXRNb2RlKDEpKTpkLnNldE1vZGUoNCk7ZWxzZSBpZihyLmlzTGluZSl7dmFyIGI9aS5saW5ld2lkdGg7dm9pZCAwPT09YiYmKGI9MSksWi5zZXRMaW5lV2lkdGgoYipqKCkpLHIuaXNMaW5lU2VnbWVudHM/ZC5zZXRNb2RlKDEpOnIuaXNMaW5lTG9vcD9kLnNldE1vZGUoMik6ZC5zZXRNb2RlKDMpfWVsc2Ugci5pc1BvaW50cz9kLnNldE1vZGUoMCk6ci5pc1Nwcml0ZSYmZC5zZXRNb2RlKDQpO2lmKHIuaXNJbnN0YW5jZWRNZXNoKWQucmVuZGVySW5zdGFuY2VzKHksXyxyLmNvdW50KTtlbHNlIGlmKG4uaXNJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSl7dmFyIHc9TWF0aC5taW4obi5pbnN0YW5jZUNvdW50LG4uX21heEluc3RhbmNlQ291bnQpO2QucmVuZGVySW5zdGFuY2VzKHksXyx3KX1lbHNlIGQucmVuZGVyKHksXyl9fSx0aGlzLmNvbXBpbGU9ZnVuY3Rpb24odCxlKXsocD1vdC5nZXQodCkpLmluaXQoKSx0LnRyYXZlcnNlVmlzaWJsZSgoZnVuY3Rpb24odCl7dC5pc0xpZ2h0JiZ0LmxheWVycy50ZXN0KGUubGF5ZXJzKSYmKHAucHVzaExpZ2h0KHQpLHQuY2FzdFNoYWRvdyYmcC5wdXNoU2hhZG93KHQpKX0pKSxwLnNldHVwTGlnaHRzKCk7dmFyIG49bmV3IFdlYWtNYXA7dC50cmF2ZXJzZSgoZnVuY3Rpb24oZSl7dmFyIGk9ZS5tYXRlcmlhbDtpZihpKWlmKEFycmF5LmlzQXJyYXkoaSkpZm9yKHZhciByPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBhPWlbcl07ITE9PT1uLmhhcyhhKSYmKE90KGEsdCxlKSxuLnNldChhKSl9ZWxzZSExPT09bi5oYXMoaSkmJihPdChpLHQsZSksbi5zZXQoaSkpfSkpfTt2YXIgUnQ9bnVsbDt2YXIgQ3Q9bmV3IHJpO2Z1bmN0aW9uIFB0KHQsZSxuLGkpe2lmKCExIT09dC52aXNpYmxlKXtpZih0LmxheWVycy50ZXN0KGUubGF5ZXJzKSlpZih0LmlzR3JvdXApbj10LnJlbmRlck9yZGVyO2Vsc2UgaWYodC5pc0xPRCkhMD09PXQuYXV0b1VwZGF0ZSYmdC51cGRhdGUoZSk7ZWxzZSBpZih0LmlzTGlnaHQpcC5wdXNoTGlnaHQodCksdC5jYXN0U2hhZG93JiZwLnB1c2hTaGFkb3codCk7ZWxzZSBpZih0LmlzU3ByaXRlKXtpZighdC5mcnVzdHVtQ3VsbGVkfHxILmludGVyc2VjdHNTcHJpdGUodCkpe2kmJlYuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHQubWF0cml4V29ybGQpLmFwcGx5TWF0cml4NChrKTt2YXIgcj1udC51cGRhdGUodCksYT10Lm1hdGVyaWFsO2EudmlzaWJsZSYmZC5wdXNoKHQscixhLG4sVi56LG51bGwpfX1lbHNlIGlmKHQuaXNJbW1lZGlhdGVSZW5kZXJPYmplY3QpaSYmVi5zZXRGcm9tTWF0cml4UG9zaXRpb24odC5tYXRyaXhXb3JsZCkuYXBwbHlNYXRyaXg0KGspLGQucHVzaCh0LG51bGwsdC5tYXRlcmlhbCxuLFYueixudWxsKTtlbHNlIGlmKCh0LmlzTWVzaHx8dC5pc0xpbmV8fHQuaXNQb2ludHMpJiYodC5pc1NraW5uZWRNZXNoJiZ0LnNrZWxldG9uLmZyYW1lIT09Si5yZW5kZXIuZnJhbWUmJih0LnNrZWxldG9uLnVwZGF0ZSgpLHQuc2tlbGV0b24uZnJhbWU9Si5yZW5kZXIuZnJhbWUpLCF0LmZydXN0dW1DdWxsZWR8fEguaW50ZXJzZWN0c09iamVjdCh0KSkpe2kmJlYuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHQubWF0cml4V29ybGQpLmFwcGx5TWF0cml4NChrKTt2YXIgbz1udC51cGRhdGUodCkscz10Lm1hdGVyaWFsO2lmKEFycmF5LmlzQXJyYXkocykpZm9yKHZhciBjPW8uZ3JvdXBzLGw9MCx1PWMubGVuZ3RoO2w8dTtsKyspe3ZhciBoPWNbbF0sZj1zW2gubWF0ZXJpYWxJbmRleF07ZiYmZi52aXNpYmxlJiZkLnB1c2godCxvLGYsbixWLnosaCl9ZWxzZSBzLnZpc2libGUmJmQucHVzaCh0LG8scyxuLFYueixudWxsKX1mb3IodmFyIG09dC5jaGlsZHJlbix2PTAsZz1tLmxlbmd0aDt2PGc7disrKVB0KG1bdl0sZSxuLGkpfX1mdW5jdGlvbiBEdCh0LGUsbil7Zm9yKHZhciBpPSEwPT09ZS5pc1NjZW5lP2Uub3ZlcnJpZGVNYXRlcmlhbDpudWxsLHI9MCxhPXQubGVuZ3RoO3I8YTtyKyspe3ZhciBvPXRbcl0scz1vLm9iamVjdCxjPW8uZ2VvbWV0cnksbD1udWxsPT09aT9vLm1hdGVyaWFsOmksdT1vLmdyb3VwO2lmKG4uaXNBcnJheUNhbWVyYSlmb3IodmFyIGg9bi5jYW1lcmFzLGQ9MCxmPWgubGVuZ3RoO2Q8ZjtkKyspe3ZhciBtPWhbZF07cy5sYXllcnMudGVzdChtLmxheWVycykmJihaLnZpZXdwb3J0KEwuY29weShtLnZpZXdwb3J0KSkscC5zZXR1cExpZ2h0c1ZpZXcobSksSXQocyxlLG0sYyxsLHUpKX1lbHNlIEl0KHMsZSxuLGMsbCx1KX19ZnVuY3Rpb24gSXQodCxlLG4saSxyLGEpe2lmKHQub25CZWZvcmVSZW5kZXIobSxlLG4saSxyLGEpLHQubW9kZWxWaWV3TWF0cml4Lm11bHRpcGx5TWF0cmljZXMobi5tYXRyaXhXb3JsZEludmVyc2UsdC5tYXRyaXhXb3JsZCksdC5ub3JtYWxNYXRyaXguZ2V0Tm9ybWFsTWF0cml4KHQubW9kZWxWaWV3TWF0cml4KSx0LmlzSW1tZWRpYXRlUmVuZGVyT2JqZWN0KXt2YXIgbz1OdChuLGUscix0KTtaLnNldE1hdGVyaWFsKHIpLHB0LnJlc2V0KCksZnVuY3Rpb24odCxlKXt0LnJlbmRlcigoZnVuY3Rpb24odCl7bS5yZW5kZXJCdWZmZXJJbW1lZGlhdGUodCxlKX0pKX0odCxvKX1lbHNlIG0ucmVuZGVyQnVmZmVyRGlyZWN0KG4sZSxpLHIsdCxhKTt0Lm9uQWZ0ZXJSZW5kZXIobSxlLG4saSxyLGEpfWZ1bmN0aW9uIE90KHQsZSxuKXshMCE9PWUuaXNTY2VuZSYmKGU9Vyk7dmFyIGk9US5nZXQodCkscj1wLnN0YXRlLmxpZ2h0cyxhPXAuc3RhdGUuc2hhZG93c0FycmF5LG89ci5zdGF0ZS52ZXJzaW9uLHM9aXQuZ2V0UGFyYW1ldGVycyh0LHIuc3RhdGUsYSxlLG4pLGM9aXQuZ2V0UHJvZ3JhbUNhY2hlS2V5KHMpLGw9aS5wcm9ncmFtLHU9ITA7aWYoaS5lbnZpcm9ubWVudD10LmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/ZS5lbnZpcm9ubWVudDpudWxsLGkuZm9nPWUuZm9nLGkuZW52TWFwPSQuZ2V0KHQuZW52TWFwfHxpLmVudmlyb25tZW50KSx2b2lkIDA9PT1sKXQuYWRkRXZlbnRMaXN0ZW5lcigiZGlzcG9zZSIsRXQpO2Vsc2UgaWYobC5jYWNoZUtleSE9PWMpQXQodCk7ZWxzZSBpZihpLmxpZ2h0c1N0YXRlVmVyc2lvbiE9PW8pdT0hMTtlbHNle2lmKHZvaWQgMCE9PXMuc2hhZGVySUQpcmV0dXJuO3U9ITF9dSYmKHMudW5pZm9ybXM9aXQuZ2V0VW5pZm9ybXModCksdC5vbkJlZm9yZUNvbXBpbGUocyxtKSxsPWl0LmFjcXVpcmVQcm9ncmFtKHMsYyksaS5wcm9ncmFtPWwsaS51bmlmb3Jtcz1zLnVuaWZvcm1zLGkub3V0cHV0RW5jb2Rpbmc9cy5vdXRwdXRFbmNvZGluZyk7dmFyIGg9aS51bmlmb3JtczsodC5pc1NoYWRlck1hdGVyaWFsfHx0LmlzUmF3U2hhZGVyTWF0ZXJpYWwpJiYhMCE9PXQuY2xpcHBpbmd8fChpLm51bUNsaXBwaW5nUGxhbmVzPXN0Lm51bVBsYW5lcyxpLm51bUludGVyc2VjdGlvbj1zdC5udW1JbnRlcnNlY3Rpb24saC5jbGlwcGluZ1BsYW5lcz1zdC51bmlmb3JtKSxpLm5lZWRzTGlnaHRzPWZ1bmN0aW9uKHQpe3JldHVybiB0LmlzTWVzaExhbWJlcnRNYXRlcmlhbHx8dC5pc01lc2hUb29uTWF0ZXJpYWx8fHQuaXNNZXNoUGhvbmdNYXRlcmlhbHx8dC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsfHx0LmlzU2hhZG93TWF0ZXJpYWx8fHQuaXNTaGFkZXJNYXRlcmlhbCYmITA9PT10LmxpZ2h0c30odCksaS5saWdodHNTdGF0ZVZlcnNpb249byxpLm5lZWRzTGlnaHRzJiYoaC5hbWJpZW50TGlnaHRDb2xvci52YWx1ZT1yLnN0YXRlLmFtYmllbnQsaC5saWdodFByb2JlLnZhbHVlPXIuc3RhdGUucHJvYmUsaC5kaXJlY3Rpb25hbExpZ2h0cy52YWx1ZT1yLnN0YXRlLmRpcmVjdGlvbmFsLGguZGlyZWN0aW9uYWxMaWdodFNoYWRvd3MudmFsdWU9ci5zdGF0ZS5kaXJlY3Rpb25hbFNoYWRvdyxoLnNwb3RMaWdodHMudmFsdWU9ci5zdGF0ZS5zcG90LGguc3BvdExpZ2h0U2hhZG93cy52YWx1ZT1yLnN0YXRlLnNwb3RTaGFkb3csaC5yZWN0QXJlYUxpZ2h0cy52YWx1ZT1yLnN0YXRlLnJlY3RBcmVhLGgubHRjXzEudmFsdWU9ci5zdGF0ZS5yZWN0QXJlYUxUQzEsaC5sdGNfMi52YWx1ZT1yLnN0YXRlLnJlY3RBcmVhTFRDMixoLnBvaW50TGlnaHRzLnZhbHVlPXIuc3RhdGUucG9pbnQsaC5wb2ludExpZ2h0U2hhZG93cy52YWx1ZT1yLnN0YXRlLnBvaW50U2hhZG93LGguaGVtaXNwaGVyZUxpZ2h0cy52YWx1ZT1yLnN0YXRlLmhlbWksaC5kaXJlY3Rpb25hbFNoYWRvd01hcC52YWx1ZT1yLnN0YXRlLmRpcmVjdGlvbmFsU2hhZG93TWFwLGguZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXgudmFsdWU9ci5zdGF0ZS5kaXJlY3Rpb25hbFNoYWRvd01hdHJpeCxoLnNwb3RTaGFkb3dNYXAudmFsdWU9ci5zdGF0ZS5zcG90U2hhZG93TWFwLGguc3BvdFNoYWRvd01hdHJpeC52YWx1ZT1yLnN0YXRlLnNwb3RTaGFkb3dNYXRyaXgsaC5wb2ludFNoYWRvd01hcC52YWx1ZT1yLnN0YXRlLnBvaW50U2hhZG93TWFwLGgucG9pbnRTaGFkb3dNYXRyaXgudmFsdWU9ci5zdGF0ZS5wb2ludFNoYWRvd01hdHJpeCk7dmFyIGQ9aS5wcm9ncmFtLmdldFVuaWZvcm1zKCksZj1fci5zZXFXaXRoVmFsdWUoZC5zZXEsaCk7aS51bmlmb3Jtc0xpc3Q9Zn1mdW5jdGlvbiBOdCh0LGUsbixpKXshMCE9PWUuaXNTY2VuZSYmKGU9VyksSy5yZXNldFRleHR1cmVVbml0cygpO3ZhciByPWUuZm9nLGE9bi5pc01lc2hTdGFuZGFyZE1hdGVyaWFsP2UuZW52aXJvbm1lbnQ6bnVsbCxvPW51bGw9PT1iP20ub3V0cHV0RW5jb2Rpbmc6Yi50ZXh0dXJlLmVuY29kaW5nLHM9JC5nZXQobi5lbnZNYXB8fGEpLGM9US5nZXQobiksbD1wLnN0YXRlLmxpZ2h0cztpZighMD09PUcmJighMD09PVV8fHQhPT1FKSl7dmFyIHU9dD09PUUmJm4uaWQ9PT1UO3N0LnNldFN0YXRlKG4sdCx1KX1uLnZlcnNpb249PT1jLl9fdmVyc2lvbj9uLmZvZyYmYy5mb2chPT1yfHxjLmVudmlyb25tZW50IT09YXx8Yy5uZWVkc0xpZ2h0cyYmYy5saWdodHNTdGF0ZVZlcnNpb24hPT1sLnN0YXRlLnZlcnNpb24/T3QobixlLGkpOnZvaWQgMD09PWMubnVtQ2xpcHBpbmdQbGFuZXN8fGMubnVtQ2xpcHBpbmdQbGFuZXM9PT1zdC5udW1QbGFuZXMmJmMubnVtSW50ZXJzZWN0aW9uPT09c3QubnVtSW50ZXJzZWN0aW9uPyhjLm91dHB1dEVuY29kaW5nIT09b3x8Yy5lbnZNYXAhPT1zKSYmT3QobixlLGkpOk90KG4sZSxpKTooT3QobixlLGkpLGMuX192ZXJzaW9uPW4udmVyc2lvbik7dmFyIGgsZCxmPSExLHY9ITEsZz0hMSx5PWMucHJvZ3JhbSx4PXkuZ2V0VW5pZm9ybXMoKSxfPWMudW5pZm9ybXM7aWYoWi51c2VQcm9ncmFtKHkucHJvZ3JhbSkmJihmPSEwLHY9ITAsZz0hMCksbi5pZCE9PVQmJihUPW4uaWQsdj0hMCksZnx8RSE9PXQpe2lmKHguc2V0VmFsdWUoZnQsInByb2plY3Rpb25NYXRyaXgiLHQucHJvamVjdGlvbk1hdHJpeCksWC5sb2dhcml0aG1pY0RlcHRoQnVmZmVyJiZ4LnNldFZhbHVlKGZ0LCJsb2dEZXB0aEJ1ZkZDIiwyLyhNYXRoLmxvZyh0LmZhcisxKS9NYXRoLkxOMikpLEUhPT10JiYoRT10LHY9ITAsZz0hMCksbi5pc1NoYWRlck1hdGVyaWFsfHxuLmlzTWVzaFBob25nTWF0ZXJpYWx8fG4uaXNNZXNoVG9vbk1hdGVyaWFsfHxuLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWx8fG4uZW52TWFwKXt2YXIgdz14Lm1hcC5jYW1lcmFQb3NpdGlvbjt2b2lkIDAhPT13JiZ3LnNldFZhbHVlKGZ0LFYuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHQubWF0cml4V29ybGQpKX0obi5pc01lc2hQaG9uZ01hdGVyaWFsfHxuLmlzTWVzaFRvb25NYXRlcmlhbHx8bi5pc01lc2hMYW1iZXJ0TWF0ZXJpYWx8fG4uaXNNZXNoQmFzaWNNYXRlcmlhbHx8bi5pc01lc2hTdGFuZGFyZE1hdGVyaWFsfHxuLmlzU2hhZGVyTWF0ZXJpYWwpJiZ4LnNldFZhbHVlKGZ0LCJpc09ydGhvZ3JhcGhpYyIsITA9PT10LmlzT3J0aG9ncmFwaGljQ2FtZXJhKSwobi5pc01lc2hQaG9uZ01hdGVyaWFsfHxuLmlzTWVzaFRvb25NYXRlcmlhbHx8bi5pc01lc2hMYW1iZXJ0TWF0ZXJpYWx8fG4uaXNNZXNoQmFzaWNNYXRlcmlhbHx8bi5pc01lc2hTdGFuZGFyZE1hdGVyaWFsfHxuLmlzU2hhZGVyTWF0ZXJpYWx8fG4uaXNTaGFkb3dNYXRlcmlhbHx8bi5za2lubmluZykmJnguc2V0VmFsdWUoZnQsInZpZXdNYXRyaXgiLHQubWF0cml4V29ybGRJbnZlcnNlKX1pZihuLnNraW5uaW5nKXt4LnNldE9wdGlvbmFsKGZ0LGksImJpbmRNYXRyaXgiKSx4LnNldE9wdGlvbmFsKGZ0LGksImJpbmRNYXRyaXhJbnZlcnNlIik7dmFyIFM9aS5za2VsZXRvbjtpZihTKXt2YXIgTD1TLmJvbmVzO2lmKFguZmxvYXRWZXJ0ZXhUZXh0dXJlcyl7aWYobnVsbD09PVMuYm9uZVRleHR1cmUpe3ZhciBSPU1hdGguc3FydCg0KkwubGVuZ3RoKTtSPWd0LmNlaWxQb3dlck9mVHdvKFIpLFI9TWF0aC5tYXgoUiw0KTt2YXIgQz1uZXcgRmxvYXQzMkFycmF5KFIqUio0KTtDLnNldChTLmJvbmVNYXRyaWNlcyk7dmFyIFA9bmV3IHRpKEMsUixSLEEsTSk7Uy5ib25lTWF0cmljZXM9QyxTLmJvbmVUZXh0dXJlPVAsUy5ib25lVGV4dHVyZVNpemU9Un14LnNldFZhbHVlKGZ0LCJib25lVGV4dHVyZSIsUy5ib25lVGV4dHVyZSxLKSx4LnNldFZhbHVlKGZ0LCJib25lVGV4dHVyZVNpemUiLFMuYm9uZVRleHR1cmVTaXplKX1lbHNlIHguc2V0T3B0aW9uYWwoZnQsUywiYm9uZU1hdHJpY2VzIil9fXJldHVybih2fHxjLnJlY2VpdmVTaGFkb3chPT1pLnJlY2VpdmVTaGFkb3cpJiYoYy5yZWNlaXZlU2hhZG93PWkucmVjZWl2ZVNoYWRvdyx4LnNldFZhbHVlKGZ0LCJyZWNlaXZlU2hhZG93IixpLnJlY2VpdmVTaGFkb3cpKSx2JiYoeC5zZXRWYWx1ZShmdCwidG9uZU1hcHBpbmdFeHBvc3VyZSIsbS50b25lTWFwcGluZ0V4cG9zdXJlKSxjLm5lZWRzTGlnaHRzJiYoZD1nLChoPV8pLmFtYmllbnRMaWdodENvbG9yLm5lZWRzVXBkYXRlPWQsaC5saWdodFByb2JlLm5lZWRzVXBkYXRlPWQsaC5kaXJlY3Rpb25hbExpZ2h0cy5uZWVkc1VwZGF0ZT1kLGguZGlyZWN0aW9uYWxMaWdodFNoYWRvd3MubmVlZHNVcGRhdGU9ZCxoLnBvaW50TGlnaHRzLm5lZWRzVXBkYXRlPWQsaC5wb2ludExpZ2h0U2hhZG93cy5uZWVkc1VwZGF0ZT1kLGguc3BvdExpZ2h0cy5uZWVkc1VwZGF0ZT1kLGguc3BvdExpZ2h0U2hhZG93cy5uZWVkc1VwZGF0ZT1kLGgucmVjdEFyZWFMaWdodHMubmVlZHNVcGRhdGU9ZCxoLmhlbWlzcGhlcmVMaWdodHMubmVlZHNVcGRhdGU9ZCksciYmbi5mb2cmJnJ0LnJlZnJlc2hGb2dVbmlmb3JtcyhfLHIpLHJ0LnJlZnJlc2hNYXRlcmlhbFVuaWZvcm1zKF8sbixJLEQpLF9yLnVwbG9hZChmdCxjLnVuaWZvcm1zTGlzdCxfLEspKSxuLmlzU2hhZGVyTWF0ZXJpYWwmJiEwPT09bi51bmlmb3Jtc05lZWRVcGRhdGUmJihfci51cGxvYWQoZnQsYy51bmlmb3Jtc0xpc3QsXyxLKSxuLnVuaWZvcm1zTmVlZFVwZGF0ZT0hMSksbi5pc1Nwcml0ZU1hdGVyaWFsJiZ4LnNldFZhbHVlKGZ0LCJjZW50ZXIiLGkuY2VudGVyKSx4LnNldFZhbHVlKGZ0LCJtb2RlbFZpZXdNYXRyaXgiLGkubW9kZWxWaWV3TWF0cml4KSx4LnNldFZhbHVlKGZ0LCJub3JtYWxNYXRyaXgiLGkubm9ybWFsTWF0cml4KSx4LnNldFZhbHVlKGZ0LCJtb2RlbE1hdHJpeCIsaS5tYXRyaXhXb3JsZCkseX1DdC5zZXRBbmltYXRpb25Mb29wKChmdW5jdGlvbih0KXtidC5pc1ByZXNlbnRpbmd8fFJ0JiZSdCh0KX0pKSwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmQ3Quc2V0Q29udGV4dCh3aW5kb3cpLHRoaXMuc2V0QW5pbWF0aW9uTG9vcD1mdW5jdGlvbih0KXtSdD10LGJ0LnNldEFuaW1hdGlvbkxvb3AodCksbnVsbD09PXQ/Q3Quc3RvcCgpOkN0LnN0YXJ0KCl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG4saTtpZih2b2lkIDAhPT1hcmd1bWVudHNbMl0mJihjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXIucmVuZGVyKCk6IHRoZSByZW5kZXJUYXJnZXQgYXJndW1lbnQgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5zZXRSZW5kZXJUYXJnZXQoKSBpbnN0ZWFkLiIpLG49YXJndW1lbnRzWzJdKSx2b2lkIDAhPT1hcmd1bWVudHNbM10mJihjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXIucmVuZGVyKCk6IHRoZSBmb3JjZUNsZWFyIGFyZ3VtZW50IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuY2xlYXIoKSBpbnN0ZWFkLiIpLGk9YXJndW1lbnRzWzNdKSx2b2lkIDA9PT1lfHwhMD09PWUuaXNDYW1lcmEpe2lmKCEwIT09dil7cHQucmVzZXREZWZhdWx0U3RhdGUoKSxUPS0xLEU9bnVsbCwhMD09PXQuYXV0b1VwZGF0ZSYmdC51cGRhdGVNYXRyaXhXb3JsZCgpLG51bGw9PT1lLnBhcmVudCYmZS51cGRhdGVNYXRyaXhXb3JsZCgpLCEwPT09YnQuZW5hYmxlZCYmITA9PT1idC5pc1ByZXNlbnRpbmcmJihlPWJ0LmdldENhbWVyYShlKSksITA9PT10LmlzU2NlbmUmJnQub25CZWZvcmVSZW5kZXIobSx0LGUsbnx8YiksKHA9b3QuZ2V0KHQsZi5sZW5ndGgpKS5pbml0KCksZi5wdXNoKHApLGsubXVsdGlwbHlNYXRyaWNlcyhlLnByb2plY3Rpb25NYXRyaXgsZS5tYXRyaXhXb3JsZEludmVyc2UpLEguc2V0RnJvbVByb2plY3Rpb25NYXRyaXgoayksVT10aGlzLmxvY2FsQ2xpcHBpbmdFbmFibGVkLEc9c3QuaW5pdCh0aGlzLmNsaXBwaW5nUGxhbmVzLFUsZSksKGQ9YXQuZ2V0KHQsZSkpLmluaXQoKSxQdCh0LGUsMCxtLnNvcnRPYmplY3RzKSxkLmZpbmlzaCgpLCEwPT09bS5zb3J0T2JqZWN0cyYmZC5zb3J0KE8sTiksITA9PT1HJiZzdC5iZWdpblNoYWRvd3MoKTt2YXIgcj1wLnN0YXRlLnNoYWRvd3NBcnJheTt3dC5yZW5kZXIocix0LGUpLHAuc2V0dXBMaWdodHMoKSxwLnNldHVwTGlnaHRzVmlldyhlKSwhMD09PUcmJnN0LmVuZFNoYWRvd3MoKSwhMD09PXRoaXMuaW5mby5hdXRvUmVzZXQmJnRoaXMuaW5mby5yZXNldCgpLHZvaWQgMCE9PW4mJnRoaXMuc2V0UmVuZGVyVGFyZ2V0KG4pLGN0LnJlbmRlcihkLHQsZSxpKTt2YXIgYT1kLm9wYXF1ZSxvPWQudHJhbnNwYXJlbnQ7YS5sZW5ndGg+MCYmRHQoYSx0LGUpLG8ubGVuZ3RoPjAmJkR0KG8sdCxlKSwhMD09PXQuaXNTY2VuZSYmdC5vbkFmdGVyUmVuZGVyKG0sdCxlKSxudWxsIT09YiYmKEsudXBkYXRlUmVuZGVyVGFyZ2V0TWlwbWFwKGIpLEsudXBkYXRlTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQoYikpLFouYnVmZmVycy5kZXB0aC5zZXRUZXN0KCEwKSxaLmJ1ZmZlcnMuZGVwdGguc2V0TWFzayghMCksWi5idWZmZXJzLmNvbG9yLnNldE1hc2soITApLFouc2V0UG9seWdvbk9mZnNldCghMSksZi5wb3AoKSxwPWYubGVuZ3RoPjA/ZltmLmxlbmd0aC0xXTpudWxsLGQ9bnVsbH19ZWxzZSBjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlbmRlcjogY2FtZXJhIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5DYW1lcmEuIil9LHRoaXMuc2V0RnJhbWVidWZmZXI9ZnVuY3Rpb24odCl7ZyE9PXQmJm51bGw9PT1iJiZmdC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsdCksZz10fSx0aGlzLmdldEFjdGl2ZUN1YmVGYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIHl9LHRoaXMuZ2V0QWN0aXZlTWlwbWFwTGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4geH0sdGhpcy5nZXRSZW5kZXJMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIGR9LHRoaXMuc2V0UmVuZGVyTGlzdD1mdW5jdGlvbih0KXtkPXR9LHRoaXMuZ2V0UmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGJ9LHRoaXMuc2V0UmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1uJiYobj0wKSxiPXQseT1lLHg9bix0JiZ2b2lkIDA9PT1RLmdldCh0KS5fX3dlYmdsRnJhbWVidWZmZXImJksuc2V0dXBSZW5kZXJUYXJnZXQodCk7dmFyIGk9ZyxyPSExLGE9ITE7aWYodCl7dmFyIG89dC50ZXh0dXJlOyhvLmlzRGF0YVRleHR1cmUzRHx8by5pc0RhdGFUZXh0dXJlMkRBcnJheSkmJihhPSEwKTt2YXIgcz1RLmdldCh0KS5fX3dlYmdsRnJhbWVidWZmZXI7dC5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldD8oaT1zW2VdLHI9ITApOmk9dC5pc1dlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQ/US5nZXQodCkuX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyOnMsTC5jb3B5KHQudmlld3BvcnQpLFIuY29weSh0LnNjaXNzb3IpLEM9dC5zY2lzc29yVGVzdH1lbHNlIEwuY29weShCKS5tdWx0aXBseVNjYWxhcihJKS5mbG9vcigpLFIuY29weSh6KS5tdWx0aXBseVNjYWxhcihJKS5mbG9vcigpLEM9RjtpZih3IT09aSYmKGZ0LmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxpKSx3PWkpLFoudmlld3BvcnQoTCksWi5zY2lzc29yKFIpLFouc2V0U2Npc3NvclRlc3QoQykscil7dmFyIGM9US5nZXQodC50ZXh0dXJlKTtmdC5mcmFtZWJ1ZmZlclRleHR1cmUyRCgzNjE2MCwzNjA2NCwzNDA2OStlLGMuX193ZWJnbFRleHR1cmUsbil9ZWxzZSBpZihhKXt2YXIgbD1RLmdldCh0LnRleHR1cmUpLHU9ZXx8MDtmdC5mcmFtZWJ1ZmZlclRleHR1cmVMYXllcigzNjE2MCwzNjA2NCxsLl9fd2ViZ2xUZXh0dXJlLG58fDAsdSl9fSx0aGlzLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM9ZnVuY3Rpb24odCxlLG4saSxyLGEsbyl7aWYodCYmdC5pc1dlYkdMUmVuZGVyVGFyZ2V0KXt2YXIgcz1RLmdldCh0KS5fX3dlYmdsRnJhbWVidWZmZXI7aWYodC5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldCYmdm9pZCAwIT09byYmKHM9c1tvXSkscyl7dmFyIGM9ITE7cyE9PXcmJihmdC5iaW5kRnJhbWVidWZmZXIoMzYxNjAscyksYz0hMCk7dHJ5e3ZhciBsPXQudGV4dHVyZSx1PWwuZm9ybWF0LGg9bC50eXBlO2lmKHUhPT1BJiZkdC5jb252ZXJ0KHUpIT09ZnQuZ2V0UGFyYW1ldGVyKDM1NzM5KSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM6IHJlbmRlclRhcmdldCBpcyBub3QgaW4gUkdCQSBvciBpbXBsZW1lbnRhdGlvbiBkZWZpbmVkIGZvcm1hdC4iKTt2YXIgZD1oPT09UyYmKHEuaGFzKCJFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXQiKXx8WC5pc1dlYkdMMiYmcS5oYXMoIkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiKSk7aWYoIShoPT09X3x8ZHQuY29udmVydChoKT09PWZ0LmdldFBhcmFtZXRlcigzNTczOCl8fGg9PT1NJiYoWC5pc1dlYkdMMnx8cS5oYXMoIk9FU190ZXh0dXJlX2Zsb2F0Iil8fHEuaGFzKCJXRUJHTF9jb2xvcl9idWZmZXJfZmxvYXQiKSl8fGQpKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXIucmVhZFJlbmRlclRhcmdldFBpeGVsczogcmVuZGVyVGFyZ2V0IGlzIG5vdCBpbiBVbnNpZ25lZEJ5dGVUeXBlIG9yIGltcGxlbWVudGF0aW9uIGRlZmluZWQgdHlwZS4iKTszNjA1Mz09PWZ0LmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoMzYxNjApP2U+PTAmJmU8PXQud2lkdGgtaSYmbj49MCYmbjw9dC5oZWlnaHQtciYmZnQucmVhZFBpeGVscyhlLG4saSxyLGR0LmNvbnZlcnQodSksZHQuY29udmVydChoKSxhKTpjb25zb2xlLmVycm9yKCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM6IHJlYWRQaXhlbHMgZnJvbSByZW5kZXJUYXJnZXQgZmFpbGVkLiBGcmFtZWJ1ZmZlciBub3QgY29tcGxldGUuIil9ZmluYWxseXtjJiZmdC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsdyl9fX1lbHNlIGNvbnNvbGUuZXJyb3IoIlRIUkVFLldlYkdMUmVuZGVyZXIucmVhZFJlbmRlclRhcmdldFBpeGVsczogcmVuZGVyVGFyZ2V0IGlzIG5vdCBUSFJFRS5XZWJHTFJlbmRlclRhcmdldC4iKX0sdGhpcy5jb3B5RnJhbWVidWZmZXJUb1RleHR1cmU9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPTApO3ZhciBpPU1hdGgucG93KDIsLW4pLHI9TWF0aC5mbG9vcihlLmltYWdlLndpZHRoKmkpLGE9TWF0aC5mbG9vcihlLmltYWdlLmhlaWdodCppKSxvPWR0LmNvbnZlcnQoZS5mb3JtYXQpO0suc2V0VGV4dHVyZTJEKGUsMCksZnQuY29weVRleEltYWdlMkQoMzU1MyxuLG8sdC54LHQueSxyLGEsMCksWi51bmJpbmRUZXh0dXJlKCl9LHRoaXMuY29weVRleHR1cmVUb1RleHR1cmU9ZnVuY3Rpb24odCxlLG4saSl7dm9pZCAwPT09aSYmKGk9MCk7dmFyIHI9ZS5pbWFnZS53aWR0aCxhPWUuaW1hZ2UuaGVpZ2h0LG89ZHQuY29udmVydChuLmZvcm1hdCkscz1kdC5jb252ZXJ0KG4udHlwZSk7Sy5zZXRUZXh0dXJlMkQobiwwKSxmdC5waXhlbFN0b3JlaSgzNzQ0MCxuLmZsaXBZKSxmdC5waXhlbFN0b3JlaSgzNzQ0MSxuLnByZW11bHRpcGx5QWxwaGEpLGZ0LnBpeGVsU3RvcmVpKDMzMTcsbi51bnBhY2tBbGlnbm1lbnQpLGUuaXNEYXRhVGV4dHVyZT9mdC50ZXhTdWJJbWFnZTJEKDM1NTMsaSx0LngsdC55LHIsYSxvLHMsZS5pbWFnZS5kYXRhKTplLmlzQ29tcHJlc3NlZFRleHR1cmU/ZnQuY29tcHJlc3NlZFRleFN1YkltYWdlMkQoMzU1MyxpLHQueCx0LnksZS5taXBtYXBzWzBdLndpZHRoLGUubWlwbWFwc1swXS5oZWlnaHQsbyxlLm1pcG1hcHNbMF0uZGF0YSk6ZnQudGV4U3ViSW1hZ2UyRCgzNTUzLGksdC54LHQueSxvLHMsZS5pbWFnZSksMD09PWkmJm4uZ2VuZXJhdGVNaXBtYXBzJiZmdC5nZW5lcmF0ZU1pcG1hcCgzNTUzKSxaLnVuYmluZFRleHR1cmUoKX0sdGhpcy5pbml0VGV4dHVyZT1mdW5jdGlvbih0KXtLLnNldFRleHR1cmUyRCh0LDApLFoudW5iaW5kVGV4dHVyZSgpfSx0aGlzLnJlc2V0U3RhdGU9ZnVuY3Rpb24oKXtaLnJlc2V0KCkscHQucmVzZXQoKX0sInVuZGVmaW5lZCIhPXR5cGVvZiBfX1RIUkVFX0RFVlRPT0xTX18mJl9fVEhSRUVfREVWVE9PTFNfXy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgib2JzZXJ2ZSIse2RldGFpbDp0aGlzfSkpfWZ1bmN0aW9uIHVhKHQpe2xhLmNhbGwodGhpcyx0KX1yYS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKFpuLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOnJhLGlzQXJyYXlDYW1lcmE6ITB9KSxhYS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEFlLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOmFhLGlzR3JvdXA6ITB9KSxPYmplY3QuYXNzaWduKG9hLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6b2EsZ2V0SGFuZFNwYWNlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl9oYW5kJiYodGhpcy5faGFuZD1uZXcgYWEsdGhpcy5faGFuZC5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMuX2hhbmQudmlzaWJsZT0hMSx0aGlzLl9oYW5kLmpvaW50cz17fSx0aGlzLl9oYW5kLmlucHV0U3RhdGU9e3BpbmNoaW5nOiExfSksdGhpcy5faGFuZH0sZ2V0VGFyZ2V0UmF5U3BhY2U6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX3RhcmdldFJheSYmKHRoaXMuX3RhcmdldFJheT1uZXcgYWEsdGhpcy5fdGFyZ2V0UmF5Lm1hdHJpeEF1dG9VcGRhdGU9ITEsdGhpcy5fdGFyZ2V0UmF5LnZpc2libGU9ITEpLHRoaXMuX3RhcmdldFJheX0sZ2V0R3JpcFNwYWNlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl9ncmlwJiYodGhpcy5fZ3JpcD1uZXcgYWEsdGhpcy5fZ3JpcC5tYXRyaXhBdXRvVXBkYXRlPSExLHRoaXMuX2dyaXAudmlzaWJsZT0hMSksdGhpcy5fZ3JpcH0sZGlzcGF0Y2hFdmVudDpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXRoaXMuX3RhcmdldFJheSYmdGhpcy5fdGFyZ2V0UmF5LmRpc3BhdGNoRXZlbnQodCksbnVsbCE9PXRoaXMuX2dyaXAmJnRoaXMuX2dyaXAuZGlzcGF0Y2hFdmVudCh0KSxudWxsIT09dGhpcy5faGFuZCYmdGhpcy5faGFuZC5kaXNwYXRjaEV2ZW50KHQpLHRoaXN9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToiZGlzY29ubmVjdGVkIixkYXRhOnR9KSxudWxsIT09dGhpcy5fdGFyZ2V0UmF5JiYodGhpcy5fdGFyZ2V0UmF5LnZpc2libGU9ITEpLG51bGwhPT10aGlzLl9ncmlwJiYodGhpcy5fZ3JpcC52aXNpYmxlPSExKSxudWxsIT09dGhpcy5faGFuZCYmKHRoaXMuX2hhbmQudmlzaWJsZT0hMSksdGhpc30sdXBkYXRlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1udWxsLHI9bnVsbCxhPW51bGwsbz10aGlzLl90YXJnZXRSYXkscz10aGlzLl9ncmlwLGM9dGhpcy5faGFuZDtpZih0JiYidmlzaWJsZS1ibHVycmVkIiE9PWUuc2Vzc2lvbi52aXNpYmlsaXR5U3RhdGUpaWYoYyYmdC5oYW5kKXthPSEwO2Zvcih2YXIgbCx1PWh0KHQuaGFuZC52YWx1ZXMoKSk7IShsPXUoKSkuZG9uZTspe3ZhciBoPWwudmFsdWUsZD1lLmdldEpvaW50UG9zZShoLG4pO2lmKHZvaWQgMD09PWMuam9pbnRzW2guam9pbnROYW1lXSl7dmFyIHA9bmV3IGFhO3AubWF0cml4QXV0b1VwZGF0ZT0hMSxwLnZpc2libGU9ITEsYy5qb2ludHNbaC5qb2ludE5hbWVdPXAsYy5hZGQocCl9dmFyIGY9Yy5qb2ludHNbaC5qb2ludE5hbWVdO251bGwhPT1kJiYoZi5tYXRyaXguZnJvbUFycmF5KGQudHJhbnNmb3JtLm1hdHJpeCksZi5tYXRyaXguZGVjb21wb3NlKGYucG9zaXRpb24sZi5yb3RhdGlvbixmLnNjYWxlKSxmLmpvaW50UmFkaXVzPWQucmFkaXVzKSxmLnZpc2libGU9bnVsbCE9PWR9dmFyIG09Yy5qb2ludHNbImluZGV4LWZpbmdlci10aXAiXSx2PWMuam9pbnRzWyJ0aHVtYi10aXAiXSxnPW0ucG9zaXRpb24uZGlzdGFuY2VUbyh2LnBvc2l0aW9uKTtjLmlucHV0U3RhdGUucGluY2hpbmcmJmc+LjAyNT8oYy5pbnB1dFN0YXRlLnBpbmNoaW5nPSExLHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToicGluY2hlbmQiLGhhbmRlZG5lc3M6dC5oYW5kZWRuZXNzLHRhcmdldDp0aGlzfSkpOiFjLmlucHV0U3RhdGUucGluY2hpbmcmJmc8PS4wMTUmJihjLmlucHV0U3RhdGUucGluY2hpbmc9ITAsdGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiJwaW5jaHN0YXJ0IixoYW5kZWRuZXNzOnQuaGFuZGVkbmVzcyx0YXJnZXQ6dGhpc30pKX1lbHNlIG51bGwhPT1vJiZudWxsIT09KGk9ZS5nZXRQb3NlKHQudGFyZ2V0UmF5U3BhY2UsbikpJiYoby5tYXRyaXguZnJvbUFycmF5KGkudHJhbnNmb3JtLm1hdHJpeCksby5tYXRyaXguZGVjb21wb3NlKG8ucG9zaXRpb24sby5yb3RhdGlvbixvLnNjYWxlKSksbnVsbCE9PXMmJnQuZ3JpcFNwYWNlJiZudWxsIT09KHI9ZS5nZXRQb3NlKHQuZ3JpcFNwYWNlLG4pKSYmKHMubWF0cml4LmZyb21BcnJheShyLnRyYW5zZm9ybS5tYXRyaXgpLHMubWF0cml4LmRlY29tcG9zZShzLnBvc2l0aW9uLHMucm90YXRpb24scy5zY2FsZSkpO3JldHVybiBudWxsIT09byYmKG8udmlzaWJsZT1udWxsIT09aSksbnVsbCE9PXMmJihzLnZpc2libGU9bnVsbCE9PXIpLG51bGwhPT1jJiYoYy52aXNpYmxlPW51bGwhPT1hKSx0aGlzfX0pLE9iamVjdC5hc3NpZ24oc2EucHJvdG90eXBlLGR0LnByb3RvdHlwZSksdWEucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShsYS5wcm90b3R5cGUpLHtjb25zdHJ1Y3Rvcjp1YSxpc1dlYkdMMVJlbmRlcmVyOiEwfSk7dmFyIGhhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpc0ZvZ0V4cDIiLHt2YWx1ZTohMH0pLHRoaXMubmFtZT0iIix0aGlzLmNvbG9yPW5ldyBRZSh0KSx0aGlzLmRlbnNpdHk9dm9pZCAwIT09ZT9lOjI1ZS01fXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMuY29sb3IsdGhpcy5kZW5zaXR5KX0sZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiRm9nRXhwMiIsY29sb3I6dGhpcy5jb2xvci5nZXRIZXgoKSxkZW5zaXR5OnRoaXMuZGVuc2l0eX19LHR9KCksZGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiaXNGb2ciLHt2YWx1ZTohMH0pLHRoaXMubmFtZT0iIix0aGlzLmNvbG9yPW5ldyBRZSh0KSx0aGlzLm5lYXI9dm9pZCAwIT09ZT9lOjEsdGhpcy5mYXI9dm9pZCAwIT09bj9uOjFlM312YXIgZT10LnByb3RvdHlwZTtyZXR1cm4gZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLmNvbG9yLHRoaXMubmVhcix0aGlzLmZhcil9LGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6IkZvZyIsY29sb3I6dGhpcy5jb2xvci5nZXRIZXgoKSxuZWFyOnRoaXMubmVhcixmYXI6dGhpcy5mYXJ9fSx0fSgpLHBhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZTtyZXR1cm4gZT10LmNhbGwodGhpcyl8fHRoaXMsT2JqZWN0LmRlZmluZVByb3BlcnR5KGx0KGUpLCJpc1NjZW5lIix7dmFsdWU6ITB9KSxlLnR5cGU9IlNjZW5lIixlLmJhY2tncm91bmQ9bnVsbCxlLmVudmlyb25tZW50PW51bGwsZS5mb2c9bnVsbCxlLm92ZXJyaWRlTWF0ZXJpYWw9bnVsbCxlLmF1dG9VcGRhdGU9ITAsInVuZGVmaW5lZCIhPXR5cGVvZiBfX1RIUkVFX0RFVlRPT0xTX18mJl9fVEhSRUVfREVWVE9PTFNfXy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgib2JzZXJ2ZSIse2RldGFpbDpsdChlKX0pKSxlfWN0KGUsdCk7dmFyIG49ZS5wcm90b3R5cGU7cmV0dXJuIG4uY29weT1mdW5jdGlvbihlLG4pe3JldHVybiB0LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlLG4pLG51bGwhPT1lLmJhY2tncm91bmQmJih0aGlzLmJhY2tncm91bmQ9ZS5iYWNrZ3JvdW5kLmNsb25lKCkpLG51bGwhPT1lLmVudmlyb25tZW50JiYodGhpcy5lbnZpcm9ubWVudD1lLmVudmlyb25tZW50LmNsb25lKCkpLG51bGwhPT1lLmZvZyYmKHRoaXMuZm9nPWUuZm9nLmNsb25lKCkpLG51bGwhPT1lLm92ZXJyaWRlTWF0ZXJpYWwmJih0aGlzLm92ZXJyaWRlTWF0ZXJpYWw9ZS5vdmVycmlkZU1hdGVyaWFsLmNsb25lKCkpLHRoaXMuYXV0b1VwZGF0ZT1lLmF1dG9VcGRhdGUsdGhpcy5tYXRyaXhBdXRvVXBkYXRlPWUubWF0cml4QXV0b1VwZGF0ZSx0aGlzfSxuLnRvSlNPTj1mdW5jdGlvbihlKXt2YXIgbj10LnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzLGUpO3JldHVybiBudWxsIT09dGhpcy5iYWNrZ3JvdW5kJiYobi5vYmplY3QuYmFja2dyb3VuZD10aGlzLmJhY2tncm91bmQudG9KU09OKGUpKSxudWxsIT09dGhpcy5lbnZpcm9ubWVudCYmKG4ub2JqZWN0LmVudmlyb25tZW50PXRoaXMuZW52aXJvbm1lbnQudG9KU09OKGUpKSxudWxsIT09dGhpcy5mb2cmJihuLm9iamVjdC5mb2c9dGhpcy5mb2cudG9KU09OKCkpLG59LGV9KEFlKTtmdW5jdGlvbiBmYSh0LGUpe3RoaXMuYXJyYXk9dCx0aGlzLnN0cmlkZT1lLHRoaXMuY291bnQ9dm9pZCAwIT09dD90Lmxlbmd0aC9lOjAsdGhpcy51c2FnZT1udCx0aGlzLnVwZGF0ZVJhbmdlPXtvZmZzZXQ6MCxjb3VudDotMX0sdGhpcy52ZXJzaW9uPTAsdGhpcy51dWlkPWd0LmdlbmVyYXRlVVVJRCgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShmYS5wcm90b3R5cGUsIm5lZWRzVXBkYXRlIix7c2V0OmZ1bmN0aW9uKHQpeyEwPT09dCYmdGhpcy52ZXJzaW9uKyt9fSksT2JqZWN0LmFzc2lnbihmYS5wcm90b3R5cGUse2lzSW50ZXJsZWF2ZWRCdWZmZXI6ITAsb25VcGxvYWRDYWxsYmFjazpmdW5jdGlvbigpe30sc2V0VXNhZ2U6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudXNhZ2U9dCx0aGlzfSxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFycmF5PW5ldyB0LmFycmF5LmNvbnN0cnVjdG9yKHQuYXJyYXkpLHRoaXMuY291bnQ9dC5jb3VudCx0aGlzLnN0cmlkZT10LnN0cmlkZSx0aGlzLnVzYWdlPXQudXNhZ2UsdGhpc30sY29weUF0OmZ1bmN0aW9uKHQsZSxuKXt0Kj10aGlzLnN0cmlkZSxuKj1lLnN0cmlkZTtmb3IodmFyIGk9MCxyPXRoaXMuc3RyaWRlO2k8cjtpKyspdGhpcy5hcnJheVt0K2ldPWUuYXJyYXlbbitpXTtyZXR1cm4gdGhpc30sc2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLHRoaXMuYXJyYXkuc2V0KHQsZSksdGhpc30sY2xvbmU6ZnVuY3Rpb24odCl7dm9pZCAwPT09dC5hcnJheUJ1ZmZlcnMmJih0LmFycmF5QnVmZmVycz17fSksdm9pZCAwPT09dGhpcy5hcnJheS5idWZmZXIuX3V1aWQmJih0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZD1ndC5nZW5lcmF0ZVVVSUQoKSksdm9pZCAwPT09dC5hcnJheUJ1ZmZlcnNbdGhpcy5hcnJheS5idWZmZXIuX3V1aWRdJiYodC5hcnJheUJ1ZmZlcnNbdGhpcy5hcnJheS5idWZmZXIuX3V1aWRdPXRoaXMuYXJyYXkuc2xpY2UoMCkuYnVmZmVyKTt2YXIgZT1uZXcgZmEobmV3IHRoaXMuYXJyYXkuY29uc3RydWN0b3IodC5hcnJheUJ1ZmZlcnNbdGhpcy5hcnJheS5idWZmZXIuX3V1aWRdKSx0aGlzLnN0cmlkZSk7cmV0dXJuIGUuc2V0VXNhZ2UodGhpcy51c2FnZSksZX0sb25VcGxvYWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub25VcGxvYWRDYWxsYmFjaz10LHRoaXN9LHRvSlNPTjpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dC5hcnJheUJ1ZmZlcnMmJih0LmFycmF5QnVmZmVycz17fSksdm9pZCAwPT09dGhpcy5hcnJheS5idWZmZXIuX3V1aWQmJih0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZD1ndC5nZW5lcmF0ZVVVSUQoKSksdm9pZCAwPT09dC5hcnJheUJ1ZmZlcnNbdGhpcy5hcnJheS5idWZmZXIuX3V1aWRdJiYodC5hcnJheUJ1ZmZlcnNbdGhpcy5hcnJheS5idWZmZXIuX3V1aWRdPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5LmJ1ZmZlcikpKSx7dXVpZDp0aGlzLnV1aWQsYnVmZmVyOnRoaXMuYXJyYXkuYnVmZmVyLl91dWlkLHR5cGU6dGhpcy5hcnJheS5jb25zdHJ1Y3Rvci5uYW1lLHN0cmlkZTp0aGlzLnN0cmlkZX19fSk7dmFyIG1hLHZhPW5ldyBMdDtmdW5jdGlvbiBnYSh0LGUsbixpKXt0aGlzLm5hbWU9IiIsdGhpcy5kYXRhPXQsdGhpcy5pdGVtU2l6ZT1lLHRoaXMub2Zmc2V0PW4sdGhpcy5ub3JtYWxpemVkPSEwPT09aX1mdW5jdGlvbiB5YSh0KXtXZS5jYWxsKHRoaXMpLHRoaXMudHlwZT0iU3ByaXRlTWF0ZXJpYWwiLHRoaXMuY29sb3I9bmV3IFFlKDE2Nzc3MjE1KSx0aGlzLm1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLnJvdGF0aW9uPTAsdGhpcy5zaXplQXR0ZW51YXRpb249ITAsdGhpcy50cmFuc3BhcmVudD0hMCx0aGlzLnNldFZhbHVlcyh0KX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhnYS5wcm90b3R5cGUse2NvdW50OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmNvdW50fX0sYXJyYXk6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuYXJyYXl9fSxuZWVkc1VwZGF0ZTp7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuZGF0YS5uZWVkc1VwZGF0ZT10fX19KSxPYmplY3QuYXNzaWduKGdhLnByb3RvdHlwZSx7aXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZTohMCxhcHBseU1hdHJpeDQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLmRhdGEuY291bnQ7ZTxuO2UrKyl2YS54PXRoaXMuZ2V0WChlKSx2YS55PXRoaXMuZ2V0WShlKSx2YS56PXRoaXMuZ2V0WihlKSx2YS5hcHBseU1hdHJpeDQodCksdGhpcy5zZXRYWVooZSx2YS54LHZhLnksdmEueik7cmV0dXJuIHRoaXN9LHNldFg6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W3QqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldF09ZSx0aGlzfSxzZXRZOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVt0KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrMV09ZSx0aGlzfSxzZXRaOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVt0KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrMl09ZSx0aGlzfSxzZXRXOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVt0KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrM109ZSx0aGlzfSxnZXRYOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbdCp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0XX0sZ2V0WTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W3QqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCsxXX0sZ2V0WjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W3QqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCsyXX0sZ2V0VzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W3QqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCszXX0sc2V0WFk6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PXQqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCx0aGlzLmRhdGEuYXJyYXlbdCswXT1lLHRoaXMuZGF0YS5hcnJheVt0KzFdPW4sdGhpc30sc2V0WFlaOmZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0PXQqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCx0aGlzLmRhdGEuYXJyYXlbdCswXT1lLHRoaXMuZGF0YS5hcnJheVt0KzFdPW4sdGhpcy5kYXRhLmFycmF5W3QrMl09aSx0aGlzfSxzZXRYWVpXOmZ1bmN0aW9uKHQsZSxuLGkscil7cmV0dXJuIHQ9dCp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0LHRoaXMuZGF0YS5hcnJheVt0KzBdPWUsdGhpcy5kYXRhLmFycmF5W3QrMV09bix0aGlzLmRhdGEuYXJyYXlbdCsyXT1pLHRoaXMuZGF0YS5hcnJheVt0KzNdPXIsdGhpc30sY2xvbmU6ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl7Y29uc29sZS5sb2coIlRIUkVFLkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLmNsb25lKCk6IENsb25pbmcgYW4gaW50ZXJsYXZlZCBidWZmZXIgYXR0cmlidXRlIHdpbGwgZGVpbnRlcmxlYXZlIGJ1ZmZlciBkYXRhLiIpO2Zvcih2YXIgZT1bXSxuPTA7bjx0aGlzLmNvdW50O24rKylmb3IodmFyIGk9bip0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0LHI9MDtyPHRoaXMuaXRlbVNpemU7cisrKWUucHVzaCh0aGlzLmRhdGEuYXJyYXlbaStyXSk7cmV0dXJuIG5ldyBlbihuZXcgdGhpcy5hcnJheS5jb25zdHJ1Y3RvcihlKSx0aGlzLml0ZW1TaXplLHRoaXMubm9ybWFsaXplZCl9cmV0dXJuIHZvaWQgMD09PXQuaW50ZXJsZWF2ZWRCdWZmZXJzJiYodC5pbnRlcmxlYXZlZEJ1ZmZlcnM9e30pLHZvaWQgMD09PXQuaW50ZXJsZWF2ZWRCdWZmZXJzW3RoaXMuZGF0YS51dWlkXSYmKHQuaW50ZXJsZWF2ZWRCdWZmZXJzW3RoaXMuZGF0YS51dWlkXT10aGlzLmRhdGEuY2xvbmUodCkpLG5ldyBnYSh0LmludGVybGVhdmVkQnVmZmVyc1t0aGlzLmRhdGEudXVpZF0sdGhpcy5pdGVtU2l6ZSx0aGlzLm9mZnNldCx0aGlzLm5vcm1hbGl6ZWQpfSx0b0pTT046ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl7Y29uc29sZS5sb2coIlRIUkVFLkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLnRvSlNPTigpOiBTZXJpYWxpemluZyBhbiBpbnRlcmxhdmVkIGJ1ZmZlciBhdHRyaWJ1dGUgd2lsbCBkZWludGVybGVhdmUgYnVmZmVyIGRhdGEuIik7Zm9yKHZhciBlPVtdLG49MDtuPHRoaXMuY291bnQ7bisrKWZvcih2YXIgaT1uKnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQscj0wO3I8dGhpcy5pdGVtU2l6ZTtyKyspZS5wdXNoKHRoaXMuZGF0YS5hcnJheVtpK3JdKTtyZXR1cm57aXRlbVNpemU6dGhpcy5pdGVtU2l6ZSx0eXBlOnRoaXMuYXJyYXkuY29uc3RydWN0b3IubmFtZSxhcnJheTplLG5vcm1hbGl6ZWQ6dGhpcy5ub3JtYWxpemVkfX1yZXR1cm4gdm9pZCAwPT09dC5pbnRlcmxlYXZlZEJ1ZmZlcnMmJih0LmludGVybGVhdmVkQnVmZmVycz17fSksdm9pZCAwPT09dC5pbnRlcmxlYXZlZEJ1ZmZlcnNbdGhpcy5kYXRhLnV1aWRdJiYodC5pbnRlcmxlYXZlZEJ1ZmZlcnNbdGhpcy5kYXRhLnV1aWRdPXRoaXMuZGF0YS50b0pTT04odCkpLHtpc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlOiEwLGl0ZW1TaXplOnRoaXMuaXRlbVNpemUsZGF0YTp0aGlzLmRhdGEudXVpZCxvZmZzZXQ6dGhpcy5vZmZzZXQsbm9ybWFsaXplZDp0aGlzLm5vcm1hbGl6ZWR9fX0pLHlhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFdlLnByb3RvdHlwZSkseWEucHJvdG90eXBlLmNvbnN0cnVjdG9yPXlhLHlhLnByb3RvdHlwZS5pc1Nwcml0ZU1hdGVyaWFsPSEwLHlhLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiBXZS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5jb2xvci5jb3B5KHQuY29sb3IpLHRoaXMubWFwPXQubWFwLHRoaXMuYWxwaGFNYXA9dC5hbHBoYU1hcCx0aGlzLnJvdGF0aW9uPXQucm90YXRpb24sdGhpcy5zaXplQXR0ZW51YXRpb249dC5zaXplQXR0ZW51YXRpb24sdGhpc307dmFyIHhhPW5ldyBMdCxfYT1uZXcgTHQsYmE9bmV3IEx0LHdhPW5ldyB5dCxNYT1uZXcgeXQsU2E9bmV3IG5lLFRhPW5ldyBMdCxFYT1uZXcgTHQsQWE9bmV3IEx0LExhPW5ldyB5dCxSYT1uZXcgeXQsQ2E9bmV3IHl0O2Z1bmN0aW9uIFBhKHQpe2lmKEFlLmNhbGwodGhpcyksdGhpcy50eXBlPSJTcHJpdGUiLHZvaWQgMD09PW1hKXttYT1uZXcgTW47dmFyIGU9bmV3IGZhKG5ldyBGbG9hdDMyQXJyYXkoWy0uNSwtLjUsMCwwLDAsLjUsLS41LDAsMSwwLC41LC41LDAsMSwxLC0uNSwuNSwwLDAsMV0pLDUpO21hLnNldEluZGV4KFswLDEsMiwwLDIsM10pLG1hLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBnYShlLDMsMCwhMSkpLG1hLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBnYShlLDIsMywhMSkpfXRoaXMuZ2VvbWV0cnk9bWEsdGhpcy5tYXRlcmlhbD12b2lkIDAhPT10P3Q6bmV3IHlhLHRoaXMuY2VudGVyPW5ldyB5dCguNSwuNSl9ZnVuY3Rpb24gRGEodCxlLG4saSxyLGEpe3dhLnN1YlZlY3RvcnModCxuKS5hZGRTY2FsYXIoLjUpLm11bHRpcGx5KGkpLHZvaWQgMCE9PXI/KE1hLng9YSp3YS54LXIqd2EueSxNYS55PXIqd2EueCthKndhLnkpOk1hLmNvcHkod2EpLHQuY29weShlKSx0LngrPU1hLngsdC55Kz1NYS55LHQuYXBwbHlNYXRyaXg0KFNhKX1QYS5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEFlLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlBhLGlzU3ByaXRlOiEwLHJheWNhc3Q6ZnVuY3Rpb24odCxlKXtudWxsPT09dC5jYW1lcmEmJmNvbnNvbGUuZXJyb3IoJ1RIUkVFLlNwcml0ZTogIlJheWNhc3Rlci5jYW1lcmEiIG5lZWRzIHRvIGJlIHNldCBpbiBvcmRlciB0byByYXljYXN0IGFnYWluc3Qgc3ByaXRlcy4nKSxfYS5zZXRGcm9tTWF0cml4U2NhbGUodGhpcy5tYXRyaXhXb3JsZCksU2EuY29weSh0LmNhbWVyYS5tYXRyaXhXb3JsZCksdGhpcy5tb2RlbFZpZXdNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyh0LmNhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UsdGhpcy5tYXRyaXhXb3JsZCksYmEuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubW9kZWxWaWV3TWF0cml4KSx0LmNhbWVyYS5pc1BlcnNwZWN0aXZlQ2FtZXJhJiYhMT09PXRoaXMubWF0ZXJpYWwuc2l6ZUF0dGVudWF0aW9uJiZfYS5tdWx0aXBseVNjYWxhcigtYmEueik7dmFyIG4saSxyPXRoaXMubWF0ZXJpYWwucm90YXRpb247MCE9PXImJihpPU1hdGguY29zKHIpLG49TWF0aC5zaW4ocikpO3ZhciBhPXRoaXMuY2VudGVyO0RhKFRhLnNldCgtLjUsLS41LDApLGJhLGEsX2EsbixpKSxEYShFYS5zZXQoLjUsLS41LDApLGJhLGEsX2EsbixpKSxEYShBYS5zZXQoLjUsLjUsMCksYmEsYSxfYSxuLGkpLExhLnNldCgwLDApLFJhLnNldCgxLDApLENhLnNldCgxLDEpO3ZhciBvPXQucmF5LmludGVyc2VjdFRyaWFuZ2xlKFRhLEVhLEFhLCExLHhhKTtpZihudWxsIT09b3x8KERhKEVhLnNldCgtLjUsLjUsMCksYmEsYSxfYSxuLGkpLFJhLnNldCgwLDEpLG51bGwhPT0obz10LnJheS5pbnRlcnNlY3RUcmlhbmdsZShUYSxBYSxFYSwhMSx4YSkpKSl7dmFyIHM9dC5yYXkub3JpZ2luLmRpc3RhbmNlVG8oeGEpO3M8dC5uZWFyfHxzPnQuZmFyfHxlLnB1c2goe2Rpc3RhbmNlOnMscG9pbnQ6eGEuY2xvbmUoKSx1djprZS5nZXRVVih4YSxUYSxFYSxBYSxMYSxSYSxDYSxuZXcgeXQpLGZhY2U6bnVsbCxvYmplY3Q6dGhpc30pfX0sY29weTpmdW5jdGlvbih0KXtyZXR1cm4gQWUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHZvaWQgMCE9PXQuY2VudGVyJiZ0aGlzLmNlbnRlci5jb3B5KHQuY2VudGVyKSx0aGlzLm1hdGVyaWFsPXQubWF0ZXJpYWwsdGhpc319KTt2YXIgSWE9bmV3IEx0LE9hPW5ldyBMdDtmdW5jdGlvbiBOYSgpe0FlLmNhbGwodGhpcyksdGhpcy5fY3VycmVudExldmVsPTAsdGhpcy50eXBlPSJMT0QiLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse2xldmVsczp7ZW51bWVyYWJsZTohMCx2YWx1ZTpbXX19KSx0aGlzLmF1dG9VcGRhdGU9ITB9TmEucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShBZS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpOYSxpc0xPRDohMCxjb3B5OmZ1bmN0aW9uKHQpe0FlLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0LCExKTtmb3IodmFyIGU9dC5sZXZlbHMsbj0wLGk9ZS5sZW5ndGg7bjxpO24rKyl7dmFyIHI9ZVtuXTt0aGlzLmFkZExldmVsKHIub2JqZWN0LmNsb25lKCksci5kaXN0YW5jZSl9cmV0dXJuIHRoaXMuYXV0b1VwZGF0ZT10LmF1dG9VcGRhdGUsdGhpc30sYWRkTGV2ZWw6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0wKSxlPU1hdGguYWJzKGUpO3ZhciBuLGk9dGhpcy5sZXZlbHM7Zm9yKG49MDtuPGkubGVuZ3RoJiYhKGU8aVtuXS5kaXN0YW5jZSk7bisrKTtyZXR1cm4gaS5zcGxpY2UobiwwLHtkaXN0YW5jZTplLG9iamVjdDp0fSksdGhpcy5hZGQodCksdGhpc30sZ2V0Q3VycmVudExldmVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRMZXZlbH0sZ2V0T2JqZWN0Rm9yRGlzdGFuY2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sZXZlbHM7aWYoZS5sZW5ndGg+MCl7dmFyIG4saTtmb3Iobj0xLGk9ZS5sZW5ndGg7bjxpJiYhKHQ8ZVtuXS5kaXN0YW5jZSk7bisrKTtyZXR1cm4gZVtuLTFdLm9iamVjdH1yZXR1cm4gbnVsbH0scmF5Y2FzdDpmdW5jdGlvbih0LGUpe2lmKHRoaXMubGV2ZWxzLmxlbmd0aD4wKXtJYS5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tYXRyaXhXb3JsZCk7dmFyIG49dC5yYXkub3JpZ2luLmRpc3RhbmNlVG8oSWEpO3RoaXMuZ2V0T2JqZWN0Rm9yRGlzdGFuY2UobikucmF5Y2FzdCh0LGUpfX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubGV2ZWxzO2lmKGUubGVuZ3RoPjEpe0lhLnNldEZyb21NYXRyaXhQb3NpdGlvbih0Lm1hdHJpeFdvcmxkKSxPYS5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tYXRyaXhXb3JsZCk7dmFyIG4saSxyPUlhLmRpc3RhbmNlVG8oT2EpL3Quem9vbTtmb3IoZVswXS5vYmplY3QudmlzaWJsZT0hMCxuPTEsaT1lLmxlbmd0aDtuPGkmJnI+PWVbbl0uZGlzdGFuY2U7bisrKWVbbi0xXS5vYmplY3QudmlzaWJsZT0hMSxlW25dLm9iamVjdC52aXNpYmxlPSEwO2Zvcih0aGlzLl9jdXJyZW50TGV2ZWw9bi0xO248aTtuKyspZVtuXS5vYmplY3QudmlzaWJsZT0hMX19LHRvSlNPTjpmdW5jdGlvbih0KXt2YXIgZT1BZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyx0KTshMT09PXRoaXMuYXV0b1VwZGF0ZSYmKGUub2JqZWN0LmF1dG9VcGRhdGU9ITEpLGUub2JqZWN0LmxldmVscz1bXTtmb3IodmFyIG49dGhpcy5sZXZlbHMsaT0wLHI9bi5sZW5ndGg7aTxyO2krKyl7dmFyIGE9bltpXTtlLm9iamVjdC5sZXZlbHMucHVzaCh7b2JqZWN0OmEub2JqZWN0LnV1aWQsZGlzdGFuY2U6YS5kaXN0YW5jZX0pfXJldHVybiBlfX0pO3ZhciBCYT1uZXcgTHQsemE9bmV3IFN0LEZhPW5ldyBTdCxIYT1uZXcgTHQsR2E9bmV3IG5lO2Z1bmN0aW9uIFVhKHQsZSl7VW4uY2FsbCh0aGlzLHQsZSksdGhpcy50eXBlPSJTa2lubmVkTWVzaCIsdGhpcy5iaW5kTW9kZT0iYXR0YWNoZWQiLHRoaXMuYmluZE1hdHJpeD1uZXcgbmUsdGhpcy5iaW5kTWF0cml4SW52ZXJzZT1uZXcgbmV9ZnVuY3Rpb24ga2EoKXtBZS5jYWxsKHRoaXMpLHRoaXMudHlwZT0iQm9uZSJ9VWEucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShVbi5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpVYSxpc1NraW5uZWRNZXNoOiEwLGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIFVuLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLmJpbmRNb2RlPXQuYmluZE1vZGUsdGhpcy5iaW5kTWF0cml4LmNvcHkodC5iaW5kTWF0cml4KSx0aGlzLmJpbmRNYXRyaXhJbnZlcnNlLmNvcHkodC5iaW5kTWF0cml4SW52ZXJzZSksdGhpcy5za2VsZXRvbj10LnNrZWxldG9uLHRoaXN9LGJpbmQ6ZnVuY3Rpb24odCxlKXt0aGlzLnNrZWxldG9uPXQsdm9pZCAwPT09ZSYmKHRoaXMudXBkYXRlTWF0cml4V29ybGQoITApLHRoaXMuc2tlbGV0b24uY2FsY3VsYXRlSW52ZXJzZXMoKSxlPXRoaXMubWF0cml4V29ybGQpLHRoaXMuYmluZE1hdHJpeC5jb3B5KGUpLHRoaXMuYmluZE1hdHJpeEludmVyc2UuY29weShlKS5pbnZlcnQoKX0scG9zZTpmdW5jdGlvbigpe3RoaXMuc2tlbGV0b24ucG9zZSgpfSxub3JtYWxpemVTa2luV2VpZ2h0czpmdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgU3QsZT10aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMuc2tpbldlaWdodCxuPTAsaT1lLmNvdW50O248aTtuKyspe3QueD1lLmdldFgobiksdC55PWUuZ2V0WShuKSx0Lno9ZS5nZXRaKG4pLHQudz1lLmdldFcobik7dmFyIHI9MS90Lm1hbmhhdHRhbkxlbmd0aCgpO3IhPT0xLzA/dC5tdWx0aXBseVNjYWxhcihyKTp0LnNldCgxLDAsMCwwKSxlLnNldFhZWlcobix0LngsdC55LHQueix0LncpfX0sdXBkYXRlTWF0cml4V29ybGQ6ZnVuY3Rpb24odCl7VW4ucHJvdG90eXBlLnVwZGF0ZU1hdHJpeFdvcmxkLmNhbGwodGhpcyx0KSwiYXR0YWNoZWQiPT09dGhpcy5iaW5kTW9kZT90aGlzLmJpbmRNYXRyaXhJbnZlcnNlLmNvcHkodGhpcy5tYXRyaXhXb3JsZCkuaW52ZXJ0KCk6ImRldGFjaGVkIj09PXRoaXMuYmluZE1vZGU/dGhpcy5iaW5kTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMuYmluZE1hdHJpeCkuaW52ZXJ0KCk6Y29uc29sZS53YXJuKCJUSFJFRS5Ta2lubmVkTWVzaDogVW5yZWNvZ25pemVkIGJpbmRNb2RlOiAiK3RoaXMuYmluZE1vZGUpfSxib25lVHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5za2VsZXRvbixpPXRoaXMuZ2VvbWV0cnk7emEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpLmF0dHJpYnV0ZXMuc2tpbkluZGV4LHQpLEZhLmZyb21CdWZmZXJBdHRyaWJ1dGUoaS5hdHRyaWJ1dGVzLnNraW5XZWlnaHQsdCksQmEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShpLmF0dHJpYnV0ZXMucG9zaXRpb24sdCkuYXBwbHlNYXRyaXg0KHRoaXMuYmluZE1hdHJpeCksZS5zZXQoMCwwLDApO2Zvcih2YXIgcj0wO3I8NDtyKyspe3ZhciBhPUZhLmdldENvbXBvbmVudChyKTtpZigwIT09YSl7dmFyIG89emEuZ2V0Q29tcG9uZW50KHIpO0dhLm11bHRpcGx5TWF0cmljZXMobi5ib25lc1tvXS5tYXRyaXhXb3JsZCxuLmJvbmVJbnZlcnNlc1tvXSksZS5hZGRTY2FsZWRWZWN0b3IoSGEuY29weShCYSkuYXBwbHlNYXRyaXg0KEdhKSxhKX19cmV0dXJuIGUuYXBwbHlNYXRyaXg0KHRoaXMuYmluZE1hdHJpeEludmVyc2UpfX0pLGthLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoQWUucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6a2EsaXNCb25lOiEwfSk7dmFyIFZhPW5ldyBuZSxXYT1uZXcgbmU7ZnVuY3Rpb24gamEodCxlKXt2b2lkIDA9PT10JiYodD1bXSksdm9pZCAwPT09ZSYmKGU9W10pLHRoaXMudXVpZD1ndC5nZW5lcmF0ZVVVSUQoKSx0aGlzLmJvbmVzPXQuc2xpY2UoMCksdGhpcy5ib25lSW52ZXJzZXM9ZSx0aGlzLmJvbmVNYXRyaWNlcz1udWxsLHRoaXMuYm9uZVRleHR1cmU9bnVsbCx0aGlzLmJvbmVUZXh0dXJlU2l6ZT0wLHRoaXMuZnJhbWU9LTEsdGhpcy5pbml0KCl9T2JqZWN0LmFzc2lnbihqYS5wcm90b3R5cGUse2luaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJvbmVzLGU9dGhpcy5ib25lSW52ZXJzZXM7aWYodGhpcy5ib25lTWF0cmljZXM9bmV3IEZsb2F0MzJBcnJheSgxNip0Lmxlbmd0aCksMD09PWUubGVuZ3RoKXRoaXMuY2FsY3VsYXRlSW52ZXJzZXMoKTtlbHNlIGlmKHQubGVuZ3RoIT09ZS5sZW5ndGgpe2NvbnNvbGUud2FybigiVEhSRUUuU2tlbGV0b246IE51bWJlciBvZiBpbnZlcnNlIGJvbmUgbWF0cmljZXMgZG9lcyBub3QgbWF0Y2ggYW1vdW50IG9mIGJvbmVzLiIpLHRoaXMuYm9uZUludmVyc2VzPVtdO2Zvcih2YXIgbj0wLGk9dGhpcy5ib25lcy5sZW5ndGg7bjxpO24rKyl0aGlzLmJvbmVJbnZlcnNlcy5wdXNoKG5ldyBuZSl9fSxjYWxjdWxhdGVJbnZlcnNlczpmdW5jdGlvbigpe3RoaXMuYm9uZUludmVyc2VzLmxlbmd0aD0wO2Zvcih2YXIgdD0wLGU9dGhpcy5ib25lcy5sZW5ndGg7dDxlO3QrKyl7dmFyIG49bmV3IG5lO3RoaXMuYm9uZXNbdF0mJm4uY29weSh0aGlzLmJvbmVzW3RdLm1hdHJpeFdvcmxkKS5pbnZlcnQoKSx0aGlzLmJvbmVJbnZlcnNlcy5wdXNoKG4pfX0scG9zZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9dGhpcy5ib25lcy5sZW5ndGg7dDxlO3QrKyl7dmFyIG49dGhpcy5ib25lc1t0XTtuJiZuLm1hdHJpeFdvcmxkLmNvcHkodGhpcy5ib25lSW52ZXJzZXNbdF0pLmludmVydCgpfWZvcih2YXIgaT0wLHI9dGhpcy5ib25lcy5sZW5ndGg7aTxyO2krKyl7dmFyIGE9dGhpcy5ib25lc1tpXTthJiYoYS5wYXJlbnQmJmEucGFyZW50LmlzQm9uZT8oYS5tYXRyaXguY29weShhLnBhcmVudC5tYXRyaXhXb3JsZCkuaW52ZXJ0KCksYS5tYXRyaXgubXVsdGlwbHkoYS5tYXRyaXhXb3JsZCkpOmEubWF0cml4LmNvcHkoYS5tYXRyaXhXb3JsZCksYS5tYXRyaXguZGVjb21wb3NlKGEucG9zaXRpb24sYS5xdWF0ZXJuaW9uLGEuc2NhbGUpKX19LHVwZGF0ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmJvbmVzLGU9dGhpcy5ib25lSW52ZXJzZXMsbj10aGlzLmJvbmVNYXRyaWNlcyxpPXRoaXMuYm9uZVRleHR1cmUscj0wLGE9dC5sZW5ndGg7cjxhO3IrKyl7dmFyIG89dFtyXT90W3JdLm1hdHJpeFdvcmxkOldhO1ZhLm11bHRpcGx5TWF0cmljZXMobyxlW3JdKSxWYS50b0FycmF5KG4sMTYqcil9bnVsbCE9PWkmJihpLm5lZWRzVXBkYXRlPSEwKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGphKHRoaXMuYm9uZXMsdGhpcy5ib25lSW52ZXJzZXMpfSxnZXRCb25lQnlOYW1lOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5ib25lcy5sZW5ndGg7ZTxuO2UrKyl7dmFyIGk9dGhpcy5ib25lc1tlXTtpZihpLm5hbWU9PT10KXJldHVybiBpfX0sZGlzcG9zZTpmdW5jdGlvbigpe251bGwhPT10aGlzLmJvbmVUZXh0dXJlJiYodGhpcy5ib25lVGV4dHVyZS5kaXNwb3NlKCksdGhpcy5ib25lVGV4dHVyZT1udWxsKX0sZnJvbUpTT046ZnVuY3Rpb24odCxlKXt0aGlzLnV1aWQ9dC51dWlkO2Zvcih2YXIgbj0wLGk9dC5ib25lcy5sZW5ndGg7bjxpO24rKyl7dmFyIHI9dC5ib25lc1tuXSxhPWVbcl07dm9pZCAwPT09YSYmKGNvbnNvbGUud2FybigiVEhSRUUuU2tlbGV0b246IE5vIGJvbmUgZm91bmQgd2l0aCBVVUlEOiIsciksYT1uZXcga2EpLHRoaXMuYm9uZXMucHVzaChhKSx0aGlzLmJvbmVJbnZlcnNlcy5wdXNoKChuZXcgbmUpLmZyb21BcnJheSh0LmJvbmVJbnZlcnNlc1tuXSkpfXJldHVybiB0aGlzLmluaXQoKSx0aGlzfSx0b0pTT046ZnVuY3Rpb24oKXt2YXIgdD17bWV0YWRhdGE6e3ZlcnNpb246NC41LHR5cGU6IlNrZWxldG9uIixnZW5lcmF0b3I6IlNrZWxldG9uLnRvSlNPTiJ9LGJvbmVzOltdLGJvbmVJbnZlcnNlczpbXX07dC51dWlkPXRoaXMudXVpZDtmb3IodmFyIGU9dGhpcy5ib25lcyxuPXRoaXMuYm9uZUludmVyc2VzLGk9MCxyPWUubGVuZ3RoO2k8cjtpKyspe3ZhciBhPWVbaV07dC5ib25lcy5wdXNoKGEudXVpZCk7dmFyIG89bltpXTt0LmJvbmVJbnZlcnNlcy5wdXNoKG8udG9BcnJheSgpKX1yZXR1cm4gdH19KTt2YXIgcWE9bmV3IG5lLFhhPW5ldyBuZSxZYT1bXSxaYT1uZXcgVW47ZnVuY3Rpb24gSmEodCxlLG4pe1VuLmNhbGwodGhpcyx0LGUpLHRoaXMuaW5zdGFuY2VNYXRyaXg9bmV3IGVuKG5ldyBGbG9hdDMyQXJyYXkoMTYqbiksMTYpLHRoaXMuaW5zdGFuY2VDb2xvcj1udWxsLHRoaXMuY291bnQ9bix0aGlzLmZydXN0dW1DdWxsZWQ9ITF9ZnVuY3Rpb24gUWEodCl7V2UuY2FsbCh0aGlzKSx0aGlzLnR5cGU9IkxpbmVCYXNpY01hdGVyaWFsIix0aGlzLmNvbG9yPW5ldyBRZSgxNjc3NzIxNSksdGhpcy5saW5ld2lkdGg9MSx0aGlzLmxpbmVjYXA9InJvdW5kIix0aGlzLmxpbmVqb2luPSJyb3VuZCIsdGhpcy5tb3JwaFRhcmdldHM9ITEsdGhpcy5zZXRWYWx1ZXModCl9SmEucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShVbi5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpKYSxpc0luc3RhbmNlZE1lc2g6ITAsY29weTpmdW5jdGlvbih0KXtyZXR1cm4gVW4ucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuaW5zdGFuY2VNYXRyaXguY29weSh0Lmluc3RhbmNlTWF0cml4KSxudWxsIT09dC5pbnN0YW5jZUNvbG9yJiYodGhpcy5pbnN0YW5jZUNvbG9yPXQuaW5zdGFuY2VDb2xvci5jbG9uZSgpKSx0aGlzLmNvdW50PXQuY291bnQsdGhpc30sZ2V0Q29sb3JBdDpmdW5jdGlvbih0LGUpe2UuZnJvbUFycmF5KHRoaXMuaW5zdGFuY2VDb2xvci5hcnJheSwzKnQpfSxnZXRNYXRyaXhBdDpmdW5jdGlvbih0LGUpe2UuZnJvbUFycmF5KHRoaXMuaW5zdGFuY2VNYXRyaXguYXJyYXksMTYqdCl9LHJheWNhc3Q6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLm1hdHJpeFdvcmxkLGk9dGhpcy5jb3VudDtpZihaYS5nZW9tZXRyeT10aGlzLmdlb21ldHJ5LFphLm1hdGVyaWFsPXRoaXMubWF0ZXJpYWwsdm9pZCAwIT09WmEubWF0ZXJpYWwpZm9yKHZhciByPTA7cjxpO3IrKyl7dGhpcy5nZXRNYXRyaXhBdChyLHFhKSxYYS5tdWx0aXBseU1hdHJpY2VzKG4scWEpLFphLm1hdHJpeFdvcmxkPVhhLFphLnJheWNhc3QodCxZYSk7Zm9yKHZhciBhPTAsbz1ZYS5sZW5ndGg7YTxvO2ErKyl7dmFyIHM9WWFbYV07cy5pbnN0YW5jZUlkPXIscy5vYmplY3Q9dGhpcyxlLnB1c2gocyl9WWEubGVuZ3RoPTB9fSxzZXRDb2xvckF0OmZ1bmN0aW9uKHQsZSl7bnVsbD09PXRoaXMuaW5zdGFuY2VDb2xvciYmKHRoaXMuaW5zdGFuY2VDb2xvcj1uZXcgZW4obmV3IEZsb2F0MzJBcnJheSgzKnRoaXMuY291bnQpLDMpKSxlLnRvQXJyYXkodGhpcy5pbnN0YW5jZUNvbG9yLmFycmF5LDMqdCl9LHNldE1hdHJpeEF0OmZ1bmN0aW9uKHQsZSl7ZS50b0FycmF5KHRoaXMuaW5zdGFuY2VNYXRyaXguYXJyYXksMTYqdCl9LHVwZGF0ZU1vcnBoVGFyZ2V0czpmdW5jdGlvbigpe30sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToiZGlzcG9zZSJ9KX19KSxRYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShXZS5wcm90b3R5cGUpLFFhLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1RYSxRYS5wcm90b3R5cGUuaXNMaW5lQmFzaWNNYXRlcmlhbD0hMCxRYS5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gV2UucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuY29sb3IuY29weSh0LmNvbG9yKSx0aGlzLmxpbmV3aWR0aD10LmxpbmV3aWR0aCx0aGlzLmxpbmVjYXA9dC5saW5lY2FwLHRoaXMubGluZWpvaW49dC5saW5lam9pbix0aGlzLm1vcnBoVGFyZ2V0cz10Lm1vcnBoVGFyZ2V0cyx0aGlzfTt2YXIgS2E9bmV3IEx0LCRhPW5ldyBMdCx0bz1uZXcgbmUsZW89bmV3IGVlLG5vPW5ldyBYdDtmdW5jdGlvbiBpbyh0LGUpe3ZvaWQgMD09PXQmJih0PW5ldyBNbiksdm9pZCAwPT09ZSYmKGU9bmV3IFFhKSxBZS5jYWxsKHRoaXMpLHRoaXMudHlwZT0iTGluZSIsdGhpcy5nZW9tZXRyeT10LHRoaXMubWF0ZXJpYWw9ZSx0aGlzLnVwZGF0ZU1vcnBoVGFyZ2V0cygpfWlvLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoQWUucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6aW8saXNMaW5lOiEwLGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIEFlLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLm1hdGVyaWFsPXQubWF0ZXJpYWwsdGhpcy5nZW9tZXRyeT10Lmdlb21ldHJ5LHRoaXN9LGNvbXB1dGVMaW5lRGlzdGFuY2VzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZW9tZXRyeTtpZih0LmlzQnVmZmVyR2VvbWV0cnkpaWYobnVsbD09PXQuaW5kZXgpe2Zvcih2YXIgZT10LmF0dHJpYnV0ZXMucG9zaXRpb24sbj1bMF0saT0xLHI9ZS5jb3VudDtpPHI7aSsrKUthLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSxpLTEpLCRhLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSxpKSxuW2ldPW5baS0xXSxuW2ldKz1LYS5kaXN0YW5jZVRvKCRhKTt0LnNldEF0dHJpYnV0ZSgibGluZURpc3RhbmNlIixuZXcgaG4obiwxKSl9ZWxzZSBjb25zb2xlLndhcm4oIlRIUkVFLkxpbmUuY29tcHV0ZUxpbmVEaXN0YW5jZXMoKTogQ29tcHV0YXRpb24gb25seSBwb3NzaWJsZSB3aXRoIG5vbi1pbmRleGVkIEJ1ZmZlckdlb21ldHJ5LiIpO2Vsc2UgdC5pc0dlb21ldHJ5JiZjb25zb2xlLmVycm9yKCJUSFJFRS5MaW5lLmNvbXB1dGVMaW5lRGlzdGFuY2VzKCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKTtyZXR1cm4gdGhpc30scmF5Y2FzdDpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2VvbWV0cnksaT10aGlzLm1hdHJpeFdvcmxkLHI9dC5wYXJhbXMuTGluZS50aHJlc2hvbGQ7aWYobnVsbD09PW4uYm91bmRpbmdTcGhlcmUmJm4uY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksbm8uY29weShuLmJvdW5kaW5nU3BoZXJlKSxuby5hcHBseU1hdHJpeDQoaSksbm8ucmFkaXVzKz1yLCExIT09dC5yYXkuaW50ZXJzZWN0c1NwaGVyZShubykpe3RvLmNvcHkoaSkuaW52ZXJ0KCksZW8uY29weSh0LnJheSkuYXBwbHlNYXRyaXg0KHRvKTt2YXIgYT1yLygodGhpcy5zY2FsZS54K3RoaXMuc2NhbGUueSt0aGlzLnNjYWxlLnopLzMpLG89YSphLHM9bmV3IEx0LGM9bmV3IEx0LGw9bmV3IEx0LHU9bmV3IEx0LGg9dGhpcy5pc0xpbmVTZWdtZW50cz8yOjE7aWYobi5pc0J1ZmZlckdlb21ldHJ5KXt2YXIgZD1uLmluZGV4LHA9bi5hdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKG51bGwhPT1kKWZvcih2YXIgZj1kLmFycmF5LG09MCx2PWYubGVuZ3RoLTE7bTx2O20rPWgpe3ZhciBnPWZbbV0seT1mW20rMV07aWYocy5mcm9tQnVmZmVyQXR0cmlidXRlKHAsZyksYy5mcm9tQnVmZmVyQXR0cmlidXRlKHAseSksIShlby5kaXN0YW5jZVNxVG9TZWdtZW50KHMsYyx1LGwpPm8pKXt1LmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKTt2YXIgeD10LnJheS5vcmlnaW4uZGlzdGFuY2VUbyh1KTt4PHQubmVhcnx8eD50LmZhcnx8ZS5wdXNoKHtkaXN0YW5jZTp4LHBvaW50OmwuY2xvbmUoKS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCksaW5kZXg6bSxmYWNlOm51bGwsZmFjZUluZGV4Om51bGwsb2JqZWN0OnRoaXN9KX19ZWxzZSBmb3IodmFyIF89MCxiPXAuY291bnQtMTtfPGI7Xys9aCl7aWYocy5mcm9tQnVmZmVyQXR0cmlidXRlKHAsXyksYy5mcm9tQnVmZmVyQXR0cmlidXRlKHAsXysxKSwhKGVvLmRpc3RhbmNlU3FUb1NlZ21lbnQocyxjLHUsbCk+bykpe3UuYXBwbHlNYXRyaXg0KHRoaXMubWF0cml4V29ybGQpO3ZhciB3PXQucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKHUpO3c8dC5uZWFyfHx3PnQuZmFyfHxlLnB1c2goe2Rpc3RhbmNlOncscG9pbnQ6bC5jbG9uZSgpLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKSxpbmRleDpfLGZhY2U6bnVsbCxmYWNlSW5kZXg6bnVsbCxvYmplY3Q6dGhpc30pfX19ZWxzZSBuLmlzR2VvbWV0cnkmJmNvbnNvbGUuZXJyb3IoIlRIUkVFLkxpbmUucmF5Y2FzdCgpIG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIil9fSx1cGRhdGVNb3JwaFRhcmdldHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdlb21ldHJ5O2lmKHQuaXNCdWZmZXJHZW9tZXRyeSl7dmFyIGU9dC5tb3JwaEF0dHJpYnV0ZXMsbj1PYmplY3Qua2V5cyhlKTtpZihuLmxlbmd0aD4wKXt2YXIgaT1lW25bMF1dO2lmKHZvaWQgMCE9PWkpe3RoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzPVtdLHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5PXt9O2Zvcih2YXIgcj0wLGE9aS5sZW5ndGg7cjxhO3IrKyl7dmFyIG89aVtyXS5uYW1lfHxTdHJpbmcocik7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMucHVzaCgwKSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtvXT1yfX19fWVsc2V7dmFyIHM9dC5tb3JwaFRhcmdldHM7dm9pZCAwIT09cyYmcy5sZW5ndGg+MCYmY29uc29sZS5lcnJvcigiVEhSRUUuTGluZS51cGRhdGVNb3JwaFRhcmdldHMoKSBkb2VzIG5vdCBzdXBwb3J0IFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKX19fSk7dmFyIHJvPW5ldyBMdCxhbz1uZXcgTHQ7ZnVuY3Rpb24gb28odCxlKXtpby5jYWxsKHRoaXMsdCxlKSx0aGlzLnR5cGU9IkxpbmVTZWdtZW50cyJ9ZnVuY3Rpb24gc28odCxlKXtpby5jYWxsKHRoaXMsdCxlKSx0aGlzLnR5cGU9IkxpbmVMb29wIn1mdW5jdGlvbiBjbyh0KXtXZS5jYWxsKHRoaXMpLHRoaXMudHlwZT0iUG9pbnRzTWF0ZXJpYWwiLHRoaXMuY29sb3I9bmV3IFFlKDE2Nzc3MjE1KSx0aGlzLm1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLnNpemU9MSx0aGlzLnNpemVBdHRlbnVhdGlvbj0hMCx0aGlzLm1vcnBoVGFyZ2V0cz0hMSx0aGlzLnNldFZhbHVlcyh0KX1vby5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGlvLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOm9vLGlzTGluZVNlZ21lbnRzOiEwLGNvbXB1dGVMaW5lRGlzdGFuY2VzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZW9tZXRyeTtpZih0LmlzQnVmZmVyR2VvbWV0cnkpaWYobnVsbD09PXQuaW5kZXgpe2Zvcih2YXIgZT10LmF0dHJpYnV0ZXMucG9zaXRpb24sbj1bXSxpPTAscj1lLmNvdW50O2k8cjtpKz0yKXJvLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSxpKSxhby5mcm9tQnVmZmVyQXR0cmlidXRlKGUsaSsxKSxuW2ldPTA9PT1pPzA6bltpLTFdLG5baSsxXT1uW2ldK3JvLmRpc3RhbmNlVG8oYW8pO3Quc2V0QXR0cmlidXRlKCJsaW5lRGlzdGFuY2UiLG5ldyBobihuLDEpKX1lbHNlIGNvbnNvbGUud2FybigiVEhSRUUuTGluZVNlZ21lbnRzLmNvbXB1dGVMaW5lRGlzdGFuY2VzKCk6IENvbXB1dGF0aW9uIG9ubHkgcG9zc2libGUgd2l0aCBub24taW5kZXhlZCBCdWZmZXJHZW9tZXRyeS4iKTtlbHNlIHQuaXNHZW9tZXRyeSYmY29uc29sZS5lcnJvcigiVEhSRUUuTGluZVNlZ21lbnRzLmNvbXB1dGVMaW5lRGlzdGFuY2VzKCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4iKTtyZXR1cm4gdGhpc319KSxzby5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGlvLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOnNvLGlzTGluZUxvb3A6ITB9KSxjby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShXZS5wcm90b3R5cGUpLGNvLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1jbyxjby5wcm90b3R5cGUuaXNQb2ludHNNYXRlcmlhbD0hMCxjby5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gV2UucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuY29sb3IuY29weSh0LmNvbG9yKSx0aGlzLm1hcD10Lm1hcCx0aGlzLmFscGhhTWFwPXQuYWxwaGFNYXAsdGhpcy5zaXplPXQuc2l6ZSx0aGlzLnNpemVBdHRlbnVhdGlvbj10LnNpemVBdHRlbnVhdGlvbix0aGlzLm1vcnBoVGFyZ2V0cz10Lm1vcnBoVGFyZ2V0cyx0aGlzfTt2YXIgbG89bmV3IG5lLHVvPW5ldyBlZSxobz1uZXcgWHQscG89bmV3IEx0O2Z1bmN0aW9uIGZvKHQsZSl7dm9pZCAwPT09dCYmKHQ9bmV3IE1uKSx2b2lkIDA9PT1lJiYoZT1uZXcgY28pLEFlLmNhbGwodGhpcyksdGhpcy50eXBlPSJQb2ludHMiLHRoaXMuZ2VvbWV0cnk9dCx0aGlzLm1hdGVyaWFsPWUsdGhpcy51cGRhdGVNb3JwaFRhcmdldHMoKX1mdW5jdGlvbiBtbyh0LGUsbixpLHIsYSxvKXt2YXIgcz11by5kaXN0YW5jZVNxVG9Qb2ludCh0KTtpZihzPG4pe3ZhciBjPW5ldyBMdDt1by5jbG9zZXN0UG9pbnRUb1BvaW50KHQsYyksYy5hcHBseU1hdHJpeDQoaSk7dmFyIGw9ci5yYXkub3JpZ2luLmRpc3RhbmNlVG8oYyk7aWYobDxyLm5lYXJ8fGw+ci5mYXIpcmV0dXJuO2EucHVzaCh7ZGlzdGFuY2U6bCxkaXN0YW5jZVRvUmF5Ok1hdGguc3FydChzKSxwb2ludDpjLGluZGV4OmUsZmFjZTpudWxsLG9iamVjdDpvfSl9fWZ1bmN0aW9uIHZvKHQsZSxuLGkscixhLG8scyxjKXt3dC5jYWxsKHRoaXMsdCxlLG4saSxyLGEsbyxzLGMpLHRoaXMuZm9ybWF0PXZvaWQgMCE9PW8/bzpFLHRoaXMubWluRmlsdGVyPXZvaWQgMCE9PWE/YTpnLHRoaXMubWFnRmlsdGVyPXZvaWQgMCE9PXI/cjpnLHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExO3ZhciBsPXRoaXM7InJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2siaW4gdCYmdC5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKChmdW5jdGlvbiBlKCl7bC5uZWVkc1VwZGF0ZT0hMCx0LnJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2soZSl9KSl9ZnVuY3Rpb24gZ28odCxlLG4saSxyLGEsbyxzLGMsbCx1LGgpe3d0LmNhbGwodGhpcyxudWxsLGEsbyxzLGMsbCxpLHIsdSxoKSx0aGlzLmltYWdlPXt3aWR0aDplLGhlaWdodDpufSx0aGlzLm1pcG1hcHM9dCx0aGlzLmZsaXBZPSExLHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExfWZ1bmN0aW9uIHlvKHQsZSxuLGkscixhLG8scyxjKXt3dC5jYWxsKHRoaXMsdCxlLG4saSxyLGEsbyxzLGMpLHRoaXMubmVlZHNVcGRhdGU9ITB9ZnVuY3Rpb24geG8odCxlLG4saSxyLGEsbyxzLGMsbCl7aWYoKGw9dm9pZCAwIT09bD9sOkwpIT09TCYmbCE9PVIpdGhyb3cgbmV3IEVycm9yKCJEZXB0aFRleHR1cmUgZm9ybWF0IG11c3QgYmUgZWl0aGVyIFRIUkVFLkRlcHRoRm9ybWF0IG9yIFRIUkVFLkRlcHRoU3RlbmNpbEZvcm1hdCIpO3ZvaWQgMD09PW4mJmw9PT1MJiYobj1iKSx2b2lkIDA9PT1uJiZsPT09UiYmKG49VCksd3QuY2FsbCh0aGlzLG51bGwsaSxyLGEsbyxzLGwsbixjKSx0aGlzLmltYWdlPXt3aWR0aDp0LGhlaWdodDplfSx0aGlzLm1hZ0ZpbHRlcj12b2lkIDAhPT1vP286Zix0aGlzLm1pbkZpbHRlcj12b2lkIDAhPT1zP3M6Zix0aGlzLmZsaXBZPSExLHRoaXMuZ2VuZXJhdGVNaXBtYXBzPSExfWZvLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoQWUucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6Zm8saXNQb2ludHM6ITAsY29weTpmdW5jdGlvbih0KXtyZXR1cm4gQWUucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMubWF0ZXJpYWw9dC5tYXRlcmlhbCx0aGlzLmdlb21ldHJ5PXQuZ2VvbWV0cnksdGhpc30scmF5Y2FzdDpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2VvbWV0cnksaT10aGlzLm1hdHJpeFdvcmxkLHI9dC5wYXJhbXMuUG9pbnRzLnRocmVzaG9sZDtpZihudWxsPT09bi5ib3VuZGluZ1NwaGVyZSYmbi5jb21wdXRlQm91bmRpbmdTcGhlcmUoKSxoby5jb3B5KG4uYm91bmRpbmdTcGhlcmUpLGhvLmFwcGx5TWF0cml4NChpKSxoby5yYWRpdXMrPXIsITEhPT10LnJheS5pbnRlcnNlY3RzU3BoZXJlKGhvKSl7bG8uY29weShpKS5pbnZlcnQoKSx1by5jb3B5KHQucmF5KS5hcHBseU1hdHJpeDQobG8pO3ZhciBhPXIvKCh0aGlzLnNjYWxlLngrdGhpcy5zY2FsZS55K3RoaXMuc2NhbGUueikvMyksbz1hKmE7aWYobi5pc0J1ZmZlckdlb21ldHJ5KXt2YXIgcz1uLmluZGV4LGM9bi5hdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKG51bGwhPT1zKWZvcih2YXIgbD1zLmFycmF5LHU9MCxoPWwubGVuZ3RoO3U8aDt1Kyspe3ZhciBkPWxbdV07cG8uZnJvbUJ1ZmZlckF0dHJpYnV0ZShjLGQpLG1vKHBvLGQsbyxpLHQsZSx0aGlzKX1lbHNlIGZvcih2YXIgcD0wLGY9Yy5jb3VudDtwPGY7cCsrKXBvLmZyb21CdWZmZXJBdHRyaWJ1dGUoYyxwKSxtbyhwbyxwLG8saSx0LGUsdGhpcyl9ZWxzZSBjb25zb2xlLmVycm9yKCJUSFJFRS5Qb2ludHMucmF5Y2FzdCgpIG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIil9fSx1cGRhdGVNb3JwaFRhcmdldHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdlb21ldHJ5O2lmKHQuaXNCdWZmZXJHZW9tZXRyeSl7dmFyIGU9dC5tb3JwaEF0dHJpYnV0ZXMsbj1PYmplY3Qua2V5cyhlKTtpZihuLmxlbmd0aD4wKXt2YXIgaT1lW25bMF1dO2lmKHZvaWQgMCE9PWkpe3RoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzPVtdLHRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5PXt9O2Zvcih2YXIgcj0wLGE9aS5sZW5ndGg7cjxhO3IrKyl7dmFyIG89aVtyXS5uYW1lfHxTdHJpbmcocik7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMucHVzaCgwKSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtvXT1yfX19fWVsc2V7dmFyIHM9dC5tb3JwaFRhcmdldHM7dm9pZCAwIT09cyYmcy5sZW5ndGg+MCYmY29uc29sZS5lcnJvcigiVEhSRUUuUG9pbnRzLnVwZGF0ZU1vcnBoVGFyZ2V0cygpIGRvZXMgbm90IHN1cHBvcnQgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLiIpfX19KSx2by5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKHd0LnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOnZvLGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuaW1hZ2UpLmNvcHkodGhpcyl9LGlzVmlkZW9UZXh0dXJlOiEwLHVwZGF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuaW1hZ2U7ITE9PT0icmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayJpbiB0JiZ0LnJlYWR5U3RhdGU+PXQuSEFWRV9DVVJSRU5UX0RBVEEmJih0aGlzLm5lZWRzVXBkYXRlPSEwKX19KSxnby5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3dC5wcm90b3R5cGUpLGdvLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1nbyxnby5wcm90b3R5cGUuaXNDb21wcmVzc2VkVGV4dHVyZT0hMCx5by5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3dC5wcm90b3R5cGUpLHlvLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj15byx5by5wcm90b3R5cGUuaXNDYW52YXNUZXh0dXJlPSEwLHhvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHd0LnByb3RvdHlwZSkseG8ucHJvdG90eXBlLmNvbnN0cnVjdG9yPXhvLHhvLnByb3RvdHlwZS5pc0RlcHRoVGV4dHVyZT0hMDt2YXIgX289ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyKXt2YXIgYTt2b2lkIDA9PT1lJiYoZT0xKSx2b2lkIDA9PT1uJiYobj04KSx2b2lkIDA9PT1pJiYoaT0wKSx2b2lkIDA9PT1yJiYocj0yKk1hdGguUEkpLChhPXQuY2FsbCh0aGlzKXx8dGhpcykudHlwZT0iQ2lyY2xlR2VvbWV0cnkiLGEucGFyYW1ldGVycz17cmFkaXVzOmUsc2VnbWVudHM6bix0aGV0YVN0YXJ0OmksdGhldGFMZW5ndGg6cn0sbj1NYXRoLm1heCgzLG4pO3ZhciBvPVtdLHM9W10sYz1bXSxsPVtdLHU9bmV3IEx0LGg9bmV3IHl0O3MucHVzaCgwLDAsMCksYy5wdXNoKDAsMCwxKSxsLnB1c2goLjUsLjUpO2Zvcih2YXIgZD0wLHA9MztkPD1uO2QrKyxwKz0zKXt2YXIgZj1pK2QvbipyO3UueD1lKk1hdGguY29zKGYpLHUueT1lKk1hdGguc2luKGYpLHMucHVzaCh1LngsdS55LHUueiksYy5wdXNoKDAsMCwxKSxoLng9KHNbcF0vZSsxKS8yLGgueT0oc1twKzFdL2UrMSkvMixsLnB1c2goaC54LGgueSl9Zm9yKHZhciBtPTE7bTw9bjttKyspby5wdXNoKG0sbSsxLDApO3JldHVybiBhLnNldEluZGV4KG8pLGEuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IGhuKHMsMykpLGEuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBobihjLDMpKSxhLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBobihsLDIpKSxhfXJldHVybiBjdChlLHQpLGV9KE1uKSxibz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIsYSxvLHMsYyl7dmFyIGw7dm9pZCAwPT09ZSYmKGU9MSksdm9pZCAwPT09biYmKG49MSksdm9pZCAwPT09aSYmKGk9MSksdm9pZCAwPT09ciYmKHI9OCksdm9pZCAwPT09YSYmKGE9MSksdm9pZCAwPT09byYmKG89ITEpLHZvaWQgMD09PXMmJihzPTApLHZvaWQgMD09PWMmJihjPTIqTWF0aC5QSSksKGw9dC5jYWxsKHRoaXMpfHx0aGlzKS50eXBlPSJDeWxpbmRlckdlb21ldHJ5IixsLnBhcmFtZXRlcnM9e3JhZGl1c1RvcDplLHJhZGl1c0JvdHRvbTpuLGhlaWdodDppLHJhZGlhbFNlZ21lbnRzOnIsaGVpZ2h0U2VnbWVudHM6YSxvcGVuRW5kZWQ6byx0aGV0YVN0YXJ0OnMsdGhldGFMZW5ndGg6Y307dmFyIHU9bHQobCk7cj1NYXRoLmZsb29yKHIpLGE9TWF0aC5mbG9vcihhKTt2YXIgaD1bXSxkPVtdLHA9W10sZj1bXSxtPTAsdj1bXSxnPWkvMix5PTA7ZnVuY3Rpb24geCh0KXtmb3IodmFyIGk9bSxhPW5ldyB5dCxvPW5ldyBMdCxsPTAsdj0hMD09PXQ/ZTpuLHg9ITA9PT10PzE6LTEsXz0xO188PXI7XysrKWQucHVzaCgwLGcqeCwwKSxwLnB1c2goMCx4LDApLGYucHVzaCguNSwuNSksbSsrO2Zvcih2YXIgYj1tLHc9MDt3PD1yO3crKyl7dmFyIE09dy9yKmMrcyxTPU1hdGguY29zKE0pLFQ9TWF0aC5zaW4oTSk7by54PXYqVCxvLnk9Zyp4LG8uej12KlMsZC5wdXNoKG8ueCxvLnksby56KSxwLnB1c2goMCx4LDApLGEueD0uNSpTKy41LGEueT0uNSpUKngrLjUsZi5wdXNoKGEueCxhLnkpLG0rK31mb3IodmFyIEU9MDtFPHI7RSsrKXt2YXIgQT1pK0UsTD1iK0U7ITA9PT10P2gucHVzaChMLEwrMSxBKTpoLnB1c2goTCsxLEwsQSksbCs9M311LmFkZEdyb3VwKHksbCwhMD09PXQ/MToyKSx5Kz1sfXJldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgTHQsbz1uZXcgTHQsbD0wLHg9KG4tZSkvaSxfPTA7Xzw9YTtfKyspe2Zvcih2YXIgYj1bXSx3PV8vYSxNPXcqKG4tZSkrZSxTPTA7Uzw9cjtTKyspe3ZhciBUPVMvcixFPVQqYytzLEE9TWF0aC5zaW4oRSksTD1NYXRoLmNvcyhFKTtvLng9TSpBLG8ueT0tdyppK2csby56PU0qTCxkLnB1c2goby54LG8ueSxvLnopLHQuc2V0KEEseCxMKS5ub3JtYWxpemUoKSxwLnB1c2godC54LHQueSx0LnopLGYucHVzaChULDEtdyksYi5wdXNoKG0rKyl9di5wdXNoKGIpfWZvcih2YXIgUj0wO1I8cjtSKyspZm9yKHZhciBDPTA7QzxhO0MrKyl7dmFyIFA9dltDXVtSXSxEPXZbQysxXVtSXSxJPXZbQysxXVtSKzFdLE89dltDXVtSKzFdO2gucHVzaChQLEQsTyksaC5wdXNoKEQsSSxPKSxsKz02fXUuYWRkR3JvdXAoeSxsLDApLHkrPWx9KCksITE9PT1vJiYoZT4wJiZ4KCEwKSxuPjAmJngoITEpKSxsLnNldEluZGV4KGgpLGwuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IGhuKGQsMykpLGwuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBobihwLDMpKSxsLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBobihmLDIpKSxsfXJldHVybiBjdChlLHQpLGV9KE1uKSx3bz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIsYSxvLHMpe3ZhciBjO3JldHVybiB2b2lkIDA9PT1lJiYoZT0xKSx2b2lkIDA9PT1uJiYobj0xKSx2b2lkIDA9PT1pJiYoaT04KSx2b2lkIDA9PT1yJiYocj0xKSx2b2lkIDA9PT1hJiYoYT0hMSksdm9pZCAwPT09byYmKG89MCksdm9pZCAwPT09cyYmKHM9MipNYXRoLlBJKSwoYz10LmNhbGwodGhpcywwLGUsbixpLHIsYSxvLHMpfHx0aGlzKS50eXBlPSJDb25lR2VvbWV0cnkiLGMucGFyYW1ldGVycz17cmFkaXVzOmUsaGVpZ2h0Om4scmFkaWFsU2VnbWVudHM6aSxoZWlnaHRTZWdtZW50czpyLG9wZW5FbmRlZDphLHRoZXRhU3RhcnQ6byx0aGV0YUxlbmd0aDpzfSxjfXJldHVybiBjdChlLHQpLGV9KGJvKSxNbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIpe3ZhciBhO3ZvaWQgMD09PWkmJihpPTEpLHZvaWQgMD09PXImJihyPTApLChhPXQuY2FsbCh0aGlzKXx8dGhpcykudHlwZT0iUG9seWhlZHJvbkdlb21ldHJ5IixhLnBhcmFtZXRlcnM9e3ZlcnRpY2VzOmUsaW5kaWNlczpuLHJhZGl1czppLGRldGFpbDpyfTt2YXIgbz1bXSxzPVtdO2Z1bmN0aW9uIGModCxlLG4saSl7Zm9yKHZhciByPWkrMSxhPVtdLG89MDtvPD1yO28rKyl7YVtvXT1bXTtmb3IodmFyIHM9dC5jbG9uZSgpLmxlcnAobixvL3IpLGM9ZS5jbG9uZSgpLmxlcnAobixvL3IpLHU9ci1vLGg9MDtoPD11O2grKylhW29dW2hdPTA9PT1oJiZvPT09cj9zOnMuY2xvbmUoKS5sZXJwKGMsaC91KX1mb3IodmFyIGQ9MDtkPHI7ZCsrKWZvcih2YXIgcD0wO3A8Miooci1kKS0xO3ArKyl7dmFyIGY9TWF0aC5mbG9vcihwLzIpO3AlMj09MD8obChhW2RdW2YrMV0pLGwoYVtkKzFdW2ZdKSxsKGFbZF1bZl0pKToobChhW2RdW2YrMV0pLGwoYVtkKzFdW2YrMV0pLGwoYVtkKzFdW2ZdKSl9fWZ1bmN0aW9uIGwodCl7by5wdXNoKHQueCx0LnksdC56KX1mdW5jdGlvbiB1KHQsbil7dmFyIGk9Myp0O24ueD1lW2krMF0sbi55PWVbaSsxXSxuLno9ZVtpKzJdfWZ1bmN0aW9uIGgodCxlLG4saSl7aTwwJiYxPT09dC54JiYoc1tlXT10LngtMSksMD09PW4ueCYmMD09PW4ueiYmKHNbZV09aS8yL01hdGguUEkrLjUpfWZ1bmN0aW9uIGQodCl7cmV0dXJuIE1hdGguYXRhbjIodC56LC10LngpfXJldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IEx0LGk9bmV3IEx0LHI9bmV3IEx0LGE9MDthPG4ubGVuZ3RoO2ErPTMpdShuW2ErMF0sZSksdShuW2ErMV0saSksdShuW2ErMl0sciksYyhlLGkscix0KX0ociksZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBMdCxuPTA7bjxvLmxlbmd0aDtuKz0zKWUueD1vW24rMF0sZS55PW9bbisxXSxlLno9b1tuKzJdLGUubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIodCksb1tuKzBdPWUueCxvW24rMV09ZS55LG9bbisyXT1lLnp9KGkpLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBMdCxlPTA7ZTxvLmxlbmd0aDtlKz0zKXt0Lng9b1tlKzBdLHQueT1vW2UrMV0sdC56PW9bZSsyXTt2YXIgbj1kKHQpLzIvTWF0aC5QSSsuNSxpPShyPXQsTWF0aC5hdGFuMigtci55LE1hdGguc3FydChyLngqci54K3IueipyLnopKS9NYXRoLlBJKy41KTtzLnB1c2gobiwxLWkpfXZhciByOyhmdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgTHQsZT1uZXcgTHQsbj1uZXcgTHQsaT1uZXcgTHQscj1uZXcgeXQsYT1uZXcgeXQsYz1uZXcgeXQsbD0wLHU9MDtsPG8ubGVuZ3RoO2wrPTksdSs9Nil7dC5zZXQob1tsKzBdLG9bbCsxXSxvW2wrMl0pLGUuc2V0KG9bbCszXSxvW2wrNF0sb1tsKzVdKSxuLnNldChvW2wrNl0sb1tsKzddLG9bbCs4XSksci5zZXQoc1t1KzBdLHNbdSsxXSksYS5zZXQoc1t1KzJdLHNbdSszXSksYy5zZXQoc1t1KzRdLHNbdSs1XSksaS5jb3B5KHQpLmFkZChlKS5hZGQobikuZGl2aWRlU2NhbGFyKDMpO3ZhciBwPWQoaSk7aChyLHUrMCx0LHApLGgoYSx1KzIsZSxwKSxoKGMsdSs0LG4scCl9fSkoKSxmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8cy5sZW5ndGg7dCs9Nil7dmFyIGU9c1t0KzBdLG49c1t0KzJdLGk9c1t0KzRdLHI9TWF0aC5tYXgoZSxuLGkpLGE9TWF0aC5taW4oZSxuLGkpO3I+LjkmJmE8LjEmJihlPC4yJiYoc1t0KzBdKz0xKSxuPC4yJiYoc1t0KzJdKz0xKSxpPC4yJiYoc1t0KzRdKz0xKSl9fSgpfSgpLGEuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IGhuKG8sMykpLGEuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBobihvLnNsaWNlKCksMykpLGEuc2V0QXR0cmlidXRlKCJ1diIsbmV3IGhuKHMsMikpLDA9PT1yP2EuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTphLm5vcm1hbGl6ZU5vcm1hbHMoKSxhfXJldHVybiBjdChlLHQpLGV9KE1uKSxTbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk7dm9pZCAwPT09ZSYmKGU9MSksdm9pZCAwPT09biYmKG49MCk7dmFyIHI9KDErTWF0aC5zcXJ0KDUpKS8yLGE9MS9yLG89Wy0xLC0xLC0xLC0xLC0xLDEsLTEsMSwtMSwtMSwxLDEsMSwtMSwtMSwxLC0xLDEsMSwxLC0xLDEsMSwxLDAsLWEsLXIsMCwtYSxyLDAsYSwtciwwLGEsciwtYSwtciwwLC1hLHIsMCxhLC1yLDAsYSxyLDAsLXIsMCwtYSxyLDAsLWEsLXIsMCxhLHIsMCxhXTtyZXR1cm4oaT10LmNhbGwodGhpcyxvLFszLDExLDcsMyw3LDE1LDMsMTUsMTMsNywxOSwxNyw3LDE3LDYsNyw2LDE1LDE3LDQsOCwxNyw4LDEwLDE3LDEwLDYsOCwwLDE2LDgsMTYsMiw4LDIsMTAsMCwxMiwxLDAsMSwxOCwwLDE4LDE2LDYsMTAsMiw2LDIsMTMsNiwxMywxNSwyLDE2LDE4LDIsMTgsMywyLDMsMTMsMTgsMSw5LDE4LDksMTEsMTgsMTEsMyw0LDE0LDEyLDQsMTIsMCw0LDAsOCwxMSw5LDUsMTEsNSwxOSwxMSwxOSw3LDE5LDUsMTQsMTksMTQsNCwxOSw0LDE3LDEsMTIsMTQsMSwxNCw1LDEsNSw5XSxlLG4pfHx0aGlzKS50eXBlPSJEb2RlY2FoZWRyb25HZW9tZXRyeSIsaS5wYXJhbWV0ZXJzPXtyYWRpdXM6ZSxkZXRhaWw6bn0saX1yZXR1cm4gY3QoZSx0KSxlfShNbyksVG89bmV3IEx0LEVvPW5ldyBMdCxBbz1uZXcgTHQsTG89bmV3IGtlLFJvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaTtpZigoaT10LmNhbGwodGhpcyl8fHRoaXMpLnR5cGU9IkVkZ2VzR2VvbWV0cnkiLGkucGFyYW1ldGVycz17dGhyZXNob2xkQW5nbGU6bn0sbj12b2lkIDAhPT1uP246MSwhMD09PWUuaXNHZW9tZXRyeSlyZXR1cm4gY29uc29sZS5lcnJvcigiVEhSRUUuRWRnZXNHZW9tZXRyeSBubyBsb25nZXIgc3VwcG9ydHMgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLiIpLGx0KGkpO2Zvcih2YXIgcj1NYXRoLnBvdygxMCw0KSxhPU1hdGguY29zKGd0LkRFRzJSQUQqbiksbz1lLmdldEluZGV4KCkscz1lLmdldEF0dHJpYnV0ZSgicG9zaXRpb24iKSxjPW8/by5jb3VudDpzLmNvdW50LGw9WzAsMCwwXSx1PVsiYSIsImIiLCJjIl0saD1uZXcgQXJyYXkoMyksZD17fSxwPVtdLGY9MDtmPGM7Zis9Myl7bz8obFswXT1vLmdldFgoZiksbFsxXT1vLmdldFgoZisxKSxsWzJdPW8uZ2V0WChmKzIpKToobFswXT1mLGxbMV09ZisxLGxbMl09ZisyKTt2YXIgbT1Mby5hLHY9TG8uYixnPUxvLmM7aWYobS5mcm9tQnVmZmVyQXR0cmlidXRlKHMsbFswXSksdi5mcm9tQnVmZmVyQXR0cmlidXRlKHMsbFsxXSksZy5mcm9tQnVmZmVyQXR0cmlidXRlKHMsbFsyXSksTG8uZ2V0Tm9ybWFsKEFvKSxoWzBdPU1hdGgucm91bmQobS54KnIpKyIsIitNYXRoLnJvdW5kKG0ueSpyKSsiLCIrTWF0aC5yb3VuZChtLnoqciksaFsxXT1NYXRoLnJvdW5kKHYueCpyKSsiLCIrTWF0aC5yb3VuZCh2LnkqcikrIiwiK01hdGgucm91bmQodi56KnIpLGhbMl09TWF0aC5yb3VuZChnLngqcikrIiwiK01hdGgucm91bmQoZy55KnIpKyIsIitNYXRoLnJvdW5kKGcueipyKSxoWzBdIT09aFsxXSYmaFsxXSE9PWhbMl0mJmhbMl0hPT1oWzBdKWZvcih2YXIgeT0wO3k8Mzt5Kyspe3ZhciB4PSh5KzEpJTMsXz1oW3ldLGI9aFt4XSx3PUxvW3VbeV1dLE09TG9bdVt4XV0sUz1fKyJfIitiLFQ9YisiXyIrXztUIGluIGQmJmRbVF0/KEFvLmRvdChkW1RdLm5vcm1hbCk8PWEmJihwLnB1c2gody54LHcueSx3LnopLHAucHVzaChNLngsTS55LE0ueikpLGRbVF09bnVsbCk6UyBpbiBkfHwoZFtTXT17aW5kZXgwOmxbeV0saW5kZXgxOmxbeF0sbm9ybWFsOkFvLmNsb25lKCl9KX19Zm9yKHZhciBFIGluIGQpaWYoZFtFXSl7dmFyIEE9ZFtFXSxMPUEuaW5kZXgwLFI9QS5pbmRleDE7VG8uZnJvbUJ1ZmZlckF0dHJpYnV0ZShzLEwpLEVvLmZyb21CdWZmZXJBdHRyaWJ1dGUocyxSKSxwLnB1c2goVG8ueCxUby55LFRvLnopLHAucHVzaChFby54LEVvLnksRW8ueil9cmV0dXJuIGkuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IGhuKHAsMykpLGl9cmV0dXJuIGN0KGUsdCksZX0oTW4pLENvPWZ1bmN0aW9uKHQsZSxuKXtuPW58fDI7dmFyIGkscixhLG8scyxjLGwsdT1lJiZlLmxlbmd0aCxoPXU/ZVswXSpuOnQubGVuZ3RoLGQ9UG8odCwwLGgsbiwhMCkscD1bXTtpZighZHx8ZC5uZXh0PT09ZC5wcmV2KXJldHVybiBwO2lmKHUmJihkPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByLGEsbyxzPVtdO2ZvcihyPTAsYT1lLmxlbmd0aDtyPGE7cisrKShvPVBvKHQsZVtyXSppLHI8YS0xP2VbcisxXSppOnQubGVuZ3RoLGksITEpKT09PW8ubmV4dCYmKG8uc3RlaW5lcj0hMCkscy5wdXNoKGtvKG8pKTtmb3Iocy5zb3J0KEZvKSxyPTA7cjxzLmxlbmd0aDtyKyspSG8oc1tyXSxuKSxuPURvKG4sbi5uZXh0KTtyZXR1cm4gbn0odCxlLGQsbikpLHQubGVuZ3RoPjgwKm4pe2k9YT10WzBdLHI9bz10WzFdO2Zvcih2YXIgZj1uO2Y8aDtmKz1uKShzPXRbZl0pPGkmJihpPXMpLChjPXRbZisxXSk8ciYmKHI9Yykscz5hJiYoYT1zKSxjPm8mJihvPWMpO2w9MCE9PShsPU1hdGgubWF4KGEtaSxvLXIpKT8xL2w6MH1yZXR1cm4gSW8oZCxwLG4saSxyLGwpLHB9O2Z1bmN0aW9uIFBvKHQsZSxuLGkscil7dmFyIGEsbztpZihyPT09ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPTAsYT1lLG89bi1pO2E8bjthKz1pKXIrPSh0W29dLXRbYV0pKih0W2ErMV0rdFtvKzFdKSxvPWE7cmV0dXJuIHJ9KHQsZSxuLGkpPjApZm9yKGE9ZTthPG47YSs9aSlvPUtvKGEsdFthXSx0W2ErMV0sbyk7ZWxzZSBmb3IoYT1uLWk7YT49ZTthLT1pKW89S28oYSx0W2FdLHRbYSsxXSxvKTtyZXR1cm4gbyYmcW8obyxvLm5leHQpJiYoJG8obyksbz1vLm5leHQpLG99ZnVuY3Rpb24gRG8odCxlKXtpZighdClyZXR1cm4gdDtlfHwoZT10KTt2YXIgbixpPXQ7ZG97aWYobj0hMSxpLnN0ZWluZXJ8fCFxbyhpLGkubmV4dCkmJjAhPT1qbyhpLnByZXYsaSxpLm5leHQpKWk9aS5uZXh0O2Vsc2V7aWYoJG8oaSksKGk9ZT1pLnByZXYpPT09aS5uZXh0KWJyZWFrO249ITB9fXdoaWxlKG58fGkhPT1lKTtyZXR1cm4gZX1mdW5jdGlvbiBJbyh0LGUsbixpLHIsYSxvKXtpZih0KXshbyYmYSYmZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dDtkb3tudWxsPT09ci56JiYoci56PVVvKHIueCxyLnksZSxuLGkpKSxyLnByZXZaPXIucHJldixyLm5leHRaPXIubmV4dCxyPXIubmV4dH13aGlsZShyIT09dCk7ci5wcmV2Wi5uZXh0Wj1udWxsLHIucHJldlo9bnVsbCxmdW5jdGlvbih0KXt2YXIgZSxuLGkscixhLG8scyxjLGw9MTtkb3tmb3Iobj10LHQ9bnVsbCxhPW51bGwsbz0wO247KXtmb3IobysrLGk9bixzPTAsZT0wO2U8bCYmKHMrKyxpPWkubmV4dFopO2UrKyk7Zm9yKGM9bDtzPjB8fGM+MCYmaTspMCE9PXMmJigwPT09Y3x8IWl8fG4uejw9aS56KT8ocj1uLG49bi5uZXh0WixzLS0pOihyPWksaT1pLm5leHRaLGMtLSksYT9hLm5leHRaPXI6dD1yLHIucHJldlo9YSxhPXI7bj1pfWEubmV4dFo9bnVsbCxsKj0yfXdoaWxlKG8+MSl9KHIpfSh0LGkscixhKTtmb3IodmFyIHMsYyxsPXQ7dC5wcmV2IT09dC5uZXh0OylpZihzPXQucHJldixjPXQubmV4dCxhP05vKHQsaSxyLGEpOk9vKHQpKWUucHVzaChzLmkvbiksZS5wdXNoKHQuaS9uKSxlLnB1c2goYy5pL24pLCRvKHQpLHQ9Yy5uZXh0LGw9Yy5uZXh0O2Vsc2UgaWYoKHQ9Yyk9PT1sKXtvPzE9PT1vP0lvKHQ9Qm8oRG8odCksZSxuKSxlLG4saSxyLGEsMik6Mj09PW8mJnpvKHQsZSxuLGkscixhKTpJbyhEbyh0KSxlLG4saSxyLGEsMSk7YnJlYWt9fX1mdW5jdGlvbiBPbyh0KXt2YXIgZT10LnByZXYsbj10LGk9dC5uZXh0O2lmKGpvKGUsbixpKT49MClyZXR1cm4hMTtmb3IodmFyIHI9dC5uZXh0Lm5leHQ7ciE9PXQucHJldjspe2lmKFZvKGUueCxlLnksbi54LG4ueSxpLngsaS55LHIueCxyLnkpJiZqbyhyLnByZXYscixyLm5leHQpPj0wKXJldHVybiExO3I9ci5uZXh0fXJldHVybiEwfWZ1bmN0aW9uIE5vKHQsZSxuLGkpe3ZhciByPXQucHJldixhPXQsbz10Lm5leHQ7aWYoam8ocixhLG8pPj0wKXJldHVybiExO2Zvcih2YXIgcz1yLng8YS54P3IueDxvLng/ci54Om8ueDphLng8by54P2EueDpvLngsYz1yLnk8YS55P3IueTxvLnk/ci55Om8ueTphLnk8by55P2EueTpvLnksbD1yLng+YS54P3IueD5vLng/ci54Om8ueDphLng+by54P2EueDpvLngsdT1yLnk+YS55P3IueT5vLnk/ci55Om8ueTphLnk+by55P2EueTpvLnksaD1VbyhzLGMsZSxuLGkpLGQ9VW8obCx1LGUsbixpKSxwPXQucHJldlosZj10Lm5leHRaO3AmJnAuej49aCYmZiYmZi56PD1kOyl7aWYocCE9PXQucHJldiYmcCE9PXQubmV4dCYmVm8oci54LHIueSxhLngsYS55LG8ueCxvLnkscC54LHAueSkmJmpvKHAucHJldixwLHAubmV4dCk+PTApcmV0dXJuITE7aWYocD1wLnByZXZaLGYhPT10LnByZXYmJmYhPT10Lm5leHQmJlZvKHIueCxyLnksYS54LGEueSxvLngsby55LGYueCxmLnkpJiZqbyhmLnByZXYsZixmLm5leHQpPj0wKXJldHVybiExO2Y9Zi5uZXh0Wn1mb3IoO3AmJnAuej49aDspe2lmKHAhPT10LnByZXYmJnAhPT10Lm5leHQmJlZvKHIueCxyLnksYS54LGEueSxvLngsby55LHAueCxwLnkpJiZqbyhwLnByZXYscCxwLm5leHQpPj0wKXJldHVybiExO3A9cC5wcmV2Wn1mb3IoO2YmJmYuejw9ZDspe2lmKGYhPT10LnByZXYmJmYhPT10Lm5leHQmJlZvKHIueCxyLnksYS54LGEueSxvLngsby55LGYueCxmLnkpJiZqbyhmLnByZXYsZixmLm5leHQpPj0wKXJldHVybiExO2Y9Zi5uZXh0Wn1yZXR1cm4hMH1mdW5jdGlvbiBCbyh0LGUsbil7dmFyIGk9dDtkb3t2YXIgcj1pLnByZXYsYT1pLm5leHQubmV4dDshcW8ocixhKSYmWG8ocixpLGkubmV4dCxhKSYmSm8ocixhKSYmSm8oYSxyKSYmKGUucHVzaChyLmkvbiksZS5wdXNoKGkuaS9uKSxlLnB1c2goYS5pL24pLCRvKGkpLCRvKGkubmV4dCksaT10PWEpLGk9aS5uZXh0fXdoaWxlKGkhPT10KTtyZXR1cm4gRG8oaSl9ZnVuY3Rpb24gem8odCxlLG4saSxyLGEpe3ZhciBvPXQ7ZG97Zm9yKHZhciBzPW8ubmV4dC5uZXh0O3MhPT1vLnByZXY7KXtpZihvLmkhPT1zLmkmJldvKG8scykpe3ZhciBjPVFvKG8scyk7cmV0dXJuIG89RG8obyxvLm5leHQpLGM9RG8oYyxjLm5leHQpLElvKG8sZSxuLGkscixhKSx2b2lkIElvKGMsZSxuLGkscixhKX1zPXMubmV4dH1vPW8ubmV4dH13aGlsZShvIT09dCl9ZnVuY3Rpb24gRm8odCxlKXtyZXR1cm4gdC54LWUueH1mdW5jdGlvbiBIbyh0LGUpe2lmKGU9ZnVuY3Rpb24odCxlKXt2YXIgbixpPWUscj10LngsYT10Lnksbz0tMS8wO2Rve2lmKGE8PWkueSYmYT49aS5uZXh0LnkmJmkubmV4dC55IT09aS55KXt2YXIgcz1pLngrKGEtaS55KSooaS5uZXh0LngtaS54KS8oaS5uZXh0LnktaS55KTtpZihzPD1yJiZzPm8pe2lmKG89cyxzPT09cil7aWYoYT09PWkueSlyZXR1cm4gaTtpZihhPT09aS5uZXh0LnkpcmV0dXJuIGkubmV4dH1uPWkueDxpLm5leHQueD9pOmkubmV4dH19aT1pLm5leHR9d2hpbGUoaSE9PWUpO2lmKCFuKXJldHVybiBudWxsO2lmKHI9PT1vKXJldHVybiBuO3ZhciBjLGw9bix1PW4ueCxoPW4ueSxkPTEvMDtpPW47ZG97cj49aS54JiZpLng+PXUmJnIhPT1pLngmJlZvKGE8aD9yOm8sYSx1LGgsYTxoP286cixhLGkueCxpLnkpJiYoYz1NYXRoLmFicyhhLWkueSkvKHItaS54KSxKbyhpLHQpJiYoYzxkfHxjPT09ZCYmKGkueD5uLnh8fGkueD09PW4ueCYmR28obixpKSkpJiYobj1pLGQ9YykpLGk9aS5uZXh0fXdoaWxlKGkhPT1sKTtyZXR1cm4gbn0odCxlKSl7dmFyIG49UW8oZSx0KTtEbyhlLGUubmV4dCksRG8obixuLm5leHQpfX1mdW5jdGlvbiBHbyh0LGUpe3JldHVybiBqbyh0LnByZXYsdCxlLnByZXYpPDAmJmpvKGUubmV4dCx0LHQubmV4dCk8MH1mdW5jdGlvbiBVbyh0LGUsbixpLHIpe3JldHVybih0PTE0MzE2NTU3NjUmKCh0PTg1ODk5MzQ1OSYoKHQ9MjUyNjQ1MTM1JigodD0xNjcxMTkzNSYoKHQ9MzI3NjcqKHQtbikqcil8dDw8OCkpfHQ8PDQpKXx0PDwyKSl8dDw8MSkpfChlPTE0MzE2NTU3NjUmKChlPTg1ODk5MzQ1OSYoKGU9MjUyNjQ1MTM1JigoZT0xNjcxMTkzNSYoKGU9MzI3NjcqKGUtaSkqcil8ZTw8OCkpfGU8PDQpKXxlPDwyKSl8ZTw8MSkpPDwxfWZ1bmN0aW9uIGtvKHQpe3ZhciBlPXQsbj10O2RveyhlLng8bi54fHxlLng9PT1uLngmJmUueTxuLnkpJiYobj1lKSxlPWUubmV4dH13aGlsZShlIT09dCk7cmV0dXJuIG59ZnVuY3Rpb24gVm8odCxlLG4saSxyLGEsbyxzKXtyZXR1cm4oci1vKSooZS1zKS0odC1vKSooYS1zKT49MCYmKHQtbykqKGktcyktKG4tbykqKGUtcyk+PTAmJihuLW8pKihhLXMpLShyLW8pKihpLXMpPj0wfWZ1bmN0aW9uIFdvKHQsZSl7cmV0dXJuIHQubmV4dC5pIT09ZS5pJiZ0LnByZXYuaSE9PWUuaSYmIWZ1bmN0aW9uKHQsZSl7dmFyIG49dDtkb3tpZihuLmkhPT10LmkmJm4ubmV4dC5pIT09dC5pJiZuLmkhPT1lLmkmJm4ubmV4dC5pIT09ZS5pJiZYbyhuLG4ubmV4dCx0LGUpKXJldHVybiEwO249bi5uZXh0fXdoaWxlKG4hPT10KTtyZXR1cm4hMX0odCxlKSYmKEpvKHQsZSkmJkpvKGUsdCkmJmZ1bmN0aW9uKHQsZSl7dmFyIG49dCxpPSExLHI9KHQueCtlLngpLzIsYT0odC55K2UueSkvMjtkb3tuLnk+YSE9bi5uZXh0Lnk+YSYmbi5uZXh0LnkhPT1uLnkmJnI8KG4ubmV4dC54LW4ueCkqKGEtbi55KS8obi5uZXh0Lnktbi55KStuLngmJihpPSFpKSxuPW4ubmV4dH13aGlsZShuIT09dCk7cmV0dXJuIGl9KHQsZSkmJihqbyh0LnByZXYsdCxlLnByZXYpfHxqbyh0LGUucHJldixlKSl8fHFvKHQsZSkmJmpvKHQucHJldix0LHQubmV4dCk+MCYmam8oZS5wcmV2LGUsZS5uZXh0KT4wKX1mdW5jdGlvbiBqbyh0LGUsbil7cmV0dXJuKGUueS10LnkpKihuLngtZS54KS0oZS54LXQueCkqKG4ueS1lLnkpfWZ1bmN0aW9uIHFvKHQsZSl7cmV0dXJuIHQueD09PWUueCYmdC55PT09ZS55fWZ1bmN0aW9uIFhvKHQsZSxuLGkpe3ZhciByPVpvKGpvKHQsZSxuKSksYT1abyhqbyh0LGUsaSkpLG89Wm8oam8obixpLHQpKSxzPVpvKGpvKG4saSxlKSk7cmV0dXJuIHIhPT1hJiZvIT09c3x8KCEoMCE9PXJ8fCFZbyh0LG4sZSkpfHwoISgwIT09YXx8IVlvKHQsaSxlKSl8fCghKDAhPT1vfHwhWW8obix0LGkpKXx8ISgwIT09c3x8IVlvKG4sZSxpKSkpKSl9ZnVuY3Rpb24gWW8odCxlLG4pe3JldHVybiBlLng8PU1hdGgubWF4KHQueCxuLngpJiZlLng+PU1hdGgubWluKHQueCxuLngpJiZlLnk8PU1hdGgubWF4KHQueSxuLnkpJiZlLnk+PU1hdGgubWluKHQueSxuLnkpfWZ1bmN0aW9uIFpvKHQpe3JldHVybiB0PjA/MTp0PDA/LTE6MH1mdW5jdGlvbiBKbyh0LGUpe3JldHVybiBqbyh0LnByZXYsdCx0Lm5leHQpPDA/am8odCxlLHQubmV4dCk+PTAmJmpvKHQsdC5wcmV2LGUpPj0wOmpvKHQsZSx0LnByZXYpPDB8fGpvKHQsdC5uZXh0LGUpPDB9ZnVuY3Rpb24gUW8odCxlKXt2YXIgbj1uZXcgdHModC5pLHQueCx0LnkpLGk9bmV3IHRzKGUuaSxlLngsZS55KSxyPXQubmV4dCxhPWUucHJldjtyZXR1cm4gdC5uZXh0PWUsZS5wcmV2PXQsbi5uZXh0PXIsci5wcmV2PW4saS5uZXh0PW4sbi5wcmV2PWksYS5uZXh0PWksaS5wcmV2PWEsaX1mdW5jdGlvbiBLbyh0LGUsbixpKXt2YXIgcj1uZXcgdHModCxlLG4pO3JldHVybiBpPyhyLm5leHQ9aS5uZXh0LHIucHJldj1pLGkubmV4dC5wcmV2PXIsaS5uZXh0PXIpOihyLnByZXY9cixyLm5leHQ9cikscn1mdW5jdGlvbiAkbyh0KXt0Lm5leHQucHJldj10LnByZXYsdC5wcmV2Lm5leHQ9dC5uZXh0LHQucHJldlomJih0LnByZXZaLm5leHRaPXQubmV4dFopLHQubmV4dFomJih0Lm5leHRaLnByZXZaPXQucHJldlopfWZ1bmN0aW9uIHRzKHQsZSxuKXt0aGlzLmk9dCx0aGlzLng9ZSx0aGlzLnk9bix0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbCx0aGlzLno9bnVsbCx0aGlzLnByZXZaPW51bGwsdGhpcy5uZXh0Wj1udWxsLHRoaXMuc3RlaW5lcj0hMX12YXIgZXM9e2FyZWE6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubGVuZ3RoLG49MCxpPWUtMSxyPTA7cjxlO2k9cisrKW4rPXRbaV0ueCp0W3JdLnktdFtyXS54KnRbaV0ueTtyZXR1cm4uNSpufSxpc0Nsb2NrV2lzZTpmdW5jdGlvbih0KXtyZXR1cm4gZXMuYXJlYSh0KTwwfSx0cmlhbmd1bGF0ZVNoYXBlOmZ1bmN0aW9uKHQsZSl7dmFyIG49W10saT1bXSxyPVtdO25zKHQpLGlzKG4sdCk7dmFyIGE9dC5sZW5ndGg7ZS5mb3JFYWNoKG5zKTtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKylpLnB1c2goYSksYSs9ZVtvXS5sZW5ndGgsaXMobixlW29dKTtmb3IodmFyIHM9Q28obixpKSxjPTA7YzxzLmxlbmd0aDtjKz0zKXIucHVzaChzLnNsaWNlKGMsYyszKSk7cmV0dXJuIHJ9fTtmdW5jdGlvbiBucyh0KXt2YXIgZT10Lmxlbmd0aDtlPjImJnRbZS0xXS5lcXVhbHModFswXSkmJnQucG9wKCl9ZnVuY3Rpb24gaXModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0LnB1c2goZVtuXS54KSx0LnB1c2goZVtuXS55KX12YXIgcnM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciBpOyhpPXQuY2FsbCh0aGlzKXx8dGhpcykudHlwZT0iRXh0cnVkZUdlb21ldHJ5IixpLnBhcmFtZXRlcnM9e3NoYXBlczplLG9wdGlvbnM6bn0sZT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO2Zvcih2YXIgcj1sdChpKSxhPVtdLG89W10scz0wLGM9ZS5sZW5ndGg7czxjO3MrKyl7bChlW3NdKX1mdW5jdGlvbiBsKHQpe3ZhciBlPVtdLGk9dm9pZCAwIT09bi5jdXJ2ZVNlZ21lbnRzP24uY3VydmVTZWdtZW50czoxMixzPXZvaWQgMCE9PW4uc3RlcHM/bi5zdGVwczoxLGM9dm9pZCAwIT09bi5kZXB0aD9uLmRlcHRoOjEwMCxsPXZvaWQgMD09PW4uYmV2ZWxFbmFibGVkfHxuLmJldmVsRW5hYmxlZCx1PXZvaWQgMCE9PW4uYmV2ZWxUaGlja25lc3M/bi5iZXZlbFRoaWNrbmVzczo2LGg9dm9pZCAwIT09bi5iZXZlbFNpemU/bi5iZXZlbFNpemU6dS0yLGQ9dm9pZCAwIT09bi5iZXZlbE9mZnNldD9uLmJldmVsT2Zmc2V0OjAscD12b2lkIDAhPT1uLmJldmVsU2VnbWVudHM/bi5iZXZlbFNlZ21lbnRzOjMsZj1uLmV4dHJ1ZGVQYXRoLG09dm9pZCAwIT09bi5VVkdlbmVyYXRvcj9uLlVWR2VuZXJhdG9yOmFzO3ZvaWQgMCE9PW4uYW1vdW50JiYoY29uc29sZS53YXJuKCJUSFJFRS5FeHRydWRlQnVmZmVyR2VvbWV0cnk6IGFtb3VudCBoYXMgYmVlbiByZW5hbWVkIHRvIGRlcHRoLiIpLGM9bi5hbW91bnQpO3ZhciB2LGcseSx4LF8sYj0hMTtmJiYodj1mLmdldFNwYWNlZFBvaW50cyhzKSxiPSEwLGw9ITEsZz1mLmNvbXB1dGVGcmVuZXRGcmFtZXMocywhMSkseT1uZXcgTHQseD1uZXcgTHQsXz1uZXcgTHQpLGx8fChwPTAsdT0wLGg9MCxkPTApO3ZhciB3PXQuZXh0cmFjdFBvaW50cyhpKSxNPXcuc2hhcGUsUz13LmhvbGVzO2lmKCFlcy5pc0Nsb2NrV2lzZShNKSl7TT1NLnJldmVyc2UoKTtmb3IodmFyIFQ9MCxFPVMubGVuZ3RoO1Q8RTtUKyspe3ZhciBBPVNbVF07ZXMuaXNDbG9ja1dpc2UoQSkmJihTW1RdPUEucmV2ZXJzZSgpKX19Zm9yKHZhciBMPWVzLnRyaWFuZ3VsYXRlU2hhcGUoTSxTKSxSPU0sQz0wLFA9Uy5sZW5ndGg7QzxQO0MrKyl7dmFyIEQ9U1tDXTtNPU0uY29uY2F0KEQpfWZ1bmN0aW9uIEkodCxlLG4pe3JldHVybiBlfHxjb25zb2xlLmVycm9yKCJUSFJFRS5FeHRydWRlR2VvbWV0cnk6IHZlYyBkb2VzIG5vdCBleGlzdCIpLGUuY2xvbmUoKS5tdWx0aXBseVNjYWxhcihuKS5hZGQodCl9dmFyIE89TS5sZW5ndGgsTj1MLmxlbmd0aDtmdW5jdGlvbiBCKHQsZSxuKXt2YXIgaSxyLGEsbz10LngtZS54LHM9dC55LWUueSxjPW4ueC10LngsbD1uLnktdC55LHU9bypvK3MqcyxoPW8qbC1zKmM7aWYoTWF0aC5hYnMoaCk+TnVtYmVyLkVQU0lMT04pe3ZhciBkPU1hdGguc3FydCh1KSxwPU1hdGguc3FydChjKmMrbCpsKSxmPWUueC1zL2QsbT1lLnkrby9kLHY9KChuLngtbC9wLWYpKmwtKG4ueStjL3AtbSkqYykvKG8qbC1zKmMpLGc9KGk9ZitvKnYtdC54KSppKyhyPW0rcyp2LXQueSkqcjtpZihnPD0yKXJldHVybiBuZXcgeXQoaSxyKTthPU1hdGguc3FydChnLzIpfWVsc2V7dmFyIHk9ITE7bz5OdW1iZXIuRVBTSUxPTj9jPk51bWJlci5FUFNJTE9OJiYoeT0hMCk6bzwtTnVtYmVyLkVQU0lMT04/YzwtTnVtYmVyLkVQU0lMT04mJih5PSEwKTpNYXRoLnNpZ24ocyk9PT1NYXRoLnNpZ24obCkmJih5PSEwKSx5PyhpPS1zLHI9byxhPU1hdGguc3FydCh1KSk6KGk9byxyPXMsYT1NYXRoLnNxcnQodS8yKSl9cmV0dXJuIG5ldyB5dChpL2Esci9hKX1mb3IodmFyIHo9W10sRj0wLEg9Ui5sZW5ndGgsRz1ILTEsVT1GKzE7RjxIO0YrKyxHKyssVSsrKUc9PT1IJiYoRz0wKSxVPT09SCYmKFU9MCkseltGXT1CKFJbRl0sUltHXSxSW1VdKTtmb3IodmFyIGssVj1bXSxXPXouY29uY2F0KCksaj0wLHE9Uy5sZW5ndGg7ajxxO2orKyl7dmFyIFg9U1tqXTtrPVtdO2Zvcih2YXIgWT0wLFo9WC5sZW5ndGgsSj1aLTEsUT1ZKzE7WTxaO1krKyxKKyssUSsrKUo9PT1aJiYoSj0wKSxRPT09WiYmKFE9MCksa1tZXT1CKFhbWV0sWFtKXSxYW1FdKTtWLnB1c2goayksVz1XLmNvbmNhdChrKX1mb3IodmFyIEs9MDtLPHA7SysrKXtmb3IodmFyICQ9Sy9wLHR0PXUqTWF0aC5jb3MoJCpNYXRoLlBJLzIpLGV0PWgqTWF0aC5zaW4oJCpNYXRoLlBJLzIpK2QsbnQ9MCxpdD1SLmxlbmd0aDtudDxpdDtudCsrKXt2YXIgcnQ9SShSW250XSx6W250XSxldCk7SXQocnQueCxydC55LC10dCl9Zm9yKHZhciBhdD0wLG90PVMubGVuZ3RoO2F0PG90O2F0Kyspe3ZhciBzdD1TW2F0XTtrPVZbYXRdO2Zvcih2YXIgY3Q9MCxsdD1zdC5sZW5ndGg7Y3Q8bHQ7Y3QrKyl7dmFyIHV0PUkoc3RbY3RdLGtbY3RdLGV0KTtJdCh1dC54LHV0LnksLXR0KX19fWZvcih2YXIgaHQ9aCtkLGR0PTA7ZHQ8TztkdCsrKXt2YXIgcHQ9bD9JKE1bZHRdLFdbZHRdLGh0KTpNW2R0XTtiPyh4LmNvcHkoZy5ub3JtYWxzWzBdKS5tdWx0aXBseVNjYWxhcihwdC54KSx5LmNvcHkoZy5iaW5vcm1hbHNbMF0pLm11bHRpcGx5U2NhbGFyKHB0LnkpLF8uY29weSh2WzBdKS5hZGQoeCkuYWRkKHkpLEl0KF8ueCxfLnksXy56KSk6SXQocHQueCxwdC55LDApfWZvcih2YXIgZnQ9MTtmdDw9cztmdCsrKWZvcih2YXIgbXQ9MDttdDxPO210Kyspe3ZhciB2dD1sP0koTVttdF0sV1ttdF0saHQpOk1bbXRdO2I/KHguY29weShnLm5vcm1hbHNbZnRdKS5tdWx0aXBseVNjYWxhcih2dC54KSx5LmNvcHkoZy5iaW5vcm1hbHNbZnRdKS5tdWx0aXBseVNjYWxhcih2dC55KSxfLmNvcHkodltmdF0pLmFkZCh4KS5hZGQoeSksSXQoXy54LF8ueSxfLnopKTpJdCh2dC54LHZ0LnksYy9zKmZ0KX1mb3IodmFyIGd0PXAtMTtndD49MDtndC0tKXtmb3IodmFyIHh0PWd0L3AsX3Q9dSpNYXRoLmNvcyh4dCpNYXRoLlBJLzIpLGJ0PWgqTWF0aC5zaW4oeHQqTWF0aC5QSS8yKStkLHd0PTAsTXQ9Ui5sZW5ndGg7d3Q8TXQ7d3QrKyl7dmFyIFN0PUkoUlt3dF0selt3dF0sYnQpO0l0KFN0LngsU3QueSxjK190KX1mb3IodmFyIFR0PTAsRXQ9Uy5sZW5ndGg7VHQ8RXQ7VHQrKyl7dmFyIEF0PVNbVHRdO2s9VltUdF07Zm9yKHZhciBSdD0wLEN0PUF0Lmxlbmd0aDtSdDxDdDtSdCsrKXt2YXIgUHQ9SShBdFtSdF0sa1tSdF0sYnQpO2I/SXQoUHQueCxQdC55K3Zbcy0xXS55LHZbcy0xXS54K190KTpJdChQdC54LFB0LnksYytfdCl9fX1mdW5jdGlvbiBEdCh0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aDstLW4+PTA7KXt2YXIgaT1uLHI9bi0xO3I8MCYmKHI9dC5sZW5ndGgtMSk7Zm9yKHZhciBhPTAsbz1zKzIqcDthPG87YSsrKXt2YXIgYz1PKmEsbD1PKihhKzEpO050KGUraStjLGUrcitjLGUrcitsLGUraStsKX19fWZ1bmN0aW9uIEl0KHQsbixpKXtlLnB1c2godCksZS5wdXNoKG4pLGUucHVzaChpKX1mdW5jdGlvbiBPdCh0LGUsbil7QnQodCksQnQoZSksQnQobik7dmFyIGk9YS5sZW5ndGgvMyxvPW0uZ2VuZXJhdGVUb3BVVihyLGEsaS0zLGktMixpLTEpO3p0KG9bMF0pLHp0KG9bMV0pLHp0KG9bMl0pfWZ1bmN0aW9uIE50KHQsZSxuLGkpe0J0KHQpLEJ0KGUpLEJ0KGkpLEJ0KGUpLEJ0KG4pLEJ0KGkpO3ZhciBvPWEubGVuZ3RoLzMscz1tLmdlbmVyYXRlU2lkZVdhbGxVVihyLGEsby02LG8tMyxvLTIsby0xKTt6dChzWzBdKSx6dChzWzFdKSx6dChzWzNdKSx6dChzWzFdKSx6dChzWzJdKSx6dChzWzNdKX1mdW5jdGlvbiBCdCh0KXthLnB1c2goZVszKnQrMF0pLGEucHVzaChlWzMqdCsxXSksYS5wdXNoKGVbMyp0KzJdKX1mdW5jdGlvbiB6dCh0KXtvLnB1c2godC54KSxvLnB1c2godC55KX0hZnVuY3Rpb24oKXt2YXIgdD1hLmxlbmd0aC8zO2lmKGwpe2Zvcih2YXIgZT0wLG49TyplLGk9MDtpPE47aSsrKXt2YXIgbz1MW2ldO090KG9bMl0rbixvWzFdK24sb1swXStuKX1uPU8qKGU9cysyKnApO2Zvcih2YXIgYz0wO2M8TjtjKyspe3ZhciB1PUxbY107T3QodVswXStuLHVbMV0rbix1WzJdK24pfX1lbHNle2Zvcih2YXIgaD0wO2g8TjtoKyspe3ZhciBkPUxbaF07T3QoZFsyXSxkWzFdLGRbMF0pfWZvcih2YXIgZj0wO2Y8TjtmKyspe3ZhciBtPUxbZl07T3QobVswXStPKnMsbVsxXStPKnMsbVsyXStPKnMpfX1yLmFkZEdyb3VwKHQsYS5sZW5ndGgvMy10LDApfSgpLGZ1bmN0aW9uKCl7dmFyIHQ9YS5sZW5ndGgvMyxlPTA7RHQoUixlKSxlKz1SLmxlbmd0aDtmb3IodmFyIG49MCxpPVMubGVuZ3RoO248aTtuKyspe3ZhciBvPVNbbl07RHQobyxlKSxlKz1vLmxlbmd0aH1yLmFkZEdyb3VwKHQsYS5sZW5ndGgvMy10LDEpfSgpfXJldHVybiBpLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBobihhLDMpKSxpLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBobihvLDIpKSxpLmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCksaX1yZXR1cm4gY3QoZSx0KSxlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD1Nbi5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtpZihuLnNoYXBlcz1bXSxBcnJheS5pc0FycmF5KHQpKWZvcih2YXIgaT0wLHI9dC5sZW5ndGg7aTxyO2krKyl7dmFyIGE9dFtpXTtuLnNoYXBlcy5wdXNoKGEudXVpZCl9ZWxzZSBuLnNoYXBlcy5wdXNoKHQudXVpZCk7dm9pZCAwIT09ZS5leHRydWRlUGF0aCYmKG4ub3B0aW9ucy5leHRydWRlUGF0aD1lLmV4dHJ1ZGVQYXRoLnRvSlNPTigpKTtyZXR1cm4gbn0odGhpcy5wYXJhbWV0ZXJzLnNoYXBlcyx0aGlzLnBhcmFtZXRlcnMub3B0aW9ucyx0KX0sZX0oTW4pLGFzPXtnZW5lcmF0ZVRvcFVWOmZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIGE9ZVszKm5dLG89ZVszKm4rMV0scz1lWzMqaV0sYz1lWzMqaSsxXSxsPWVbMypyXSx1PWVbMypyKzFdO3JldHVybltuZXcgeXQoYSxvKSxuZXcgeXQocyxjKSxuZXcgeXQobCx1KV19LGdlbmVyYXRlU2lkZVdhbGxVVjpmdW5jdGlvbih0LGUsbixpLHIsYSl7dmFyIG89ZVszKm5dLHM9ZVszKm4rMV0sYz1lWzMqbisyXSxsPWVbMyppXSx1PWVbMyppKzFdLGg9ZVszKmkrMl0sZD1lWzMqcl0scD1lWzMqcisxXSxmPWVbMypyKzJdLG09ZVszKmFdLHY9ZVszKmErMV0sZz1lWzMqYSsyXTtyZXR1cm4gTWF0aC5hYnMocy11KTwuMDE/W25ldyB5dChvLDEtYyksbmV3IHl0KGwsMS1oKSxuZXcgeXQoZCwxLWYpLG5ldyB5dChtLDEtZyldOltuZXcgeXQocywxLWMpLG5ldyB5dCh1LDEtaCksbmV3IHl0KHAsMS1mKSxuZXcgeXQodiwxLWcpXX19O3ZhciBvcz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk7dm9pZCAwPT09ZSYmKGU9MSksdm9pZCAwPT09biYmKG49MCk7dmFyIHI9KDErTWF0aC5zcXJ0KDUpKS8yLGE9Wy0xLHIsMCwxLHIsMCwtMSwtciwwLDEsLXIsMCwwLC0xLHIsMCwxLHIsMCwtMSwtciwwLDEsLXIsciwwLC0xLHIsMCwxLC1yLDAsLTEsLXIsMCwxXTtyZXR1cm4oaT10LmNhbGwodGhpcyxhLFswLDExLDUsMCw1LDEsMCwxLDcsMCw3LDEwLDAsMTAsMTEsMSw1LDksNSwxMSw0LDExLDEwLDIsMTAsNyw2LDcsMSw4LDMsOSw0LDMsNCwyLDMsMiw2LDMsNiw4LDMsOCw5LDQsOSw1LDIsNCwxMSw2LDIsMTAsOCw2LDcsOSw4LDFdLGUsbil8fHRoaXMpLnR5cGU9Ikljb3NhaGVkcm9uR2VvbWV0cnkiLGkucGFyYW1ldGVycz17cmFkaXVzOmUsZGV0YWlsOm59LGl9cmV0dXJuIGN0KGUsdCksZX0oTW8pLHNzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscil7dmFyIGE7dm9pZCAwPT09biYmKG49MTIpLHZvaWQgMD09PWkmJihpPTApLHZvaWQgMD09PXImJihyPTIqTWF0aC5QSSksKGE9dC5jYWxsKHRoaXMpfHx0aGlzKS50eXBlPSJMYXRoZUdlb21ldHJ5IixhLnBhcmFtZXRlcnM9e3BvaW50czplLHNlZ21lbnRzOm4scGhpU3RhcnQ6aSxwaGlMZW5ndGg6cn0sbj1NYXRoLmZsb29yKG4pLHI9Z3QuY2xhbXAociwwLDIqTWF0aC5QSSk7Zm9yKHZhciBvPVtdLHM9W10sYz1bXSxsPTEvbix1PW5ldyBMdCxoPW5ldyB5dCxkPTA7ZDw9bjtkKyspZm9yKHZhciBwPWkrZCpsKnIsZj1NYXRoLnNpbihwKSxtPU1hdGguY29zKHApLHY9MDt2PD1lLmxlbmd0aC0xO3YrKyl1Lng9ZVt2XS54KmYsdS55PWVbdl0ueSx1Lno9ZVt2XS54Km0scy5wdXNoKHUueCx1LnksdS56KSxoLng9ZC9uLGgueT12LyhlLmxlbmd0aC0xKSxjLnB1c2goaC54LGgueSk7Zm9yKHZhciBnPTA7ZzxuO2crKylmb3IodmFyIHk9MDt5PGUubGVuZ3RoLTE7eSsrKXt2YXIgeD15K2cqZS5sZW5ndGgsXz14LGI9eCtlLmxlbmd0aCx3PXgrZS5sZW5ndGgrMSxNPXgrMTtvLnB1c2goXyxiLE0pLG8ucHVzaChiLHcsTSl9aWYoYS5zZXRJbmRleChvKSxhLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBobihzLDMpKSxhLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBobihjLDIpKSxhLmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCkscj09PTIqTWF0aC5QSSlmb3IodmFyIFM9YS5hdHRyaWJ1dGVzLm5vcm1hbC5hcnJheSxUPW5ldyBMdCxFPW5ldyBMdCxBPW5ldyBMdCxMPW4qZS5sZW5ndGgqMyxSPTAsQz0wO1I8ZS5sZW5ndGg7UisrLEMrPTMpVC54PVNbQyswXSxULnk9U1tDKzFdLFQuej1TW0MrMl0sRS54PVNbTCtDKzBdLEUueT1TW0wrQysxXSxFLno9U1tMK0MrMl0sQS5hZGRWZWN0b3JzKFQsRSkubm9ybWFsaXplKCksU1tDKzBdPVNbTCtDKzBdPUEueCxTW0MrMV09U1tMK0MrMV09QS55LFNbQysyXT1TW0wrQysyXT1BLno7cmV0dXJuIGF9cmV0dXJuIGN0KGUsdCksZX0oTW4pLGNzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaTt2b2lkIDA9PT1lJiYoZT0xKSx2b2lkIDA9PT1uJiYobj0wKTtyZXR1cm4oaT10LmNhbGwodGhpcyxbMSwwLDAsLTEsMCwwLDAsMSwwLDAsLTEsMCwwLDAsMSwwLDAsLTFdLFswLDIsNCwwLDQsMywwLDMsNSwwLDUsMiwxLDIsNSwxLDUsMywxLDMsNCwxLDQsMl0sZSxuKXx8dGhpcykudHlwZT0iT2N0YWhlZHJvbkdlb21ldHJ5IixpLnBhcmFtZXRlcnM9e3JhZGl1czplLGRldGFpbDpufSxpfXJldHVybiBjdChlLHQpLGV9KE1vKTtmdW5jdGlvbiBscyh0LGUsbil7TW4uY2FsbCh0aGlzKSx0aGlzLnR5cGU9IlBhcmFtZXRyaWNHZW9tZXRyeSIsdGhpcy5wYXJhbWV0ZXJzPXtmdW5jOnQsc2xpY2VzOmUsc3RhY2tzOm59O3ZhciBpPVtdLHI9W10sYT1bXSxvPVtdLHM9MWUtNSxjPW5ldyBMdCxsPW5ldyBMdCx1PW5ldyBMdCxoPW5ldyBMdCxkPW5ldyBMdDt0Lmxlbmd0aDwzJiZjb25zb2xlLmVycm9yKCJUSFJFRS5QYXJhbWV0cmljR2VvbWV0cnk6IEZ1bmN0aW9uIG11c3Qgbm93IG1vZGlmeSBhIFZlY3RvcjMgYXMgdGhpcmQgcGFyYW1ldGVyLiIpO2Zvcih2YXIgcD1lKzEsZj0wO2Y8PW47ZisrKWZvcih2YXIgbT1mL24sdj0wO3Y8PWU7disrKXt2YXIgZz12L2U7dChnLG0sbCksci5wdXNoKGwueCxsLnksbC56KSxnLXM+PTA/KHQoZy1zLG0sdSksaC5zdWJWZWN0b3JzKGwsdSkpOih0KGcrcyxtLHUpLGguc3ViVmVjdG9ycyh1LGwpKSxtLXM+PTA/KHQoZyxtLXMsdSksZC5zdWJWZWN0b3JzKGwsdSkpOih0KGcsbStzLHUpLGQuc3ViVmVjdG9ycyh1LGwpKSxjLmNyb3NzVmVjdG9ycyhoLGQpLm5vcm1hbGl6ZSgpLGEucHVzaChjLngsYy55LGMueiksby5wdXNoKGcsbSl9Zm9yKHZhciB5PTA7eTxuO3krKylmb3IodmFyIHg9MDt4PGU7eCsrKXt2YXIgXz15KnAreCxiPXkqcCt4KzEsdz0oeSsxKSpwK3grMSxNPSh5KzEpKnAreDtpLnB1c2goXyxiLE0pLGkucHVzaChiLHcsTSl9dGhpcy5zZXRJbmRleChpKSx0aGlzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBobihyLDMpKSx0aGlzLnNldEF0dHJpYnV0ZSgibm9ybWFsIixuZXcgaG4oYSwzKSksdGhpcy5zZXRBdHRyaWJ1dGUoInV2IixuZXcgaG4obywyKSl9bHMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoTW4ucHJvdG90eXBlKSxscy5wcm90b3R5cGUuY29uc3RydWN0b3I9bHM7dmFyIHVzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixhLG8pe3ZhciBzO3ZvaWQgMD09PWUmJihlPS41KSx2b2lkIDA9PT1uJiYobj0xKSx2b2lkIDA9PT1pJiYoaT04KSx2b2lkIDA9PT1yJiYocj0xKSx2b2lkIDA9PT1hJiYoYT0wKSx2b2lkIDA9PT1vJiYobz0yKk1hdGguUEkpLChzPXQuY2FsbCh0aGlzKXx8dGhpcykudHlwZT0iUmluZ0dlb21ldHJ5IixzLnBhcmFtZXRlcnM9e2lubmVyUmFkaXVzOmUsb3V0ZXJSYWRpdXM6bix0aGV0YVNlZ21lbnRzOmkscGhpU2VnbWVudHM6cix0aGV0YVN0YXJ0OmEsdGhldGFMZW5ndGg6b30saT1NYXRoLm1heCgzLGkpO2Zvcih2YXIgYz1bXSxsPVtdLHU9W10saD1bXSxkPWUscD0obi1lKS8ocj1NYXRoLm1heCgxLHIpKSxmPW5ldyBMdCxtPW5ldyB5dCx2PTA7djw9cjt2Kyspe2Zvcih2YXIgZz0wO2c8PWk7ZysrKXt2YXIgeT1hK2cvaSpvO2YueD1kKk1hdGguY29zKHkpLGYueT1kKk1hdGguc2luKHkpLGwucHVzaChmLngsZi55LGYueiksdS5wdXNoKDAsMCwxKSxtLng9KGYueC9uKzEpLzIsbS55PShmLnkvbisxKS8yLGgucHVzaChtLngsbS55KX1kKz1wfWZvcih2YXIgeD0wO3g8cjt4KyspZm9yKHZhciBfPXgqKGkrMSksYj0wO2I8aTtiKyspe3ZhciB3PWIrXyxNPXcsUz13K2krMSxUPXcraSsyLEU9dysxO2MucHVzaChNLFMsRSksYy5wdXNoKFMsVCxFKX1yZXR1cm4gcy5zZXRJbmRleChjKSxzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBobihsLDMpKSxzLnNldEF0dHJpYnV0ZSgibm9ybWFsIixuZXcgaG4odSwzKSkscy5zZXRBdHRyaWJ1dGUoInV2IixuZXcgaG4oaCwyKSksc31yZXR1cm4gY3QoZSx0KSxlfShNbiksaHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciBpO3ZvaWQgMD09PW4mJihuPTEyKSwoaT10LmNhbGwodGhpcyl8fHRoaXMpLnR5cGU9IlNoYXBlR2VvbWV0cnkiLGkucGFyYW1ldGVycz17c2hhcGVzOmUsY3VydmVTZWdtZW50czpufTt2YXIgcj1bXSxhPVtdLG89W10scz1bXSxjPTAsbD0wO2lmKCExPT09QXJyYXkuaXNBcnJheShlKSloKGUpO2Vsc2UgZm9yKHZhciB1PTA7dTxlLmxlbmd0aDt1KyspaChlW3VdKSxpLmFkZEdyb3VwKGMsbCx1KSxjKz1sLGw9MDtmdW5jdGlvbiBoKHQpe3ZhciBlPWEubGVuZ3RoLzMsaT10LmV4dHJhY3RQb2ludHMobiksYz1pLnNoYXBlLHU9aS5ob2xlczshMT09PWVzLmlzQ2xvY2tXaXNlKGMpJiYoYz1jLnJldmVyc2UoKSk7Zm9yKHZhciBoPTAsZD11Lmxlbmd0aDtoPGQ7aCsrKXt2YXIgcD11W2hdOyEwPT09ZXMuaXNDbG9ja1dpc2UocCkmJih1W2hdPXAucmV2ZXJzZSgpKX1mb3IodmFyIGY9ZXMudHJpYW5ndWxhdGVTaGFwZShjLHUpLG09MCx2PXUubGVuZ3RoO208djttKyspe3ZhciBnPXVbbV07Yz1jLmNvbmNhdChnKX1mb3IodmFyIHk9MCx4PWMubGVuZ3RoO3k8eDt5Kyspe3ZhciBfPWNbeV07YS5wdXNoKF8ueCxfLnksMCksby5wdXNoKDAsMCwxKSxzLnB1c2goXy54LF8ueSl9Zm9yKHZhciBiPTAsdz1mLmxlbmd0aDtiPHc7YisrKXt2YXIgTT1mW2JdLFM9TVswXStlLFQ9TVsxXStlLEU9TVsyXStlO3IucHVzaChTLFQsRSksbCs9M319cmV0dXJuIGkuc2V0SW5kZXgociksaS5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgaG4oYSwzKSksaS5zZXRBdHRyaWJ1dGUoIm5vcm1hbCIsbmV3IGhuKG8sMykpLGkuc2V0QXR0cmlidXRlKCJ1diIsbmV3IGhuKHMsMikpLGl9cmV0dXJuIGN0KGUsdCksZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIHQ9TW4ucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUuc2hhcGVzPVtdLEFycmF5LmlzQXJyYXkodCkpZm9yKHZhciBuPTAsaT10Lmxlbmd0aDtuPGk7bisrKXt2YXIgcj10W25dO2Uuc2hhcGVzLnB1c2goci51dWlkKX1lbHNlIGUuc2hhcGVzLnB1c2godC51dWlkKTtyZXR1cm4gZX0odGhpcy5wYXJhbWV0ZXJzLnNoYXBlcyx0KX0sZX0oTW4pO3ZhciBkcz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIsYSxvLHMpe3ZhciBjO3ZvaWQgMD09PWUmJihlPTEpLHZvaWQgMD09PW4mJihuPTgpLHZvaWQgMD09PWkmJihpPTYpLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PWEmJihhPTIqTWF0aC5QSSksdm9pZCAwPT09byYmKG89MCksdm9pZCAwPT09cyYmKHM9TWF0aC5QSSksKGM9dC5jYWxsKHRoaXMpfHx0aGlzKS50eXBlPSJTcGhlcmVHZW9tZXRyeSIsYy5wYXJhbWV0ZXJzPXtyYWRpdXM6ZSx3aWR0aFNlZ21lbnRzOm4saGVpZ2h0U2VnbWVudHM6aSxwaGlTdGFydDpyLHBoaUxlbmd0aDphLHRoZXRhU3RhcnQ6byx0aGV0YUxlbmd0aDpzfSxuPU1hdGgubWF4KDMsTWF0aC5mbG9vcihuKSksaT1NYXRoLm1heCgyLE1hdGguZmxvb3IoaSkpO2Zvcih2YXIgbD1NYXRoLm1pbihvK3MsTWF0aC5QSSksdT0wLGg9W10sZD1uZXcgTHQscD1uZXcgTHQsZj1bXSxtPVtdLHY9W10sZz1bXSx5PTA7eTw9aTt5Kyspe3ZhciB4PVtdLF89eS9pLGI9MDswPT15JiYwPT1vP2I9LjUvbjp5PT1pJiZsPT1NYXRoLlBJJiYoYj0tLjUvbik7Zm9yKHZhciB3PTA7dzw9bjt3Kyspe3ZhciBNPXcvbjtkLng9LWUqTWF0aC5jb3MocitNKmEpKk1hdGguc2luKG8rXypzKSxkLnk9ZSpNYXRoLmNvcyhvK18qcyksZC56PWUqTWF0aC5zaW4ocitNKmEpKk1hdGguc2luKG8rXypzKSxtLnB1c2goZC54LGQueSxkLnopLHAuY29weShkKS5ub3JtYWxpemUoKSx2LnB1c2gocC54LHAueSxwLnopLGcucHVzaChNK2IsMS1fKSx4LnB1c2godSsrKX1oLnB1c2goeCl9Zm9yKHZhciBTPTA7UzxpO1MrKylmb3IodmFyIFQ9MDtUPG47VCsrKXt2YXIgRT1oW1NdW1QrMV0sQT1oW1NdW1RdLEw9aFtTKzFdW1RdLFI9aFtTKzFdW1QrMV07KDAhPT1TfHxvPjApJiZmLnB1c2goRSxBLFIpLChTIT09aS0xfHxsPE1hdGguUEkpJiZmLnB1c2goQSxMLFIpfXJldHVybiBjLnNldEluZGV4KGYpLGMuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IGhuKG0sMykpLGMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBobih2LDMpKSxjLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBobihnLDIpKSxjfXJldHVybiBjdChlLHQpLGV9KE1uKSxwcz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk7dm9pZCAwPT09ZSYmKGU9MSksdm9pZCAwPT09biYmKG49MCk7cmV0dXJuKGk9dC5jYWxsKHRoaXMsWzEsMSwxLC0xLC0xLDEsLTEsMSwtMSwxLC0xLC0xXSxbMiwxLDAsMCwzLDIsMSwzLDAsMiwzLDFdLGUsbil8fHRoaXMpLnR5cGU9IlRldHJhaGVkcm9uR2VvbWV0cnkiLGkucGFyYW1ldGVycz17cmFkaXVzOmUsZGV0YWlsOm59LGl9cmV0dXJuIGN0KGUsdCksZX0oTW8pLGZzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaTt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHI9bi5mb250O2lmKCFyfHwhci5pc0ZvbnQpcmV0dXJuIGNvbnNvbGUuZXJyb3IoIlRIUkVFLlRleHRHZW9tZXRyeTogZm9udCBwYXJhbWV0ZXIgaXMgbm90IGFuIGluc3RhbmNlIG9mIFRIUkVFLkZvbnQuIiksbmV3IE1ufHxsdChpKTt2YXIgYT1yLmdlbmVyYXRlU2hhcGVzKGUsbi5zaXplKTtyZXR1cm4gbi5kZXB0aD12b2lkIDAhPT1uLmhlaWdodD9uLmhlaWdodDo1MCx2b2lkIDA9PT1uLmJldmVsVGhpY2tuZXNzJiYobi5iZXZlbFRoaWNrbmVzcz0xMCksdm9pZCAwPT09bi5iZXZlbFNpemUmJihuLmJldmVsU2l6ZT04KSx2b2lkIDA9PT1uLmJldmVsRW5hYmxlZCYmKG4uYmV2ZWxFbmFibGVkPSExKSwoaT10LmNhbGwodGhpcyxhLG4pfHx0aGlzKS50eXBlPSJUZXh0R2VvbWV0cnkiLGl9cmV0dXJuIGN0KGUsdCksZX0ocnMpLG1zPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixhKXt2YXIgbzt2b2lkIDA9PT1lJiYoZT0xKSx2b2lkIDA9PT1uJiYobj0uNCksdm9pZCAwPT09aSYmKGk9OCksdm9pZCAwPT09ciYmKHI9Niksdm9pZCAwPT09YSYmKGE9MipNYXRoLlBJKSwobz10LmNhbGwodGhpcyl8fHRoaXMpLnR5cGU9IlRvcnVzR2VvbWV0cnkiLG8ucGFyYW1ldGVycz17cmFkaXVzOmUsdHViZTpuLHJhZGlhbFNlZ21lbnRzOmksdHVidWxhclNlZ21lbnRzOnIsYXJjOmF9LGk9TWF0aC5mbG9vcihpKSxyPU1hdGguZmxvb3Iocik7Zm9yKHZhciBzPVtdLGM9W10sbD1bXSx1PVtdLGg9bmV3IEx0LGQ9bmV3IEx0LHA9bmV3IEx0LGY9MDtmPD1pO2YrKylmb3IodmFyIG09MDttPD1yO20rKyl7dmFyIHY9bS9yKmEsZz1mL2kqTWF0aC5QSSoyO2QueD0oZStuKk1hdGguY29zKGcpKSpNYXRoLmNvcyh2KSxkLnk9KGUrbipNYXRoLmNvcyhnKSkqTWF0aC5zaW4odiksZC56PW4qTWF0aC5zaW4oZyksYy5wdXNoKGQueCxkLnksZC56KSxoLng9ZSpNYXRoLmNvcyh2KSxoLnk9ZSpNYXRoLnNpbih2KSxwLnN1YlZlY3RvcnMoZCxoKS5ub3JtYWxpemUoKSxsLnB1c2gocC54LHAueSxwLnopLHUucHVzaChtL3IpLHUucHVzaChmL2kpfWZvcih2YXIgeT0xO3k8PWk7eSsrKWZvcih2YXIgeD0xO3g8PXI7eCsrKXt2YXIgXz0ocisxKSp5K3gtMSxiPShyKzEpKih5LTEpK3gtMSx3PShyKzEpKih5LTEpK3gsTT0ocisxKSp5K3g7cy5wdXNoKF8sYixNKSxzLnB1c2goYix3LE0pfXJldHVybiBvLnNldEluZGV4KHMpLG8uc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IGhuKGMsMykpLG8uc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBobihsLDMpKSxvLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBobih1LDIpKSxvfXJldHVybiBjdChlLHQpLGV9KE1uKSx2cz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIsYSxvKXt2YXIgczt2b2lkIDA9PT1lJiYoZT0xKSx2b2lkIDA9PT1uJiYobj0uNCksdm9pZCAwPT09aSYmKGk9NjQpLHZvaWQgMD09PXImJihyPTgpLHZvaWQgMD09PWEmJihhPTIpLHZvaWQgMD09PW8mJihvPTMpLChzPXQuY2FsbCh0aGlzKXx8dGhpcykudHlwZT0iVG9ydXNLbm90R2VvbWV0cnkiLHMucGFyYW1ldGVycz17cmFkaXVzOmUsdHViZTpuLHR1YnVsYXJTZWdtZW50czppLHJhZGlhbFNlZ21lbnRzOnIscDphLHE6b30saT1NYXRoLmZsb29yKGkpLHI9TWF0aC5mbG9vcihyKTtmb3IodmFyIGM9W10sbD1bXSx1PVtdLGg9W10sZD1uZXcgTHQscD1uZXcgTHQsZj1uZXcgTHQsbT1uZXcgTHQsdj1uZXcgTHQsZz1uZXcgTHQseT1uZXcgTHQseD0wO3g8PWk7Kyt4KXt2YXIgXz14L2kqYSpNYXRoLlBJKjI7UChfLGEsbyxlLGYpLFAoXysuMDEsYSxvLGUsbSksZy5zdWJWZWN0b3JzKG0sZikseS5hZGRWZWN0b3JzKG0sZiksdi5jcm9zc1ZlY3RvcnMoZyx5KSx5LmNyb3NzVmVjdG9ycyh2LGcpLHYubm9ybWFsaXplKCkseS5ub3JtYWxpemUoKTtmb3IodmFyIGI9MDtiPD1yOysrYil7dmFyIHc9Yi9yKk1hdGguUEkqMixNPS1uKk1hdGguY29zKHcpLFM9bipNYXRoLnNpbih3KTtkLng9Zi54KyhNKnkueCtTKnYueCksZC55PWYueSsoTSp5LnkrUyp2LnkpLGQuej1mLnorKE0qeS56K1Mqdi56KSxsLnB1c2goZC54LGQueSxkLnopLHAuc3ViVmVjdG9ycyhkLGYpLm5vcm1hbGl6ZSgpLHUucHVzaChwLngscC55LHAueiksaC5wdXNoKHgvaSksaC5wdXNoKGIvcil9fWZvcih2YXIgVD0xO1Q8PWk7VCsrKWZvcih2YXIgRT0xO0U8PXI7RSsrKXt2YXIgQT0ocisxKSooVC0xKSsoRS0xKSxMPShyKzEpKlQrKEUtMSksUj0ocisxKSpUK0UsQz0ocisxKSooVC0xKStFO2MucHVzaChBLEwsQyksYy5wdXNoKEwsUixDKX1mdW5jdGlvbiBQKHQsZSxuLGkscil7dmFyIGE9TWF0aC5jb3ModCksbz1NYXRoLnNpbih0KSxzPW4vZSp0LGM9TWF0aC5jb3Mocyk7ci54PWkqKDIrYykqLjUqYSxyLnk9aSooMitjKSpvKi41LHIuej1pKk1hdGguc2luKHMpKi41fXJldHVybiBzLnNldEluZGV4KGMpLHMuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IGhuKGwsMykpLHMuc2V0QXR0cmlidXRlKCJub3JtYWwiLG5ldyBobih1LDMpKSxzLnNldEF0dHJpYnV0ZSgidXYiLG5ldyBobihoLDIpKSxzfXJldHVybiBjdChlLHQpLGV9KE1uKSxncz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIsYSl7dmFyIG87dm9pZCAwPT09biYmKG49NjQpLHZvaWQgMD09PWkmJihpPTEpLHZvaWQgMD09PXImJihyPTgpLHZvaWQgMD09PWEmJihhPSExKSwobz10LmNhbGwodGhpcyl8fHRoaXMpLnR5cGU9IlR1YmVHZW9tZXRyeSIsby5wYXJhbWV0ZXJzPXtwYXRoOmUsdHVidWxhclNlZ21lbnRzOm4scmFkaXVzOmkscmFkaWFsU2VnbWVudHM6cixjbG9zZWQ6YX07dmFyIHM9ZS5jb21wdXRlRnJlbmV0RnJhbWVzKG4sYSk7by50YW5nZW50cz1zLnRhbmdlbnRzLG8ubm9ybWFscz1zLm5vcm1hbHMsby5iaW5vcm1hbHM9cy5iaW5vcm1hbHM7dmFyIGM9bmV3IEx0LGw9bmV3IEx0LHU9bmV3IHl0LGg9bmV3IEx0LGQ9W10scD1bXSxmPVtdLG09W107ZnVuY3Rpb24gdih0KXtoPWUuZ2V0UG9pbnRBdCh0L24saCk7Zm9yKHZhciBhPXMubm9ybWFsc1t0XSxvPXMuYmlub3JtYWxzW3RdLHU9MDt1PD1yO3UrKyl7dmFyIGY9dS9yKk1hdGguUEkqMixtPU1hdGguc2luKGYpLHY9LU1hdGguY29zKGYpO2wueD12KmEueCttKm8ueCxsLnk9diphLnkrbSpvLnksbC56PXYqYS56K20qby56LGwubm9ybWFsaXplKCkscC5wdXNoKGwueCxsLnksbC56KSxjLng9aC54K2kqbC54LGMueT1oLnkraSpsLnksYy56PWgueitpKmwueixkLnB1c2goYy54LGMueSxjLnopfX1yZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PG47dCsrKXYodCk7dighMT09PWE/bjowKSxmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8PW47dCsrKWZvcih2YXIgZT0wO2U8PXI7ZSsrKXUueD10L24sdS55PWUvcixmLnB1c2godS54LHUueSl9KCksZnVuY3Rpb24oKXtmb3IodmFyIHQ9MTt0PD1uO3QrKylmb3IodmFyIGU9MTtlPD1yO2UrKyl7dmFyIGk9KHIrMSkqKHQtMSkrKGUtMSksYT0ocisxKSp0KyhlLTEpLG89KHIrMSkqdCtlLHM9KHIrMSkqKHQtMSkrZTttLnB1c2goaSxhLHMpLG0ucHVzaChhLG8scyl9fSgpfSgpLG8uc2V0SW5kZXgobSksby5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgaG4oZCwzKSksby5zZXRBdHRyaWJ1dGUoIm5vcm1hbCIsbmV3IGhuKHAsMykpLG8uc2V0QXR0cmlidXRlKCJ1diIsbmV3IGhuKGYsMikpLG99cmV0dXJuIGN0KGUsdCksZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIHQ9TW4ucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiB0LnBhdGg9dGhpcy5wYXJhbWV0ZXJzLnBhdGgudG9KU09OKCksdH0sZX0oTW4pLHlzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG47aWYoKG49dC5jYWxsKHRoaXMpfHx0aGlzKS50eXBlPSJXaXJlZnJhbWVHZW9tZXRyeSIsITA9PT1lLmlzR2VvbWV0cnkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoIlRIUkVFLldpcmVmcmFtZUdlb21ldHJ5IG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIiksbHQobik7dmFyIGk9W10scj1bMCwwXSxhPXt9LG89bmV3IEx0O2lmKG51bGwhPT1lLmluZGV4KXt2YXIgcz1lLmF0dHJpYnV0ZXMucG9zaXRpb24sYz1lLmluZGV4LGw9ZS5ncm91cHM7MD09PWwubGVuZ3RoJiYobD1be3N0YXJ0OjAsY291bnQ6Yy5jb3VudCxtYXRlcmlhbEluZGV4OjB9XSk7Zm9yKHZhciB1PTAsaD1sLmxlbmd0aDt1PGg7Kyt1KWZvcih2YXIgZD1sW3VdLHA9ZC5zdGFydCxmPXAsbT1wK2QuY291bnQ7ZjxtO2YrPTMpZm9yKHZhciB2PTA7djwzO3YrKyl7dmFyIGc9Yy5nZXRYKGYrdikseT1jLmdldFgoZisodisxKSUzKTtyWzBdPU1hdGgubWluKGcseSksclsxXT1NYXRoLm1heChnLHkpO3ZhciB4PXJbMF0rIiwiK3JbMV07dm9pZCAwPT09YVt4XSYmKGFbeF09e2luZGV4MTpyWzBdLGluZGV4MjpyWzFdfSl9Zm9yKHZhciBfIGluIGEpe3ZhciBiPWFbX107by5mcm9tQnVmZmVyQXR0cmlidXRlKHMsYi5pbmRleDEpLGkucHVzaChvLngsby55LG8ueiksby5mcm9tQnVmZmVyQXR0cmlidXRlKHMsYi5pbmRleDIpLGkucHVzaChvLngsby55LG8ueil9fWVsc2UgZm9yKHZhciB3PWUuYXR0cmlidXRlcy5wb3NpdGlvbixNPTAsUz13LmNvdW50LzM7TTxTO00rKylmb3IodmFyIFQ9MDtUPDM7VCsrKXt2YXIgRT0zKk0rVDtvLmZyb21CdWZmZXJBdHRyaWJ1dGUodyxFKSxpLnB1c2goby54LG8ueSxvLnopO3ZhciBBPTMqTSsoVCsxKSUzO28uZnJvbUJ1ZmZlckF0dHJpYnV0ZSh3LEEpLGkucHVzaChvLngsby55LG8ueil9cmV0dXJuIG4uc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IGhuKGksMykpLG59cmV0dXJuIGN0KGUsdCksZX0oTW4pLHhzPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLEJveEdlb21ldHJ5OlZuLEJveEJ1ZmZlckdlb21ldHJ5OlZuLENpcmNsZUdlb21ldHJ5Ol9vLENpcmNsZUJ1ZmZlckdlb21ldHJ5Ol9vLENvbmVHZW9tZXRyeTp3byxDb25lQnVmZmVyR2VvbWV0cnk6d28sQ3lsaW5kZXJHZW9tZXRyeTpibyxDeWxpbmRlckJ1ZmZlckdlb21ldHJ5OmJvLERvZGVjYWhlZHJvbkdlb21ldHJ5OlNvLERvZGVjYWhlZHJvbkJ1ZmZlckdlb21ldHJ5OlNvLEVkZ2VzR2VvbWV0cnk6Um8sRXh0cnVkZUdlb21ldHJ5OnJzLEV4dHJ1ZGVCdWZmZXJHZW9tZXRyeTpycyxJY29zYWhlZHJvbkdlb21ldHJ5Om9zLEljb3NhaGVkcm9uQnVmZmVyR2VvbWV0cnk6b3MsTGF0aGVHZW9tZXRyeTpzcyxMYXRoZUJ1ZmZlckdlb21ldHJ5OnNzLE9jdGFoZWRyb25HZW9tZXRyeTpjcyxPY3RhaGVkcm9uQnVmZmVyR2VvbWV0cnk6Y3MsUGFyYW1ldHJpY0dlb21ldHJ5OmxzLFBhcmFtZXRyaWNCdWZmZXJHZW9tZXRyeTpscyxQbGFuZUdlb21ldHJ5Om9pLFBsYW5lQnVmZmVyR2VvbWV0cnk6b2ksUG9seWhlZHJvbkdlb21ldHJ5Ok1vLFBvbHloZWRyb25CdWZmZXJHZW9tZXRyeTpNbyxSaW5nR2VvbWV0cnk6dXMsUmluZ0J1ZmZlckdlb21ldHJ5OnVzLFNoYXBlR2VvbWV0cnk6aHMsU2hhcGVCdWZmZXJHZW9tZXRyeTpocyxTcGhlcmVHZW9tZXRyeTpkcyxTcGhlcmVCdWZmZXJHZW9tZXRyeTpkcyxUZXRyYWhlZHJvbkdlb21ldHJ5OnBzLFRldHJhaGVkcm9uQnVmZmVyR2VvbWV0cnk6cHMsVGV4dEdlb21ldHJ5OmZzLFRleHRCdWZmZXJHZW9tZXRyeTpmcyxUb3J1c0dlb21ldHJ5Om1zLFRvcnVzQnVmZmVyR2VvbWV0cnk6bXMsVG9ydXNLbm90R2VvbWV0cnk6dnMsVG9ydXNLbm90QnVmZmVyR2VvbWV0cnk6dnMsVHViZUdlb21ldHJ5OmdzLFR1YmVCdWZmZXJHZW9tZXRyeTpncyxXaXJlZnJhbWVHZW9tZXRyeTp5c30pO2Z1bmN0aW9uIF9zKHQpe1dlLmNhbGwodGhpcyksdGhpcy50eXBlPSJTaGFkb3dNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgUWUoMCksdGhpcy50cmFuc3BhcmVudD0hMCx0aGlzLnNldFZhbHVlcyh0KX1mdW5jdGlvbiBicyh0KXtYbi5jYWxsKHRoaXMsdCksdGhpcy50eXBlPSJSYXdTaGFkZXJNYXRlcmlhbCJ9ZnVuY3Rpb24gd3ModCl7V2UuY2FsbCh0aGlzKSx0aGlzLmRlZmluZXM9e1NUQU5EQVJEOiIifSx0aGlzLnR5cGU9Ik1lc2hTdGFuZGFyZE1hdGVyaWFsIix0aGlzLmNvbG9yPW5ldyBRZSgxNjc3NzIxNSksdGhpcy5yb3VnaG5lc3M9MSx0aGlzLm1ldGFsbmVzcz0wLHRoaXMubWFwPW51bGwsdGhpcy5saWdodE1hcD1udWxsLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9MSx0aGlzLmFvTWFwPW51bGwsdGhpcy5hb01hcEludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmU9bmV3IFFlKDApLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlTWFwPW51bGwsdGhpcy5idW1wTWFwPW51bGwsdGhpcy5idW1wU2NhbGU9MSx0aGlzLm5vcm1hbE1hcD1udWxsLHRoaXMubm9ybWFsTWFwVHlwZT0wLHRoaXMubm9ybWFsU2NhbGU9bmV3IHl0KDEsMSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTEsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPTAsdGhpcy5yb3VnaG5lc3NNYXA9bnVsbCx0aGlzLm1ldGFsbmVzc01hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmVudk1hcD1udWxsLHRoaXMuZW52TWFwSW50ZW5zaXR5PTEsdGhpcy5yZWZyYWN0aW9uUmF0aW89Ljk4LHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy53aXJlZnJhbWVMaW5lY2FwPSJyb3VuZCIsdGhpcy53aXJlZnJhbWVMaW5lam9pbj0icm91bmQiLHRoaXMuc2tpbm5pbmc9ITEsdGhpcy5tb3JwaFRhcmdldHM9ITEsdGhpcy5tb3JwaE5vcm1hbHM9ITEsdGhpcy5mbGF0U2hhZGluZz0hMSx0aGlzLnZlcnRleFRhbmdlbnRzPSExLHRoaXMuc2V0VmFsdWVzKHQpfWZ1bmN0aW9uIE1zKHQpe3dzLmNhbGwodGhpcyksdGhpcy5kZWZpbmVzPXtTVEFOREFSRDoiIixQSFlTSUNBTDoiIn0sdGhpcy50eXBlPSJNZXNoUGh5c2ljYWxNYXRlcmlhbCIsdGhpcy5jbGVhcmNvYXQ9MCx0aGlzLmNsZWFyY29hdE1hcD1udWxsLHRoaXMuY2xlYXJjb2F0Um91Z2huZXNzPTAsdGhpcy5jbGVhcmNvYXRSb3VnaG5lc3NNYXA9bnVsbCx0aGlzLmNsZWFyY29hdE5vcm1hbFNjYWxlPW5ldyB5dCgxLDEpLHRoaXMuY2xlYXJjb2F0Tm9ybWFsTWFwPW51bGwsdGhpcy5yZWZsZWN0aXZpdHk9LjUsT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlvciIse2dldDpmdW5jdGlvbigpe3JldHVybigxKy40KnRoaXMucmVmbGVjdGl2aXR5KS8oMS0uNCp0aGlzLnJlZmxlY3Rpdml0eSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnJlZmxlY3Rpdml0eT1ndC5jbGFtcCgyLjUqKHQtMSkvKHQrMSksMCwxKX19KSx0aGlzLnNoZWVuPW51bGwsdGhpcy50cmFuc21pc3Npb249MCx0aGlzLnRyYW5zbWlzc2lvbk1hcD1udWxsLHRoaXMuc2V0VmFsdWVzKHQpfWZ1bmN0aW9uIFNzKHQpe1dlLmNhbGwodGhpcyksdGhpcy50eXBlPSJNZXNoUGhvbmdNYXRlcmlhbCIsdGhpcy5jb2xvcj1uZXcgUWUoMTY3NzcyMTUpLHRoaXMuc3BlY3VsYXI9bmV3IFFlKDExMTg0ODEpLHRoaXMuc2hpbmluZXNzPTMwLHRoaXMubWFwPW51bGwsdGhpcy5saWdodE1hcD1udWxsLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9MSx0aGlzLmFvTWFwPW51bGwsdGhpcy5hb01hcEludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmU9bmV3IFFlKDApLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlTWFwPW51bGwsdGhpcy5idW1wTWFwPW51bGwsdGhpcy5idW1wU2NhbGU9MSx0aGlzLm5vcm1hbE1hcD1udWxsLHRoaXMubm9ybWFsTWFwVHlwZT0wLHRoaXMubm9ybWFsU2NhbGU9bmV3IHl0KDEsMSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTEsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPTAsdGhpcy5zcGVjdWxhck1hcD1udWxsLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLmVudk1hcD1udWxsLHRoaXMuY29tYmluZT0wLHRoaXMucmVmbGVjdGl2aXR5PTEsdGhpcy5yZWZyYWN0aW9uUmF0aW89Ljk4LHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy53aXJlZnJhbWVMaW5lY2FwPSJyb3VuZCIsdGhpcy53aXJlZnJhbWVMaW5lam9pbj0icm91bmQiLHRoaXMuc2tpbm5pbmc9ITEsdGhpcy5tb3JwaFRhcmdldHM9ITEsdGhpcy5tb3JwaE5vcm1hbHM9ITEsdGhpcy5mbGF0U2hhZGluZz0hMSx0aGlzLnNldFZhbHVlcyh0KX1mdW5jdGlvbiBUcyh0KXtXZS5jYWxsKHRoaXMpLHRoaXMuZGVmaW5lcz17VE9PTjoiIn0sdGhpcy50eXBlPSJNZXNoVG9vbk1hdGVyaWFsIix0aGlzLmNvbG9yPW5ldyBRZSgxNjc3NzIxNSksdGhpcy5tYXA9bnVsbCx0aGlzLmdyYWRpZW50TWFwPW51bGwsdGhpcy5saWdodE1hcD1udWxsLHRoaXMubGlnaHRNYXBJbnRlbnNpdHk9MSx0aGlzLmFvTWFwPW51bGwsdGhpcy5hb01hcEludGVuc2l0eT0xLHRoaXMuZW1pc3NpdmU9bmV3IFFlKDApLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlTWFwPW51bGwsdGhpcy5idW1wTWFwPW51bGwsdGhpcy5idW1wU2NhbGU9MSx0aGlzLm5vcm1hbE1hcD1udWxsLHRoaXMubm9ybWFsTWFwVHlwZT0wLHRoaXMubm9ybWFsU2NhbGU9bmV3IHl0KDEsMSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTEsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPTAsdGhpcy5hbHBoYU1hcD1udWxsLHRoaXMud2lyZWZyYW1lPSExLHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPTEsdGhpcy53aXJlZnJhbWVMaW5lY2FwPSJyb3VuZCIsdGhpcy53aXJlZnJhbWVMaW5lam9pbj0icm91bmQiLHRoaXMuc2tpbm5pbmc9ITEsdGhpcy5tb3JwaFRhcmdldHM9ITEsdGhpcy5tb3JwaE5vcm1hbHM9ITEsdGhpcy5zZXRWYWx1ZXModCl9ZnVuY3Rpb24gRXModCl7V2UuY2FsbCh0aGlzKSx0aGlzLnR5cGU9Ik1lc2hOb3JtYWxNYXRlcmlhbCIsdGhpcy5idW1wTWFwPW51bGwsdGhpcy5idW1wU2NhbGU9MSx0aGlzLm5vcm1hbE1hcD1udWxsLHRoaXMubm9ybWFsTWFwVHlwZT0wLHRoaXMubm9ybWFsU2NhbGU9bmV3IHl0KDEsMSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9bnVsbCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPTEsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPTAsdGhpcy53aXJlZnJhbWU9ITEsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MSx0aGlzLmZvZz0hMSx0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubW9ycGhOb3JtYWxzPSExLHRoaXMuZmxhdFNoYWRpbmc9ITEsdGhpcy5zZXRWYWx1ZXModCl9ZnVuY3Rpb24gQXModCl7V2UuY2FsbCh0aGlzKSx0aGlzLnR5cGU9Ik1lc2hMYW1iZXJ0TWF0ZXJpYWwiLHRoaXMuY29sb3I9bmV3IFFlKDE2Nzc3MjE1KSx0aGlzLm1hcD1udWxsLHRoaXMubGlnaHRNYXA9bnVsbCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PTEsdGhpcy5hb01hcD1udWxsLHRoaXMuYW9NYXBJbnRlbnNpdHk9MSx0aGlzLmVtaXNzaXZlPW5ldyBRZSgwKSx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PTEsdGhpcy5lbWlzc2l2ZU1hcD1udWxsLHRoaXMuc3BlY3VsYXJNYXA9bnVsbCx0aGlzLmFscGhhTWFwPW51bGwsdGhpcy5lbnZNYXA9bnVsbCx0aGlzLmNvbWJpbmU9MCx0aGlzLnJlZmxlY3Rpdml0eT0xLHRoaXMucmVmcmFjdGlvblJhdGlvPS45OCx0aGlzLndpcmVmcmFtZT0hMSx0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xLHRoaXMud2lyZWZyYW1lTGluZWNhcD0icm91bmQiLHRoaXMud2lyZWZyYW1lTGluZWpvaW49InJvdW5kIix0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubW9ycGhOb3JtYWxzPSExLHRoaXMuc2V0VmFsdWVzKHQpfWZ1bmN0aW9uIExzKHQpe1dlLmNhbGwodGhpcyksdGhpcy5kZWZpbmVzPXtNQVRDQVA6IiJ9LHRoaXMudHlwZT0iTWVzaE1hdGNhcE1hdGVyaWFsIix0aGlzLmNvbG9yPW5ldyBRZSgxNjc3NzIxNSksdGhpcy5tYXRjYXA9bnVsbCx0aGlzLm1hcD1udWxsLHRoaXMuYnVtcE1hcD1udWxsLHRoaXMuYnVtcFNjYWxlPTEsdGhpcy5ub3JtYWxNYXA9bnVsbCx0aGlzLm5vcm1hbE1hcFR5cGU9MCx0aGlzLm5vcm1hbFNjYWxlPW5ldyB5dCgxLDEpLHRoaXMuZGlzcGxhY2VtZW50TWFwPW51bGwsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT0xLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz0wLHRoaXMuYWxwaGFNYXA9bnVsbCx0aGlzLnNraW5uaW5nPSExLHRoaXMubW9ycGhUYXJnZXRzPSExLHRoaXMubW9ycGhOb3JtYWxzPSExLHRoaXMuZmxhdFNoYWRpbmc9ITEsdGhpcy5zZXRWYWx1ZXModCl9ZnVuY3Rpb24gUnModCl7UWEuY2FsbCh0aGlzKSx0aGlzLnR5cGU9IkxpbmVEYXNoZWRNYXRlcmlhbCIsdGhpcy5zY2FsZT0xLHRoaXMuZGFzaFNpemU9Myx0aGlzLmdhcFNpemU9MSx0aGlzLnNldFZhbHVlcyh0KX1fcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShXZS5wcm90b3R5cGUpLF9zLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1fcyxfcy5wcm90b3R5cGUuaXNTaGFkb3dNYXRlcmlhbD0hMCxfcy5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gV2UucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuY29sb3IuY29weSh0LmNvbG9yKSx0aGlzfSxicy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShYbi5wcm90b3R5cGUpLGJzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1icyxicy5wcm90b3R5cGUuaXNSYXdTaGFkZXJNYXRlcmlhbD0hMCx3cy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShXZS5wcm90b3R5cGUpLHdzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj13cyx3cy5wcm90b3R5cGUuaXNNZXNoU3RhbmRhcmRNYXRlcmlhbD0hMCx3cy5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gV2UucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuZGVmaW5lcz17U1RBTkRBUkQ6IiJ9LHRoaXMuY29sb3IuY29weSh0LmNvbG9yKSx0aGlzLnJvdWdobmVzcz10LnJvdWdobmVzcyx0aGlzLm1ldGFsbmVzcz10Lm1ldGFsbmVzcyx0aGlzLm1hcD10Lm1hcCx0aGlzLmxpZ2h0TWFwPXQubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT10LmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9dC5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PXQuYW9NYXBJbnRlbnNpdHksdGhpcy5lbWlzc2l2ZS5jb3B5KHQuZW1pc3NpdmUpLHRoaXMuZW1pc3NpdmVNYXA9dC5lbWlzc2l2ZU1hcCx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PXQuZW1pc3NpdmVJbnRlbnNpdHksdGhpcy5idW1wTWFwPXQuYnVtcE1hcCx0aGlzLmJ1bXBTY2FsZT10LmJ1bXBTY2FsZSx0aGlzLm5vcm1hbE1hcD10Lm5vcm1hbE1hcCx0aGlzLm5vcm1hbE1hcFR5cGU9dC5ub3JtYWxNYXBUeXBlLHRoaXMubm9ybWFsU2NhbGUuY29weSh0Lm5vcm1hbFNjYWxlKSx0aGlzLmRpc3BsYWNlbWVudE1hcD10LmRpc3BsYWNlbWVudE1hcCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPXQuZGlzcGxhY2VtZW50U2NhbGUsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPXQuZGlzcGxhY2VtZW50Qmlhcyx0aGlzLnJvdWdobmVzc01hcD10LnJvdWdobmVzc01hcCx0aGlzLm1ldGFsbmVzc01hcD10Lm1ldGFsbmVzc01hcCx0aGlzLmFscGhhTWFwPXQuYWxwaGFNYXAsdGhpcy5lbnZNYXA9dC5lbnZNYXAsdGhpcy5lbnZNYXBJbnRlbnNpdHk9dC5lbnZNYXBJbnRlbnNpdHksdGhpcy5yZWZyYWN0aW9uUmF0aW89dC5yZWZyYWN0aW9uUmF0aW8sdGhpcy53aXJlZnJhbWU9dC53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9dC53aXJlZnJhbWVMaW5ld2lkdGgsdGhpcy53aXJlZnJhbWVMaW5lY2FwPXQud2lyZWZyYW1lTGluZWNhcCx0aGlzLndpcmVmcmFtZUxpbmVqb2luPXQud2lyZWZyYW1lTGluZWpvaW4sdGhpcy5za2lubmluZz10LnNraW5uaW5nLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXMubW9ycGhOb3JtYWxzPXQubW9ycGhOb3JtYWxzLHRoaXMuZmxhdFNoYWRpbmc9dC5mbGF0U2hhZGluZyx0aGlzLnZlcnRleFRhbmdlbnRzPXQudmVydGV4VGFuZ2VudHMsdGhpc30sTXMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUod3MucHJvdG90eXBlKSxNcy5wcm90b3R5cGUuY29uc3RydWN0b3I9TXMsTXMucHJvdG90eXBlLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWw9ITAsTXMucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHdzLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLmRlZmluZXM9e1NUQU5EQVJEOiIiLFBIWVNJQ0FMOiIifSx0aGlzLmNsZWFyY29hdD10LmNsZWFyY29hdCx0aGlzLmNsZWFyY29hdE1hcD10LmNsZWFyY29hdE1hcCx0aGlzLmNsZWFyY29hdFJvdWdobmVzcz10LmNsZWFyY29hdFJvdWdobmVzcyx0aGlzLmNsZWFyY29hdFJvdWdobmVzc01hcD10LmNsZWFyY29hdFJvdWdobmVzc01hcCx0aGlzLmNsZWFyY29hdE5vcm1hbE1hcD10LmNsZWFyY29hdE5vcm1hbE1hcCx0aGlzLmNsZWFyY29hdE5vcm1hbFNjYWxlLmNvcHkodC5jbGVhcmNvYXROb3JtYWxTY2FsZSksdGhpcy5yZWZsZWN0aXZpdHk9dC5yZWZsZWN0aXZpdHksdC5zaGVlbj90aGlzLnNoZWVuPSh0aGlzLnNoZWVufHxuZXcgUWUpLmNvcHkodC5zaGVlbik6dGhpcy5zaGVlbj1udWxsLHRoaXMudHJhbnNtaXNzaW9uPXQudHJhbnNtaXNzaW9uLHRoaXMudHJhbnNtaXNzaW9uTWFwPXQudHJhbnNtaXNzaW9uTWFwLHRoaXN9LFNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFdlLnByb3RvdHlwZSksU3MucHJvdG90eXBlLmNvbnN0cnVjdG9yPVNzLFNzLnByb3RvdHlwZS5pc01lc2hQaG9uZ01hdGVyaWFsPSEwLFNzLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiBXZS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5jb2xvci5jb3B5KHQuY29sb3IpLHRoaXMuc3BlY3VsYXIuY29weSh0LnNwZWN1bGFyKSx0aGlzLnNoaW5pbmVzcz10LnNoaW5pbmVzcyx0aGlzLm1hcD10Lm1hcCx0aGlzLmxpZ2h0TWFwPXQubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT10LmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9dC5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PXQuYW9NYXBJbnRlbnNpdHksdGhpcy5lbWlzc2l2ZS5jb3B5KHQuZW1pc3NpdmUpLHRoaXMuZW1pc3NpdmVNYXA9dC5lbWlzc2l2ZU1hcCx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PXQuZW1pc3NpdmVJbnRlbnNpdHksdGhpcy5idW1wTWFwPXQuYnVtcE1hcCx0aGlzLmJ1bXBTY2FsZT10LmJ1bXBTY2FsZSx0aGlzLm5vcm1hbE1hcD10Lm5vcm1hbE1hcCx0aGlzLm5vcm1hbE1hcFR5cGU9dC5ub3JtYWxNYXBUeXBlLHRoaXMubm9ybWFsU2NhbGUuY29weSh0Lm5vcm1hbFNjYWxlKSx0aGlzLmRpc3BsYWNlbWVudE1hcD10LmRpc3BsYWNlbWVudE1hcCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPXQuZGlzcGxhY2VtZW50U2NhbGUsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPXQuZGlzcGxhY2VtZW50Qmlhcyx0aGlzLnNwZWN1bGFyTWFwPXQuc3BlY3VsYXJNYXAsdGhpcy5hbHBoYU1hcD10LmFscGhhTWFwLHRoaXMuZW52TWFwPXQuZW52TWFwLHRoaXMuY29tYmluZT10LmNvbWJpbmUsdGhpcy5yZWZsZWN0aXZpdHk9dC5yZWZsZWN0aXZpdHksdGhpcy5yZWZyYWN0aW9uUmF0aW89dC5yZWZyYWN0aW9uUmF0aW8sdGhpcy53aXJlZnJhbWU9dC53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9dC53aXJlZnJhbWVMaW5ld2lkdGgsdGhpcy53aXJlZnJhbWVMaW5lY2FwPXQud2lyZWZyYW1lTGluZWNhcCx0aGlzLndpcmVmcmFtZUxpbmVqb2luPXQud2lyZWZyYW1lTGluZWpvaW4sdGhpcy5za2lubmluZz10LnNraW5uaW5nLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXMubW9ycGhOb3JtYWxzPXQubW9ycGhOb3JtYWxzLHRoaXMuZmxhdFNoYWRpbmc9dC5mbGF0U2hhZGluZyx0aGlzfSxUcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShXZS5wcm90b3R5cGUpLFRzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1UcyxUcy5wcm90b3R5cGUuaXNNZXNoVG9vbk1hdGVyaWFsPSEwLFRzLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiBXZS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5jb2xvci5jb3B5KHQuY29sb3IpLHRoaXMubWFwPXQubWFwLHRoaXMuZ3JhZGllbnRNYXA9dC5ncmFkaWVudE1hcCx0aGlzLmxpZ2h0TWFwPXQubGlnaHRNYXAsdGhpcy5saWdodE1hcEludGVuc2l0eT10LmxpZ2h0TWFwSW50ZW5zaXR5LHRoaXMuYW9NYXA9dC5hb01hcCx0aGlzLmFvTWFwSW50ZW5zaXR5PXQuYW9NYXBJbnRlbnNpdHksdGhpcy5lbWlzc2l2ZS5jb3B5KHQuZW1pc3NpdmUpLHRoaXMuZW1pc3NpdmVNYXA9dC5lbWlzc2l2ZU1hcCx0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PXQuZW1pc3NpdmVJbnRlbnNpdHksdGhpcy5idW1wTWFwPXQuYnVtcE1hcCx0aGlzLmJ1bXBTY2FsZT10LmJ1bXBTY2FsZSx0aGlzLm5vcm1hbE1hcD10Lm5vcm1hbE1hcCx0aGlzLm5vcm1hbE1hcFR5cGU9dC5ub3JtYWxNYXBUeXBlLHRoaXMubm9ybWFsU2NhbGUuY29weSh0Lm5vcm1hbFNjYWxlKSx0aGlzLmRpc3BsYWNlbWVudE1hcD10LmRpc3BsYWNlbWVudE1hcCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPXQuZGlzcGxhY2VtZW50U2NhbGUsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPXQuZGlzcGxhY2VtZW50Qmlhcyx0aGlzLmFscGhhTWFwPXQuYWxwaGFNYXAsdGhpcy53aXJlZnJhbWU9dC53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9dC53aXJlZnJhbWVMaW5ld2lkdGgsdGhpcy53aXJlZnJhbWVMaW5lY2FwPXQud2lyZWZyYW1lTGluZWNhcCx0aGlzLndpcmVmcmFtZUxpbmVqb2luPXQud2lyZWZyYW1lTGluZWpvaW4sdGhpcy5za2lubmluZz10LnNraW5uaW5nLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXMubW9ycGhOb3JtYWxzPXQubW9ycGhOb3JtYWxzLHRoaXN9LEVzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFdlLnByb3RvdHlwZSksRXMucHJvdG90eXBlLmNvbnN0cnVjdG9yPUVzLEVzLnByb3RvdHlwZS5pc01lc2hOb3JtYWxNYXRlcmlhbD0hMCxFcy5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gV2UucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuYnVtcE1hcD10LmJ1bXBNYXAsdGhpcy5idW1wU2NhbGU9dC5idW1wU2NhbGUsdGhpcy5ub3JtYWxNYXA9dC5ub3JtYWxNYXAsdGhpcy5ub3JtYWxNYXBUeXBlPXQubm9ybWFsTWFwVHlwZSx0aGlzLm5vcm1hbFNjYWxlLmNvcHkodC5ub3JtYWxTY2FsZSksdGhpcy5kaXNwbGFjZW1lbnRNYXA9dC5kaXNwbGFjZW1lbnRNYXAsdGhpcy5kaXNwbGFjZW1lbnRTY2FsZT10LmRpc3BsYWNlbWVudFNjYWxlLHRoaXMuZGlzcGxhY2VtZW50Qmlhcz10LmRpc3BsYWNlbWVudEJpYXMsdGhpcy53aXJlZnJhbWU9dC53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9dC53aXJlZnJhbWVMaW5ld2lkdGgsdGhpcy5za2lubmluZz10LnNraW5uaW5nLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXMubW9ycGhOb3JtYWxzPXQubW9ycGhOb3JtYWxzLHRoaXMuZmxhdFNoYWRpbmc9dC5mbGF0U2hhZGluZyx0aGlzfSxBcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShXZS5wcm90b3R5cGUpLEFzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1BcyxBcy5wcm90b3R5cGUuaXNNZXNoTGFtYmVydE1hdGVyaWFsPSEwLEFzLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiBXZS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5jb2xvci5jb3B5KHQuY29sb3IpLHRoaXMubWFwPXQubWFwLHRoaXMubGlnaHRNYXA9dC5saWdodE1hcCx0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PXQubGlnaHRNYXBJbnRlbnNpdHksdGhpcy5hb01hcD10LmFvTWFwLHRoaXMuYW9NYXBJbnRlbnNpdHk9dC5hb01hcEludGVuc2l0eSx0aGlzLmVtaXNzaXZlLmNvcHkodC5lbWlzc2l2ZSksdGhpcy5lbWlzc2l2ZU1hcD10LmVtaXNzaXZlTWFwLHRoaXMuZW1pc3NpdmVJbnRlbnNpdHk9dC5lbWlzc2l2ZUludGVuc2l0eSx0aGlzLnNwZWN1bGFyTWFwPXQuc3BlY3VsYXJNYXAsdGhpcy5hbHBoYU1hcD10LmFscGhhTWFwLHRoaXMuZW52TWFwPXQuZW52TWFwLHRoaXMuY29tYmluZT10LmNvbWJpbmUsdGhpcy5yZWZsZWN0aXZpdHk9dC5yZWZsZWN0aXZpdHksdGhpcy5yZWZyYWN0aW9uUmF0aW89dC5yZWZyYWN0aW9uUmF0aW8sdGhpcy53aXJlZnJhbWU9dC53aXJlZnJhbWUsdGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9dC53aXJlZnJhbWVMaW5ld2lkdGgsdGhpcy53aXJlZnJhbWVMaW5lY2FwPXQud2lyZWZyYW1lTGluZWNhcCx0aGlzLndpcmVmcmFtZUxpbmVqb2luPXQud2lyZWZyYW1lTGluZWpvaW4sdGhpcy5za2lubmluZz10LnNraW5uaW5nLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXMubW9ycGhOb3JtYWxzPXQubW9ycGhOb3JtYWxzLHRoaXN9LExzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFdlLnByb3RvdHlwZSksTHMucHJvdG90eXBlLmNvbnN0cnVjdG9yPUxzLExzLnByb3RvdHlwZS5pc01lc2hNYXRjYXBNYXRlcmlhbD0hMCxMcy5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gV2UucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuZGVmaW5lcz17TUFUQ0FQOiIifSx0aGlzLmNvbG9yLmNvcHkodC5jb2xvciksdGhpcy5tYXRjYXA9dC5tYXRjYXAsdGhpcy5tYXA9dC5tYXAsdGhpcy5idW1wTWFwPXQuYnVtcE1hcCx0aGlzLmJ1bXBTY2FsZT10LmJ1bXBTY2FsZSx0aGlzLm5vcm1hbE1hcD10Lm5vcm1hbE1hcCx0aGlzLm5vcm1hbE1hcFR5cGU9dC5ub3JtYWxNYXBUeXBlLHRoaXMubm9ybWFsU2NhbGUuY29weSh0Lm5vcm1hbFNjYWxlKSx0aGlzLmRpc3BsYWNlbWVudE1hcD10LmRpc3BsYWNlbWVudE1hcCx0aGlzLmRpc3BsYWNlbWVudFNjYWxlPXQuZGlzcGxhY2VtZW50U2NhbGUsdGhpcy5kaXNwbGFjZW1lbnRCaWFzPXQuZGlzcGxhY2VtZW50Qmlhcyx0aGlzLmFscGhhTWFwPXQuYWxwaGFNYXAsdGhpcy5za2lubmluZz10LnNraW5uaW5nLHRoaXMubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzLHRoaXMubW9ycGhOb3JtYWxzPXQubW9ycGhOb3JtYWxzLHRoaXMuZmxhdFNoYWRpbmc9dC5mbGF0U2hhZGluZyx0aGlzfSxScy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShRYS5wcm90b3R5cGUpLFJzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1ScyxScy5wcm90b3R5cGUuaXNMaW5lRGFzaGVkTWF0ZXJpYWw9ITAsUnMucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIFFhLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLnNjYWxlPXQuc2NhbGUsdGhpcy5kYXNoU2l6ZT10LmRhc2hTaXplLHRoaXMuZ2FwU2l6ZT10LmdhcFNpemUsdGhpc307dmFyIENzPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLFNoYWRvd01hdGVyaWFsOl9zLFNwcml0ZU1hdGVyaWFsOnlhLFJhd1NoYWRlck1hdGVyaWFsOmJzLFNoYWRlck1hdGVyaWFsOlhuLFBvaW50c01hdGVyaWFsOmNvLE1lc2hQaHlzaWNhbE1hdGVyaWFsOk1zLE1lc2hTdGFuZGFyZE1hdGVyaWFsOndzLE1lc2hQaG9uZ01hdGVyaWFsOlNzLE1lc2hUb29uTWF0ZXJpYWw6VHMsTWVzaE5vcm1hbE1hdGVyaWFsOkVzLE1lc2hMYW1iZXJ0TWF0ZXJpYWw6QXMsTWVzaERlcHRoTWF0ZXJpYWw6S3IsTWVzaERpc3RhbmNlTWF0ZXJpYWw6JHIsTWVzaEJhc2ljTWF0ZXJpYWw6S2UsTWVzaE1hdGNhcE1hdGVyaWFsOkxzLExpbmVEYXNoZWRNYXRlcmlhbDpScyxMaW5lQmFzaWNNYXRlcmlhbDpRYSxNYXRlcmlhbDpXZX0pLFBzPXthcnJheVNsaWNlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gUHMuaXNUeXBlZEFycmF5KHQpP25ldyB0LmNvbnN0cnVjdG9yKHQuc3ViYXJyYXkoZSx2b2lkIDAhPT1uP246dC5sZW5ndGgpKTp0LnNsaWNlKGUsbil9LGNvbnZlcnRBcnJheTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIXR8fCFuJiZ0LmNvbnN0cnVjdG9yPT09ZT90OiJudW1iZXIiPT10eXBlb2YgZS5CWVRFU19QRVJfRUxFTUVOVD9uZXcgZSh0KTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KX0saXNUeXBlZEFycmF5OmZ1bmN0aW9uKHQpe3JldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcodCkmJiEodCBpbnN0YW5jZW9mIERhdGFWaWV3KX0sZ2V0S2V5ZnJhbWVPcmRlcjpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgsbj1uZXcgQXJyYXkoZSksaT0wO2khPT1lOysraSluW2ldPWk7cmV0dXJuIG4uc29ydCgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdFtlXS10W25dfSkpLG59LHNvcnRlZEFycmF5OmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dC5sZW5ndGgscj1uZXcgdC5jb25zdHJ1Y3RvcihpKSxhPTAsbz0wO28hPT1pOysrYSlmb3IodmFyIHM9blthXSplLGM9MDtjIT09ZTsrK2MpcltvKytdPXRbcytjXTtyZXR1cm4gcn0sZmxhdHRlbkpTT046ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPTEsYT10WzBdO3ZvaWQgMCE9PWEmJnZvaWQgMD09PWFbaV07KWE9dFtyKytdO2lmKHZvaWQgMCE9PWEpe3ZhciBvPWFbaV07aWYodm9pZCAwIT09bylpZihBcnJheS5pc0FycmF5KG8pKWRve3ZvaWQgMCE9PShvPWFbaV0pJiYoZS5wdXNoKGEudGltZSksbi5wdXNoLmFwcGx5KG4sbykpLGE9dFtyKytdfXdoaWxlKHZvaWQgMCE9PWEpO2Vsc2UgaWYodm9pZCAwIT09by50b0FycmF5KWRve3ZvaWQgMCE9PShvPWFbaV0pJiYoZS5wdXNoKGEudGltZSksby50b0FycmF5KG4sbi5sZW5ndGgpKSxhPXRbcisrXX13aGlsZSh2b2lkIDAhPT1hKTtlbHNlIGRve3ZvaWQgMCE9PShvPWFbaV0pJiYoZS5wdXNoKGEudGltZSksbi5wdXNoKG8pKSxhPXRbcisrXX13aGlsZSh2b2lkIDAhPT1hKX19LHN1YmNsaXA6ZnVuY3Rpb24odCxlLG4saSxyKXt2b2lkIDA9PT1yJiYocj0zMCk7dmFyIGE9dC5jbG9uZSgpO2EubmFtZT1lO2Zvcih2YXIgbz1bXSxzPTA7czxhLnRyYWNrcy5sZW5ndGg7KytzKXtmb3IodmFyIGM9YS50cmFja3Nbc10sbD1jLmdldFZhbHVlU2l6ZSgpLHU9W10saD1bXSxkPTA7ZDxjLnRpbWVzLmxlbmd0aDsrK2Qpe3ZhciBwPWMudGltZXNbZF0qcjtpZighKHA8bnx8cD49aSkpe3UucHVzaChjLnRpbWVzW2RdKTtmb3IodmFyIGY9MDtmPGw7KytmKWgucHVzaChjLnZhbHVlc1tkKmwrZl0pfX0wIT09dS5sZW5ndGgmJihjLnRpbWVzPVBzLmNvbnZlcnRBcnJheSh1LGMudGltZXMuY29uc3RydWN0b3IpLGMudmFsdWVzPVBzLmNvbnZlcnRBcnJheShoLGMudmFsdWVzLmNvbnN0cnVjdG9yKSxvLnB1c2goYykpfWEudHJhY2tzPW87Zm9yKHZhciBtPTEvMCx2PTA7djxhLnRyYWNrcy5sZW5ndGg7Kyt2KW0+YS50cmFja3Nbdl0udGltZXNbMF0mJihtPWEudHJhY2tzW3ZdLnRpbWVzWzBdKTtmb3IodmFyIGc9MDtnPGEudHJhY2tzLmxlbmd0aDsrK2cpYS50cmFja3NbZ10uc2hpZnQoLTEqbSk7cmV0dXJuIGEucmVzZXREdXJhdGlvbigpLGF9LG1ha2VDbGlwQWRkaXRpdmU6ZnVuY3Rpb24odCxlLG4saSl7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09biYmKG49dCksdm9pZCAwPT09aSYmKGk9MzApLGk8PTAmJihpPTMwKTtmb3IodmFyIHI9bi50cmFja3MubGVuZ3RoLGE9ZS9pLG89ZnVuY3Rpb24oZSl7dmFyIGk9bi50cmFja3NbZV0scj1pLlZhbHVlVHlwZU5hbWU7aWYoImJvb2wiPT09cnx8InN0cmluZyI9PT1yKXJldHVybiJjb250aW51ZSI7dmFyIG89dC50cmFja3MuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWkubmFtZSYmdC5WYWx1ZVR5cGVOYW1lPT09cn0pKTtpZih2b2lkIDA9PT1vKXJldHVybiJjb250aW51ZSI7dmFyIHM9MCxjPWkuZ2V0VmFsdWVTaXplKCk7aS5jcmVhdGVJbnRlcnBvbGFudC5pc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSYmKHM9Yy8zKTt2YXIgbD0wLHU9by5nZXRWYWx1ZVNpemUoKTtvLmNyZWF0ZUludGVycG9sYW50LmlzSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kR0xURkN1YmljU3BsaW5lJiYobD11LzMpO3ZhciBoPWkudGltZXMubGVuZ3RoLTEsZD12b2lkIDA7aWYoYTw9aS50aW1lc1swXSl7dmFyIHA9cyxmPWMtcztkPVBzLmFycmF5U2xpY2UoaS52YWx1ZXMscCxmKX1lbHNlIGlmKGE+PWkudGltZXNbaF0pe3ZhciBtPWgqYytzLHY9bStjLXM7ZD1Qcy5hcnJheVNsaWNlKGkudmFsdWVzLG0sdil9ZWxzZXt2YXIgZz1pLmNyZWF0ZUludGVycG9sYW50KCkseT1zLHg9Yy1zO2cuZXZhbHVhdGUoYSksZD1Qcy5hcnJheVNsaWNlKGcucmVzdWx0QnVmZmVyLHkseCl9InF1YXRlcm5pb24iPT09ciYmKG5ldyBBdCkuZnJvbUFycmF5KGQpLm5vcm1hbGl6ZSgpLmNvbmp1Z2F0ZSgpLnRvQXJyYXkoZCk7Zm9yKHZhciBfPW8udGltZXMubGVuZ3RoLGI9MDtiPF87KytiKXt2YXIgdz1iKnUrbDtpZigicXVhdGVybmlvbiI9PT1yKUF0Lm11bHRpcGx5UXVhdGVybmlvbnNGbGF0KG8udmFsdWVzLHcsZCwwLG8udmFsdWVzLHcpO2Vsc2UgZm9yKHZhciBNPXUtMipsLFM9MDtTPE07KytTKW8udmFsdWVzW3crU10tPWRbU119fSxzPTA7czxyOysrcylvKHMpO3JldHVybiB0LmJsZW5kTW9kZT1YLHR9fTtmdW5jdGlvbiBEcyh0LGUsbixpKXt0aGlzLnBhcmFtZXRlclBvc2l0aW9ucz10LHRoaXMuX2NhY2hlZEluZGV4PTAsdGhpcy5yZXN1bHRCdWZmZXI9dm9pZCAwIT09aT9pOm5ldyBlLmNvbnN0cnVjdG9yKG4pLHRoaXMuc2FtcGxlVmFsdWVzPWUsdGhpcy52YWx1ZVNpemU9bn1mdW5jdGlvbiBJcyh0LGUsbixpKXtEcy5jYWxsKHRoaXMsdCxlLG4saSksdGhpcy5fd2VpZ2h0UHJldj0tMCx0aGlzLl9vZmZzZXRQcmV2PS0wLHRoaXMuX3dlaWdodE5leHQ9LTAsdGhpcy5fb2Zmc2V0TmV4dD0tMH1mdW5jdGlvbiBPcyh0LGUsbixpKXtEcy5jYWxsKHRoaXMsdCxlLG4saSl9ZnVuY3Rpb24gTnModCxlLG4saSl7RHMuY2FsbCh0aGlzLHQsZSxuLGkpfWZ1bmN0aW9uIEJzKHQsZSxuLGkpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IEVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiB0cmFjayBuYW1lIGlzIHVuZGVmaW5lZCIpO2lmKHZvaWQgMD09PWV8fDA9PT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIlRIUkVFLktleWZyYW1lVHJhY2s6IG5vIGtleWZyYW1lcyBpbiB0cmFjayBuYW1lZCAiK3QpO3RoaXMubmFtZT10LHRoaXMudGltZXM9UHMuY29udmVydEFycmF5KGUsdGhpcy5UaW1lQnVmZmVyVHlwZSksdGhpcy52YWx1ZXM9UHMuY29udmVydEFycmF5KG4sdGhpcy5WYWx1ZUJ1ZmZlclR5cGUpLHRoaXMuc2V0SW50ZXJwb2xhdGlvbihpfHx0aGlzLkRlZmF1bHRJbnRlcnBvbGF0aW9uKX1mdW5jdGlvbiB6cyh0LGUsbil7QnMuY2FsbCh0aGlzLHQsZSxuKX1mdW5jdGlvbiBGcyh0LGUsbixpKXtCcy5jYWxsKHRoaXMsdCxlLG4saSl9ZnVuY3Rpb24gSHModCxlLG4saSl7QnMuY2FsbCh0aGlzLHQsZSxuLGkpfWZ1bmN0aW9uIEdzKHQsZSxuLGkpe0RzLmNhbGwodGhpcyx0LGUsbixpKX1mdW5jdGlvbiBVcyh0LGUsbixpKXtCcy5jYWxsKHRoaXMsdCxlLG4saSl9ZnVuY3Rpb24ga3ModCxlLG4saSl7QnMuY2FsbCh0aGlzLHQsZSxuLGkpfWZ1bmN0aW9uIFZzKHQsZSxuLGkpe0JzLmNhbGwodGhpcyx0LGUsbixpKX1mdW5jdGlvbiBXcyh0LGUsbixpKXt2b2lkIDA9PT1lJiYoZT0tMSksdm9pZCAwPT09aSYmKGk9cSksdGhpcy5uYW1lPXQsdGhpcy50cmFja3M9bix0aGlzLmR1cmF0aW9uPWUsdGhpcy5ibGVuZE1vZGU9aSx0aGlzLnV1aWQ9Z3QuZ2VuZXJhdGVVVUlEKCksdGhpcy5kdXJhdGlvbjwwJiZ0aGlzLnJlc2V0RHVyYXRpb24oKX1mdW5jdGlvbiBqcyh0KXtpZih2b2lkIDA9PT10LnR5cGUpdGhyb3cgbmV3IEVycm9yKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiB0cmFjayB0eXBlIHVuZGVmaW5lZCwgY2FuIG5vdCBwYXJzZSIpO3ZhciBlPWZ1bmN0aW9uKHQpe3N3aXRjaCh0LnRvTG93ZXJDYXNlKCkpe2Nhc2Uic2NhbGFyIjpjYXNlImRvdWJsZSI6Y2FzZSJmbG9hdCI6Y2FzZSJudW1iZXIiOmNhc2UiaW50ZWdlciI6cmV0dXJuIEhzO2Nhc2UidmVjdG9yIjpjYXNlInZlY3RvcjIiOmNhc2UidmVjdG9yMyI6Y2FzZSJ2ZWN0b3I0IjpyZXR1cm4gVnM7Y2FzZSJjb2xvciI6cmV0dXJuIEZzO2Nhc2UicXVhdGVybmlvbiI6cmV0dXJuIFVzO2Nhc2UiYm9vbCI6Y2FzZSJib29sZWFuIjpyZXR1cm4genM7Y2FzZSJzdHJpbmciOnJldHVybiBrc310aHJvdyBuZXcgRXJyb3IoIlRIUkVFLktleWZyYW1lVHJhY2s6IFVuc3VwcG9ydGVkIHR5cGVOYW1lOiAiK3QpfSh0LnR5cGUpO2lmKHZvaWQgMD09PXQudGltZXMpe3ZhciBuPVtdLGk9W107UHMuZmxhdHRlbkpTT04odC5rZXlzLG4saSwidmFsdWUiKSx0LnRpbWVzPW4sdC52YWx1ZXM9aX1yZXR1cm4gdm9pZCAwIT09ZS5wYXJzZT9lLnBhcnNlKHQpOm5ldyBlKHQubmFtZSx0LnRpbWVzLHQudmFsdWVzLHQuaW50ZXJwb2xhdGlvbil9T2JqZWN0LmFzc2lnbihEcy5wcm90b3R5cGUse2V2YWx1YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucGFyYW1ldGVyUG9zaXRpb25zLG49dGhpcy5fY2FjaGVkSW5kZXgsaT1lW25dLHI9ZVtuLTFdO3Q6e2U6e3ZhciBhO246e2k6aWYoISh0PGkpKXtmb3IodmFyIG89bisyOzspe2lmKHZvaWQgMD09PWkpe2lmKHQ8cilicmVhayBpO3JldHVybiBuPWUubGVuZ3RoLHRoaXMuX2NhY2hlZEluZGV4PW4sdGhpcy5hZnRlckVuZF8obi0xLHQscil9aWYobj09PW8pYnJlYWs7aWYocj1pLHQ8KGk9ZVsrK25dKSlicmVhayBlfWE9ZS5sZW5ndGg7YnJlYWsgbn1pZih0Pj1yKWJyZWFrIHQ7dmFyIHM9ZVsxXTt0PHMmJihuPTIscj1zKTtmb3IodmFyIGM9bi0yOzspe2lmKHZvaWQgMD09PXIpcmV0dXJuIHRoaXMuX2NhY2hlZEluZGV4PTAsdGhpcy5iZWZvcmVTdGFydF8oMCx0LGkpO2lmKG49PT1jKWJyZWFrO2lmKGk9cix0Pj0ocj1lWy0tbi0xXSkpYnJlYWsgZX1hPW4sbj0wfWZvcig7bjxhOyl7dmFyIGw9bithPj4+MTt0PGVbbF0/YT1sOm49bCsxfWlmKGk9ZVtuXSx2b2lkIDA9PT0ocj1lW24tMV0pKXJldHVybiB0aGlzLl9jYWNoZWRJbmRleD0wLHRoaXMuYmVmb3JlU3RhcnRfKDAsdCxpKTtpZih2b2lkIDA9PT1pKXJldHVybiBuPWUubGVuZ3RoLHRoaXMuX2NhY2hlZEluZGV4PW4sdGhpcy5hZnRlckVuZF8obi0xLHIsdCl9dGhpcy5fY2FjaGVkSW5kZXg9bix0aGlzLmludGVydmFsQ2hhbmdlZF8obixyLGkpfXJldHVybiB0aGlzLmludGVycG9sYXRlXyhuLHIsdCxpKX0sc2V0dGluZ3M6bnVsbCxEZWZhdWx0U2V0dGluZ3NfOnt9LGdldFNldHRpbmdzXzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldHRpbmdzfHx0aGlzLkRlZmF1bHRTZXR0aW5nc199LGNvcHlTYW1wbGVWYWx1ZV86ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucmVzdWx0QnVmZmVyLG49dGhpcy5zYW1wbGVWYWx1ZXMsaT10aGlzLnZhbHVlU2l6ZSxyPXQqaSxhPTA7YSE9PWk7KythKWVbYV09bltyK2FdO3JldHVybiBlfSxpbnRlcnBvbGF0ZV86ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoImNhbGwgdG8gYWJzdHJhY3QgbWV0aG9kIil9LGludGVydmFsQ2hhbmdlZF86ZnVuY3Rpb24oKXt9fSksT2JqZWN0LmFzc2lnbihEcy5wcm90b3R5cGUse2JlZm9yZVN0YXJ0XzpEcy5wcm90b3R5cGUuY29weVNhbXBsZVZhbHVlXyxhZnRlckVuZF86RHMucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV99KSxJcy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKERzLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOklzLERlZmF1bHRTZXR0aW5nc186e2VuZGluZ1N0YXJ0OlYsZW5kaW5nRW5kOlZ9LGludGVydmFsQ2hhbmdlZF86ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMucGFyYW1ldGVyUG9zaXRpb25zLHI9dC0yLGE9dCsxLG89aVtyXSxzPWlbYV07aWYodm9pZCAwPT09bylzd2l0Y2godGhpcy5nZXRTZXR0aW5nc18oKS5lbmRpbmdTdGFydCl7Y2FzZSBXOnI9dCxvPTIqZS1uO2JyZWFrO2Nhc2UgajpvPWUraVtyPWkubGVuZ3RoLTJdLWlbcisxXTticmVhaztkZWZhdWx0OnI9dCxvPW59aWYodm9pZCAwPT09cylzd2l0Y2godGhpcy5nZXRTZXR0aW5nc18oKS5lbmRpbmdFbmQpe2Nhc2UgVzphPXQscz0yKm4tZTticmVhaztjYXNlIGo6YT0xLHM9bitpWzFdLWlbMF07YnJlYWs7ZGVmYXVsdDphPXQtMSxzPWV9dmFyIGM9LjUqKG4tZSksbD10aGlzLnZhbHVlU2l6ZTt0aGlzLl93ZWlnaHRQcmV2PWMvKGUtbyksdGhpcy5fd2VpZ2h0TmV4dD1jLyhzLW4pLHRoaXMuX29mZnNldFByZXY9cipsLHRoaXMuX29mZnNldE5leHQ9YSpsfSxpbnRlcnBvbGF0ZV86ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPXRoaXMucmVzdWx0QnVmZmVyLGE9dGhpcy5zYW1wbGVWYWx1ZXMsbz10aGlzLnZhbHVlU2l6ZSxzPXQqbyxjPXMtbyxsPXRoaXMuX29mZnNldFByZXYsdT10aGlzLl9vZmZzZXROZXh0LGg9dGhpcy5fd2VpZ2h0UHJldixkPXRoaXMuX3dlaWdodE5leHQscD0obi1lKS8oaS1lKSxmPXAqcCxtPWYqcCx2PS1oKm0rMipoKmYtaCpwLGc9KDEraCkqbSsoLTEuNS0yKmgpKmYrKC0uNStoKSpwKzEseT0oLTEtZCkqbSsoMS41K2QpKmYrLjUqcCx4PWQqbS1kKmYsXz0wO18hPT1vOysrXylyW19dPXYqYVtsK19dK2cqYVtjK19dK3kqYVtzK19dK3gqYVt1K19dO3JldHVybiByfX0pLE9zLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoRHMucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6T3MsaW50ZXJwb2xhdGVfOmZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcj10aGlzLnJlc3VsdEJ1ZmZlcixhPXRoaXMuc2FtcGxlVmFsdWVzLG89dGhpcy52YWx1ZVNpemUscz10Km8sYz1zLW8sbD0obi1lKS8oaS1lKSx1PTEtbCxoPTA7aCE9PW87KytoKXJbaF09YVtjK2hdKnUrYVtzK2hdKmw7cmV0dXJuIHJ9fSksTnMucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShEcy5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpOcyxpbnRlcnBvbGF0ZV86ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29weVNhbXBsZVZhbHVlXyh0LTEpfX0pLE9iamVjdC5hc3NpZ24oQnMse3RvSlNPTjpmdW5jdGlvbih0KXt2YXIgZSxuPXQuY29uc3RydWN0b3I7aWYodm9pZCAwIT09bi50b0pTT04pZT1uLnRvSlNPTih0KTtlbHNle2U9e25hbWU6dC5uYW1lLHRpbWVzOlBzLmNvbnZlcnRBcnJheSh0LnRpbWVzLEFycmF5KSx2YWx1ZXM6UHMuY29udmVydEFycmF5KHQudmFsdWVzLEFycmF5KX07dmFyIGk9dC5nZXRJbnRlcnBvbGF0aW9uKCk7aSE9PXQuRGVmYXVsdEludGVycG9sYXRpb24mJihlLmludGVycG9sYXRpb249aSl9cmV0dXJuIGUudHlwZT10LlZhbHVlVHlwZU5hbWUsZX19KSxPYmplY3QuYXNzaWduKEJzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6QnMsVGltZUJ1ZmZlclR5cGU6RmxvYXQzMkFycmF5LFZhbHVlQnVmZmVyVHlwZTpGbG9hdDMyQXJyYXksRGVmYXVsdEludGVycG9sYXRpb246VSxJbnRlcnBvbGFudEZhY3RvcnlNZXRob2REaXNjcmV0ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IE5zKHRoaXMudGltZXMsdGhpcy52YWx1ZXMsdGhpcy5nZXRWYWx1ZVNpemUoKSx0KX0sSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgT3ModGhpcy50aW1lcyx0aGlzLnZhbHVlcyx0aGlzLmdldFZhbHVlU2l6ZSgpLHQpfSxJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGg6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBJcyh0aGlzLnRpbWVzLHRoaXMudmFsdWVzLHRoaXMuZ2V0VmFsdWVTaXplKCksdCl9LHNldEludGVycG9sYXRpb246ZnVuY3Rpb24odCl7dmFyIGU7c3dpdGNoKHQpe2Nhc2UgRzplPXRoaXMuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kRGlzY3JldGU7YnJlYWs7Y2FzZSBVOmU9dGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXI7YnJlYWs7Y2FzZSBrOmU9dGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGh9aWYodm9pZCAwPT09ZSl7dmFyIG49InVuc3VwcG9ydGVkIGludGVycG9sYXRpb24gZm9yICIrdGhpcy5WYWx1ZVR5cGVOYW1lKyIga2V5ZnJhbWUgdHJhY2sgbmFtZWQgIit0aGlzLm5hbWU7aWYodm9pZCAwPT09dGhpcy5jcmVhdGVJbnRlcnBvbGFudCl7aWYodD09PXRoaXMuRGVmYXVsdEludGVycG9sYXRpb24pdGhyb3cgbmV3IEVycm9yKG4pO3RoaXMuc2V0SW50ZXJwb2xhdGlvbih0aGlzLkRlZmF1bHRJbnRlcnBvbGF0aW9uKX1yZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5LZXlmcmFtZVRyYWNrOiIsbiksdGhpc31yZXR1cm4gdGhpcy5jcmVhdGVJbnRlcnBvbGFudD1lLHRoaXN9LGdldEludGVycG9sYXRpb246ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5jcmVhdGVJbnRlcnBvbGFudCl7Y2FzZSB0aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZERpc2NyZXRlOnJldHVybiBHO2Nhc2UgdGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXI6cmV0dXJuIFU7Y2FzZSB0aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aDpyZXR1cm4ga319LGdldFZhbHVlU2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlcy5sZW5ndGgvdGhpcy50aW1lcy5sZW5ndGh9LHNoaWZ0OmZ1bmN0aW9uKHQpe2lmKDAhPT10KWZvcih2YXIgZT10aGlzLnRpbWVzLG49MCxpPWUubGVuZ3RoO24hPT1pOysrbillW25dKz10O3JldHVybiB0aGlzfSxzY2FsZTpmdW5jdGlvbih0KXtpZigxIT09dClmb3IodmFyIGU9dGhpcy50aW1lcyxuPTAsaT1lLmxlbmd0aDtuIT09aTsrK24pZVtuXSo9dDtyZXR1cm4gdGhpc30sdHJpbTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLnRpbWVzLGk9bi5sZW5ndGgscj0wLGE9aS0xO3IhPT1pJiZuW3JdPHQ7KSsrcjtmb3IoOy0xIT09YSYmblthXT5lOyktLWE7aWYoKythLDAhPT1yfHxhIT09aSl7cj49YSYmKHI9KGE9TWF0aC5tYXgoYSwxKSktMSk7dmFyIG89dGhpcy5nZXRWYWx1ZVNpemUoKTt0aGlzLnRpbWVzPVBzLmFycmF5U2xpY2UobixyLGEpLHRoaXMudmFsdWVzPVBzLmFycmF5U2xpY2UodGhpcy52YWx1ZXMscipvLGEqbyl9cmV0dXJuIHRoaXN9LHZhbGlkYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9ITAsZT10aGlzLmdldFZhbHVlU2l6ZSgpO2UtTWF0aC5mbG9vcihlKSE9MCYmKGNvbnNvbGUuZXJyb3IoIlRIUkVFLktleWZyYW1lVHJhY2s6IEludmFsaWQgdmFsdWUgc2l6ZSBpbiB0cmFjay4iLHRoaXMpLHQ9ITEpO3ZhciBuPXRoaXMudGltZXMsaT10aGlzLnZhbHVlcyxyPW4ubGVuZ3RoOzA9PT1yJiYoY29uc29sZS5lcnJvcigiVEhSRUUuS2V5ZnJhbWVUcmFjazogVHJhY2sgaXMgZW1wdHkuIix0aGlzKSx0PSExKTtmb3IodmFyIGE9bnVsbCxvPTA7byE9PXI7bysrKXt2YXIgcz1uW29dO2lmKCJudW1iZXIiPT10eXBlb2YgcyYmaXNOYU4ocykpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLktleWZyYW1lVHJhY2s6IFRpbWUgaXMgbm90IGEgdmFsaWQgbnVtYmVyLiIsdGhpcyxvLHMpLHQ9ITE7YnJlYWt9aWYobnVsbCE9PWEmJmE+cyl7Y29uc29sZS5lcnJvcigiVEhSRUUuS2V5ZnJhbWVUcmFjazogT3V0IG9mIG9yZGVyIGtleXMuIix0aGlzLG8scyxhKSx0PSExO2JyZWFrfWE9c31pZih2b2lkIDAhPT1pJiZQcy5pc1R5cGVkQXJyYXkoaSkpZm9yKHZhciBjPTAsbD1pLmxlbmd0aDtjIT09bDsrK2Mpe3ZhciB1PWlbY107aWYoaXNOYU4odSkpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLktleWZyYW1lVHJhY2s6IFZhbHVlIGlzIG5vdCBhIHZhbGlkIG51bWJlci4iLHRoaXMsYyx1KSx0PSExO2JyZWFrfX1yZXR1cm4gdH0sb3B0aW1pemU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9UHMuYXJyYXlTbGljZSh0aGlzLnRpbWVzKSxlPVBzLmFycmF5U2xpY2UodGhpcy52YWx1ZXMpLG49dGhpcy5nZXRWYWx1ZVNpemUoKSxpPXRoaXMuZ2V0SW50ZXJwb2xhdGlvbigpPT09ayxyPXQubGVuZ3RoLTEsYT0xLG89MTtvPHI7KytvKXt2YXIgcz0hMSxjPXRbb107aWYoYyE9PXRbbysxXSYmKDEhPT1vfHxjIT09dFswXSkpaWYoaSlzPSEwO2Vsc2UgZm9yKHZhciBsPW8qbix1PWwtbixoPWwrbixkPTA7ZCE9PW47KytkKXt2YXIgcD1lW2wrZF07aWYocCE9PWVbdStkXXx8cCE9PWVbaCtkXSl7cz0hMDticmVha319aWYocyl7aWYobyE9PWEpe3RbYV09dFtvXTtmb3IodmFyIGY9bypuLG09YSpuLHY9MDt2IT09bjsrK3YpZVttK3ZdPWVbZit2XX0rK2F9fWlmKHI+MCl7dFthXT10W3JdO2Zvcih2YXIgZz1yKm4seT1hKm4seD0wO3ghPT1uOysreCllW3kreF09ZVtnK3hdOysrYX1yZXR1cm4gYSE9PXQubGVuZ3RoPyh0aGlzLnRpbWVzPVBzLmFycmF5U2xpY2UodCwwLGEpLHRoaXMudmFsdWVzPVBzLmFycmF5U2xpY2UoZSwwLGEqbikpOih0aGlzLnRpbWVzPXQsdGhpcy52YWx1ZXM9ZSksdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1Qcy5hcnJheVNsaWNlKHRoaXMudGltZXMsMCksZT1Qcy5hcnJheVNsaWNlKHRoaXMudmFsdWVzLDApLG49bmV3KDAsdGhpcy5jb25zdHJ1Y3RvcikodGhpcy5uYW1lLHQsZSk7cmV0dXJuIG4uY3JlYXRlSW50ZXJwb2xhbnQ9dGhpcy5jcmVhdGVJbnRlcnBvbGFudCxufX0pLHpzLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoQnMucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6enMsVmFsdWVUeXBlTmFtZToiYm9vbCIsVmFsdWVCdWZmZXJUeXBlOkFycmF5LERlZmF1bHRJbnRlcnBvbGF0aW9uOkcsSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyOnZvaWQgMCxJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGg6dm9pZCAwfSksRnMucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShCcy5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpGcyxWYWx1ZVR5cGVOYW1lOiJjb2xvciJ9KSxIcy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEJzLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkhzLFZhbHVlVHlwZU5hbWU6Im51bWJlciJ9KSxHcy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKERzLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkdzLGludGVycG9sYXRlXzpmdW5jdGlvbih0LGUsbixpKXtmb3IodmFyIHI9dGhpcy5yZXN1bHRCdWZmZXIsYT10aGlzLnNhbXBsZVZhbHVlcyxvPXRoaXMudmFsdWVTaXplLHM9KG4tZSkvKGktZSksYz10Km8sbD1jK287YyE9PWw7Yys9NClBdC5zbGVycEZsYXQociwwLGEsYy1vLGEsYyxzKTtyZXR1cm4gcn19KSxVcy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEJzLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlVzLFZhbHVlVHlwZU5hbWU6InF1YXRlcm5pb24iLERlZmF1bHRJbnRlcnBvbGF0aW9uOlUsSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgR3ModGhpcy50aW1lcyx0aGlzLnZhbHVlcyx0aGlzLmdldFZhbHVlU2l6ZSgpLHQpfSxJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGg6dm9pZCAwfSksa3MucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShCcy5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjprcyxWYWx1ZVR5cGVOYW1lOiJzdHJpbmciLFZhbHVlQnVmZmVyVHlwZTpBcnJheSxEZWZhdWx0SW50ZXJwb2xhdGlvbjpHLEludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcjp2b2lkIDAsSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kU21vb3RoOnZvaWQgMH0pLFZzLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoQnMucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6VnMsVmFsdWVUeXBlTmFtZToidmVjdG9yIn0pLE9iamVjdC5hc3NpZ24oV3Mse3BhcnNlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPXQudHJhY2tzLGk9MS8odC5mcHN8fDEpLHI9MCxhPW4ubGVuZ3RoO3IhPT1hOysrcillLnB1c2goanMobltyXSkuc2NhbGUoaSkpO3ZhciBvPW5ldyBXcyh0Lm5hbWUsdC5kdXJhdGlvbixlLHQuYmxlbmRNb2RlKTtyZXR1cm4gby51dWlkPXQudXVpZCxvfSx0b0pTT046ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49dC50cmFja3MsaT17bmFtZTp0Lm5hbWUsZHVyYXRpb246dC5kdXJhdGlvbix0cmFja3M6ZSx1dWlkOnQudXVpZCxibGVuZE1vZGU6dC5ibGVuZE1vZGV9LHI9MCxhPW4ubGVuZ3RoO3IhPT1hOysrcillLnB1c2goQnMudG9KU09OKG5bcl0pKTtyZXR1cm4gaX0sQ3JlYXRlRnJvbU1vcnBoVGFyZ2V0U2VxdWVuY2U6ZnVuY3Rpb24odCxlLG4saSl7Zm9yKHZhciByPWUubGVuZ3RoLGE9W10sbz0wO288cjtvKyspe3ZhciBzPVtdLGM9W107cy5wdXNoKChvK3ItMSklcixvLChvKzEpJXIpLGMucHVzaCgwLDEsMCk7dmFyIGw9UHMuZ2V0S2V5ZnJhbWVPcmRlcihzKTtzPVBzLnNvcnRlZEFycmF5KHMsMSxsKSxjPVBzLnNvcnRlZEFycmF5KGMsMSxsKSxpfHwwIT09c1swXXx8KHMucHVzaChyKSxjLnB1c2goY1swXSkpLGEucHVzaChuZXcgSHMoIi5tb3JwaFRhcmdldEluZmx1ZW5jZXNbIitlW29dLm5hbWUrIl0iLHMsYykuc2NhbGUoMS9uKSl9cmV0dXJuIG5ldyBXcyh0LC0xLGEpfSxmaW5kQnlOYW1lOmZ1bmN0aW9uKHQsZSl7dmFyIG49dDtpZighQXJyYXkuaXNBcnJheSh0KSl7dmFyIGk9dDtuPWkuZ2VvbWV0cnkmJmkuZ2VvbWV0cnkuYW5pbWF0aW9uc3x8aS5hbmltYXRpb25zfWZvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKWlmKG5bcl0ubmFtZT09PWUpcmV0dXJuIG5bcl07cmV0dXJuIG51bGx9LENyZWF0ZUNsaXBzRnJvbU1vcnBoVGFyZ2V0U2VxdWVuY2VzOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9e30scj0vXihbXHctXSo/KShbXGRdKykkLyxhPTAsbz10Lmxlbmd0aDthPG87YSsrKXt2YXIgcz10W2FdLGM9cy5uYW1lLm1hdGNoKHIpO2lmKGMmJmMubGVuZ3RoPjEpe3ZhciBsPWNbMV0sdT1pW2xdO3V8fChpW2xdPXU9W10pLHUucHVzaChzKX19dmFyIGg9W107Zm9yKHZhciBkIGluIGkpaC5wdXNoKFdzLkNyZWF0ZUZyb21Nb3JwaFRhcmdldFNlcXVlbmNlKGQsaVtkXSxlLG4pKTtyZXR1cm4gaH0scGFyc2VBbmltYXRpb246ZnVuY3Rpb24odCxlKXtpZighdClyZXR1cm4gY29uc29sZS5lcnJvcigiVEhSRUUuQW5pbWF0aW9uQ2xpcDogTm8gYW5pbWF0aW9uIGluIEpTT05Mb2FkZXIgZGF0YS4iKSxudWxsO2Zvcih2YXIgbj1mdW5jdGlvbih0LGUsbixpLHIpe2lmKDAhPT1uLmxlbmd0aCl7dmFyIGE9W10sbz1bXTtQcy5mbGF0dGVuSlNPTihuLGEsbyxpKSwwIT09YS5sZW5ndGgmJnIucHVzaChuZXcgdChlLGEsbykpfX0saT1bXSxyPXQubmFtZXx8ImRlZmF1bHQiLGE9dC5mcHN8fDMwLG89dC5ibGVuZE1vZGUscz10Lmxlbmd0aHx8LTEsYz10LmhpZXJhcmNoeXx8W10sbD0wO2w8Yy5sZW5ndGg7bCsrKXt2YXIgdT1jW2xdLmtleXM7aWYodSYmMCE9PXUubGVuZ3RoKWlmKHVbMF0ubW9ycGhUYXJnZXRzKXt2YXIgaD17fSxkPXZvaWQgMDtmb3IoZD0wO2Q8dS5sZW5ndGg7ZCsrKWlmKHVbZF0ubW9ycGhUYXJnZXRzKWZvcih2YXIgcD0wO3A8dVtkXS5tb3JwaFRhcmdldHMubGVuZ3RoO3ArKyloW3VbZF0ubW9ycGhUYXJnZXRzW3BdXT0tMTtmb3IodmFyIGYgaW4gaCl7Zm9yKHZhciBtPVtdLHY9W10sZz0wO2chPT11W2RdLm1vcnBoVGFyZ2V0cy5sZW5ndGg7KytnKXt2YXIgeT11W2RdO20ucHVzaCh5LnRpbWUpLHYucHVzaCh5Lm1vcnBoVGFyZ2V0PT09Zj8xOjApfWkucHVzaChuZXcgSHMoIi5tb3JwaFRhcmdldEluZmx1ZW5jZVsiK2YrIl0iLG0sdikpfXM9aC5sZW5ndGgqKGF8fDEpfWVsc2V7dmFyIHg9Ii5ib25lc1siK2VbbF0ubmFtZSsiXSI7bihWcyx4KyIucG9zaXRpb24iLHUsInBvcyIsaSksbihVcyx4KyIucXVhdGVybmlvbiIsdSwicm90IixpKSxuKFZzLHgrIi5zY2FsZSIsdSwic2NsIixpKX19cmV0dXJuIDA9PT1pLmxlbmd0aD9udWxsOm5ldyBXcyhyLHMsaSxvKX19KSxPYmplY3QuYXNzaWduKFdzLnByb3RvdHlwZSx7cmVzZXREdXJhdGlvbjpmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MCxuPXRoaXMudHJhY2tzLmxlbmd0aDtlIT09bjsrK2Upe3ZhciBpPXRoaXMudHJhY2tzW2VdO3Q9TWF0aC5tYXgodCxpLnRpbWVzW2kudGltZXMubGVuZ3RoLTFdKX1yZXR1cm4gdGhpcy5kdXJhdGlvbj10LHRoaXN9LHRyaW06ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMudHJhY2tzLmxlbmd0aDt0KyspdGhpcy50cmFja3NbdF0udHJpbSgwLHRoaXMuZHVyYXRpb24pO3JldHVybiB0aGlzfSx2YWxpZGF0ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0hMCxlPTA7ZTx0aGlzLnRyYWNrcy5sZW5ndGg7ZSsrKXQ9dCYmdGhpcy50cmFja3NbZV0udmFsaWRhdGUoKTtyZXR1cm4gdH0sb3B0aW1pemU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMudHJhY2tzLmxlbmd0aDt0KyspdGhpcy50cmFja3NbdF0ub3B0aW1pemUoKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8dGhpcy50cmFja3MubGVuZ3RoO2UrKyl0LnB1c2godGhpcy50cmFja3NbZV0uY2xvbmUoKSk7cmV0dXJuIG5ldyBXcyh0aGlzLm5hbWUsdGhpcy5kdXJhdGlvbix0LHRoaXMuYmxlbmRNb2RlKX0sdG9KU09OOmZ1bmN0aW9uKCl7cmV0dXJuIFdzLnRvSlNPTih0aGlzKX19KTt2YXIgcXM9e2VuYWJsZWQ6ITEsZmlsZXM6e30sYWRkOmZ1bmN0aW9uKHQsZSl7ITEhPT10aGlzLmVuYWJsZWQmJih0aGlzLmZpbGVzW3RdPWUpfSxnZXQ6ZnVuY3Rpb24odCl7aWYoITEhPT10aGlzLmVuYWJsZWQpcmV0dXJuIHRoaXMuZmlsZXNbdF19LHJlbW92ZTpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5maWxlc1t0XX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLmZpbGVzPXt9fX07ZnVuY3Rpb24gWHModCxlLG4pe3ZhciBpPXRoaXMscj0hMSxhPTAsbz0wLHM9dm9pZCAwLGM9W107dGhpcy5vblN0YXJ0PXZvaWQgMCx0aGlzLm9uTG9hZD10LHRoaXMub25Qcm9ncmVzcz1lLHRoaXMub25FcnJvcj1uLHRoaXMuaXRlbVN0YXJ0PWZ1bmN0aW9uKHQpe28rKywhMT09PXImJnZvaWQgMCE9PWkub25TdGFydCYmaS5vblN0YXJ0KHQsYSxvKSxyPSEwfSx0aGlzLml0ZW1FbmQ9ZnVuY3Rpb24odCl7YSsrLHZvaWQgMCE9PWkub25Qcm9ncmVzcyYmaS5vblByb2dyZXNzKHQsYSxvKSxhPT09byYmKHI9ITEsdm9pZCAwIT09aS5vbkxvYWQmJmkub25Mb2FkKCkpfSx0aGlzLml0ZW1FcnJvcj1mdW5jdGlvbih0KXt2b2lkIDAhPT1pLm9uRXJyb3ImJmkub25FcnJvcih0KX0sdGhpcy5yZXNvbHZlVVJMPWZ1bmN0aW9uKHQpe3JldHVybiBzP3ModCk6dH0sdGhpcy5zZXRVUkxNb2RpZmllcj1mdW5jdGlvbih0KXtyZXR1cm4gcz10LHRoaXN9LHRoaXMuYWRkSGFuZGxlcj1mdW5jdGlvbih0LGUpe3JldHVybiBjLnB1c2godCxlKSx0aGlzfSx0aGlzLnJlbW92ZUhhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIGU9Yy5pbmRleE9mKHQpO3JldHVybi0xIT09ZSYmYy5zcGxpY2UoZSwyKSx0aGlzfSx0aGlzLmdldEhhbmRsZXI9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj1jLmxlbmd0aDtlPG47ZSs9Mil7dmFyIGk9Y1tlXSxyPWNbZSsxXTtpZihpLmdsb2JhbCYmKGkubGFzdEluZGV4PTApLGkudGVzdCh0KSlyZXR1cm4gcn1yZXR1cm4gbnVsbH19dmFyIFlzPW5ldyBYcztmdW5jdGlvbiBacyh0KXt0aGlzLm1hbmFnZXI9dm9pZCAwIT09dD90OllzLHRoaXMuY3Jvc3NPcmlnaW49ImFub255bW91cyIsdGhpcy53aXRoQ3JlZGVudGlhbHM9ITEsdGhpcy5wYXRoPSIiLHRoaXMucmVzb3VyY2VQYXRoPSIiLHRoaXMucmVxdWVzdEhlYWRlcj17fX1PYmplY3QuYXNzaWduKFpzLnByb3RvdHlwZSx7bG9hZDpmdW5jdGlvbigpe30sbG9hZEFzeW5jOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGkscil7bi5sb2FkKHQsaSxlLHIpfSkpfSxwYXJzZTpmdW5jdGlvbigpe30sc2V0Q3Jvc3NPcmlnaW46ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY3Jvc3NPcmlnaW49dCx0aGlzfSxzZXRXaXRoQ3JlZGVudGlhbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMud2l0aENyZWRlbnRpYWxzPXQsdGhpc30sc2V0UGF0aDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wYXRoPXQsdGhpc30sc2V0UmVzb3VyY2VQYXRoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlc291cmNlUGF0aD10LHRoaXN9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVxdWVzdEhlYWRlcj10LHRoaXN9fSk7dmFyIEpzPXt9O2Z1bmN0aW9uIFFzKHQpe1pzLmNhbGwodGhpcyx0KX1Rcy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKFpzLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlFzLGxvYWQ6ZnVuY3Rpb24odCxlLG4saSl7dm9pZCAwPT09dCYmKHQ9IiIpLHZvaWQgMCE9PXRoaXMucGF0aCYmKHQ9dGhpcy5wYXRoK3QpLHQ9dGhpcy5tYW5hZ2VyLnJlc29sdmVVUkwodCk7dmFyIHI9dGhpcyxhPXFzLmdldCh0KTtpZih2b2lkIDAhPT1hKXJldHVybiByLm1hbmFnZXIuaXRlbVN0YXJ0KHQpLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZSYmZShhKSxyLm1hbmFnZXIuaXRlbUVuZCh0KX0pLDApLGE7aWYodm9pZCAwPT09SnNbdF0pe3ZhciBvLHM9dC5tYXRjaCgvXmRhdGE6KC4qPykoO2Jhc2U2NCk/LCguKikkLyk7aWYocyl7dmFyIGM9c1sxXSxsPSEhc1syXSx1PXNbM107dT1kZWNvZGVVUklDb21wb25lbnQodSksbCYmKHU9YXRvYih1KSk7dHJ5e3ZhciBoLGQ9KHRoaXMucmVzcG9uc2VUeXBlfHwiIikudG9Mb3dlckNhc2UoKTtzd2l0Y2goZCl7Y2FzZSJhcnJheWJ1ZmZlciI6Y2FzZSJibG9iIjpmb3IodmFyIHA9bmV3IFVpbnQ4QXJyYXkodS5sZW5ndGgpLGY9MDtmPHUubGVuZ3RoO2YrKylwW2ZdPXUuY2hhckNvZGVBdChmKTtoPSJibG9iIj09PWQ/bmV3IEJsb2IoW3AuYnVmZmVyXSx7dHlwZTpjfSk6cC5idWZmZXI7YnJlYWs7Y2FzZSJkb2N1bWVudCI6dmFyIG09bmV3IERPTVBhcnNlcjtoPW0ucGFyc2VGcm9tU3RyaW5nKHUsYyk7YnJlYWs7Y2FzZSJqc29uIjpoPUpTT04ucGFyc2UodSk7YnJlYWs7ZGVmYXVsdDpoPXV9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlJiZlKGgpLHIubWFuYWdlci5pdGVtRW5kKHQpfSksMCl9Y2F0Y2goZSl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtpJiZpKGUpLHIubWFuYWdlci5pdGVtRXJyb3IodCksci5tYW5hZ2VyLml0ZW1FbmQodCl9KSwwKX19ZWxzZXtmb3IodmFyIHYgaW4gSnNbdF09W10sSnNbdF0ucHVzaCh7b25Mb2FkOmUsb25Qcm9ncmVzczpuLG9uRXJyb3I6aX0pLChvPW5ldyBYTUxIdHRwUmVxdWVzdCkub3BlbigiR0VUIix0LCEwKSxvLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLChmdW5jdGlvbihlKXt2YXIgbj10aGlzLnJlc3BvbnNlLGk9SnNbdF07aWYoZGVsZXRlIEpzW3RdLDIwMD09PXRoaXMuc3RhdHVzfHwwPT09dGhpcy5zdGF0dXMpezA9PT10aGlzLnN0YXR1cyYmY29uc29sZS53YXJuKCJUSFJFRS5GaWxlTG9hZGVyOiBIVFRQIFN0YXR1cyAwIHJlY2VpdmVkLiIpLHFzLmFkZCh0LG4pO2Zvcih2YXIgYT0wLG89aS5sZW5ndGg7YTxvO2ErKyl7dmFyIHM9aVthXTtzLm9uTG9hZCYmcy5vbkxvYWQobil9ci5tYW5hZ2VyLml0ZW1FbmQodCl9ZWxzZXtmb3IodmFyIGM9MCxsPWkubGVuZ3RoO2M8bDtjKyspe3ZhciB1PWlbY107dS5vbkVycm9yJiZ1Lm9uRXJyb3IoZSl9ci5tYW5hZ2VyLml0ZW1FcnJvcih0KSxyLm1hbmFnZXIuaXRlbUVuZCh0KX19KSwhMSksby5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsKGZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1Kc1t0XSxpPTAscj1uLmxlbmd0aDtpPHI7aSsrKXt2YXIgYT1uW2ldO2Eub25Qcm9ncmVzcyYmYS5vblByb2dyZXNzKGUpfX0pLCExKSxvLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIiwoZnVuY3Rpb24oZSl7dmFyIG49SnNbdF07ZGVsZXRlIEpzW3RdO2Zvcih2YXIgaT0wLGE9bi5sZW5ndGg7aTxhO2krKyl7dmFyIG89bltpXTtvLm9uRXJyb3ImJm8ub25FcnJvcihlKX1yLm1hbmFnZXIuaXRlbUVycm9yKHQpLHIubWFuYWdlci5pdGVtRW5kKHQpfSksITEpLG8uYWRkRXZlbnRMaXN0ZW5lcigiYWJvcnQiLChmdW5jdGlvbihlKXt2YXIgbj1Kc1t0XTtkZWxldGUgSnNbdF07Zm9yKHZhciBpPTAsYT1uLmxlbmd0aDtpPGE7aSsrKXt2YXIgbz1uW2ldO28ub25FcnJvciYmby5vbkVycm9yKGUpfXIubWFuYWdlci5pdGVtRXJyb3IodCksci5tYW5hZ2VyLml0ZW1FbmQodCl9KSwhMSksdm9pZCAwIT09dGhpcy5yZXNwb25zZVR5cGUmJihvLnJlc3BvbnNlVHlwZT10aGlzLnJlc3BvbnNlVHlwZSksdm9pZCAwIT09dGhpcy53aXRoQ3JlZGVudGlhbHMmJihvLndpdGhDcmVkZW50aWFscz10aGlzLndpdGhDcmVkZW50aWFscyksby5vdmVycmlkZU1pbWVUeXBlJiZvLm92ZXJyaWRlTWltZVR5cGUodm9pZCAwIT09dGhpcy5taW1lVHlwZT90aGlzLm1pbWVUeXBlOiJ0ZXh0L3BsYWluIiksdGhpcy5yZXF1ZXN0SGVhZGVyKW8uc2V0UmVxdWVzdEhlYWRlcih2LHRoaXMucmVxdWVzdEhlYWRlclt2XSk7by5zZW5kKG51bGwpfXJldHVybiByLm1hbmFnZXIuaXRlbVN0YXJ0KHQpLG99SnNbdF0ucHVzaCh7b25Mb2FkOmUsb25Qcm9ncmVzczpuLG9uRXJyb3I6aX0pfSxzZXRSZXNwb25zZVR5cGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVzcG9uc2VUeXBlPXQsdGhpc30sc2V0TWltZVR5cGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWltZVR5cGU9dCx0aGlzfX0pO3ZhciBLcz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31jdChlLHQpO3ZhciBuPWUucHJvdG90eXBlO3JldHVybiBuLmxvYWQ9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcyxhPW5ldyBRcyh0aGlzLm1hbmFnZXIpO2Euc2V0UGF0aCh0aGlzLnBhdGgpLGEuc2V0UmVxdWVzdEhlYWRlcih0aGlzLnJlcXVlc3RIZWFkZXIpLGEuc2V0V2l0aENyZWRlbnRpYWxzKHRoaXMud2l0aENyZWRlbnRpYWxzKSxhLmxvYWQodCwoZnVuY3Rpb24obil7dHJ5e2Uoci5wYXJzZShKU09OLnBhcnNlKG4pKSl9Y2F0Y2goZSl7aT9pKGUpOmNvbnNvbGUuZXJyb3IoZSksci5tYW5hZ2VyLml0ZW1FcnJvcih0KX19KSxuLGkpfSxuLnBhcnNlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPVdzLnBhcnNlKHRbbl0pO2UucHVzaChpKX1yZXR1cm4gZX0sZX0oWnMpO2Z1bmN0aW9uICRzKHQpe1pzLmNhbGwodGhpcyx0KX0kcy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKFpzLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOiRzLGxvYWQ6ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcyxhPVtdLG89bmV3IGdvLHM9bmV3IFFzKHRoaXMubWFuYWdlcik7cy5zZXRQYXRoKHRoaXMucGF0aCkscy5zZXRSZXNwb25zZVR5cGUoImFycmF5YnVmZmVyIikscy5zZXRSZXF1ZXN0SGVhZGVyKHRoaXMucmVxdWVzdEhlYWRlcikscy5zZXRXaXRoQ3JlZGVudGlhbHMoci53aXRoQ3JlZGVudGlhbHMpO3ZhciBjPTA7ZnVuY3Rpb24gbChsKXtzLmxvYWQodFtsXSwoZnVuY3Rpb24odCl7dmFyIG49ci5wYXJzZSh0LCEwKTthW2xdPXt3aWR0aDpuLndpZHRoLGhlaWdodDpuLmhlaWdodCxmb3JtYXQ6bi5mb3JtYXQsbWlwbWFwczpuLm1pcG1hcHN9LDY9PT0oYys9MSkmJigxPT09bi5taXBtYXBDb3VudCYmKG8ubWluRmlsdGVyPWcpLG8uaW1hZ2U9YSxvLmZvcm1hdD1uLmZvcm1hdCxvLm5lZWRzVXBkYXRlPSEwLGUmJmUobykpfSksbixpKX1pZihBcnJheS5pc0FycmF5KHQpKWZvcih2YXIgdT0wLGg9dC5sZW5ndGg7dTxoOysrdSlsKHUpO2Vsc2Ugcy5sb2FkKHQsKGZ1bmN0aW9uKHQpe3ZhciBuPXIucGFyc2UodCwhMCk7aWYobi5pc0N1YmVtYXApe2Zvcih2YXIgaT1uLm1pcG1hcHMubGVuZ3RoL24ubWlwbWFwQ291bnQscz0wO3M8aTtzKyspe2Fbc109e21pcG1hcHM6W119O2Zvcih2YXIgYz0wO2M8bi5taXBtYXBDb3VudDtjKyspYVtzXS5taXBtYXBzLnB1c2gobi5taXBtYXBzW3Mqbi5taXBtYXBDb3VudCtjXSksYVtzXS5mb3JtYXQ9bi5mb3JtYXQsYVtzXS53aWR0aD1uLndpZHRoLGFbc10uaGVpZ2h0PW4uaGVpZ2h0fW8uaW1hZ2U9YX1lbHNlIG8uaW1hZ2Uud2lkdGg9bi53aWR0aCxvLmltYWdlLmhlaWdodD1uLmhlaWdodCxvLm1pcG1hcHM9bi5taXBtYXBzOzE9PT1uLm1pcG1hcENvdW50JiYoby5taW5GaWx0ZXI9Zyksby5mb3JtYXQ9bi5mb3JtYXQsby5uZWVkc1VwZGF0ZT0hMCxlJiZlKG8pfSksbixpKTtyZXR1cm4gb319KTt2YXIgdGM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9cmV0dXJuIGN0KGUsdCksZS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0LGUsbixpKXt2b2lkIDAhPT10aGlzLnBhdGgmJih0PXRoaXMucGF0aCt0KSx0PXRoaXMubWFuYWdlci5yZXNvbHZlVVJMKHQpO3ZhciByPXRoaXMsYT1xcy5nZXQodCk7aWYodm9pZCAwIT09YSlyZXR1cm4gci5tYW5hZ2VyLml0ZW1TdGFydCh0KSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe2UmJmUoYSksci5tYW5hZ2VyLml0ZW1FbmQodCl9KSwwKSxhO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsImltZyIpO2Z1bmN0aW9uIHMoKXtvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLHMsITEpLG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGMsITEpLHFzLmFkZCh0LHRoaXMpLGUmJmUodGhpcyksci5tYW5hZ2VyLml0ZW1FbmQodCl9ZnVuY3Rpb24gYyhlKXtvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLHMsITEpLG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGMsITEpLGkmJmkoZSksci5tYW5hZ2VyLml0ZW1FcnJvcih0KSxyLm1hbmFnZXIuaXRlbUVuZCh0KX1yZXR1cm4gby5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixzLCExKSxvLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixjLCExKSwiZGF0YToiIT09dC5zdWJzdHIoMCw1KSYmdm9pZCAwIT09dGhpcy5jcm9zc09yaWdpbiYmKG8uY3Jvc3NPcmlnaW49dGhpcy5jcm9zc09yaWdpbiksci5tYW5hZ2VyLml0ZW1TdGFydCh0KSxvLnNyYz10LG99LGV9KFpzKSxlYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31yZXR1cm4gY3QoZSx0KSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW5ldyBLbixhPW5ldyB0Yyh0aGlzLm1hbmFnZXIpO2Euc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbiksYS5zZXRQYXRoKHRoaXMucGF0aCk7dmFyIG89MDtmdW5jdGlvbiBzKG4pe2EubG9hZCh0W25dLChmdW5jdGlvbih0KXtyLmltYWdlc1tuXT10LDY9PT0rK28mJihyLm5lZWRzVXBkYXRlPSEwLGUmJmUocikpfSksdm9pZCAwLGkpfWZvcih2YXIgYz0wO2M8dC5sZW5ndGg7KytjKXMoYyk7cmV0dXJuIHJ9LGV9KFpzKTtmdW5jdGlvbiBuYyh0KXtacy5jYWxsKHRoaXMsdCl9ZnVuY3Rpb24gaWModCl7WnMuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIHJjKCl7dGhpcy50eXBlPSJDdXJ2ZSIsdGhpcy5hcmNMZW5ndGhEaXZpc2lvbnM9MjAwfW5jLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoWnMucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6bmMsbG9hZDpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLGE9bmV3IHRpLG89bmV3IFFzKHRoaXMubWFuYWdlcik7cmV0dXJuIG8uc2V0UmVzcG9uc2VUeXBlKCJhcnJheWJ1ZmZlciIpLG8uc2V0UmVxdWVzdEhlYWRlcih0aGlzLnJlcXVlc3RIZWFkZXIpLG8uc2V0UGF0aCh0aGlzLnBhdGgpLG8uc2V0V2l0aENyZWRlbnRpYWxzKHIud2l0aENyZWRlbnRpYWxzKSxvLmxvYWQodCwoZnVuY3Rpb24odCl7dmFyIG49ci5wYXJzZSh0KTtuJiYodm9pZCAwIT09bi5pbWFnZT9hLmltYWdlPW4uaW1hZ2U6dm9pZCAwIT09bi5kYXRhJiYoYS5pbWFnZS53aWR0aD1uLndpZHRoLGEuaW1hZ2UuaGVpZ2h0PW4uaGVpZ2h0LGEuaW1hZ2UuZGF0YT1uLmRhdGEpLGEud3JhcFM9dm9pZCAwIT09bi53cmFwUz9uLndyYXBTOmQsYS53cmFwVD12b2lkIDAhPT1uLndyYXBUP24ud3JhcFQ6ZCxhLm1hZ0ZpbHRlcj12b2lkIDAhPT1uLm1hZ0ZpbHRlcj9uLm1hZ0ZpbHRlcjpnLGEubWluRmlsdGVyPXZvaWQgMCE9PW4ubWluRmlsdGVyP24ubWluRmlsdGVyOmcsYS5hbmlzb3Ryb3B5PXZvaWQgMCE9PW4uYW5pc290cm9weT9uLmFuaXNvdHJvcHk6MSx2b2lkIDAhPT1uLmVuY29kaW5nJiYoYS5lbmNvZGluZz1uLmVuY29kaW5nKSx2b2lkIDAhPT1uLmZsaXBZJiYoYS5mbGlwWT1uLmZsaXBZKSx2b2lkIDAhPT1uLmZvcm1hdCYmKGEuZm9ybWF0PW4uZm9ybWF0KSx2b2lkIDAhPT1uLnR5cGUmJihhLnR5cGU9bi50eXBlKSx2b2lkIDAhPT1uLm1pcG1hcHMmJihhLm1pcG1hcHM9bi5taXBtYXBzLGEubWluRmlsdGVyPXgpLDE9PT1uLm1pcG1hcENvdW50JiYoYS5taW5GaWx0ZXI9ZyksYS5uZWVkc1VwZGF0ZT0hMCxlJiZlKGEsbikpfSksbixpKSxhfX0pLGljLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoWnMucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6aWMsbG9hZDpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uZXcgd3QsYT1uZXcgdGModGhpcy5tYW5hZ2VyKTtyZXR1cm4gYS5zZXRDcm9zc09yaWdpbih0aGlzLmNyb3NzT3JpZ2luKSxhLnNldFBhdGgodGhpcy5wYXRoKSxhLmxvYWQodCwoZnVuY3Rpb24obil7ci5pbWFnZT1uO3ZhciBpPXQuc2VhcmNoKC9cLmpwZT9nKCR8XD8pL2kpPjB8fDA9PT10LnNlYXJjaCgvXmRhdGFcOmltYWdlXC9qcGVnLyk7ci5mb3JtYXQ9aT9FOkEsci5uZWVkc1VwZGF0ZT0hMCx2b2lkIDAhPT1lJiZlKHIpfSksbixpKSxyfX0pLE9iamVjdC5hc3NpZ24ocmMucHJvdG90eXBlLHtnZXRQb2ludDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkN1cnZlOiAuZ2V0UG9pbnQoKSBub3QgaW1wbGVtZW50ZWQuIiksbnVsbH0sZ2V0UG9pbnRBdDpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZ2V0VXRvVG1hcHBpbmcodCk7cmV0dXJuIHRoaXMuZ2V0UG9pbnQobixlKX0sZ2V0UG9pbnRzOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PTUpO2Zvcih2YXIgZT1bXSxuPTA7bjw9dDtuKyspZS5wdXNoKHRoaXMuZ2V0UG9pbnQobi90KSk7cmV0dXJuIGV9LGdldFNwYWNlZFBvaW50czpmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD01KTtmb3IodmFyIGU9W10sbj0wO248PXQ7bisrKWUucHVzaCh0aGlzLmdldFBvaW50QXQobi90KSk7cmV0dXJuIGV9LGdldExlbmd0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0TGVuZ3RocygpO3JldHVybiB0W3QubGVuZ3RoLTFdfSxnZXRMZW5ndGhzOmZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQmJih0PXRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zKSx0aGlzLmNhY2hlQXJjTGVuZ3RocyYmdGhpcy5jYWNoZUFyY0xlbmd0aHMubGVuZ3RoPT09dCsxJiYhdGhpcy5uZWVkc1VwZGF0ZSlyZXR1cm4gdGhpcy5jYWNoZUFyY0xlbmd0aHM7dGhpcy5uZWVkc1VwZGF0ZT0hMTt2YXIgZSxuPVtdLGk9dGhpcy5nZXRQb2ludCgwKSxyPTA7bi5wdXNoKDApO2Zvcih2YXIgYT0xO2E8PXQ7YSsrKXIrPShlPXRoaXMuZ2V0UG9pbnQoYS90KSkuZGlzdGFuY2VUbyhpKSxuLnB1c2gociksaT1lO3JldHVybiB0aGlzLmNhY2hlQXJjTGVuZ3Rocz1uLG59LHVwZGF0ZUFyY0xlbmd0aHM6ZnVuY3Rpb24oKXt0aGlzLm5lZWRzVXBkYXRlPSEwLHRoaXMuZ2V0TGVuZ3RocygpfSxnZXRVdG9UbWFwcGluZzpmdW5jdGlvbih0LGUpe3ZhciBuLGk9dGhpcy5nZXRMZW5ndGhzKCkscj0wLGE9aS5sZW5ndGg7bj1lfHx0KmlbYS0xXTtmb3IodmFyIG8scz0wLGM9YS0xO3M8PWM7KWlmKChvPWlbcj1NYXRoLmZsb29yKHMrKGMtcykvMildLW4pPDApcz1yKzE7ZWxzZXtpZighKG8+MCkpe2M9cjticmVha31jPXItMX1pZihpW3I9Y109PT1uKXJldHVybiByLyhhLTEpO3ZhciBsPWlbcl07cmV0dXJuKHIrKG4tbCkvKGlbcisxXS1sKSkvKGEtMSl9LGdldFRhbmdlbnQ6ZnVuY3Rpb24odCxlKXt2YXIgbj0xZS00LGk9dC1uLHI9dCtuO2k8MCYmKGk9MCkscj4xJiYocj0xKTt2YXIgYT10aGlzLmdldFBvaW50KGkpLG89dGhpcy5nZXRQb2ludChyKSxzPWV8fChhLmlzVmVjdG9yMj9uZXcgeXQ6bmV3IEx0KTtyZXR1cm4gcy5jb3B5KG8pLnN1YihhKS5ub3JtYWxpemUoKSxzfSxnZXRUYW5nZW50QXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldFV0b1RtYXBwaW5nKHQpO3JldHVybiB0aGlzLmdldFRhbmdlbnQobixlKX0sY29tcHV0ZUZyZW5ldEZyYW1lczpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1uZXcgTHQsaT1bXSxyPVtdLGE9W10sbz1uZXcgTHQscz1uZXcgbmUsYz0wO2M8PXQ7YysrKXt2YXIgbD1jL3Q7aVtjXT10aGlzLmdldFRhbmdlbnRBdChsLG5ldyBMdCksaVtjXS5ub3JtYWxpemUoKX1yWzBdPW5ldyBMdCxhWzBdPW5ldyBMdDt2YXIgdT1OdW1iZXIuTUFYX1ZBTFVFLGg9TWF0aC5hYnMoaVswXS54KSxkPU1hdGguYWJzKGlbMF0ueSkscD1NYXRoLmFicyhpWzBdLnopO2g8PXUmJih1PWgsbi5zZXQoMSwwLDApKSxkPD11JiYodT1kLG4uc2V0KDAsMSwwKSkscDw9dSYmbi5zZXQoMCwwLDEpLG8uY3Jvc3NWZWN0b3JzKGlbMF0sbikubm9ybWFsaXplKCksclswXS5jcm9zc1ZlY3RvcnMoaVswXSxvKSxhWzBdLmNyb3NzVmVjdG9ycyhpWzBdLHJbMF0pO2Zvcih2YXIgZj0xO2Y8PXQ7ZisrKXtpZihyW2ZdPXJbZi0xXS5jbG9uZSgpLGFbZl09YVtmLTFdLmNsb25lKCksby5jcm9zc1ZlY3RvcnMoaVtmLTFdLGlbZl0pLG8ubGVuZ3RoKCk+TnVtYmVyLkVQU0lMT04pe28ubm9ybWFsaXplKCk7dmFyIG09TWF0aC5hY29zKGd0LmNsYW1wKGlbZi0xXS5kb3QoaVtmXSksLTEsMSkpO3JbZl0uYXBwbHlNYXRyaXg0KHMubWFrZVJvdGF0aW9uQXhpcyhvLG0pKX1hW2ZdLmNyb3NzVmVjdG9ycyhpW2ZdLHJbZl0pfWlmKCEwPT09ZSl7dmFyIHY9TWF0aC5hY29zKGd0LmNsYW1wKHJbMF0uZG90KHJbdF0pLC0xLDEpKTt2Lz10LGlbMF0uZG90KG8uY3Jvc3NWZWN0b3JzKHJbMF0sclt0XSkpPjAmJih2PS12KTtmb3IodmFyIGc9MTtnPD10O2crKylyW2ddLmFwcGx5TWF0cml4NChzLm1ha2VSb3RhdGlvbkF4aXMoaVtnXSx2KmcpKSxhW2ddLmNyb3NzVmVjdG9ycyhpW2ddLHJbZ10pfXJldHVybnt0YW5nZW50czppLG5vcm1hbHM6cixiaW5vcm1hbHM6YX19LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfSxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFyY0xlbmd0aERpdmlzaW9ucz10LmFyY0xlbmd0aERpdmlzaW9ucyx0aGlzfSx0b0pTT046ZnVuY3Rpb24oKXt2YXIgdD17bWV0YWRhdGE6e3ZlcnNpb246NC41LHR5cGU6IkN1cnZlIixnZW5lcmF0b3I6IkN1cnZlLnRvSlNPTiJ9fTtyZXR1cm4gdC5hcmNMZW5ndGhEaXZpc2lvbnM9dGhpcy5hcmNMZW5ndGhEaXZpc2lvbnMsdC50eXBlPXRoaXMudHlwZSx0fSxmcm9tSlNPTjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hcmNMZW5ndGhEaXZpc2lvbnM9dC5hcmNMZW5ndGhEaXZpc2lvbnMsdGhpc319KTt2YXIgYWM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyLGEsbyxzLGMpe3ZhciBsO3JldHVybihsPXQuY2FsbCh0aGlzKXx8dGhpcykudHlwZT0iRWxsaXBzZUN1cnZlIixPYmplY3QuZGVmaW5lUHJvcGVydHkobHQobCksImlzRWxsaXBzZUN1cnZlIix7dmFsdWU6ITB9KSxsLmFYPWV8fDAsbC5hWT1ufHwwLGwueFJhZGl1cz1pfHwxLGwueVJhZGl1cz1yfHwxLGwuYVN0YXJ0QW5nbGU9YXx8MCxsLmFFbmRBbmdsZT1vfHwyKk1hdGguUEksbC5hQ2xvY2t3aXNlPXN8fCExLGwuYVJvdGF0aW9uPWN8fDAsbH1jdChlLHQpO3ZhciBuPWUucHJvdG90eXBlO3JldHVybiBuLmdldFBvaW50PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWV8fG5ldyB5dCxpPTIqTWF0aC5QSSxyPXRoaXMuYUVuZEFuZ2xlLXRoaXMuYVN0YXJ0QW5nbGUsYT1NYXRoLmFicyhyKTxOdW1iZXIuRVBTSUxPTjtyPDA7KXIrPWk7Zm9yKDtyPmk7KXItPWk7cjxOdW1iZXIuRVBTSUxPTiYmKHI9YT8wOmkpLCEwIT09dGhpcy5hQ2xvY2t3aXNlfHxhfHwocj09PWk/cj0taTpyLT1pKTt2YXIgbz10aGlzLmFTdGFydEFuZ2xlK3QqcixzPXRoaXMuYVgrdGhpcy54UmFkaXVzKk1hdGguY29zKG8pLGM9dGhpcy5hWSt0aGlzLnlSYWRpdXMqTWF0aC5zaW4obyk7aWYoMCE9PXRoaXMuYVJvdGF0aW9uKXt2YXIgbD1NYXRoLmNvcyh0aGlzLmFSb3RhdGlvbiksdT1NYXRoLnNpbih0aGlzLmFSb3RhdGlvbiksaD1zLXRoaXMuYVgsZD1jLXRoaXMuYVk7cz1oKmwtZCp1K3RoaXMuYVgsYz1oKnUrZCpsK3RoaXMuYVl9cmV0dXJuIG4uc2V0KHMsYyl9LG4uY29weT1mdW5jdGlvbihlKXtyZXR1cm4gdC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy5hWD1lLmFYLHRoaXMuYVk9ZS5hWSx0aGlzLnhSYWRpdXM9ZS54UmFkaXVzLHRoaXMueVJhZGl1cz1lLnlSYWRpdXMsdGhpcy5hU3RhcnRBbmdsZT1lLmFTdGFydEFuZ2xlLHRoaXMuYUVuZEFuZ2xlPWUuYUVuZEFuZ2xlLHRoaXMuYUNsb2Nrd2lzZT1lLmFDbG9ja3dpc2UsdGhpcy5hUm90YXRpb249ZS5hUm90YXRpb24sdGhpc30sbi50b0pTT049ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gZS5hWD10aGlzLmFYLGUuYVk9dGhpcy5hWSxlLnhSYWRpdXM9dGhpcy54UmFkaXVzLGUueVJhZGl1cz10aGlzLnlSYWRpdXMsZS5hU3RhcnRBbmdsZT10aGlzLmFTdGFydEFuZ2xlLGUuYUVuZEFuZ2xlPXRoaXMuYUVuZEFuZ2xlLGUuYUNsb2Nrd2lzZT10aGlzLmFDbG9ja3dpc2UsZS5hUm90YXRpb249dGhpcy5hUm90YXRpb24sZX0sbi5mcm9tSlNPTj1mdW5jdGlvbihlKXtyZXR1cm4gdC5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGUpLHRoaXMuYVg9ZS5hWCx0aGlzLmFZPWUuYVksdGhpcy54UmFkaXVzPWUueFJhZGl1cyx0aGlzLnlSYWRpdXM9ZS55UmFkaXVzLHRoaXMuYVN0YXJ0QW5nbGU9ZS5hU3RhcnRBbmdsZSx0aGlzLmFFbmRBbmdsZT1lLmFFbmRBbmdsZSx0aGlzLmFDbG9ja3dpc2U9ZS5hQ2xvY2t3aXNlLHRoaXMuYVJvdGF0aW9uPWUuYVJvdGF0aW9uLHRoaXN9LGV9KHJjKSxvYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIsYSxvKXt2YXIgcztyZXR1cm4ocz10LmNhbGwodGhpcyxlLG4saSxpLHIsYSxvKXx8dGhpcykudHlwZT0iQXJjQ3VydmUiLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsdChzKSwiaXNBcmNDdXJ2ZSIse3ZhbHVlOiEwfSksc31yZXR1cm4gY3QoZSx0KSxlfShhYyk7ZnVuY3Rpb24gc2MoKXt2YXIgdD0wLGU9MCxuPTAsaT0wO2Z1bmN0aW9uIHIocixhLG8scyl7dD1yLGU9byxuPS0zKnIrMyphLTIqby1zLGk9MipyLTIqYStvK3N9cmV0dXJue2luaXRDYXRtdWxsUm9tOmZ1bmN0aW9uKHQsZSxuLGksYSl7cihlLG4sYSoobi10KSxhKihpLWUpKX0saW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tOmZ1bmN0aW9uKHQsZSxuLGksYSxvLHMpe3ZhciBjPShlLXQpL2EtKG4tdCkvKGErbykrKG4tZSkvbyxsPShuLWUpL28tKGktZSkvKG8rcykrKGktbikvcztyKGUsbixjKj1vLGwqPW8pfSxjYWxjOmZ1bmN0aW9uKHIpe3ZhciBhPXIqcjtyZXR1cm4gdCtlKnIrbiphK2kqKGEqcil9fX12YXIgY2M9bmV3IEx0LGxjPW5ldyBzYyx1Yz1uZXcgc2MsaGM9bmV3IHNjLGRjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscil7dmFyIGE7cmV0dXJuIHZvaWQgMD09PWUmJihlPVtdKSx2b2lkIDA9PT1uJiYobj0hMSksdm9pZCAwPT09aSYmKGk9ImNlbnRyaXBldGFsIiksdm9pZCAwPT09ciYmKHI9LjUpLChhPXQuY2FsbCh0aGlzKXx8dGhpcykudHlwZT0iQ2F0bXVsbFJvbUN1cnZlMyIsT2JqZWN0LmRlZmluZVByb3BlcnR5KGx0KGEpLCJpc0NhdG11bGxSb21DdXJ2ZTMiLHt2YWx1ZTohMH0pLGEucG9pbnRzPWUsYS5jbG9zZWQ9bixhLmN1cnZlVHlwZT1pLGEudGVuc2lvbj1yLGF9Y3QoZSx0KTt2YXIgbj1lLnByb3RvdHlwZTtyZXR1cm4gbi5nZXRQb2ludD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPW5ldyBMdCk7dmFyIG4saSxyPWUsYT10aGlzLnBvaW50cyxvPWEubGVuZ3RoLHM9KG8tKHRoaXMuY2xvc2VkPzA6MSkpKnQsYz1NYXRoLmZsb29yKHMpLGw9cy1jO3RoaXMuY2xvc2VkP2MrPWM+MD8wOihNYXRoLmZsb29yKE1hdGguYWJzKGMpL28pKzEpKm86MD09PWwmJmM9PT1vLTEmJihjPW8tMixsPTEpLHRoaXMuY2xvc2VkfHxjPjA/bj1hWyhjLTEpJW9dOihjYy5zdWJWZWN0b3JzKGFbMF0sYVsxXSkuYWRkKGFbMF0pLG49Y2MpO3ZhciB1PWFbYyVvXSxoPWFbKGMrMSklb107aWYodGhpcy5jbG9zZWR8fGMrMjxvP2k9YVsoYysyKSVvXTooY2Muc3ViVmVjdG9ycyhhW28tMV0sYVtvLTJdKS5hZGQoYVtvLTFdKSxpPWNjKSwiY2VudHJpcGV0YWwiPT09dGhpcy5jdXJ2ZVR5cGV8fCJjaG9yZGFsIj09PXRoaXMuY3VydmVUeXBlKXt2YXIgZD0iY2hvcmRhbCI9PT10aGlzLmN1cnZlVHlwZT8uNTouMjUscD1NYXRoLnBvdyhuLmRpc3RhbmNlVG9TcXVhcmVkKHUpLGQpLGY9TWF0aC5wb3codS5kaXN0YW5jZVRvU3F1YXJlZChoKSxkKSxtPU1hdGgucG93KGguZGlzdGFuY2VUb1NxdWFyZWQoaSksZCk7ZjwxZS00JiYoZj0xKSxwPDFlLTQmJihwPWYpLG08MWUtNCYmKG09ZiksbGMuaW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tKG4ueCx1LngsaC54LGkueCxwLGYsbSksdWMuaW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tKG4ueSx1LnksaC55LGkueSxwLGYsbSksaGMuaW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tKG4ueix1LnosaC56LGkueixwLGYsbSl9ZWxzZSJjYXRtdWxscm9tIj09PXRoaXMuY3VydmVUeXBlJiYobGMuaW5pdENhdG11bGxSb20obi54LHUueCxoLngsaS54LHRoaXMudGVuc2lvbiksdWMuaW5pdENhdG11bGxSb20obi55LHUueSxoLnksaS55LHRoaXMudGVuc2lvbiksaGMuaW5pdENhdG11bGxSb20obi56LHUueixoLnosaS56LHRoaXMudGVuc2lvbikpO3JldHVybiByLnNldChsYy5jYWxjKGwpLHVjLmNhbGMobCksaGMuY2FsYyhsKSkscn0sbi5jb3B5PWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMucG9pbnRzPVtdO2Zvcih2YXIgbj0wLGk9ZS5wb2ludHMubGVuZ3RoO248aTtuKyspe3ZhciByPWUucG9pbnRzW25dO3RoaXMucG9pbnRzLnB1c2goci5jbG9uZSgpKX1yZXR1cm4gdGhpcy5jbG9zZWQ9ZS5jbG9zZWQsdGhpcy5jdXJ2ZVR5cGU9ZS5jdXJ2ZVR5cGUsdGhpcy50ZW5zaW9uPWUudGVuc2lvbix0aGlzfSxuLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXQucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO2UucG9pbnRzPVtdO2Zvcih2YXIgbj0wLGk9dGhpcy5wb2ludHMubGVuZ3RoO248aTtuKyspe3ZhciByPXRoaXMucG9pbnRzW25dO2UucG9pbnRzLnB1c2goci50b0FycmF5KCkpfXJldHVybiBlLmNsb3NlZD10aGlzLmNsb3NlZCxlLmN1cnZlVHlwZT10aGlzLmN1cnZlVHlwZSxlLnRlbnNpb249dGhpcy50ZW5zaW9uLGV9LG4uZnJvbUpTT049ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGUpLHRoaXMucG9pbnRzPVtdO2Zvcih2YXIgbj0wLGk9ZS5wb2ludHMubGVuZ3RoO248aTtuKyspe3ZhciByPWUucG9pbnRzW25dO3RoaXMucG9pbnRzLnB1c2goKG5ldyBMdCkuZnJvbUFycmF5KHIpKX1yZXR1cm4gdGhpcy5jbG9zZWQ9ZS5jbG9zZWQsdGhpcy5jdXJ2ZVR5cGU9ZS5jdXJ2ZVR5cGUsdGhpcy50ZW5zaW9uPWUudGVuc2lvbix0aGlzfSxlfShyYyk7ZnVuY3Rpb24gcGModCxlLG4saSxyKXt2YXIgYT0uNSooaS1lKSxvPS41KihyLW4pLHM9dCp0O3JldHVybigyKm4tMippK2ErbykqKHQqcykrKC0zKm4rMyppLTIqYS1vKSpzK2EqdCtufWZ1bmN0aW9uIGZjKHQsZSxuLGkpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPTEtdDtyZXR1cm4gbipuKmV9KHQsZSkrZnVuY3Rpb24odCxlKXtyZXR1cm4gMiooMS10KSp0KmV9KHQsbikrZnVuY3Rpb24odCxlKXtyZXR1cm4gdCp0KmV9KHQsaSl9ZnVuY3Rpb24gbWModCxlLG4saSxyKXtyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj0xLXQ7cmV0dXJuIG4qbipuKmV9KHQsZSkrZnVuY3Rpb24odCxlKXt2YXIgbj0xLXQ7cmV0dXJuIDMqbipuKnQqZX0odCxuKStmdW5jdGlvbih0LGUpe3JldHVybiAzKigxLXQpKnQqdCplfSh0LGkpK2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHQqdCp0KmV9KHQscil9dmFyIHZjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscil7dmFyIGE7cmV0dXJuIHZvaWQgMD09PWUmJihlPW5ldyB5dCksdm9pZCAwPT09biYmKG49bmV3IHl0KSx2b2lkIDA9PT1pJiYoaT1uZXcgeXQpLHZvaWQgMD09PXImJihyPW5ldyB5dCksKGE9dC5jYWxsKHRoaXMpfHx0aGlzKS50eXBlPSJDdWJpY0JlemllckN1cnZlIixPYmplY3QuZGVmaW5lUHJvcGVydHkobHQoYSksImlzQ3ViaWNCZXppZXJDdXJ2ZSIse3ZhbHVlOiEwfSksYS52MD1lLGEudjE9bixhLnYyPWksYS52Mz1yLGF9Y3QoZSx0KTt2YXIgbj1lLnByb3RvdHlwZTtyZXR1cm4gbi5nZXRQb2ludD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPW5ldyB5dCk7dmFyIG49ZSxpPXRoaXMudjAscj10aGlzLnYxLGE9dGhpcy52MixvPXRoaXMudjM7cmV0dXJuIG4uc2V0KG1jKHQsaS54LHIueCxhLngsby54KSxtYyh0LGkueSxyLnksYS55LG8ueSkpLG59LG4uY29weT1mdW5jdGlvbihlKXtyZXR1cm4gdC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy52MC5jb3B5KGUudjApLHRoaXMudjEuY29weShlLnYxKSx0aGlzLnYyLmNvcHkoZS52MiksdGhpcy52My5jb3B5KGUudjMpLHRoaXN9LG4udG9KU09OPWZ1bmN0aW9uKCl7dmFyIGU9dC5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7cmV0dXJuIGUudjA9dGhpcy52MC50b0FycmF5KCksZS52MT10aGlzLnYxLnRvQXJyYXkoKSxlLnYyPXRoaXMudjIudG9BcnJheSgpLGUudjM9dGhpcy52My50b0FycmF5KCksZX0sbi5mcm9tSlNPTj1mdW5jdGlvbihlKXtyZXR1cm4gdC5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGUpLHRoaXMudjAuZnJvbUFycmF5KGUudjApLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXMudjMuZnJvbUFycmF5KGUudjMpLHRoaXN9LGV9KHJjKSxnYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpLHIpe3ZhciBhO3JldHVybiB2b2lkIDA9PT1lJiYoZT1uZXcgTHQpLHZvaWQgMD09PW4mJihuPW5ldyBMdCksdm9pZCAwPT09aSYmKGk9bmV3IEx0KSx2b2lkIDA9PT1yJiYocj1uZXcgTHQpLChhPXQuY2FsbCh0aGlzKXx8dGhpcykudHlwZT0iQ3ViaWNCZXppZXJDdXJ2ZTMiLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsdChhKSwiaXNDdWJpY0JlemllckN1cnZlMyIse3ZhbHVlOiEwfSksYS52MD1lLGEudjE9bixhLnYyPWksYS52Mz1yLGF9Y3QoZSx0KTt2YXIgbj1lLnByb3RvdHlwZTtyZXR1cm4gbi5nZXRQb2ludD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPW5ldyBMdCk7dmFyIG49ZSxpPXRoaXMudjAscj10aGlzLnYxLGE9dGhpcy52MixvPXRoaXMudjM7cmV0dXJuIG4uc2V0KG1jKHQsaS54LHIueCxhLngsby54KSxtYyh0LGkueSxyLnksYS55LG8ueSksbWModCxpLnosci56LGEueixvLnopKSxufSxuLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMudjAuY29weShlLnYwKSx0aGlzLnYxLmNvcHkoZS52MSksdGhpcy52Mi5jb3B5KGUudjIpLHRoaXMudjMuY29weShlLnYzKSx0aGlzfSxuLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXQucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiBlLnYwPXRoaXMudjAudG9BcnJheSgpLGUudjE9dGhpcy52MS50b0FycmF5KCksZS52Mj10aGlzLnYyLnRvQXJyYXkoKSxlLnYzPXRoaXMudjMudG9BcnJheSgpLGV9LG4uZnJvbUpTT049ZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJvdG90eXBlLmZyb21KU09OLmNhbGwodGhpcyxlKSx0aGlzLnYwLmZyb21BcnJheShlLnYwKSx0aGlzLnYxLmZyb21BcnJheShlLnYxKSx0aGlzLnYyLmZyb21BcnJheShlLnYyKSx0aGlzLnYzLmZyb21BcnJheShlLnYzKSx0aGlzfSxlfShyYykseWM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciBpO3JldHVybiB2b2lkIDA9PT1lJiYoZT1uZXcgeXQpLHZvaWQgMD09PW4mJihuPW5ldyB5dCksKGk9dC5jYWxsKHRoaXMpfHx0aGlzKS50eXBlPSJMaW5lQ3VydmUiLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsdChpKSwiaXNMaW5lQ3VydmUiLHt2YWx1ZTohMH0pLGkudjE9ZSxpLnYyPW4saX1jdChlLHQpO3ZhciBuPWUucHJvdG90eXBlO3JldHVybiBuLmdldFBvaW50PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9bmV3IHl0KTt2YXIgbj1lO3JldHVybiAxPT09dD9uLmNvcHkodGhpcy52Mik6KG4uY29weSh0aGlzLnYyKS5zdWIodGhpcy52MSksbi5tdWx0aXBseVNjYWxhcih0KS5hZGQodGhpcy52MSkpLG59LG4uZ2V0UG9pbnRBdD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmdldFBvaW50KHQsZSl9LG4uZ2V0VGFuZ2VudD1mdW5jdGlvbih0LGUpe3ZhciBuPWV8fG5ldyB5dDtyZXR1cm4gbi5jb3B5KHRoaXMudjIpLnN1Yih0aGlzLnYxKS5ub3JtYWxpemUoKSxufSxuLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMudjEuY29weShlLnYxKSx0aGlzLnYyLmNvcHkoZS52MiksdGhpc30sbi50b0pTT049ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gZS52MT10aGlzLnYxLnRvQXJyYXkoKSxlLnYyPXRoaXMudjIudG9BcnJheSgpLGV9LG4uZnJvbUpTT049ZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJvdG90eXBlLmZyb21KU09OLmNhbGwodGhpcyxlKSx0aGlzLnYxLmZyb21BcnJheShlLnYxKSx0aGlzLnYyLmZyb21BcnJheShlLnYyKSx0aGlzfSxlfShyYykseGM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciBpO3JldHVybiB2b2lkIDA9PT1lJiYoZT1uZXcgTHQpLHZvaWQgMD09PW4mJihuPW5ldyBMdCksKGk9dC5jYWxsKHRoaXMpfHx0aGlzKS50eXBlPSJMaW5lQ3VydmUzIixPYmplY3QuZGVmaW5lUHJvcGVydHkobHQoaSksImlzTGluZUN1cnZlMyIse3ZhbHVlOiEwfSksaS52MT1lLGkudjI9bixpfWN0KGUsdCk7dmFyIG49ZS5wcm90b3R5cGU7cmV0dXJuIG4uZ2V0UG9pbnQ9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1uZXcgTHQpO3ZhciBuPWU7cmV0dXJuIDE9PT10P24uY29weSh0aGlzLnYyKToobi5jb3B5KHRoaXMudjIpLnN1Yih0aGlzLnYxKSxuLm11bHRpcGx5U2NhbGFyKHQpLmFkZCh0aGlzLnYxKSksbn0sbi5nZXRQb2ludEF0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0UG9pbnQodCxlKX0sbi5jb3B5PWZ1bmN0aW9uKGUpe3JldHVybiB0LnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxlKSx0aGlzLnYxLmNvcHkoZS52MSksdGhpcy52Mi5jb3B5KGUudjIpLHRoaXN9LG4udG9KU09OPWZ1bmN0aW9uKCl7dmFyIGU9dC5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7cmV0dXJuIGUudjE9dGhpcy52MS50b0FycmF5KCksZS52Mj10aGlzLnYyLnRvQXJyYXkoKSxlfSxuLmZyb21KU09OPWZ1bmN0aW9uKGUpe3JldHVybiB0LnByb3RvdHlwZS5mcm9tSlNPTi5jYWxsKHRoaXMsZSksdGhpcy52MS5mcm9tQXJyYXkoZS52MSksdGhpcy52Mi5mcm9tQXJyYXkoZS52MiksdGhpc30sZX0ocmMpLF9jPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkpe3ZhciByO3JldHVybiB2b2lkIDA9PT1lJiYoZT1uZXcgeXQpLHZvaWQgMD09PW4mJihuPW5ldyB5dCksdm9pZCAwPT09aSYmKGk9bmV3IHl0KSwocj10LmNhbGwodGhpcyl8fHRoaXMpLnR5cGU9IlF1YWRyYXRpY0JlemllckN1cnZlIixPYmplY3QuZGVmaW5lUHJvcGVydHkobHQociksImlzUXVhZHJhdGljQmV6aWVyQ3VydmUiLHt2YWx1ZTohMH0pLHIudjA9ZSxyLnYxPW4sci52Mj1pLHJ9Y3QoZSx0KTt2YXIgbj1lLnByb3RvdHlwZTtyZXR1cm4gbi5nZXRQb2ludD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPW5ldyB5dCk7dmFyIG49ZSxpPXRoaXMudjAscj10aGlzLnYxLGE9dGhpcy52MjtyZXR1cm4gbi5zZXQoZmModCxpLngsci54LGEueCksZmModCxpLnksci55LGEueSkpLG59LG4uY29weT1mdW5jdGlvbihlKXtyZXR1cm4gdC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy52MC5jb3B5KGUudjApLHRoaXMudjEuY29weShlLnYxKSx0aGlzLnYyLmNvcHkoZS52MiksdGhpc30sbi50b0pTT049ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gZS52MD10aGlzLnYwLnRvQXJyYXkoKSxlLnYxPXRoaXMudjEudG9BcnJheSgpLGUudjI9dGhpcy52Mi50b0FycmF5KCksZX0sbi5mcm9tSlNPTj1mdW5jdGlvbihlKXtyZXR1cm4gdC5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGUpLHRoaXMudjAuZnJvbUFycmF5KGUudjApLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXN9LGV9KHJjKSxiYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcjtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bmV3IEx0KSx2b2lkIDA9PT1uJiYobj1uZXcgTHQpLHZvaWQgMD09PWkmJihpPW5ldyBMdCksKHI9dC5jYWxsKHRoaXMpfHx0aGlzKS50eXBlPSJRdWFkcmF0aWNCZXppZXJDdXJ2ZTMiLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsdChyKSwiaXNRdWFkcmF0aWNCZXppZXJDdXJ2ZTMiLHt2YWx1ZTohMH0pLHIudjA9ZSxyLnYxPW4sci52Mj1pLHJ9Y3QoZSx0KTt2YXIgbj1lLnByb3RvdHlwZTtyZXR1cm4gbi5nZXRQb2ludD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPW5ldyBMdCk7dmFyIG49ZSxpPXRoaXMudjAscj10aGlzLnYxLGE9dGhpcy52MjtyZXR1cm4gbi5zZXQoZmModCxpLngsci54LGEueCksZmModCxpLnksci55LGEueSksZmModCxpLnosci56LGEueikpLG59LG4uY29weT1mdW5jdGlvbihlKXtyZXR1cm4gdC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy52MC5jb3B5KGUudjApLHRoaXMudjEuY29weShlLnYxKSx0aGlzLnYyLmNvcHkoZS52MiksdGhpc30sbi50b0pTT049ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzKTtyZXR1cm4gZS52MD10aGlzLnYwLnRvQXJyYXkoKSxlLnYxPXRoaXMudjEudG9BcnJheSgpLGUudjI9dGhpcy52Mi50b0FycmF5KCksZX0sbi5mcm9tSlNPTj1mdW5jdGlvbihlKXtyZXR1cm4gdC5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGUpLHRoaXMudjAuZnJvbUFycmF5KGUudjApLHRoaXMudjEuZnJvbUFycmF5KGUudjEpLHRoaXMudjIuZnJvbUFycmF5KGUudjIpLHRoaXN9LGV9KHJjKSx3Yz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuO3JldHVybiB2b2lkIDA9PT1lJiYoZT1bXSksKG49dC5jYWxsKHRoaXMpfHx0aGlzKS50eXBlPSJTcGxpbmVDdXJ2ZSIsT2JqZWN0LmRlZmluZVByb3BlcnR5KGx0KG4pLCJpc1NwbGluZUN1cnZlIix7dmFsdWU6ITB9KSxuLnBvaW50cz1lLG59Y3QoZSx0KTt2YXIgbj1lLnByb3RvdHlwZTtyZXR1cm4gbi5nZXRQb2ludD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPW5ldyB5dCk7dmFyIG49ZSxpPXRoaXMucG9pbnRzLHI9KGkubGVuZ3RoLTEpKnQsYT1NYXRoLmZsb29yKHIpLG89ci1hLHM9aVswPT09YT9hOmEtMV0sYz1pW2FdLGw9aVthPmkubGVuZ3RoLTI/aS5sZW5ndGgtMTphKzFdLHU9aVthPmkubGVuZ3RoLTM/aS5sZW5ndGgtMTphKzJdO3JldHVybiBuLnNldChwYyhvLHMueCxjLngsbC54LHUueCkscGMobyxzLnksYy55LGwueSx1LnkpKSxufSxuLmNvcHk9ZnVuY3Rpb24odCl7cmMucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMucG9pbnRzPVtdO2Zvcih2YXIgZT0wLG49dC5wb2ludHMubGVuZ3RoO2U8bjtlKyspe3ZhciBpPXQucG9pbnRzW2VdO3RoaXMucG9pbnRzLnB1c2goaS5jbG9uZSgpKX1yZXR1cm4gdGhpc30sbi50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD1yYy5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7dC5wb2ludHM9W107Zm9yKHZhciBlPTAsbj10aGlzLnBvaW50cy5sZW5ndGg7ZTxuO2UrKyl7dmFyIGk9dGhpcy5wb2ludHNbZV07dC5wb2ludHMucHVzaChpLnRvQXJyYXkoKSl9cmV0dXJuIHR9LG4uZnJvbUpTT049ZnVuY3Rpb24odCl7cmMucHJvdG90eXBlLmZyb21KU09OLmNhbGwodGhpcyx0KSx0aGlzLnBvaW50cz1bXTtmb3IodmFyIGU9MCxuPXQucG9pbnRzLmxlbmd0aDtlPG47ZSsrKXt2YXIgaT10LnBvaW50c1tlXTt0aGlzLnBvaW50cy5wdXNoKChuZXcgeXQpLmZyb21BcnJheShpKSl9cmV0dXJuIHRoaXN9LGV9KHJjKSxNYz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxBcmNDdXJ2ZTpvYyxDYXRtdWxsUm9tQ3VydmUzOmRjLEN1YmljQmV6aWVyQ3VydmU6dmMsQ3ViaWNCZXppZXJDdXJ2ZTM6Z2MsRWxsaXBzZUN1cnZlOmFjLExpbmVDdXJ2ZTp5YyxMaW5lQ3VydmUzOnhjLFF1YWRyYXRpY0JlemllckN1cnZlOl9jLFF1YWRyYXRpY0JlemllckN1cnZlMzpiYyxTcGxpbmVDdXJ2ZTp3Y30pLFNjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZTtyZXR1cm4oZT10LmNhbGwodGhpcyl8fHRoaXMpLnR5cGU9IkN1cnZlUGF0aCIsZS5jdXJ2ZXM9W10sZS5hdXRvQ2xvc2U9ITEsZX1jdChlLHQpO3ZhciBuPWUucHJvdG90eXBlO3JldHVybiBuLmFkZD1mdW5jdGlvbih0KXt0aGlzLmN1cnZlcy5wdXNoKHQpfSxuLmNsb3NlUGF0aD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY3VydmVzWzBdLmdldFBvaW50KDApLGU9dGhpcy5jdXJ2ZXNbdGhpcy5jdXJ2ZXMubGVuZ3RoLTFdLmdldFBvaW50KDEpO3QuZXF1YWxzKGUpfHx0aGlzLmN1cnZlcy5wdXNoKG5ldyB5YyhlLHQpKX0sbi5nZXRQb2ludD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dCp0aGlzLmdldExlbmd0aCgpLG49dGhpcy5nZXRDdXJ2ZUxlbmd0aHMoKSxpPTA7aTxuLmxlbmd0aDspe2lmKG5baV0+PWUpe3ZhciByPW5baV0tZSxhPXRoaXMuY3VydmVzW2ldLG89YS5nZXRMZW5ndGgoKSxzPTA9PT1vPzA6MS1yL287cmV0dXJuIGEuZ2V0UG9pbnRBdChzKX1pKyt9cmV0dXJuIG51bGx9LG4uZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRDdXJ2ZUxlbmd0aHMoKTtyZXR1cm4gdFt0Lmxlbmd0aC0xXX0sbi51cGRhdGVBcmNMZW5ndGhzPWZ1bmN0aW9uKCl7dGhpcy5uZWVkc1VwZGF0ZT0hMCx0aGlzLmNhY2hlTGVuZ3Rocz1udWxsLHRoaXMuZ2V0Q3VydmVMZW5ndGhzKCl9LG4uZ2V0Q3VydmVMZW5ndGhzPWZ1bmN0aW9uKCl7aWYodGhpcy5jYWNoZUxlbmd0aHMmJnRoaXMuY2FjaGVMZW5ndGhzLmxlbmd0aD09PXRoaXMuY3VydmVzLmxlbmd0aClyZXR1cm4gdGhpcy5jYWNoZUxlbmd0aHM7Zm9yKHZhciB0PVtdLGU9MCxuPTAsaT10aGlzLmN1cnZlcy5sZW5ndGg7bjxpO24rKyllKz10aGlzLmN1cnZlc1tuXS5nZXRMZW5ndGgoKSx0LnB1c2goZSk7cmV0dXJuIHRoaXMuY2FjaGVMZW5ndGhzPXQsdH0sbi5nZXRTcGFjZWRQb2ludHM9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9NDApO2Zvcih2YXIgZT1bXSxuPTA7bjw9dDtuKyspZS5wdXNoKHRoaXMuZ2V0UG9pbnQobi90KSk7cmV0dXJuIHRoaXMuYXV0b0Nsb3NlJiZlLnB1c2goZVswXSksZX0sbi5nZXRQb2ludHM9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9MTIpO2Zvcih2YXIgZSxuPVtdLGk9MCxyPXRoaXMuY3VydmVzO2k8ci5sZW5ndGg7aSsrKWZvcih2YXIgYT1yW2ldLG89YSYmYS5pc0VsbGlwc2VDdXJ2ZT8yKnQ6YSYmKGEuaXNMaW5lQ3VydmV8fGEuaXNMaW5lQ3VydmUzKT8xOmEmJmEuaXNTcGxpbmVDdXJ2ZT90KmEucG9pbnRzLmxlbmd0aDp0LHM9YS5nZXRQb2ludHMobyksYz0wO2M8cy5sZW5ndGg7YysrKXt2YXIgbD1zW2NdO2UmJmUuZXF1YWxzKGwpfHwobi5wdXNoKGwpLGU9bCl9cmV0dXJuIHRoaXMuYXV0b0Nsb3NlJiZuLmxlbmd0aD4xJiYhbltuLmxlbmd0aC0xXS5lcXVhbHMoblswXSkmJm4ucHVzaChuWzBdKSxufSxuLmNvcHk9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy5jdXJ2ZXM9W107Zm9yKHZhciBuPTAsaT1lLmN1cnZlcy5sZW5ndGg7bjxpO24rKyl7dmFyIHI9ZS5jdXJ2ZXNbbl07dGhpcy5jdXJ2ZXMucHVzaChyLmNsb25lKCkpfXJldHVybiB0aGlzLmF1dG9DbG9zZT1lLmF1dG9DbG9zZSx0aGlzfSxuLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXQucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO2UuYXV0b0Nsb3NlPXRoaXMuYXV0b0Nsb3NlLGUuY3VydmVzPVtdO2Zvcih2YXIgbj0wLGk9dGhpcy5jdXJ2ZXMubGVuZ3RoO248aTtuKyspe3ZhciByPXRoaXMuY3VydmVzW25dO2UuY3VydmVzLnB1c2goci50b0pTT04oKSl9cmV0dXJuIGV9LG4uZnJvbUpTT049ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGUpLHRoaXMuYXV0b0Nsb3NlPWUuYXV0b0Nsb3NlLHRoaXMuY3VydmVzPVtdO2Zvcih2YXIgbj0wLGk9ZS5jdXJ2ZXMubGVuZ3RoO248aTtuKyspe3ZhciByPWUuY3VydmVzW25dO3RoaXMuY3VydmVzLnB1c2goKG5ldyBNY1tyLnR5cGVdKS5mcm9tSlNPTihyKSl9cmV0dXJuIHRoaXN9LGV9KHJjKSxUYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuO3JldHVybihuPXQuY2FsbCh0aGlzKXx8dGhpcykudHlwZT0iUGF0aCIsbi5jdXJyZW50UG9pbnQ9bmV3IHl0LGUmJm4uc2V0RnJvbVBvaW50cyhlKSxufWN0KGUsdCk7dmFyIG49ZS5wcm90b3R5cGU7cmV0dXJuIG4uc2V0RnJvbVBvaW50cz1mdW5jdGlvbih0KXt0aGlzLm1vdmVUbyh0WzBdLngsdFswXS55KTtmb3IodmFyIGU9MSxuPXQubGVuZ3RoO2U8bjtlKyspdGhpcy5saW5lVG8odFtlXS54LHRbZV0ueSk7cmV0dXJuIHRoaXN9LG4ubW92ZVRvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY3VycmVudFBvaW50LnNldCh0LGUpLHRoaXN9LG4ubGluZVRvPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHljKHRoaXMuY3VycmVudFBvaW50LmNsb25lKCksbmV3IHl0KHQsZSkpO3JldHVybiB0aGlzLmN1cnZlcy5wdXNoKG4pLHRoaXMuY3VycmVudFBvaW50LnNldCh0LGUpLHRoaXN9LG4ucXVhZHJhdGljQ3VydmVUbz1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uZXcgX2ModGhpcy5jdXJyZW50UG9pbnQuY2xvbmUoKSxuZXcgeXQodCxlKSxuZXcgeXQobixpKSk7cmV0dXJuIHRoaXMuY3VydmVzLnB1c2gociksdGhpcy5jdXJyZW50UG9pbnQuc2V0KG4saSksdGhpc30sbi5iZXppZXJDdXJ2ZVRvPWZ1bmN0aW9uKHQsZSxuLGkscixhKXt2YXIgbz1uZXcgdmModGhpcy5jdXJyZW50UG9pbnQuY2xvbmUoKSxuZXcgeXQodCxlKSxuZXcgeXQobixpKSxuZXcgeXQocixhKSk7cmV0dXJuIHRoaXMuY3VydmVzLnB1c2gobyksdGhpcy5jdXJyZW50UG9pbnQuc2V0KHIsYSksdGhpc30sbi5zcGxpbmVUaHJ1PWZ1bmN0aW9uKHQpe3ZhciBlPVt0aGlzLmN1cnJlbnRQb2ludC5jbG9uZSgpXS5jb25jYXQodCksbj1uZXcgd2MoZSk7cmV0dXJuIHRoaXMuY3VydmVzLnB1c2gobiksdGhpcy5jdXJyZW50UG9pbnQuY29weSh0W3QubGVuZ3RoLTFdKSx0aGlzfSxuLmFyYz1mdW5jdGlvbih0LGUsbixpLHIsYSl7dmFyIG89dGhpcy5jdXJyZW50UG9pbnQueCxzPXRoaXMuY3VycmVudFBvaW50Lnk7cmV0dXJuIHRoaXMuYWJzYXJjKHQrbyxlK3MsbixpLHIsYSksdGhpc30sbi5hYnNhcmM9ZnVuY3Rpb24odCxlLG4saSxyLGEpe3JldHVybiB0aGlzLmFic2VsbGlwc2UodCxlLG4sbixpLHIsYSksdGhpc30sbi5lbGxpcHNlPWZ1bmN0aW9uKHQsZSxuLGkscixhLG8scyl7dmFyIGM9dGhpcy5jdXJyZW50UG9pbnQueCxsPXRoaXMuY3VycmVudFBvaW50Lnk7cmV0dXJuIHRoaXMuYWJzZWxsaXBzZSh0K2MsZStsLG4saSxyLGEsbyxzKSx0aGlzfSxuLmFic2VsbGlwc2U9ZnVuY3Rpb24odCxlLG4saSxyLGEsbyxzKXt2YXIgYz1uZXcgYWModCxlLG4saSxyLGEsbyxzKTtpZih0aGlzLmN1cnZlcy5sZW5ndGg+MCl7dmFyIGw9Yy5nZXRQb2ludCgwKTtsLmVxdWFscyh0aGlzLmN1cnJlbnRQb2ludCl8fHRoaXMubGluZVRvKGwueCxsLnkpfXRoaXMuY3VydmVzLnB1c2goYyk7dmFyIHU9Yy5nZXRQb2ludCgxKTtyZXR1cm4gdGhpcy5jdXJyZW50UG9pbnQuY29weSh1KSx0aGlzfSxuLmNvcHk9ZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLGUpLHRoaXMuY3VycmVudFBvaW50LmNvcHkoZS5jdXJyZW50UG9pbnQpLHRoaXN9LG4udG9KU09OPWZ1bmN0aW9uKCl7dmFyIGU9dC5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7cmV0dXJuIGUuY3VycmVudFBvaW50PXRoaXMuY3VycmVudFBvaW50LnRvQXJyYXkoKSxlfSxuLmZyb21KU09OPWZ1bmN0aW9uKGUpe3JldHVybiB0LnByb3RvdHlwZS5mcm9tSlNPTi5jYWxsKHRoaXMsZSksdGhpcy5jdXJyZW50UG9pbnQuZnJvbUFycmF5KGUuY3VycmVudFBvaW50KSx0aGlzfSxlfShTYyksRWM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbjtyZXR1cm4obj10LmNhbGwodGhpcyxlKXx8dGhpcykudXVpZD1ndC5nZW5lcmF0ZVVVSUQoKSxuLnR5cGU9IlNoYXBlIixuLmhvbGVzPVtdLG59Y3QoZSx0KTt2YXIgbj1lLnByb3RvdHlwZTtyZXR1cm4gbi5nZXRQb2ludHNIb2xlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wLGk9dGhpcy5ob2xlcy5sZW5ndGg7bjxpO24rKyllW25dPXRoaXMuaG9sZXNbbl0uZ2V0UG9pbnRzKHQpO3JldHVybiBlfSxuLmV4dHJhY3RQb2ludHM9ZnVuY3Rpb24odCl7cmV0dXJue3NoYXBlOnRoaXMuZ2V0UG9pbnRzKHQpLGhvbGVzOnRoaXMuZ2V0UG9pbnRzSG9sZXModCl9fSxuLmNvcHk9ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSksdGhpcy5ob2xlcz1bXTtmb3IodmFyIG49MCxpPWUuaG9sZXMubGVuZ3RoO248aTtuKyspe3ZhciByPWUuaG9sZXNbbl07dGhpcy5ob2xlcy5wdXNoKHIuY2xvbmUoKSl9cmV0dXJuIHRoaXN9LG4udG9KU09OPWZ1bmN0aW9uKCl7dmFyIGU9dC5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyk7ZS51dWlkPXRoaXMudXVpZCxlLmhvbGVzPVtdO2Zvcih2YXIgbj0wLGk9dGhpcy5ob2xlcy5sZW5ndGg7bjxpO24rKyl7dmFyIHI9dGhpcy5ob2xlc1tuXTtlLmhvbGVzLnB1c2goci50b0pTT04oKSl9cmV0dXJuIGV9LG4uZnJvbUpTT049ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuZnJvbUpTT04uY2FsbCh0aGlzLGUpLHRoaXMudXVpZD1lLnV1aWQsdGhpcy5ob2xlcz1bXTtmb3IodmFyIG49MCxpPWUuaG9sZXMubGVuZ3RoO248aTtuKyspe3ZhciByPWUuaG9sZXNbbl07dGhpcy5ob2xlcy5wdXNoKChuZXcgVGMpLmZyb21KU09OKHIpKX1yZXR1cm4gdGhpc30sZX0oVGMpO2Z1bmN0aW9uIEFjKHQsZSl7dm9pZCAwPT09ZSYmKGU9MSksQWUuY2FsbCh0aGlzKSx0aGlzLnR5cGU9IkxpZ2h0Iix0aGlzLmNvbG9yPW5ldyBRZSh0KSx0aGlzLmludGVuc2l0eT1lfWZ1bmN0aW9uIExjKHQsZSxuKXtBYy5jYWxsKHRoaXMsdCxuKSx0aGlzLnR5cGU9IkhlbWlzcGhlcmVMaWdodCIsdGhpcy5wb3NpdGlvbi5jb3B5KEFlLkRlZmF1bHRVcCksdGhpcy51cGRhdGVNYXRyaXgoKSx0aGlzLmdyb3VuZENvbG9yPW5ldyBRZShlKX1mdW5jdGlvbiBSYyh0KXt0aGlzLmNhbWVyYT10LHRoaXMuYmlhcz0wLHRoaXMubm9ybWFsQmlhcz0wLHRoaXMucmFkaXVzPTEsdGhpcy5tYXBTaXplPW5ldyB5dCg1MTIsNTEyKSx0aGlzLm1hcD1udWxsLHRoaXMubWFwUGFzcz1udWxsLHRoaXMubWF0cml4PW5ldyBuZSx0aGlzLmF1dG9VcGRhdGU9ITAsdGhpcy5uZWVkc1VwZGF0ZT0hMSx0aGlzLl9mcnVzdHVtPW5ldyBpaSx0aGlzLl9mcmFtZUV4dGVudHM9bmV3IHl0KDEsMSksdGhpcy5fdmlld3BvcnRDb3VudD0xLHRoaXMuX3ZpZXdwb3J0cz1bbmV3IFN0KDAsMCwxLDEpXX1mdW5jdGlvbiBDYygpe1JjLmNhbGwodGhpcyxuZXcgWm4oNTAsMSwuNSw1MDApKSx0aGlzLmZvY3VzPTF9ZnVuY3Rpb24gUGModCxlLG4saSxyLGEpe0FjLmNhbGwodGhpcyx0LGUpLHRoaXMudHlwZT0iU3BvdExpZ2h0Iix0aGlzLnBvc2l0aW9uLmNvcHkoQWUuRGVmYXVsdFVwKSx0aGlzLnVwZGF0ZU1hdHJpeCgpLHRoaXMudGFyZ2V0PW5ldyBBZSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywicG93ZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlbnNpdHkqTWF0aC5QSX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuaW50ZW5zaXR5PXQvTWF0aC5QSX19KSx0aGlzLmRpc3RhbmNlPXZvaWQgMCE9PW4/bjowLHRoaXMuYW5nbGU9dm9pZCAwIT09aT9pOk1hdGguUEkvMyx0aGlzLnBlbnVtYnJhPXZvaWQgMCE9PXI/cjowLHRoaXMuZGVjYXk9dm9pZCAwIT09YT9hOjEsdGhpcy5zaGFkb3c9bmV3IENjfWZ1bmN0aW9uIERjKCl7UmMuY2FsbCh0aGlzLG5ldyBabig5MCwxLC41LDUwMCkpLHRoaXMuX2ZyYW1lRXh0ZW50cz1uZXcgeXQoNCwyKSx0aGlzLl92aWV3cG9ydENvdW50PTYsdGhpcy5fdmlld3BvcnRzPVtuZXcgU3QoMiwxLDEsMSksbmV3IFN0KDAsMSwxLDEpLG5ldyBTdCgzLDEsMSwxKSxuZXcgU3QoMSwxLDEsMSksbmV3IFN0KDMsMCwxLDEpLG5ldyBTdCgxLDAsMSwxKV0sdGhpcy5fY3ViZURpcmVjdGlvbnM9W25ldyBMdCgxLDAsMCksbmV3IEx0KC0xLDAsMCksbmV3IEx0KDAsMCwxKSxuZXcgTHQoMCwwLC0xKSxuZXcgTHQoMCwxLDApLG5ldyBMdCgwLC0xLDApXSx0aGlzLl9jdWJlVXBzPVtuZXcgTHQoMCwxLDApLG5ldyBMdCgwLDEsMCksbmV3IEx0KDAsMSwwKSxuZXcgTHQoMCwxLDApLG5ldyBMdCgwLDAsMSksbmV3IEx0KDAsMCwtMSldfWZ1bmN0aW9uIEljKHQsZSxuLGkpe0FjLmNhbGwodGhpcyx0LGUpLHRoaXMudHlwZT0iUG9pbnRMaWdodCIsT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsInBvd2VyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDQqdGhpcy5pbnRlbnNpdHkqTWF0aC5QSX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuaW50ZW5zaXR5PXQvKDQqTWF0aC5QSSl9fSksdGhpcy5kaXN0YW5jZT12b2lkIDAhPT1uP246MCx0aGlzLmRlY2F5PXZvaWQgMCE9PWk/aToxLHRoaXMuc2hhZG93PW5ldyBEY31mdW5jdGlvbiBPYyh0LGUsbixpLHIsYSl7dm9pZCAwPT09dCYmKHQ9LTEpLHZvaWQgMD09PWUmJihlPTEpLHZvaWQgMD09PW4mJihuPTEpLHZvaWQgMD09PWkmJihpPS0xKSx2b2lkIDA9PT1yJiYocj0uMSksdm9pZCAwPT09YSYmKGE9MmUzKSxZbi5jYWxsKHRoaXMpLHRoaXMudHlwZT0iT3J0aG9ncmFwaGljQ2FtZXJhIix0aGlzLnpvb209MSx0aGlzLnZpZXc9bnVsbCx0aGlzLmxlZnQ9dCx0aGlzLnJpZ2h0PWUsdGhpcy50b3A9bix0aGlzLmJvdHRvbT1pLHRoaXMubmVhcj1yLHRoaXMuZmFyPWEsdGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9ZnVuY3Rpb24gTmMoKXtSYy5jYWxsKHRoaXMsbmV3IE9jKC01LDUsNSwtNSwuNSw1MDApKX1mdW5jdGlvbiBCYyh0LGUpe0FjLmNhbGwodGhpcyx0LGUpLHRoaXMudHlwZT0iRGlyZWN0aW9uYWxMaWdodCIsdGhpcy5wb3NpdGlvbi5jb3B5KEFlLkRlZmF1bHRVcCksdGhpcy51cGRhdGVNYXRyaXgoKSx0aGlzLnRhcmdldD1uZXcgQWUsdGhpcy5zaGFkb3c9bmV3IE5jfWZ1bmN0aW9uIHpjKHQsZSl7QWMuY2FsbCh0aGlzLHQsZSksdGhpcy50eXBlPSJBbWJpZW50TGlnaHQifWZ1bmN0aW9uIEZjKHQsZSxuLGkpe0FjLmNhbGwodGhpcyx0LGUpLHRoaXMudHlwZT0iUmVjdEFyZWFMaWdodCIsdGhpcy53aWR0aD12b2lkIDAhPT1uP246MTAsdGhpcy5oZWlnaHQ9dm9pZCAwIT09aT9pOjEwfUFjLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoQWUucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6QWMsaXNMaWdodDohMCxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiBBZS5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5jb2xvci5jb3B5KHQuY29sb3IpLHRoaXMuaW50ZW5zaXR5PXQuaW50ZW5zaXR5LHRoaXN9LHRvSlNPTjpmdW5jdGlvbih0KXt2YXIgZT1BZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyx0KTtyZXR1cm4gZS5vYmplY3QuY29sb3I9dGhpcy5jb2xvci5nZXRIZXgoKSxlLm9iamVjdC5pbnRlbnNpdHk9dGhpcy5pbnRlbnNpdHksdm9pZCAwIT09dGhpcy5ncm91bmRDb2xvciYmKGUub2JqZWN0Lmdyb3VuZENvbG9yPXRoaXMuZ3JvdW5kQ29sb3IuZ2V0SGV4KCkpLHZvaWQgMCE9PXRoaXMuZGlzdGFuY2UmJihlLm9iamVjdC5kaXN0YW5jZT10aGlzLmRpc3RhbmNlKSx2b2lkIDAhPT10aGlzLmFuZ2xlJiYoZS5vYmplY3QuYW5nbGU9dGhpcy5hbmdsZSksdm9pZCAwIT09dGhpcy5kZWNheSYmKGUub2JqZWN0LmRlY2F5PXRoaXMuZGVjYXkpLHZvaWQgMCE9PXRoaXMucGVudW1icmEmJihlLm9iamVjdC5wZW51bWJyYT10aGlzLnBlbnVtYnJhKSx2b2lkIDAhPT10aGlzLnNoYWRvdyYmKGUub2JqZWN0LnNoYWRvdz10aGlzLnNoYWRvdy50b0pTT04oKSksZX19KSxMYy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEFjLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkxjLGlzSGVtaXNwaGVyZUxpZ2h0OiEwLGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIEFjLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLmdyb3VuZENvbG9yLmNvcHkodC5ncm91bmRDb2xvciksdGhpc319KSxPYmplY3QuYXNzaWduKFJjLnByb3RvdHlwZSx7X3Byb2pTY3JlZW5NYXRyaXg6bmV3IG5lLF9saWdodFBvc2l0aW9uV29ybGQ6bmV3IEx0LF9sb29rVGFyZ2V0Om5ldyBMdCxnZXRWaWV3cG9ydENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0Q291bnR9LGdldEZydXN0dW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJ1c3R1bX0sdXBkYXRlTWF0cmljZXM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jYW1lcmEsbj10aGlzLm1hdHJpeCxpPXRoaXMuX3Byb2pTY3JlZW5NYXRyaXgscj10aGlzLl9sb29rVGFyZ2V0LGE9dGhpcy5fbGlnaHRQb3NpdGlvbldvcmxkO2Euc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHQubWF0cml4V29ybGQpLGUucG9zaXRpb24uY29weShhKSxyLnNldEZyb21NYXRyaXhQb3NpdGlvbih0LnRhcmdldC5tYXRyaXhXb3JsZCksZS5sb29rQXQociksZS51cGRhdGVNYXRyaXhXb3JsZCgpLGkubXVsdGlwbHlNYXRyaWNlcyhlLnByb2plY3Rpb25NYXRyaXgsZS5tYXRyaXhXb3JsZEludmVyc2UpLHRoaXMuX2ZydXN0dW0uc2V0RnJvbVByb2plY3Rpb25NYXRyaXgoaSksbi5zZXQoLjUsMCwwLC41LDAsLjUsMCwuNSwwLDAsLjUsLjUsMCwwLDAsMSksbi5tdWx0aXBseShlLnByb2plY3Rpb25NYXRyaXgpLG4ubXVsdGlwbHkoZS5tYXRyaXhXb3JsZEludmVyc2UpfSxnZXRWaWV3cG9ydDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdmlld3BvcnRzW3RdfSxnZXRGcmFtZUV4dGVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJhbWVFeHRlbnRzfSxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNhbWVyYT10LmNhbWVyYS5jbG9uZSgpLHRoaXMuYmlhcz10LmJpYXMsdGhpcy5yYWRpdXM9dC5yYWRpdXMsdGhpcy5tYXBTaXplLmNvcHkodC5tYXBTaXplKSx0aGlzfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sdG9KU09OOmZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIDAhPT10aGlzLmJpYXMmJih0LmJpYXM9dGhpcy5iaWFzKSwwIT09dGhpcy5ub3JtYWxCaWFzJiYodC5ub3JtYWxCaWFzPXRoaXMubm9ybWFsQmlhcyksMSE9PXRoaXMucmFkaXVzJiYodC5yYWRpdXM9dGhpcy5yYWRpdXMpLDUxMj09PXRoaXMubWFwU2l6ZS54JiY1MTI9PT10aGlzLm1hcFNpemUueXx8KHQubWFwU2l6ZT10aGlzLm1hcFNpemUudG9BcnJheSgpKSx0LmNhbWVyYT10aGlzLmNhbWVyYS50b0pTT04oITEpLm9iamVjdCxkZWxldGUgdC5jYW1lcmEubWF0cml4LHR9fSksQ2MucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShSYy5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpDYyxpc1Nwb3RMaWdodFNoYWRvdzohMCx1cGRhdGVNYXRyaWNlczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNhbWVyYSxuPTIqZ3QuUkFEMkRFRyp0LmFuZ2xlKnRoaXMuZm9jdXMsaT10aGlzLm1hcFNpemUud2lkdGgvdGhpcy5tYXBTaXplLmhlaWdodCxyPXQuZGlzdGFuY2V8fGUuZmFyO249PT1lLmZvdiYmaT09PWUuYXNwZWN0JiZyPT09ZS5mYXJ8fChlLmZvdj1uLGUuYXNwZWN0PWksZS5mYXI9cixlLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSksUmMucHJvdG90eXBlLnVwZGF0ZU1hdHJpY2VzLmNhbGwodGhpcyx0KX19KSxQYy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEFjLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOlBjLGlzU3BvdExpZ2h0OiEwLGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIEFjLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLmRpc3RhbmNlPXQuZGlzdGFuY2UsdGhpcy5hbmdsZT10LmFuZ2xlLHRoaXMucGVudW1icmE9dC5wZW51bWJyYSx0aGlzLmRlY2F5PXQuZGVjYXksdGhpcy50YXJnZXQ9dC50YXJnZXQuY2xvbmUoKSx0aGlzLnNoYWRvdz10LnNoYWRvdy5jbG9uZSgpLHRoaXN9fSksRGMucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShSYy5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpEYyxpc1BvaW50TGlnaHRTaGFkb3c6ITAsdXBkYXRlTWF0cmljZXM6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0wKTt2YXIgbj10aGlzLmNhbWVyYSxpPXRoaXMubWF0cml4LHI9dGhpcy5fbGlnaHRQb3NpdGlvbldvcmxkLGE9dGhpcy5fbG9va1RhcmdldCxvPXRoaXMuX3Byb2pTY3JlZW5NYXRyaXg7ci5zZXRGcm9tTWF0cml4UG9zaXRpb24odC5tYXRyaXhXb3JsZCksbi5wb3NpdGlvbi5jb3B5KHIpLGEuY29weShuLnBvc2l0aW9uKSxhLmFkZCh0aGlzLl9jdWJlRGlyZWN0aW9uc1tlXSksbi51cC5jb3B5KHRoaXMuX2N1YmVVcHNbZV0pLG4ubG9va0F0KGEpLG4udXBkYXRlTWF0cml4V29ybGQoKSxpLm1ha2VUcmFuc2xhdGlvbigtci54LC1yLnksLXIueiksby5tdWx0aXBseU1hdHJpY2VzKG4ucHJvamVjdGlvbk1hdHJpeCxuLm1hdHJpeFdvcmxkSW52ZXJzZSksdGhpcy5fZnJ1c3R1bS5zZXRGcm9tUHJvamVjdGlvbk1hdHJpeChvKX19KSxJYy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEFjLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkljLGlzUG9pbnRMaWdodDohMCxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiBBYy5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5kaXN0YW5jZT10LmRpc3RhbmNlLHRoaXMuZGVjYXk9dC5kZWNheSx0aGlzLnNoYWRvdz10LnNoYWRvdy5jbG9uZSgpLHRoaXN9fSksT2MucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShZbi5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpPYyxpc09ydGhvZ3JhcGhpY0NhbWVyYTohMCxjb3B5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFluLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0LGUpLHRoaXMubGVmdD10LmxlZnQsdGhpcy5yaWdodD10LnJpZ2h0LHRoaXMudG9wPXQudG9wLHRoaXMuYm90dG9tPXQuYm90dG9tLHRoaXMubmVhcj10Lm5lYXIsdGhpcy5mYXI9dC5mYXIsdGhpcy56b29tPXQuem9vbSx0aGlzLnZpZXc9bnVsbD09PXQudmlldz9udWxsOk9iamVjdC5hc3NpZ24oe30sdC52aWV3KSx0aGlzfSxzZXRWaWV3T2Zmc2V0OmZ1bmN0aW9uKHQsZSxuLGkscixhKXtudWxsPT09dGhpcy52aWV3JiYodGhpcy52aWV3PXtlbmFibGVkOiEwLGZ1bGxXaWR0aDoxLGZ1bGxIZWlnaHQ6MSxvZmZzZXRYOjAsb2Zmc2V0WTowLHdpZHRoOjEsaGVpZ2h0OjF9KSx0aGlzLnZpZXcuZW5hYmxlZD0hMCx0aGlzLnZpZXcuZnVsbFdpZHRoPXQsdGhpcy52aWV3LmZ1bGxIZWlnaHQ9ZSx0aGlzLnZpZXcub2Zmc2V0WD1uLHRoaXMudmlldy5vZmZzZXRZPWksdGhpcy52aWV3LndpZHRoPXIsdGhpcy52aWV3LmhlaWdodD1hLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfSxjbGVhclZpZXdPZmZzZXQ6ZnVuY3Rpb24oKXtudWxsIT09dGhpcy52aWV3JiYodGhpcy52aWV3LmVuYWJsZWQ9ITEpLHRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfSx1cGRhdGVQcm9qZWN0aW9uTWF0cml4OmZ1bmN0aW9uKCl7dmFyIHQ9KHRoaXMucmlnaHQtdGhpcy5sZWZ0KS8oMip0aGlzLnpvb20pLGU9KHRoaXMudG9wLXRoaXMuYm90dG9tKS8oMip0aGlzLnpvb20pLG49KHRoaXMucmlnaHQrdGhpcy5sZWZ0KS8yLGk9KHRoaXMudG9wK3RoaXMuYm90dG9tKS8yLHI9bi10LGE9bit0LG89aStlLHM9aS1lO2lmKG51bGwhPT10aGlzLnZpZXcmJnRoaXMudmlldy5lbmFibGVkKXt2YXIgYz0odGhpcy5yaWdodC10aGlzLmxlZnQpL3RoaXMudmlldy5mdWxsV2lkdGgvdGhpcy56b29tLGw9KHRoaXMudG9wLXRoaXMuYm90dG9tKS90aGlzLnZpZXcuZnVsbEhlaWdodC90aGlzLnpvb207YT0ocis9Yyp0aGlzLnZpZXcub2Zmc2V0WCkrYyp0aGlzLnZpZXcud2lkdGgscz0oby09bCp0aGlzLnZpZXcub2Zmc2V0WSktbCp0aGlzLnZpZXcuaGVpZ2h0fXRoaXMucHJvamVjdGlvbk1hdHJpeC5tYWtlT3J0aG9ncmFwaGljKHIsYSxvLHMsdGhpcy5uZWFyLHRoaXMuZmFyKSx0aGlzLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlLmNvcHkodGhpcy5wcm9qZWN0aW9uTWF0cml4KS5pbnZlcnQoKX0sdG9KU09OOmZ1bmN0aW9uKHQpe3ZhciBlPUFlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzLHQpO3JldHVybiBlLm9iamVjdC56b29tPXRoaXMuem9vbSxlLm9iamVjdC5sZWZ0PXRoaXMubGVmdCxlLm9iamVjdC5yaWdodD10aGlzLnJpZ2h0LGUub2JqZWN0LnRvcD10aGlzLnRvcCxlLm9iamVjdC5ib3R0b209dGhpcy5ib3R0b20sZS5vYmplY3QubmVhcj10aGlzLm5lYXIsZS5vYmplY3QuZmFyPXRoaXMuZmFyLG51bGwhPT10aGlzLnZpZXcmJihlLm9iamVjdC52aWV3PU9iamVjdC5hc3NpZ24oe30sdGhpcy52aWV3KSksZX19KSxOYy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKFJjLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOk5jLGlzRGlyZWN0aW9uYWxMaWdodFNoYWRvdzohMCx1cGRhdGVNYXRyaWNlczpmdW5jdGlvbih0KXtSYy5wcm90b3R5cGUudXBkYXRlTWF0cmljZXMuY2FsbCh0aGlzLHQpfX0pLEJjLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoQWMucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6QmMsaXNEaXJlY3Rpb25hbExpZ2h0OiEwLGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIEFjLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLnRhcmdldD10LnRhcmdldC5jbG9uZSgpLHRoaXMuc2hhZG93PXQuc2hhZG93LmNsb25lKCksdGhpc319KSx6Yy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEFjLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOnpjLGlzQW1iaWVudExpZ2h0OiEwfSksRmMucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShBYy5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpGYyxpc1JlY3RBcmVhTGlnaHQ6ITAsY29weTpmdW5jdGlvbih0KXtyZXR1cm4gQWMucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMud2lkdGg9dC53aWR0aCx0aGlzLmhlaWdodD10LmhlaWdodCx0aGlzfSx0b0pTT046ZnVuY3Rpb24odCl7dmFyIGU9QWMucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsdCk7cmV0dXJuIGUub2JqZWN0LndpZHRoPXRoaXMud2lkdGgsZS5vYmplY3QuaGVpZ2h0PXRoaXMuaGVpZ2h0LGV9fSk7dmFyIEhjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpc1NwaGVyaWNhbEhhcm1vbmljczMiLHt2YWx1ZTohMH0pLHRoaXMuY29lZmZpY2llbnRzPVtdO2Zvcih2YXIgdD0wO3Q8OTt0KyspdGhpcy5jb2VmZmljaWVudHMucHVzaChuZXcgTHQpfXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnNldD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPDk7ZSsrKXRoaXMuY29lZmZpY2llbnRzW2VdLmNvcHkodFtlXSk7cmV0dXJuIHRoaXN9LGUuemVybz1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8OTt0KyspdGhpcy5jb2VmZmljaWVudHNbdF0uc2V0KDAsMCwwKTtyZXR1cm4gdGhpc30sZS5nZXRBdD1mdW5jdGlvbih0LGUpe3ZhciBuPXQueCxpPXQueSxyPXQueixhPXRoaXMuY29lZmZpY2llbnRzO3JldHVybiBlLmNvcHkoYVswXSkubXVsdGlwbHlTY2FsYXIoLjI4MjA5NSksZS5hZGRTY2FsZWRWZWN0b3IoYVsxXSwuNDg4NjAzKmkpLGUuYWRkU2NhbGVkVmVjdG9yKGFbMl0sLjQ4ODYwMypyKSxlLmFkZFNjYWxlZFZlY3RvcihhWzNdLC40ODg2MDMqbiksZS5hZGRTY2FsZWRWZWN0b3IoYVs0XSxuKmkqMS4wOTI1NDgpLGUuYWRkU2NhbGVkVmVjdG9yKGFbNV0saSpyKjEuMDkyNTQ4KSxlLmFkZFNjYWxlZFZlY3RvcihhWzZdLC4zMTUzOTIqKDMqcipyLTEpKSxlLmFkZFNjYWxlZFZlY3RvcihhWzddLG4qcioxLjA5MjU0OCksZS5hZGRTY2FsZWRWZWN0b3IoYVs4XSwuNTQ2Mjc0KihuKm4taSppKSksZX0sZS5nZXRJcnJhZGlhbmNlQXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10LngsaT10Lnkscj10LnosYT10aGlzLmNvZWZmaWNpZW50cztyZXR1cm4gZS5jb3B5KGFbMF0pLm11bHRpcGx5U2NhbGFyKC44ODYyMjcpLGUuYWRkU2NhbGVkVmVjdG9yKGFbMV0sMS4wMjMzMjgqaSksZS5hZGRTY2FsZWRWZWN0b3IoYVsyXSwxLjAyMzMyOCpyKSxlLmFkZFNjYWxlZFZlY3RvcihhWzNdLDEuMDIzMzI4Km4pLGUuYWRkU2NhbGVkVmVjdG9yKGFbNF0sLjg1ODA4NipuKmkpLGUuYWRkU2NhbGVkVmVjdG9yKGFbNV0sLjg1ODA4NippKnIpLGUuYWRkU2NhbGVkVmVjdG9yKGFbNl0sLjc0MzEyNSpyKnItLjI0NzcwOCksZS5hZGRTY2FsZWRWZWN0b3IoYVs3XSwuODU4MDg2Km4qciksZS5hZGRTY2FsZWRWZWN0b3IoYVs4XSwuNDI5MDQzKihuKm4taSppKSksZX0sZS5hZGQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTw5O2UrKyl0aGlzLmNvZWZmaWNpZW50c1tlXS5hZGQodC5jb2VmZmljaWVudHNbZV0pO3JldHVybiB0aGlzfSxlLmFkZFNjYWxlZFNIPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjw5O24rKyl0aGlzLmNvZWZmaWNpZW50c1tuXS5hZGRTY2FsZWRWZWN0b3IodC5jb2VmZmljaWVudHNbbl0sZSk7cmV0dXJuIHRoaXN9LGUuc2NhbGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTw5O2UrKyl0aGlzLmNvZWZmaWNpZW50c1tlXS5tdWx0aXBseVNjYWxhcih0KTtyZXR1cm4gdGhpc30sZS5sZXJwPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjw5O24rKyl0aGlzLmNvZWZmaWNpZW50c1tuXS5sZXJwKHQuY29lZmZpY2llbnRzW25dLGUpO3JldHVybiB0aGlzfSxlLmVxdWFscz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPDk7ZSsrKWlmKCF0aGlzLmNvZWZmaWNpZW50c1tlXS5lcXVhbHModC5jb2VmZmljaWVudHNbZV0pKXJldHVybiExO3JldHVybiEwfSxlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0KHQuY29lZmZpY2llbnRzKX0sZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sZS5mcm9tQXJyYXk9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0wKTtmb3IodmFyIG49dGhpcy5jb2VmZmljaWVudHMsaT0wO2k8OTtpKyspbltpXS5mcm9tQXJyYXkodCxlKzMqaSk7cmV0dXJuIHRoaXN9LGUudG9BcnJheT1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PXQmJih0PVtdKSx2b2lkIDA9PT1lJiYoZT0wKTtmb3IodmFyIG49dGhpcy5jb2VmZmljaWVudHMsaT0wO2k8OTtpKyspbltpXS50b0FycmF5KHQsZSszKmkpO3JldHVybiB0fSx0LmdldEJhc2lzQXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10LngsaT10Lnkscj10Lno7ZVswXT0uMjgyMDk1LGVbMV09LjQ4ODYwMyppLGVbMl09LjQ4ODYwMypyLGVbM109LjQ4ODYwMypuLGVbNF09MS4wOTI1NDgqbippLGVbNV09MS4wOTI1NDgqaSpyLGVbNl09LjMxNTM5MiooMypyKnItMSksZVs3XT0xLjA5MjU0OCpuKnIsZVs4XT0uNTQ2Mjc0KihuKm4taSppKX0sdH0oKTtmdW5jdGlvbiBHYyh0LGUpe0FjLmNhbGwodGhpcyx2b2lkIDAsZSksdGhpcy50eXBlPSJMaWdodFByb2JlIix0aGlzLnNoPXZvaWQgMCE9PXQ/dDpuZXcgSGN9R2MucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShBYy5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpHYyxpc0xpZ2h0UHJvYmU6ITAsY29weTpmdW5jdGlvbih0KXtyZXR1cm4gQWMucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMuc2guY29weSh0LnNoKSx0aGlzfSxmcm9tSlNPTjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnRlbnNpdHk9dC5pbnRlbnNpdHksdGhpcy5zaC5mcm9tQXJyYXkodC5zaCksdGhpc30sdG9KU09OOmZ1bmN0aW9uKHQpe3ZhciBlPUFjLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzLHQpO3JldHVybiBlLm9iamVjdC5zaD10aGlzLnNoLnRvQXJyYXkoKSxlfX0pO3ZhciBVYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuO3JldHVybihuPXQuY2FsbCh0aGlzLGUpfHx0aGlzKS50ZXh0dXJlcz17fSxufWN0KGUsdCk7dmFyIG49ZS5wcm90b3R5cGU7cmV0dXJuIG4ubG9hZD1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10aGlzLGE9bmV3IFFzKHIubWFuYWdlcik7YS5zZXRQYXRoKHIucGF0aCksYS5zZXRSZXF1ZXN0SGVhZGVyKHIucmVxdWVzdEhlYWRlciksYS5zZXRXaXRoQ3JlZGVudGlhbHMoci53aXRoQ3JlZGVudGlhbHMpLGEubG9hZCh0LChmdW5jdGlvbihuKXt0cnl7ZShyLnBhcnNlKEpTT04ucGFyc2UobikpKX1jYXRjaChlKXtpP2koZSk6Y29uc29sZS5lcnJvcihlKSxyLm1hbmFnZXIuaXRlbUVycm9yKHQpfX0pLG4saSl9LG4ucGFyc2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy50ZXh0dXJlcztmdW5jdGlvbiBuKHQpe3JldHVybiB2b2lkIDA9PT1lW3RdJiZjb25zb2xlLndhcm4oIlRIUkVFLk1hdGVyaWFsTG9hZGVyOiBVbmRlZmluZWQgdGV4dHVyZSIsdCksZVt0XX12YXIgaT1uZXcgQ3NbdC50eXBlXTtpZih2b2lkIDAhPT10LnV1aWQmJihpLnV1aWQ9dC51dWlkKSx2b2lkIDAhPT10Lm5hbWUmJihpLm5hbWU9dC5uYW1lKSx2b2lkIDAhPT10LmNvbG9yJiZ2b2lkIDAhPT1pLmNvbG9yJiZpLmNvbG9yLnNldEhleCh0LmNvbG9yKSx2b2lkIDAhPT10LnJvdWdobmVzcyYmKGkucm91Z2huZXNzPXQucm91Z2huZXNzKSx2b2lkIDAhPT10Lm1ldGFsbmVzcyYmKGkubWV0YWxuZXNzPXQubWV0YWxuZXNzKSx2b2lkIDAhPT10LnNoZWVuJiYoaS5zaGVlbj0obmV3IFFlKS5zZXRIZXgodC5zaGVlbikpLHZvaWQgMCE9PXQuZW1pc3NpdmUmJnZvaWQgMCE9PWkuZW1pc3NpdmUmJmkuZW1pc3NpdmUuc2V0SGV4KHQuZW1pc3NpdmUpLHZvaWQgMCE9PXQuc3BlY3VsYXImJnZvaWQgMCE9PWkuc3BlY3VsYXImJmkuc3BlY3VsYXIuc2V0SGV4KHQuc3BlY3VsYXIpLHZvaWQgMCE9PXQuc2hpbmluZXNzJiYoaS5zaGluaW5lc3M9dC5zaGluaW5lc3MpLHZvaWQgMCE9PXQuY2xlYXJjb2F0JiYoaS5jbGVhcmNvYXQ9dC5jbGVhcmNvYXQpLHZvaWQgMCE9PXQuY2xlYXJjb2F0Um91Z2huZXNzJiYoaS5jbGVhcmNvYXRSb3VnaG5lc3M9dC5jbGVhcmNvYXRSb3VnaG5lc3MpLHZvaWQgMCE9PXQuZm9nJiYoaS5mb2c9dC5mb2cpLHZvaWQgMCE9PXQuZmxhdFNoYWRpbmcmJihpLmZsYXRTaGFkaW5nPXQuZmxhdFNoYWRpbmcpLHZvaWQgMCE9PXQuYmxlbmRpbmcmJihpLmJsZW5kaW5nPXQuYmxlbmRpbmcpLHZvaWQgMCE9PXQuY29tYmluZSYmKGkuY29tYmluZT10LmNvbWJpbmUpLHZvaWQgMCE9PXQuc2lkZSYmKGkuc2lkZT10LnNpZGUpLHZvaWQgMCE9PXQub3BhY2l0eSYmKGkub3BhY2l0eT10Lm9wYWNpdHkpLHZvaWQgMCE9PXQudHJhbnNwYXJlbnQmJihpLnRyYW5zcGFyZW50PXQudHJhbnNwYXJlbnQpLHZvaWQgMCE9PXQuYWxwaGFUZXN0JiYoaS5hbHBoYVRlc3Q9dC5hbHBoYVRlc3QpLHZvaWQgMCE9PXQuZGVwdGhUZXN0JiYoaS5kZXB0aFRlc3Q9dC5kZXB0aFRlc3QpLHZvaWQgMCE9PXQuZGVwdGhXcml0ZSYmKGkuZGVwdGhXcml0ZT10LmRlcHRoV3JpdGUpLHZvaWQgMCE9PXQuY29sb3JXcml0ZSYmKGkuY29sb3JXcml0ZT10LmNvbG9yV3JpdGUpLHZvaWQgMCE9PXQuc3RlbmNpbFdyaXRlJiYoaS5zdGVuY2lsV3JpdGU9dC5zdGVuY2lsV3JpdGUpLHZvaWQgMCE9PXQuc3RlbmNpbFdyaXRlTWFzayYmKGkuc3RlbmNpbFdyaXRlTWFzaz10LnN0ZW5jaWxXcml0ZU1hc2spLHZvaWQgMCE9PXQuc3RlbmNpbEZ1bmMmJihpLnN0ZW5jaWxGdW5jPXQuc3RlbmNpbEZ1bmMpLHZvaWQgMCE9PXQuc3RlbmNpbFJlZiYmKGkuc3RlbmNpbFJlZj10LnN0ZW5jaWxSZWYpLHZvaWQgMCE9PXQuc3RlbmNpbEZ1bmNNYXNrJiYoaS5zdGVuY2lsRnVuY01hc2s9dC5zdGVuY2lsRnVuY01hc2spLHZvaWQgMCE9PXQuc3RlbmNpbEZhaWwmJihpLnN0ZW5jaWxGYWlsPXQuc3RlbmNpbEZhaWwpLHZvaWQgMCE9PXQuc3RlbmNpbFpGYWlsJiYoaS5zdGVuY2lsWkZhaWw9dC5zdGVuY2lsWkZhaWwpLHZvaWQgMCE9PXQuc3RlbmNpbFpQYXNzJiYoaS5zdGVuY2lsWlBhc3M9dC5zdGVuY2lsWlBhc3MpLHZvaWQgMCE9PXQud2lyZWZyYW1lJiYoaS53aXJlZnJhbWU9dC53aXJlZnJhbWUpLHZvaWQgMCE9PXQud2lyZWZyYW1lTGluZXdpZHRoJiYoaS53aXJlZnJhbWVMaW5ld2lkdGg9dC53aXJlZnJhbWVMaW5ld2lkdGgpLHZvaWQgMCE9PXQud2lyZWZyYW1lTGluZWNhcCYmKGkud2lyZWZyYW1lTGluZWNhcD10LndpcmVmcmFtZUxpbmVjYXApLHZvaWQgMCE9PXQud2lyZWZyYW1lTGluZWpvaW4mJihpLndpcmVmcmFtZUxpbmVqb2luPXQud2lyZWZyYW1lTGluZWpvaW4pLHZvaWQgMCE9PXQucm90YXRpb24mJihpLnJvdGF0aW9uPXQucm90YXRpb24pLDEhPT10LmxpbmV3aWR0aCYmKGkubGluZXdpZHRoPXQubGluZXdpZHRoKSx2b2lkIDAhPT10LmRhc2hTaXplJiYoaS5kYXNoU2l6ZT10LmRhc2hTaXplKSx2b2lkIDAhPT10LmdhcFNpemUmJihpLmdhcFNpemU9dC5nYXBTaXplKSx2b2lkIDAhPT10LnNjYWxlJiYoaS5zY2FsZT10LnNjYWxlKSx2b2lkIDAhPT10LnBvbHlnb25PZmZzZXQmJihpLnBvbHlnb25PZmZzZXQ9dC5wb2x5Z29uT2Zmc2V0KSx2b2lkIDAhPT10LnBvbHlnb25PZmZzZXRGYWN0b3ImJihpLnBvbHlnb25PZmZzZXRGYWN0b3I9dC5wb2x5Z29uT2Zmc2V0RmFjdG9yKSx2b2lkIDAhPT10LnBvbHlnb25PZmZzZXRVbml0cyYmKGkucG9seWdvbk9mZnNldFVuaXRzPXQucG9seWdvbk9mZnNldFVuaXRzKSx2b2lkIDAhPT10LnNraW5uaW5nJiYoaS5za2lubmluZz10LnNraW5uaW5nKSx2b2lkIDAhPT10Lm1vcnBoVGFyZ2V0cyYmKGkubW9ycGhUYXJnZXRzPXQubW9ycGhUYXJnZXRzKSx2b2lkIDAhPT10Lm1vcnBoTm9ybWFscyYmKGkubW9ycGhOb3JtYWxzPXQubW9ycGhOb3JtYWxzKSx2b2lkIDAhPT10LmRpdGhlcmluZyYmKGkuZGl0aGVyaW5nPXQuZGl0aGVyaW5nKSx2b2lkIDAhPT10LnZlcnRleFRhbmdlbnRzJiYoaS52ZXJ0ZXhUYW5nZW50cz10LnZlcnRleFRhbmdlbnRzKSx2b2lkIDAhPT10LnZpc2libGUmJihpLnZpc2libGU9dC52aXNpYmxlKSx2b2lkIDAhPT10LnRvbmVNYXBwZWQmJihpLnRvbmVNYXBwZWQ9dC50b25lTWFwcGVkKSx2b2lkIDAhPT10LnVzZXJEYXRhJiYoaS51c2VyRGF0YT10LnVzZXJEYXRhKSx2b2lkIDAhPT10LnZlcnRleENvbG9ycyYmKCJudW1iZXIiPT10eXBlb2YgdC52ZXJ0ZXhDb2xvcnM/aS52ZXJ0ZXhDb2xvcnM9dC52ZXJ0ZXhDb2xvcnM+MDppLnZlcnRleENvbG9ycz10LnZlcnRleENvbG9ycyksdm9pZCAwIT09dC51bmlmb3Jtcylmb3IodmFyIHIgaW4gdC51bmlmb3Jtcyl7dmFyIGE9dC51bmlmb3Jtc1tyXTtzd2l0Y2goaS51bmlmb3Jtc1tyXT17fSxhLnR5cGUpe2Nhc2UidCI6aS51bmlmb3Jtc1tyXS52YWx1ZT1uKGEudmFsdWUpO2JyZWFrO2Nhc2UiYyI6aS51bmlmb3Jtc1tyXS52YWx1ZT0obmV3IFFlKS5zZXRIZXgoYS52YWx1ZSk7YnJlYWs7Y2FzZSJ2MiI6aS51bmlmb3Jtc1tyXS52YWx1ZT0obmV3IHl0KS5mcm9tQXJyYXkoYS52YWx1ZSk7YnJlYWs7Y2FzZSJ2MyI6aS51bmlmb3Jtc1tyXS52YWx1ZT0obmV3IEx0KS5mcm9tQXJyYXkoYS52YWx1ZSk7YnJlYWs7Y2FzZSJ2NCI6aS51bmlmb3Jtc1tyXS52YWx1ZT0obmV3IFN0KS5mcm9tQXJyYXkoYS52YWx1ZSk7YnJlYWs7Y2FzZSJtMyI6aS51bmlmb3Jtc1tyXS52YWx1ZT0obmV3IHh0KS5mcm9tQXJyYXkoYS52YWx1ZSk7YnJlYWs7Y2FzZSJtNCI6aS51bmlmb3Jtc1tyXS52YWx1ZT0obmV3IG5lKS5mcm9tQXJyYXkoYS52YWx1ZSk7YnJlYWs7ZGVmYXVsdDppLnVuaWZvcm1zW3JdLnZhbHVlPWEudmFsdWV9fWlmKHZvaWQgMCE9PXQuZGVmaW5lcyYmKGkuZGVmaW5lcz10LmRlZmluZXMpLHZvaWQgMCE9PXQudmVydGV4U2hhZGVyJiYoaS52ZXJ0ZXhTaGFkZXI9dC52ZXJ0ZXhTaGFkZXIpLHZvaWQgMCE9PXQuZnJhZ21lbnRTaGFkZXImJihpLmZyYWdtZW50U2hhZGVyPXQuZnJhZ21lbnRTaGFkZXIpLHZvaWQgMCE9PXQuZXh0ZW5zaW9ucylmb3IodmFyIG8gaW4gdC5leHRlbnNpb25zKWkuZXh0ZW5zaW9uc1tvXT10LmV4dGVuc2lvbnNbb107aWYodm9pZCAwIT09dC5zaGFkaW5nJiYoaS5mbGF0U2hhZGluZz0xPT09dC5zaGFkaW5nKSx2b2lkIDAhPT10LnNpemUmJihpLnNpemU9dC5zaXplKSx2b2lkIDAhPT10LnNpemVBdHRlbnVhdGlvbiYmKGkuc2l6ZUF0dGVudWF0aW9uPXQuc2l6ZUF0dGVudWF0aW9uKSx2b2lkIDAhPT10Lm1hcCYmKGkubWFwPW4odC5tYXApKSx2b2lkIDAhPT10Lm1hdGNhcCYmKGkubWF0Y2FwPW4odC5tYXRjYXApKSx2b2lkIDAhPT10LmFscGhhTWFwJiYoaS5hbHBoYU1hcD1uKHQuYWxwaGFNYXApKSx2b2lkIDAhPT10LmJ1bXBNYXAmJihpLmJ1bXBNYXA9bih0LmJ1bXBNYXApKSx2b2lkIDAhPT10LmJ1bXBTY2FsZSYmKGkuYnVtcFNjYWxlPXQuYnVtcFNjYWxlKSx2b2lkIDAhPT10Lm5vcm1hbE1hcCYmKGkubm9ybWFsTWFwPW4odC5ub3JtYWxNYXApKSx2b2lkIDAhPT10Lm5vcm1hbE1hcFR5cGUmJihpLm5vcm1hbE1hcFR5cGU9dC5ub3JtYWxNYXBUeXBlKSx2b2lkIDAhPT10Lm5vcm1hbFNjYWxlKXt2YXIgcz10Lm5vcm1hbFNjYWxlOyExPT09QXJyYXkuaXNBcnJheShzKSYmKHM9W3Msc10pLGkubm9ybWFsU2NhbGU9KG5ldyB5dCkuZnJvbUFycmF5KHMpfXJldHVybiB2b2lkIDAhPT10LmRpc3BsYWNlbWVudE1hcCYmKGkuZGlzcGxhY2VtZW50TWFwPW4odC5kaXNwbGFjZW1lbnRNYXApKSx2b2lkIDAhPT10LmRpc3BsYWNlbWVudFNjYWxlJiYoaS5kaXNwbGFjZW1lbnRTY2FsZT10LmRpc3BsYWNlbWVudFNjYWxlKSx2b2lkIDAhPT10LmRpc3BsYWNlbWVudEJpYXMmJihpLmRpc3BsYWNlbWVudEJpYXM9dC5kaXNwbGFjZW1lbnRCaWFzKSx2b2lkIDAhPT10LnJvdWdobmVzc01hcCYmKGkucm91Z2huZXNzTWFwPW4odC5yb3VnaG5lc3NNYXApKSx2b2lkIDAhPT10Lm1ldGFsbmVzc01hcCYmKGkubWV0YWxuZXNzTWFwPW4odC5tZXRhbG5lc3NNYXApKSx2b2lkIDAhPT10LmVtaXNzaXZlTWFwJiYoaS5lbWlzc2l2ZU1hcD1uKHQuZW1pc3NpdmVNYXApKSx2b2lkIDAhPT10LmVtaXNzaXZlSW50ZW5zaXR5JiYoaS5lbWlzc2l2ZUludGVuc2l0eT10LmVtaXNzaXZlSW50ZW5zaXR5KSx2b2lkIDAhPT10LnNwZWN1bGFyTWFwJiYoaS5zcGVjdWxhck1hcD1uKHQuc3BlY3VsYXJNYXApKSx2b2lkIDAhPT10LmVudk1hcCYmKGkuZW52TWFwPW4odC5lbnZNYXApKSx2b2lkIDAhPT10LmVudk1hcEludGVuc2l0eSYmKGkuZW52TWFwSW50ZW5zaXR5PXQuZW52TWFwSW50ZW5zaXR5KSx2b2lkIDAhPT10LnJlZmxlY3Rpdml0eSYmKGkucmVmbGVjdGl2aXR5PXQucmVmbGVjdGl2aXR5KSx2b2lkIDAhPT10LnJlZnJhY3Rpb25SYXRpbyYmKGkucmVmcmFjdGlvblJhdGlvPXQucmVmcmFjdGlvblJhdGlvKSx2b2lkIDAhPT10LmxpZ2h0TWFwJiYoaS5saWdodE1hcD1uKHQubGlnaHRNYXApKSx2b2lkIDAhPT10LmxpZ2h0TWFwSW50ZW5zaXR5JiYoaS5saWdodE1hcEludGVuc2l0eT10LmxpZ2h0TWFwSW50ZW5zaXR5KSx2b2lkIDAhPT10LmFvTWFwJiYoaS5hb01hcD1uKHQuYW9NYXApKSx2b2lkIDAhPT10LmFvTWFwSW50ZW5zaXR5JiYoaS5hb01hcEludGVuc2l0eT10LmFvTWFwSW50ZW5zaXR5KSx2b2lkIDAhPT10LmdyYWRpZW50TWFwJiYoaS5ncmFkaWVudE1hcD1uKHQuZ3JhZGllbnRNYXApKSx2b2lkIDAhPT10LmNsZWFyY29hdE1hcCYmKGkuY2xlYXJjb2F0TWFwPW4odC5jbGVhcmNvYXRNYXApKSx2b2lkIDAhPT10LmNsZWFyY29hdFJvdWdobmVzc01hcCYmKGkuY2xlYXJjb2F0Um91Z2huZXNzTWFwPW4odC5jbGVhcmNvYXRSb3VnaG5lc3NNYXApKSx2b2lkIDAhPT10LmNsZWFyY29hdE5vcm1hbE1hcCYmKGkuY2xlYXJjb2F0Tm9ybWFsTWFwPW4odC5jbGVhcmNvYXROb3JtYWxNYXApKSx2b2lkIDAhPT10LmNsZWFyY29hdE5vcm1hbFNjYWxlJiYoaS5jbGVhcmNvYXROb3JtYWxTY2FsZT0obmV3IHl0KS5mcm9tQXJyYXkodC5jbGVhcmNvYXROb3JtYWxTY2FsZSkpLHZvaWQgMCE9PXQudHJhbnNtaXNzaW9uJiYoaS50cmFuc21pc3Npb249dC50cmFuc21pc3Npb24pLHZvaWQgMCE9PXQudHJhbnNtaXNzaW9uTWFwJiYoaS50cmFuc21pc3Npb25NYXA9bih0LnRyYW5zbWlzc2lvbk1hcCkpLGl9LG4uc2V0VGV4dHVyZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGV4dHVyZXM9dCx0aGlzfSxlfShacyksa2M9e2RlY29kZVRleHQ6ZnVuY3Rpb24odCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBUZXh0RGVjb2RlcilyZXR1cm4obmV3IFRleHREZWNvZGVyKS5kZWNvZGUodCk7Zm9yKHZhciBlPSIiLG49MCxpPXQubGVuZ3RoO248aTtuKyspZSs9U3RyaW5nLmZyb21DaGFyQ29kZSh0W25dKTt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoZSkpfWNhdGNoKHQpe3JldHVybiBlfX0sZXh0cmFjdFVybEJhc2U6ZnVuY3Rpb24odCl7dmFyIGU9dC5sYXN0SW5kZXhPZigiLyIpO3JldHVybi0xPT09ZT8iLi8iOnQuc3Vic3RyKDAsZSsxKX19O2Z1bmN0aW9uIFZjKCl7TW4uY2FsbCh0aGlzKSx0aGlzLnR5cGU9Ikluc3RhbmNlZEJ1ZmZlckdlb21ldHJ5Iix0aGlzLmluc3RhbmNlQ291bnQ9MS8wfWZ1bmN0aW9uIFdjKHQsZSxuLGkpeyJudW1iZXIiPT10eXBlb2YgbiYmKGk9bixuPSExLGNvbnNvbGUuZXJyb3IoIlRIUkVFLkluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZTogVGhlIGNvbnN0cnVjdG9yIG5vdyBleHBlY3RzIG5vcm1hbGl6ZWQgYXMgdGhlIHRoaXJkIGFyZ3VtZW50LiIpKSxlbi5jYWxsKHRoaXMsdCxlLG4pLHRoaXMubWVzaFBlckF0dHJpYnV0ZT1pfHwxfVZjLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTW4ucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6VmMsaXNJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeTohMCxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiBNbi5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5pbnN0YW5jZUNvdW50PXQuaW5zdGFuY2VDb3VudCx0aGlzfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sdG9KU09OOmZ1bmN0aW9uKCl7dmFyIHQ9TW4ucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiB0Lmluc3RhbmNlQ291bnQ9dGhpcy5pbnN0YW5jZUNvdW50LHQuaXNJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeT0hMCx0fX0pLFdjLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoZW4ucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6V2MsaXNJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU6ITAsY29weTpmdW5jdGlvbih0KXtyZXR1cm4gZW4ucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXMubWVzaFBlckF0dHJpYnV0ZT10Lm1lc2hQZXJBdHRyaWJ1dGUsdGhpc30sdG9KU09OOmZ1bmN0aW9uKCl7dmFyIHQ9ZW4ucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMpO3JldHVybiB0Lm1lc2hQZXJBdHRyaWJ1dGU9dGhpcy5tZXNoUGVyQXR0cmlidXRlLHQuaXNJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGU9ITAsdH19KTt2YXIgamM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9Y3QoZSx0KTt2YXIgbj1lLnByb3RvdHlwZTtyZXR1cm4gbi5sb2FkPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMsYT1uZXcgUXMoci5tYW5hZ2VyKTthLnNldFBhdGgoci5wYXRoKSxhLnNldFJlcXVlc3RIZWFkZXIoci5yZXF1ZXN0SGVhZGVyKSxhLnNldFdpdGhDcmVkZW50aWFscyhyLndpdGhDcmVkZW50aWFscyksYS5sb2FkKHQsKGZ1bmN0aW9uKG4pe3RyeXtlKHIucGFyc2UoSlNPTi5wYXJzZShuKSkpfWNhdGNoKGUpe2k/aShlKTpjb25zb2xlLmVycm9yKGUpLHIubWFuYWdlci5pdGVtRXJyb3IodCl9fSksbixpKX0sbi5wYXJzZT1mdW5jdGlvbih0KXt2YXIgZT17fSxuPXt9O2Z1bmN0aW9uIGkodCxpKXtpZih2b2lkIDAhPT1lW2ldKXJldHVybiBlW2ldO3ZhciByPXQuaW50ZXJsZWF2ZWRCdWZmZXJzW2ldLGE9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDAhPT1uW2VdKXJldHVybiBuW2VdO3ZhciBpPXQuYXJyYXlCdWZmZXJzW2VdLHI9bmV3IFVpbnQzMkFycmF5KGkpLmJ1ZmZlcjtyZXR1cm4gbltlXT1yLHJ9KHQsci5idWZmZXIpLG89bmV3IGZhKG1uKHIudHlwZSxhKSxyLnN0cmlkZSk7cmV0dXJuIG8udXVpZD1yLnV1aWQsZVtpXT1vLG99dmFyIHI9dC5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5P25ldyBWYzpuZXcgTW4sYT10LmRhdGEuaW5kZXg7aWYodm9pZCAwIT09YSl7dmFyIG89bW4oYS50eXBlLGEuYXJyYXkpO3Iuc2V0SW5kZXgobmV3IGVuKG8sMSkpfXZhciBzPXQuZGF0YS5hdHRyaWJ1dGVzO2Zvcih2YXIgYyBpbiBzKXt2YXIgbD1zW2NdLHU9dm9pZCAwO2lmKGwuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSl7dT1uZXcgZ2EoaSh0LmRhdGEsbC5kYXRhKSxsLml0ZW1TaXplLGwub2Zmc2V0LGwubm9ybWFsaXplZCl9ZWxzZXt2YXIgaD1tbihsLnR5cGUsbC5hcnJheSk7dT1uZXcobC5pc0luc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZT9XYzplbikoaCxsLml0ZW1TaXplLGwubm9ybWFsaXplZCl9dm9pZCAwIT09bC5uYW1lJiYodS5uYW1lPWwubmFtZSksci5zZXRBdHRyaWJ1dGUoYyx1KX12YXIgZD10LmRhdGEubW9ycGhBdHRyaWJ1dGVzO2lmKGQpZm9yKHZhciBwIGluIGQpe2Zvcih2YXIgZj1kW3BdLG09W10sdj0wLGc9Zi5sZW5ndGg7djxnO3YrKyl7dmFyIHk9Zlt2XSx4PXZvaWQgMDtpZih5LmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUpeD1uZXcgZ2EoaSh0LmRhdGEseS5kYXRhKSx5Lml0ZW1TaXplLHkub2Zmc2V0LHkubm9ybWFsaXplZCk7ZWxzZSB4PW5ldyBlbihtbih5LnR5cGUseS5hcnJheSkseS5pdGVtU2l6ZSx5Lm5vcm1hbGl6ZWQpO3ZvaWQgMCE9PXkubmFtZSYmKHgubmFtZT15Lm5hbWUpLG0ucHVzaCh4KX1yLm1vcnBoQXR0cmlidXRlc1twXT1tfXQuZGF0YS5tb3JwaFRhcmdldHNSZWxhdGl2ZSYmKHIubW9ycGhUYXJnZXRzUmVsYXRpdmU9ITApO3ZhciBfPXQuZGF0YS5ncm91cHN8fHQuZGF0YS5kcmF3Y2FsbHN8fHQuZGF0YS5vZmZzZXRzO2lmKHZvaWQgMCE9PV8pZm9yKHZhciBiPTAsdz1fLmxlbmd0aDtiIT09dzsrK2Ipe3ZhciBNPV9bYl07ci5hZGRHcm91cChNLnN0YXJ0LE0uY291bnQsTS5tYXRlcmlhbEluZGV4KX12YXIgUz10LmRhdGEuYm91bmRpbmdTcGhlcmU7aWYodm9pZCAwIT09Uyl7dmFyIFQ9bmV3IEx0O3ZvaWQgMCE9PVMuY2VudGVyJiZULmZyb21BcnJheShTLmNlbnRlciksci5ib3VuZGluZ1NwaGVyZT1uZXcgWHQoVCxTLnJhZGl1cyl9cmV0dXJuIHQubmFtZSYmKHIubmFtZT10Lm5hbWUpLHQudXNlckRhdGEmJihyLnVzZXJEYXRhPXQudXNlckRhdGEpLHJ9LGV9KFpzKSxxYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmNhbGwodGhpcyxlKXx8dGhpc31jdChlLHQpO3ZhciBuPWUucHJvdG90eXBlO3JldHVybiBuLmxvYWQ9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcyxhPSIiPT09dGhpcy5wYXRoP2tjLmV4dHJhY3RVcmxCYXNlKHQpOnRoaXMucGF0aDt0aGlzLnJlc291cmNlUGF0aD10aGlzLnJlc291cmNlUGF0aHx8YTt2YXIgbz1uZXcgUXModGhpcy5tYW5hZ2VyKTtvLnNldFBhdGgodGhpcy5wYXRoKSxvLnNldFJlcXVlc3RIZWFkZXIodGhpcy5yZXF1ZXN0SGVhZGVyKSxvLnNldFdpdGhDcmVkZW50aWFscyh0aGlzLndpdGhDcmVkZW50aWFscyksby5sb2FkKHQsKGZ1bmN0aW9uKG4pe3ZhciBhPW51bGw7dHJ5e2E9SlNPTi5wYXJzZShuKX1jYXRjaChlKXtyZXR1cm4gdm9pZCAwIT09aSYmaShlKSx2b2lkIGNvbnNvbGUuZXJyb3IoIlRIUkVFOk9iamVjdExvYWRlcjogQ2FuJ3QgcGFyc2UgIit0KyIuIixlLm1lc3NhZ2UpfXZhciBvPWEubWV0YWRhdGE7dm9pZCAwIT09byYmdm9pZCAwIT09by50eXBlJiYiZ2VvbWV0cnkiIT09by50eXBlLnRvTG93ZXJDYXNlKCk/ci5wYXJzZShhLGUpOmNvbnNvbGUuZXJyb3IoIlRIUkVFLk9iamVjdExvYWRlcjogQ2FuJ3QgbG9hZCAiK3QpfSksbixpKX0sbi5wYXJzZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMucGFyc2VBbmltYXRpb25zKHQuYW5pbWF0aW9ucyksaT10aGlzLnBhcnNlU2hhcGVzKHQuc2hhcGVzKSxyPXRoaXMucGFyc2VHZW9tZXRyaWVzKHQuZ2VvbWV0cmllcyxpKSxhPXRoaXMucGFyc2VJbWFnZXModC5pbWFnZXMsKGZ1bmN0aW9uKCl7dm9pZCAwIT09ZSYmZShjKX0pKSxvPXRoaXMucGFyc2VUZXh0dXJlcyh0LnRleHR1cmVzLGEpLHM9dGhpcy5wYXJzZU1hdGVyaWFscyh0Lm1hdGVyaWFscyxvKSxjPXRoaXMucGFyc2VPYmplY3QodC5vYmplY3QscixzLG4pLGw9dGhpcy5wYXJzZVNrZWxldG9ucyh0LnNrZWxldG9ucyxjKTtpZih0aGlzLmJpbmRTa2VsZXRvbnMoYyxsKSx2b2lkIDAhPT1lKXt2YXIgdT0hMTtmb3IodmFyIGggaW4gYSlpZihhW2hdaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KXt1PSEwO2JyZWFrfSExPT09dSYmZShjKX1yZXR1cm4gY30sbi5wYXJzZVNoYXBlcz1mdW5jdGlvbih0KXt2YXIgZT17fTtpZih2b2lkIDAhPT10KWZvcih2YXIgbj0wLGk9dC5sZW5ndGg7bjxpO24rKyl7dmFyIHI9KG5ldyBFYykuZnJvbUpTT04odFtuXSk7ZVtyLnV1aWRdPXJ9cmV0dXJuIGV9LG4ucGFyc2VTa2VsZXRvbnM9ZnVuY3Rpb24odCxlKXt2YXIgbj17fSxpPXt9O2lmKGUudHJhdmVyc2UoKGZ1bmN0aW9uKHQpe3QuaXNCb25lJiYoaVt0LnV1aWRdPXQpfSkpLHZvaWQgMCE9PXQpZm9yKHZhciByPTAsYT10Lmxlbmd0aDtyPGE7cisrKXt2YXIgbz0obmV3IGphKS5mcm9tSlNPTih0W3JdLGkpO25bby51dWlkXT1vfXJldHVybiBufSxuLnBhcnNlR2VvbWV0cmllcz1mdW5jdGlvbih0LGUpe3ZhciBuLGk9e307aWYodm9pZCAwIT09dClmb3IodmFyIHI9bmV3IGpjLGE9MCxvPXQubGVuZ3RoO2E8bzthKyspe3ZhciBzPXZvaWQgMCxjPXRbYV07c3dpdGNoKGMudHlwZSl7Y2FzZSJQbGFuZUdlb21ldHJ5IjpjYXNlIlBsYW5lQnVmZmVyR2VvbWV0cnkiOnM9bmV3IHhzW2MudHlwZV0oYy53aWR0aCxjLmhlaWdodCxjLndpZHRoU2VnbWVudHMsYy5oZWlnaHRTZWdtZW50cyk7YnJlYWs7Y2FzZSJCb3hHZW9tZXRyeSI6Y2FzZSJCb3hCdWZmZXJHZW9tZXRyeSI6cz1uZXcgeHNbYy50eXBlXShjLndpZHRoLGMuaGVpZ2h0LGMuZGVwdGgsYy53aWR0aFNlZ21lbnRzLGMuaGVpZ2h0U2VnbWVudHMsYy5kZXB0aFNlZ21lbnRzKTticmVhaztjYXNlIkNpcmNsZUdlb21ldHJ5IjpjYXNlIkNpcmNsZUJ1ZmZlckdlb21ldHJ5IjpzPW5ldyB4c1tjLnR5cGVdKGMucmFkaXVzLGMuc2VnbWVudHMsYy50aGV0YVN0YXJ0LGMudGhldGFMZW5ndGgpO2JyZWFrO2Nhc2UiQ3lsaW5kZXJHZW9tZXRyeSI6Y2FzZSJDeWxpbmRlckJ1ZmZlckdlb21ldHJ5IjpzPW5ldyB4c1tjLnR5cGVdKGMucmFkaXVzVG9wLGMucmFkaXVzQm90dG9tLGMuaGVpZ2h0LGMucmFkaWFsU2VnbWVudHMsYy5oZWlnaHRTZWdtZW50cyxjLm9wZW5FbmRlZCxjLnRoZXRhU3RhcnQsYy50aGV0YUxlbmd0aCk7YnJlYWs7Y2FzZSJDb25lR2VvbWV0cnkiOmNhc2UiQ29uZUJ1ZmZlckdlb21ldHJ5IjpzPW5ldyB4c1tjLnR5cGVdKGMucmFkaXVzLGMuaGVpZ2h0LGMucmFkaWFsU2VnbWVudHMsYy5oZWlnaHRTZWdtZW50cyxjLm9wZW5FbmRlZCxjLnRoZXRhU3RhcnQsYy50aGV0YUxlbmd0aCk7YnJlYWs7Y2FzZSJTcGhlcmVHZW9tZXRyeSI6Y2FzZSJTcGhlcmVCdWZmZXJHZW9tZXRyeSI6cz1uZXcgeHNbYy50eXBlXShjLnJhZGl1cyxjLndpZHRoU2VnbWVudHMsYy5oZWlnaHRTZWdtZW50cyxjLnBoaVN0YXJ0LGMucGhpTGVuZ3RoLGMudGhldGFTdGFydCxjLnRoZXRhTGVuZ3RoKTticmVhaztjYXNlIkRvZGVjYWhlZHJvbkdlb21ldHJ5IjpjYXNlIkRvZGVjYWhlZHJvbkJ1ZmZlckdlb21ldHJ5IjpjYXNlIkljb3NhaGVkcm9uR2VvbWV0cnkiOmNhc2UiSWNvc2FoZWRyb25CdWZmZXJHZW9tZXRyeSI6Y2FzZSJPY3RhaGVkcm9uR2VvbWV0cnkiOmNhc2UiT2N0YWhlZHJvbkJ1ZmZlckdlb21ldHJ5IjpjYXNlIlRldHJhaGVkcm9uR2VvbWV0cnkiOmNhc2UiVGV0cmFoZWRyb25CdWZmZXJHZW9tZXRyeSI6cz1uZXcgeHNbYy50eXBlXShjLnJhZGl1cyxjLmRldGFpbCk7YnJlYWs7Y2FzZSJSaW5nR2VvbWV0cnkiOmNhc2UiUmluZ0J1ZmZlckdlb21ldHJ5IjpzPW5ldyB4c1tjLnR5cGVdKGMuaW5uZXJSYWRpdXMsYy5vdXRlclJhZGl1cyxjLnRoZXRhU2VnbWVudHMsYy5waGlTZWdtZW50cyxjLnRoZXRhU3RhcnQsYy50aGV0YUxlbmd0aCk7YnJlYWs7Y2FzZSJUb3J1c0dlb21ldHJ5IjpjYXNlIlRvcnVzQnVmZmVyR2VvbWV0cnkiOnM9bmV3IHhzW2MudHlwZV0oYy5yYWRpdXMsYy50dWJlLGMucmFkaWFsU2VnbWVudHMsYy50dWJ1bGFyU2VnbWVudHMsYy5hcmMpO2JyZWFrO2Nhc2UiVG9ydXNLbm90R2VvbWV0cnkiOmNhc2UiVG9ydXNLbm90QnVmZmVyR2VvbWV0cnkiOnM9bmV3IHhzW2MudHlwZV0oYy5yYWRpdXMsYy50dWJlLGMudHVidWxhclNlZ21lbnRzLGMucmFkaWFsU2VnbWVudHMsYy5wLGMucSk7YnJlYWs7Y2FzZSJUdWJlR2VvbWV0cnkiOmNhc2UiVHViZUJ1ZmZlckdlb21ldHJ5IjpzPW5ldyB4c1tjLnR5cGVdKChuZXcgTWNbYy5wYXRoLnR5cGVdKS5mcm9tSlNPTihjLnBhdGgpLGMudHVidWxhclNlZ21lbnRzLGMucmFkaXVzLGMucmFkaWFsU2VnbWVudHMsYy5jbG9zZWQpO2JyZWFrO2Nhc2UiTGF0aGVHZW9tZXRyeSI6Y2FzZSJMYXRoZUJ1ZmZlckdlb21ldHJ5IjpzPW5ldyB4c1tjLnR5cGVdKGMucG9pbnRzLGMuc2VnbWVudHMsYy5waGlTdGFydCxjLnBoaUxlbmd0aCk7YnJlYWs7Y2FzZSJQb2x5aGVkcm9uR2VvbWV0cnkiOmNhc2UiUG9seWhlZHJvbkJ1ZmZlckdlb21ldHJ5IjpzPW5ldyB4c1tjLnR5cGVdKGMudmVydGljZXMsYy5pbmRpY2VzLGMucmFkaXVzLGMuZGV0YWlscyk7YnJlYWs7Y2FzZSJTaGFwZUdlb21ldHJ5IjpjYXNlIlNoYXBlQnVmZmVyR2VvbWV0cnkiOm49W107Zm9yKHZhciBsPTAsdT1jLnNoYXBlcy5sZW5ndGg7bDx1O2wrKyl7dmFyIGg9ZVtjLnNoYXBlc1tsXV07bi5wdXNoKGgpfXM9bmV3IHhzW2MudHlwZV0obixjLmN1cnZlU2VnbWVudHMpO2JyZWFrO2Nhc2UiRXh0cnVkZUdlb21ldHJ5IjpjYXNlIkV4dHJ1ZGVCdWZmZXJHZW9tZXRyeSI6bj1bXTtmb3IodmFyIGQ9MCxwPWMuc2hhcGVzLmxlbmd0aDtkPHA7ZCsrKXt2YXIgZj1lW2Muc2hhcGVzW2RdXTtuLnB1c2goZil9dmFyIG09Yy5vcHRpb25zLmV4dHJ1ZGVQYXRoO3ZvaWQgMCE9PW0mJihjLm9wdGlvbnMuZXh0cnVkZVBhdGg9KG5ldyBNY1ttLnR5cGVdKS5mcm9tSlNPTihtKSkscz1uZXcgeHNbYy50eXBlXShuLGMub3B0aW9ucyk7YnJlYWs7Y2FzZSJCdWZmZXJHZW9tZXRyeSI6Y2FzZSJJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSI6cz1yLnBhcnNlKGMpO2JyZWFrO2Nhc2UiR2VvbWV0cnkiOmNvbnNvbGUuZXJyb3IoJ1RIUkVFLk9iamVjdExvYWRlcjogTG9hZGluZyAiR2VvbWV0cnkiIGlzIG5vdCBzdXBwb3J0ZWQgYW55bW9yZS4nKTticmVhaztkZWZhdWx0OmNvbnNvbGUud2FybignVEhSRUUuT2JqZWN0TG9hZGVyOiBVbnN1cHBvcnRlZCBnZW9tZXRyeSB0eXBlICInK2MudHlwZSsnIicpO2NvbnRpbnVlfXMudXVpZD1jLnV1aWQsdm9pZCAwIT09Yy5uYW1lJiYocy5uYW1lPWMubmFtZSksITA9PT1zLmlzQnVmZmVyR2VvbWV0cnkmJnZvaWQgMCE9PWMudXNlckRhdGEmJihzLnVzZXJEYXRhPWMudXNlckRhdGEpLGlbYy51dWlkXT1zfXJldHVybiBpfSxuLnBhcnNlTWF0ZXJpYWxzPWZ1bmN0aW9uKHQsZSl7dmFyIG49e30saT17fTtpZih2b2lkIDAhPT10KXt2YXIgcj1uZXcgVWM7ci5zZXRUZXh0dXJlcyhlKTtmb3IodmFyIGE9MCxvPXQubGVuZ3RoO2E8bzthKyspe3ZhciBzPXRbYV07aWYoIk11bHRpTWF0ZXJpYWwiPT09cy50eXBlKXtmb3IodmFyIGM9W10sbD0wO2w8cy5tYXRlcmlhbHMubGVuZ3RoO2wrKyl7dmFyIHU9cy5tYXRlcmlhbHNbbF07dm9pZCAwPT09blt1LnV1aWRdJiYoblt1LnV1aWRdPXIucGFyc2UodSkpLGMucHVzaChuW3UudXVpZF0pfWlbcy51dWlkXT1jfWVsc2Ugdm9pZCAwPT09bltzLnV1aWRdJiYobltzLnV1aWRdPXIucGFyc2UocykpLGlbcy51dWlkXT1uW3MudXVpZF19fXJldHVybiBpfSxuLnBhcnNlQW5pbWF0aW9ucz1mdW5jdGlvbih0KXt2YXIgZT17fTtpZih2b2lkIDAhPT10KWZvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dLHI9V3MucGFyc2UoaSk7ZVtyLnV1aWRdPXJ9cmV0dXJuIGV9LG4ucGFyc2VJbWFnZXM9ZnVuY3Rpb24odCxlKXt2YXIgbixpPXRoaXMscj17fTtmdW5jdGlvbiBhKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIGU9dDtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGkubWFuYWdlci5pdGVtU3RhcnQodCksbi5sb2FkKHQsKGZ1bmN0aW9uKCl7aS5tYW5hZ2VyLml0ZW1FbmQodCl9KSx2b2lkIDAsKGZ1bmN0aW9uKCl7aS5tYW5hZ2VyLml0ZW1FcnJvcih0KSxpLm1hbmFnZXIuaXRlbUVuZCh0KX0pKX0oL14oXC9cLyl8KFthLXpdKzooXC9cLyk/KS9pLnRlc3QoZSk/ZTppLnJlc291cmNlUGF0aCtlKX1yZXR1cm4gdC5kYXRhP3tkYXRhOm1uKHQudHlwZSx0LmRhdGEpLHdpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fTpudWxsfWlmKHZvaWQgMCE9PXQmJnQubGVuZ3RoPjApe3ZhciBvPW5ldyBYcyhlKTsobj1uZXcgdGMobykpLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pO2Zvcih2YXIgcz0wLGM9dC5sZW5ndGg7czxjO3MrKyl7dmFyIGw9dFtzXSx1PWwudXJsO2lmKEFycmF5LmlzQXJyYXkodSkpe3JbbC51dWlkXT1bXTtmb3IodmFyIGg9MCxkPXUubGVuZ3RoO2g8ZDtoKyspe3ZhciBwPWEodVtoXSk7bnVsbCE9PXAmJihwIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudD9yW2wudXVpZF0ucHVzaChwKTpyW2wudXVpZF0ucHVzaChuZXcgdGkocC5kYXRhLHAud2lkdGgscC5oZWlnaHQpKSl9fWVsc2V7dmFyIGY9YShsLnVybCk7bnVsbCE9PWYmJihyW2wudXVpZF09Zil9fX1yZXR1cm4gcn0sbi5wYXJzZVRleHR1cmVzPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0LGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdD90Oihjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdExvYWRlci5wYXJzZVRleHR1cmU6IENvbnN0YW50IHNob3VsZCBiZSBpbiBudW1lcmljIGZvcm0uIix0KSxlW3RdKX12YXIgaT17fTtpZih2b2lkIDAhPT10KWZvcih2YXIgcj0wLGE9dC5sZW5ndGg7cjxhO3IrKyl7dmFyIG89dFtyXTt2b2lkIDA9PT1vLmltYWdlJiZjb25zb2xlLndhcm4oJ1RIUkVFLk9iamVjdExvYWRlcjogTm8gImltYWdlIiBzcGVjaWZpZWQgZm9yJyxvLnV1aWQpLHZvaWQgMD09PWVbby5pbWFnZV0mJmNvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0TG9hZGVyOiBVbmRlZmluZWQgaW1hZ2UiLG8uaW1hZ2UpO3ZhciBzPXZvaWQgMCxjPWVbby5pbWFnZV07QXJyYXkuaXNBcnJheShjKT8ocz1uZXcgS24oYyksNj09PWMubGVuZ3RoJiYocy5uZWVkc1VwZGF0ZT0hMCkpOihzPWMmJmMuZGF0YT9uZXcgdGkoYy5kYXRhLGMud2lkdGgsYy5oZWlnaHQpOm5ldyB3dChjKSxjJiYocy5uZWVkc1VwZGF0ZT0hMCkpLHMudXVpZD1vLnV1aWQsdm9pZCAwIT09by5uYW1lJiYocy5uYW1lPW8ubmFtZSksdm9pZCAwIT09by5tYXBwaW5nJiYocy5tYXBwaW5nPW4oby5tYXBwaW5nLFhjKSksdm9pZCAwIT09by5vZmZzZXQmJnMub2Zmc2V0LmZyb21BcnJheShvLm9mZnNldCksdm9pZCAwIT09by5yZXBlYXQmJnMucmVwZWF0LmZyb21BcnJheShvLnJlcGVhdCksdm9pZCAwIT09by5jZW50ZXImJnMuY2VudGVyLmZyb21BcnJheShvLmNlbnRlciksdm9pZCAwIT09by5yb3RhdGlvbiYmKHMucm90YXRpb249by5yb3RhdGlvbiksdm9pZCAwIT09by53cmFwJiYocy53cmFwUz1uKG8ud3JhcFswXSxZYykscy53cmFwVD1uKG8ud3JhcFsxXSxZYykpLHZvaWQgMCE9PW8uZm9ybWF0JiYocy5mb3JtYXQ9by5mb3JtYXQpLHZvaWQgMCE9PW8udHlwZSYmKHMudHlwZT1vLnR5cGUpLHZvaWQgMCE9PW8uZW5jb2RpbmcmJihzLmVuY29kaW5nPW8uZW5jb2RpbmcpLHZvaWQgMCE9PW8ubWluRmlsdGVyJiYocy5taW5GaWx0ZXI9bihvLm1pbkZpbHRlcixaYykpLHZvaWQgMCE9PW8ubWFnRmlsdGVyJiYocy5tYWdGaWx0ZXI9bihvLm1hZ0ZpbHRlcixaYykpLHZvaWQgMCE9PW8uYW5pc290cm9weSYmKHMuYW5pc290cm9weT1vLmFuaXNvdHJvcHkpLHZvaWQgMCE9PW8uZmxpcFkmJihzLmZsaXBZPW8uZmxpcFkpLHZvaWQgMCE9PW8ucHJlbXVsdGlwbHlBbHBoYSYmKHMucHJlbXVsdGlwbHlBbHBoYT1vLnByZW11bHRpcGx5QWxwaGEpLHZvaWQgMCE9PW8udW5wYWNrQWxpZ25tZW50JiYocy51bnBhY2tBbGlnbm1lbnQ9by51bnBhY2tBbGlnbm1lbnQpLGlbby51dWlkXT1zfXJldHVybiBpfSxuLnBhcnNlT2JqZWN0PWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByLGEsbztmdW5jdGlvbiBzKHQpe3JldHVybiB2b2lkIDA9PT1lW3RdJiZjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdExvYWRlcjogVW5kZWZpbmVkIGdlb21ldHJ5Iix0KSxlW3RdfWZ1bmN0aW9uIGModCl7aWYodm9pZCAwIT09dCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBlPVtdLGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspe3ZhciBhPXRbaV07dm9pZCAwPT09blthXSYmY29uc29sZS53YXJuKCJUSFJFRS5PYmplY3RMb2FkZXI6IFVuZGVmaW5lZCBtYXRlcmlhbCIsYSksZS5wdXNoKG5bYV0pfXJldHVybiBlfXJldHVybiB2b2lkIDA9PT1uW3RdJiZjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdExvYWRlcjogVW5kZWZpbmVkIG1hdGVyaWFsIix0KSxuW3RdfX1zd2l0Y2godC50eXBlKXtjYXNlIlNjZW5lIjpyPW5ldyBwYSx2b2lkIDAhPT10LmJhY2tncm91bmQmJk51bWJlci5pc0ludGVnZXIodC5iYWNrZ3JvdW5kKSYmKHIuYmFja2dyb3VuZD1uZXcgUWUodC5iYWNrZ3JvdW5kKSksdm9pZCAwIT09dC5mb2cmJigiRm9nIj09PXQuZm9nLnR5cGU/ci5mb2c9bmV3IGRhKHQuZm9nLmNvbG9yLHQuZm9nLm5lYXIsdC5mb2cuZmFyKToiRm9nRXhwMiI9PT10LmZvZy50eXBlJiYoci5mb2c9bmV3IGhhKHQuZm9nLmNvbG9yLHQuZm9nLmRlbnNpdHkpKSk7YnJlYWs7Y2FzZSJQZXJzcGVjdGl2ZUNhbWVyYSI6cj1uZXcgWm4odC5mb3YsdC5hc3BlY3QsdC5uZWFyLHQuZmFyKSx2b2lkIDAhPT10LmZvY3VzJiYoci5mb2N1cz10LmZvY3VzKSx2b2lkIDAhPT10Lnpvb20mJihyLnpvb209dC56b29tKSx2b2lkIDAhPT10LmZpbG1HYXVnZSYmKHIuZmlsbUdhdWdlPXQuZmlsbUdhdWdlKSx2b2lkIDAhPT10LmZpbG1PZmZzZXQmJihyLmZpbG1PZmZzZXQ9dC5maWxtT2Zmc2V0KSx2b2lkIDAhPT10LnZpZXcmJihyLnZpZXc9T2JqZWN0LmFzc2lnbih7fSx0LnZpZXcpKTticmVhaztjYXNlIk9ydGhvZ3JhcGhpY0NhbWVyYSI6cj1uZXcgT2ModC5sZWZ0LHQucmlnaHQsdC50b3AsdC5ib3R0b20sdC5uZWFyLHQuZmFyKSx2b2lkIDAhPT10Lnpvb20mJihyLnpvb209dC56b29tKSx2b2lkIDAhPT10LnZpZXcmJihyLnZpZXc9T2JqZWN0LmFzc2lnbih7fSx0LnZpZXcpKTticmVhaztjYXNlIkFtYmllbnRMaWdodCI6cj1uZXcgemModC5jb2xvcix0LmludGVuc2l0eSk7YnJlYWs7Y2FzZSJEaXJlY3Rpb25hbExpZ2h0IjpyPW5ldyBCYyh0LmNvbG9yLHQuaW50ZW5zaXR5KTticmVhaztjYXNlIlBvaW50TGlnaHQiOnI9bmV3IEljKHQuY29sb3IsdC5pbnRlbnNpdHksdC5kaXN0YW5jZSx0LmRlY2F5KTticmVhaztjYXNlIlJlY3RBcmVhTGlnaHQiOnI9bmV3IEZjKHQuY29sb3IsdC5pbnRlbnNpdHksdC53aWR0aCx0LmhlaWdodCk7YnJlYWs7Y2FzZSJTcG90TGlnaHQiOnI9bmV3IFBjKHQuY29sb3IsdC5pbnRlbnNpdHksdC5kaXN0YW5jZSx0LmFuZ2xlLHQucGVudW1icmEsdC5kZWNheSk7YnJlYWs7Y2FzZSJIZW1pc3BoZXJlTGlnaHQiOnI9bmV3IExjKHQuY29sb3IsdC5ncm91bmRDb2xvcix0LmludGVuc2l0eSk7YnJlYWs7Y2FzZSJMaWdodFByb2JlIjpyPShuZXcgR2MpLmZyb21KU09OKHQpO2JyZWFrO2Nhc2UiU2tpbm5lZE1lc2giOnI9bmV3IFVhKGE9cyh0Lmdlb21ldHJ5KSxvPWModC5tYXRlcmlhbCkpLHZvaWQgMCE9PXQuYmluZE1vZGUmJihyLmJpbmRNb2RlPXQuYmluZE1vZGUpLHZvaWQgMCE9PXQuYmluZE1hdHJpeCYmci5iaW5kTWF0cml4LmZyb21BcnJheSh0LmJpbmRNYXRyaXgpLHZvaWQgMCE9PXQuc2tlbGV0b24mJihyLnNrZWxldG9uPXQuc2tlbGV0b24pO2JyZWFrO2Nhc2UiTWVzaCI6cj1uZXcgVW4oYT1zKHQuZ2VvbWV0cnkpLG89Yyh0Lm1hdGVyaWFsKSk7YnJlYWs7Y2FzZSJJbnN0YW5jZWRNZXNoIjphPXModC5nZW9tZXRyeSksbz1jKHQubWF0ZXJpYWwpO3ZhciBsPXQuY291bnQsdT10Lmluc3RhbmNlTWF0cml4OyhyPW5ldyBKYShhLG8sbCkpLmluc3RhbmNlTWF0cml4PW5ldyBlbihuZXcgRmxvYXQzMkFycmF5KHUuYXJyYXkpLDE2KTticmVhaztjYXNlIkxPRCI6cj1uZXcgTmE7YnJlYWs7Y2FzZSJMaW5lIjpyPW5ldyBpbyhzKHQuZ2VvbWV0cnkpLGModC5tYXRlcmlhbCkpO2JyZWFrO2Nhc2UiTGluZUxvb3AiOnI9bmV3IHNvKHModC5nZW9tZXRyeSksYyh0Lm1hdGVyaWFsKSk7YnJlYWs7Y2FzZSJMaW5lU2VnbWVudHMiOnI9bmV3IG9vKHModC5nZW9tZXRyeSksYyh0Lm1hdGVyaWFsKSk7YnJlYWs7Y2FzZSJQb2ludENsb3VkIjpjYXNlIlBvaW50cyI6cj1uZXcgZm8ocyh0Lmdlb21ldHJ5KSxjKHQubWF0ZXJpYWwpKTticmVhaztjYXNlIlNwcml0ZSI6cj1uZXcgUGEoYyh0Lm1hdGVyaWFsKSk7YnJlYWs7Y2FzZSJHcm91cCI6cj1uZXcgYWE7YnJlYWs7Y2FzZSJCb25lIjpyPW5ldyBrYTticmVhaztkZWZhdWx0OnI9bmV3IEFlfWlmKHIudXVpZD10LnV1aWQsdm9pZCAwIT09dC5uYW1lJiYoci5uYW1lPXQubmFtZSksdm9pZCAwIT09dC5tYXRyaXg/KHIubWF0cml4LmZyb21BcnJheSh0Lm1hdHJpeCksdm9pZCAwIT09dC5tYXRyaXhBdXRvVXBkYXRlJiYoci5tYXRyaXhBdXRvVXBkYXRlPXQubWF0cml4QXV0b1VwZGF0ZSksci5tYXRyaXhBdXRvVXBkYXRlJiZyLm1hdHJpeC5kZWNvbXBvc2Uoci5wb3NpdGlvbixyLnF1YXRlcm5pb24sci5zY2FsZSkpOih2b2lkIDAhPT10LnBvc2l0aW9uJiZyLnBvc2l0aW9uLmZyb21BcnJheSh0LnBvc2l0aW9uKSx2b2lkIDAhPT10LnJvdGF0aW9uJiZyLnJvdGF0aW9uLmZyb21BcnJheSh0LnJvdGF0aW9uKSx2b2lkIDAhPT10LnF1YXRlcm5pb24mJnIucXVhdGVybmlvbi5mcm9tQXJyYXkodC5xdWF0ZXJuaW9uKSx2b2lkIDAhPT10LnNjYWxlJiZyLnNjYWxlLmZyb21BcnJheSh0LnNjYWxlKSksdm9pZCAwIT09dC5jYXN0U2hhZG93JiYoci5jYXN0U2hhZG93PXQuY2FzdFNoYWRvdyksdm9pZCAwIT09dC5yZWNlaXZlU2hhZG93JiYoci5yZWNlaXZlU2hhZG93PXQucmVjZWl2ZVNoYWRvdyksdC5zaGFkb3cmJih2b2lkIDAhPT10LnNoYWRvdy5iaWFzJiYoci5zaGFkb3cuYmlhcz10LnNoYWRvdy5iaWFzKSx2b2lkIDAhPT10LnNoYWRvdy5ub3JtYWxCaWFzJiYoci5zaGFkb3cubm9ybWFsQmlhcz10LnNoYWRvdy5ub3JtYWxCaWFzKSx2b2lkIDAhPT10LnNoYWRvdy5yYWRpdXMmJihyLnNoYWRvdy5yYWRpdXM9dC5zaGFkb3cucmFkaXVzKSx2b2lkIDAhPT10LnNoYWRvdy5tYXBTaXplJiZyLnNoYWRvdy5tYXBTaXplLmZyb21BcnJheSh0LnNoYWRvdy5tYXBTaXplKSx2b2lkIDAhPT10LnNoYWRvdy5jYW1lcmEmJihyLnNoYWRvdy5jYW1lcmE9dGhpcy5wYXJzZU9iamVjdCh0LnNoYWRvdy5jYW1lcmEpKSksdm9pZCAwIT09dC52aXNpYmxlJiYoci52aXNpYmxlPXQudmlzaWJsZSksdm9pZCAwIT09dC5mcnVzdHVtQ3VsbGVkJiYoci5mcnVzdHVtQ3VsbGVkPXQuZnJ1c3R1bUN1bGxlZCksdm9pZCAwIT09dC5yZW5kZXJPcmRlciYmKHIucmVuZGVyT3JkZXI9dC5yZW5kZXJPcmRlciksdm9pZCAwIT09dC51c2VyRGF0YSYmKHIudXNlckRhdGE9dC51c2VyRGF0YSksdm9pZCAwIT09dC5sYXllcnMmJihyLmxheWVycy5tYXNrPXQubGF5ZXJzKSx2b2lkIDAhPT10LmNoaWxkcmVuKWZvcih2YXIgaD10LmNoaWxkcmVuLGQ9MDtkPGgubGVuZ3RoO2QrKylyLmFkZCh0aGlzLnBhcnNlT2JqZWN0KGhbZF0sZSxuLGkpKTtpZih2b2lkIDAhPT10LmFuaW1hdGlvbnMpZm9yKHZhciBwPXQuYW5pbWF0aW9ucyxmPTA7ZjxwLmxlbmd0aDtmKyspe3ZhciBtPXBbZl07ci5hbmltYXRpb25zLnB1c2goaVttXSl9aWYoIkxPRCI9PT10LnR5cGUpe3ZvaWQgMCE9PXQuYXV0b1VwZGF0ZSYmKHIuYXV0b1VwZGF0ZT10LmF1dG9VcGRhdGUpO2Zvcih2YXIgdj10LmxldmVscyxnPTA7Zzx2Lmxlbmd0aDtnKyspe3ZhciB5PXZbZ10seD1yLmdldE9iamVjdEJ5UHJvcGVydHkoInV1aWQiLHkub2JqZWN0KTt2b2lkIDAhPT14JiZyLmFkZExldmVsKHgseS5kaXN0YW5jZSl9fXJldHVybiByfSxuLmJpbmRTa2VsZXRvbnM9ZnVuY3Rpb24odCxlKXswIT09T2JqZWN0LmtleXMoZSkubGVuZ3RoJiZ0LnRyYXZlcnNlKChmdW5jdGlvbih0KXtpZighMD09PXQuaXNTa2lubmVkTWVzaCYmdm9pZCAwIT09dC5za2VsZXRvbil7dmFyIG49ZVt0LnNrZWxldG9uXTt2b2lkIDA9PT1uP2NvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0TG9hZGVyOiBObyBza2VsZXRvbiBmb3VuZCB3aXRoIFVVSUQ6Iix0LnNrZWxldG9uKTp0LmJpbmQobix0LmJpbmRNYXRyaXgpfX0pKX0sbi5zZXRUZXh0dXJlUGF0aD1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5PYmplY3RMb2FkZXI6IC5zZXRUZXh0dXJlUGF0aCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldFJlc291cmNlUGF0aCgpLiIpLHRoaXMuc2V0UmVzb3VyY2VQYXRoKHQpfSxlfShacyksWGM9e1VWTWFwcGluZzpyLEN1YmVSZWZsZWN0aW9uTWFwcGluZzphLEN1YmVSZWZyYWN0aW9uTWFwcGluZzpvLEVxdWlyZWN0YW5ndWxhclJlZmxlY3Rpb25NYXBwaW5nOnMsRXF1aXJlY3Rhbmd1bGFyUmVmcmFjdGlvbk1hcHBpbmc6YyxDdWJlVVZSZWZsZWN0aW9uTWFwcGluZzpsLEN1YmVVVlJlZnJhY3Rpb25NYXBwaW5nOnV9LFljPXtSZXBlYXRXcmFwcGluZzpoLENsYW1wVG9FZGdlV3JhcHBpbmc6ZCxNaXJyb3JlZFJlcGVhdFdyYXBwaW5nOnB9LFpjPXtOZWFyZXN0RmlsdGVyOmYsTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXI6bSxOZWFyZXN0TWlwbWFwTGluZWFyRmlsdGVyOnYsTGluZWFyRmlsdGVyOmcsTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlcjp5LExpbmVhck1pcG1hcExpbmVhckZpbHRlcjp4fTtmdW5jdGlvbiBKYyh0KXsidW5kZWZpbmVkIj09dHlwZW9mIGNyZWF0ZUltYWdlQml0bWFwJiZjb25zb2xlLndhcm4oIlRIUkVFLkltYWdlQml0bWFwTG9hZGVyOiBjcmVhdGVJbWFnZUJpdG1hcCgpIG5vdCBzdXBwb3J0ZWQuIiksInVuZGVmaW5lZCI9PXR5cGVvZiBmZXRjaCYmY29uc29sZS53YXJuKCJUSFJFRS5JbWFnZUJpdG1hcExvYWRlcjogZmV0Y2goKSBub3Qgc3VwcG9ydGVkLiIpLFpzLmNhbGwodGhpcyx0KSx0aGlzLm9wdGlvbnM9e3ByZW11bHRpcGx5QWxwaGE6Im5vbmUifX1KYy5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKFpzLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkpjLGlzSW1hZ2VCaXRtYXBMb2FkZXI6ITAsc2V0T3B0aW9uczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zPXQsdGhpc30sbG9hZDpmdW5jdGlvbih0LGUsbixpKXt2b2lkIDA9PT10JiYodD0iIiksdm9pZCAwIT09dGhpcy5wYXRoJiYodD10aGlzLnBhdGgrdCksdD10aGlzLm1hbmFnZXIucmVzb2x2ZVVSTCh0KTt2YXIgcj10aGlzLGE9cXMuZ2V0KHQpO2lmKHZvaWQgMCE9PWEpcmV0dXJuIHIubWFuYWdlci5pdGVtU3RhcnQodCksc2V0VGltZW91dCgoZnVuY3Rpb24oKXtlJiZlKGEpLHIubWFuYWdlci5pdGVtRW5kKHQpfSksMCksYTt2YXIgbz17fTtvLmNyZWRlbnRpYWxzPSJhbm9ueW1vdXMiPT09dGhpcy5jcm9zc09yaWdpbj8ic2FtZS1vcmlnaW4iOiJpbmNsdWRlIixmZXRjaCh0LG8pLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiB0LmJsb2IoKX0pKS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAodCxyLm9wdGlvbnMpfSkpLnRoZW4oKGZ1bmN0aW9uKG4pe3FzLmFkZCh0LG4pLGUmJmUobiksci5tYW5hZ2VyLml0ZW1FbmQodCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2kmJmkoZSksci5tYW5hZ2VyLml0ZW1FcnJvcih0KSxyLm1hbmFnZXIuaXRlbUVuZCh0KX0pKSxyLm1hbmFnZXIuaXRlbVN0YXJ0KHQpfX0pO3ZhciBRYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnR5cGU9IlNoYXBlUGF0aCIsdGhpcy5jb2xvcj1uZXcgUWUsdGhpcy5zdWJQYXRocz1bXSx0aGlzLmN1cnJlbnRQYXRoPW51bGx9dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUubW92ZVRvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY3VycmVudFBhdGg9bmV3IFRjLHRoaXMuc3ViUGF0aHMucHVzaCh0aGlzLmN1cnJlbnRQYXRoKSx0aGlzLmN1cnJlbnRQYXRoLm1vdmVUbyh0LGUpLHRoaXN9LGUubGluZVRvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY3VycmVudFBhdGgubGluZVRvKHQsZSksdGhpc30sZS5xdWFkcmF0aWNDdXJ2ZVRvPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0aGlzLmN1cnJlbnRQYXRoLnF1YWRyYXRpY0N1cnZlVG8odCxlLG4saSksdGhpc30sZS5iZXppZXJDdXJ2ZVRvPWZ1bmN0aW9uKHQsZSxuLGkscixhKXtyZXR1cm4gdGhpcy5jdXJyZW50UGF0aC5iZXppZXJDdXJ2ZVRvKHQsZSxuLGkscixhKSx0aGlzfSxlLnNwbGluZVRocnU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY3VycmVudFBhdGguc3BsaW5lVGhydSh0KSx0aGlzfSxlLnRvU2hhcGVzPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbih0KXtmb3IodmFyIGU9W10sbj0wLGk9dC5sZW5ndGg7bjxpO24rKyl7dmFyIHI9dFtuXSxhPW5ldyBFYzthLmN1cnZlcz1yLmN1cnZlcyxlLnB1c2goYSl9cmV0dXJuIGV9ZnVuY3Rpb24gaSh0LGUpe2Zvcih2YXIgbj1lLmxlbmd0aCxpPSExLHI9bi0xLGE9MDthPG47cj1hKyspe3ZhciBvPWVbcl0scz1lW2FdLGM9cy54LW8ueCxsPXMueS1vLnk7aWYoTWF0aC5hYnMobCk+TnVtYmVyLkVQU0lMT04pe2lmKGw8MCYmKG89ZVthXSxjPS1jLHM9ZVtyXSxsPS1sKSx0Lnk8by55fHx0Lnk+cy55KWNvbnRpbnVlO2lmKHQueT09PW8ueSl7aWYodC54PT09by54KXJldHVybiEwfWVsc2V7dmFyIHU9bCoodC54LW8ueCktYyoodC55LW8ueSk7aWYoMD09PXUpcmV0dXJuITA7aWYodTwwKWNvbnRpbnVlO2k9IWl9fWVsc2V7aWYodC55IT09by55KWNvbnRpbnVlO2lmKHMueDw9dC54JiZ0Lng8PW8ueHx8by54PD10LngmJnQueDw9cy54KXJldHVybiEwfX1yZXR1cm4gaX12YXIgcixhLG8scz1lcy5pc0Nsb2NrV2lzZSxjPXRoaXMuc3ViUGF0aHM7aWYoMD09PWMubGVuZ3RoKXJldHVybltdO2lmKCEwPT09ZSlyZXR1cm4gbihjKTt2YXIgbD1bXTtpZigxPT09Yy5sZW5ndGgpcmV0dXJuIGE9Y1swXSwobz1uZXcgRWMpLmN1cnZlcz1hLmN1cnZlcyxsLnB1c2gobyksbDt2YXIgdT0hcyhjWzBdLmdldFBvaW50cygpKTt1PXQ/IXU6dTt2YXIgaCxkLHA9W10sZj1bXSxtPVtdLHY9MDtmW3ZdPXZvaWQgMCxtW3ZdPVtdO2Zvcih2YXIgZz0wLHk9Yy5sZW5ndGg7Zzx5O2crKylyPXMoaD0oYT1jW2ddKS5nZXRQb2ludHMoKSksKHI9dD8hcjpyKT8oIXUmJmZbdl0mJnYrKyxmW3ZdPXtzOm5ldyBFYyxwOmh9LGZbdl0ucy5jdXJ2ZXM9YS5jdXJ2ZXMsdSYmdisrLG1bdl09W10pOm1bdl0ucHVzaCh7aDphLHA6aFswXX0pO2lmKCFmWzBdKXJldHVybiBuKGMpO2lmKGYubGVuZ3RoPjEpe2Zvcih2YXIgeD0hMSxfPVtdLGI9MCx3PWYubGVuZ3RoO2I8dztiKyspcFtiXT1bXTtmb3IodmFyIE09MCxTPWYubGVuZ3RoO008UztNKyspZm9yKHZhciBUPW1bTV0sRT0wO0U8VC5sZW5ndGg7RSsrKXtmb3IodmFyIEE9VFtFXSxMPSEwLFI9MDtSPGYubGVuZ3RoO1IrKylpKEEucCxmW1JdLnApJiYoTSE9PVImJl8ucHVzaCh7ZnJvbXM6TSx0b3M6Uixob2xlOkV9KSxMPyhMPSExLHBbUl0ucHVzaChBKSk6eD0hMCk7TCYmcFtNXS5wdXNoKEEpfV8ubGVuZ3RoPjAmJih4fHwobT1wKSl9Zm9yKHZhciBDPTAsUD1mLmxlbmd0aDtDPFA7QysrKXtvPWZbQ10ucyxsLnB1c2gobyk7Zm9yKHZhciBEPTAsST0oZD1tW0NdKS5sZW5ndGg7RDxJO0QrKylvLmhvbGVzLnB1c2goZFtEXS5oKX1yZXR1cm4gbH0sdH0oKSxLYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImlzRm9udCIse3ZhbHVlOiEwfSksdGhpcy50eXBlPSJGb250Iix0aGlzLmRhdGE9dH1yZXR1cm4gdC5wcm90b3R5cGUuZ2VuZXJhdGVTaGFwZXM9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0xMDApO2Zvcih2YXIgbj1bXSxpPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9QXJyYXkuZnJvbT9BcnJheS5mcm9tKHQpOlN0cmluZyh0KS5zcGxpdCgiIikscj1lL24ucmVzb2x1dGlvbixhPShuLmJvdW5kaW5nQm94LnlNYXgtbi5ib3VuZGluZ0JveC55TWluK24udW5kZXJsaW5lVGhpY2tuZXNzKSpyLG89W10scz0wLGM9MCxsPTA7bDxpLmxlbmd0aDtsKyspe3ZhciB1PWlbbF07aWYoIlxuIj09PXUpcz0wLGMtPWE7ZWxzZXt2YXIgaD0kYyh1LHIscyxjLG4pO3MrPWgub2Zmc2V0WCxvLnB1c2goaC5wYXRoKX19cmV0dXJuIG99KHQsZSx0aGlzLmRhdGEpLHI9MCxhPWkubGVuZ3RoO3I8YTtyKyspQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkobixpW3JdLnRvU2hhcGVzKCkpO3JldHVybiBufSx0fSgpO2Z1bmN0aW9uICRjKHQsZSxuLGkscil7dmFyIGE9ci5nbHlwaHNbdF18fHIuZ2x5cGhzWyI/Il07aWYoYSl7dmFyIG8scyxjLGwsdSxoLGQscCxmPW5ldyBRYztpZihhLm8pZm9yKHZhciBtPWEuX2NhY2hlZE91dGxpbmV8fChhLl9jYWNoZWRPdXRsaW5lPWEuby5zcGxpdCgiICIpKSx2PTAsZz1tLmxlbmd0aDt2PGc7KXtzd2l0Y2gobVt2KytdKXtjYXNlIm0iOm89bVt2KytdKmUrbixzPW1bdisrXSplK2ksZi5tb3ZlVG8obyxzKTticmVhaztjYXNlImwiOm89bVt2KytdKmUrbixzPW1bdisrXSplK2ksZi5saW5lVG8obyxzKTticmVhaztjYXNlInEiOmM9bVt2KytdKmUrbixsPW1bdisrXSplK2ksdT1tW3YrK10qZStuLGg9bVt2KytdKmUraSxmLnF1YWRyYXRpY0N1cnZlVG8odSxoLGMsbCk7YnJlYWs7Y2FzZSJiIjpjPW1bdisrXSplK24sbD1tW3YrK10qZStpLHU9bVt2KytdKmUrbixoPW1bdisrXSplK2ksZD1tW3YrK10qZStuLHA9bVt2KytdKmUraSxmLmJlemllckN1cnZlVG8odSxoLGQscCxjLGwpfX1yZXR1cm57b2Zmc2V0WDphLmhhKmUscGF0aDpmfX1jb25zb2xlLmVycm9yKCdUSFJFRS5Gb250OiBjaGFyYWN0ZXIgIicrdCsnIiBkb2VzIG5vdCBleGlzdHMgaW4gZm9udCBmYW1pbHkgJytyLmZhbWlseU5hbWUrIi4iKX12YXIgdGwsZWw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSl8fHRoaXN9Y3QoZSx0KTt2YXIgbj1lLnByb3RvdHlwZTtyZXR1cm4gbi5sb2FkPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXRoaXMsYT1uZXcgUXModGhpcy5tYW5hZ2VyKTthLnNldFBhdGgodGhpcy5wYXRoKSxhLnNldFJlcXVlc3RIZWFkZXIodGhpcy5yZXF1ZXN0SGVhZGVyKSxhLnNldFdpdGhDcmVkZW50aWFscyhyLndpdGhDcmVkZW50aWFscyksYS5sb2FkKHQsKGZ1bmN0aW9uKHQpe3ZhciBuO3RyeXtuPUpTT04ucGFyc2UodCl9Y2F0Y2goZSl7Y29uc29sZS53YXJuKCJUSFJFRS5Gb250TG9hZGVyOiB0eXBlZmFjZS5qcyBzdXBwb3J0IGlzIGJlaW5nIGRlcHJlY2F0ZWQuIFVzZSB0eXBlZmFjZS5qc29uIGluc3RlYWQuIiksbj1KU09OLnBhcnNlKHQuc3Vic3RyaW5nKDY1LHQubGVuZ3RoLTIpKX12YXIgaT1yLnBhcnNlKG4pO2UmJmUoaSl9KSxuLGkpfSxuLnBhcnNlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgS2ModCl9LGV9KFpzKSxubD17Z2V0Q29udGV4dDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10bCYmKHRsPW5ldyh3aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSksdGx9LHNldENvbnRleHQ6ZnVuY3Rpb24odCl7dGw9dH19LGlsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHQuY2FsbCh0aGlzLGUpfHx0aGlzfXJldHVybiBjdChlLHQpLGUucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dGhpcyxhPW5ldyBRcyh0aGlzLm1hbmFnZXIpO2Euc2V0UmVzcG9uc2VUeXBlKCJhcnJheWJ1ZmZlciIpLGEuc2V0UGF0aCh0aGlzLnBhdGgpLGEuc2V0UmVxdWVzdEhlYWRlcih0aGlzLnJlcXVlc3RIZWFkZXIpLGEuc2V0V2l0aENyZWRlbnRpYWxzKHRoaXMud2l0aENyZWRlbnRpYWxzKSxhLmxvYWQodCwoZnVuY3Rpb24obil7dHJ5e3ZhciBhPW4uc2xpY2UoMCk7bmwuZ2V0Q29udGV4dCgpLmRlY29kZUF1ZGlvRGF0YShhLChmdW5jdGlvbih0KXtlKHQpfSkpfWNhdGNoKGUpe2k/aShlKTpjb25zb2xlLmVycm9yKGUpLHIubWFuYWdlci5pdGVtRXJyb3IodCl9fSksbixpKX0sZX0oWnMpO2Z1bmN0aW9uIHJsKHQsZSxuKXtHYy5jYWxsKHRoaXMsdm9pZCAwLG4pO3ZhciBpPShuZXcgUWUpLnNldCh0KSxyPShuZXcgUWUpLnNldChlKSxhPW5ldyBMdChpLnIsaS5nLGkuYiksbz1uZXcgTHQoci5yLHIuZyxyLmIpLHM9TWF0aC5zcXJ0KE1hdGguUEkpLGM9cypNYXRoLnNxcnQoLjc1KTt0aGlzLnNoLmNvZWZmaWNpZW50c1swXS5jb3B5KGEpLmFkZChvKS5tdWx0aXBseVNjYWxhcihzKSx0aGlzLnNoLmNvZWZmaWNpZW50c1sxXS5jb3B5KGEpLnN1YihvKS5tdWx0aXBseVNjYWxhcihjKX1mdW5jdGlvbiBhbCh0LGUpe0djLmNhbGwodGhpcyx2b2lkIDAsZSk7dmFyIG49KG5ldyBRZSkuc2V0KHQpO3RoaXMuc2guY29lZmZpY2llbnRzWzBdLnNldChuLnIsbi5nLG4uYikubXVsdGlwbHlTY2FsYXIoMipNYXRoLnNxcnQoTWF0aC5QSSkpfXJsLnByb3RvdHlwZT1PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoR2MucHJvdG90eXBlKSx7Y29uc3RydWN0b3I6cmwsaXNIZW1pc3BoZXJlTGlnaHRQcm9iZTohMCxjb3B5OmZ1bmN0aW9uKHQpe3JldHVybiBHYy5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpc30sdG9KU09OOmZ1bmN0aW9uKHQpe3JldHVybiBHYy5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyx0KX19KSxhbC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKEdjLnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOmFsLGlzQW1iaWVudExpZ2h0UHJvYmU6ITAsY29weTpmdW5jdGlvbih0KXtyZXR1cm4gR2MucHJvdG90eXBlLmNvcHkuY2FsbCh0aGlzLHQpLHRoaXN9LHRvSlNPTjpmdW5jdGlvbih0KXtyZXR1cm4gR2MucHJvdG90eXBlLnRvSlNPTi5jYWxsKHRoaXMsdCl9fSk7dmFyIG9sPW5ldyBuZSxzbD1uZXcgbmU7ZnVuY3Rpb24gY2woKXt0aGlzLnR5cGU9IlN0ZXJlb0NhbWVyYSIsdGhpcy5hc3BlY3Q9MSx0aGlzLmV5ZVNlcD0uMDY0LHRoaXMuY2FtZXJhTD1uZXcgWm4sdGhpcy5jYW1lcmFMLmxheWVycy5lbmFibGUoMSksdGhpcy5jYW1lcmFMLm1hdHJpeEF1dG9VcGRhdGU9ITEsdGhpcy5jYW1lcmFSPW5ldyBabix0aGlzLmNhbWVyYVIubGF5ZXJzLmVuYWJsZSgyKSx0aGlzLmNhbWVyYVIubWF0cml4QXV0b1VwZGF0ZT0hMSx0aGlzLl9jYWNoZT17Zm9jdXM6bnVsbCxmb3Y6bnVsbCxhc3BlY3Q6bnVsbCxuZWFyOm51bGwsZmFyOm51bGwsem9vbTpudWxsLGV5ZVNlcDpudWxsfX1PYmplY3QuYXNzaWduKGNsLnByb3RvdHlwZSx7dXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NhY2hlO2lmKGUuZm9jdXMhPT10LmZvY3VzfHxlLmZvdiE9PXQuZm92fHxlLmFzcGVjdCE9PXQuYXNwZWN0KnRoaXMuYXNwZWN0fHxlLm5lYXIhPT10Lm5lYXJ8fGUuZmFyIT09dC5mYXJ8fGUuem9vbSE9PXQuem9vbXx8ZS5leWVTZXAhPT10aGlzLmV5ZVNlcCl7ZS5mb2N1cz10LmZvY3VzLGUuZm92PXQuZm92LGUuYXNwZWN0PXQuYXNwZWN0KnRoaXMuYXNwZWN0LGUubmVhcj10Lm5lYXIsZS5mYXI9dC5mYXIsZS56b29tPXQuem9vbSxlLmV5ZVNlcD10aGlzLmV5ZVNlcDt2YXIgbixpLHI9dC5wcm9qZWN0aW9uTWF0cml4LmNsb25lKCksYT1lLmV5ZVNlcC8yLG89YSplLm5lYXIvZS5mb2N1cyxzPWUubmVhcipNYXRoLnRhbihndC5ERUcyUkFEKmUuZm92Ki41KS9lLnpvb207c2wuZWxlbWVudHNbMTJdPS1hLG9sLmVsZW1lbnRzWzEyXT1hLG49LXMqZS5hc3BlY3QrbyxpPXMqZS5hc3BlY3QrbyxyLmVsZW1lbnRzWzBdPTIqZS5uZWFyLyhpLW4pLHIuZWxlbWVudHNbOF09KGkrbikvKGktbiksdGhpcy5jYW1lcmFMLnByb2plY3Rpb25NYXRyaXguY29weShyKSxuPS1zKmUuYXNwZWN0LW8saT1zKmUuYXNwZWN0LW8sci5lbGVtZW50c1swXT0yKmUubmVhci8oaS1uKSxyLmVsZW1lbnRzWzhdPShpK24pLyhpLW4pLHRoaXMuY2FtZXJhUi5wcm9qZWN0aW9uTWF0cml4LmNvcHkocil9dGhpcy5jYW1lcmFMLm1hdHJpeFdvcmxkLmNvcHkodC5tYXRyaXhXb3JsZCkubXVsdGlwbHkoc2wpLHRoaXMuY2FtZXJhUi5tYXRyaXhXb3JsZC5jb3B5KHQubWF0cml4V29ybGQpLm11bHRpcGx5KG9sKX19KTt2YXIgbGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuYXV0b1N0YXJ0PXZvaWQgMD09PXR8fHQsdGhpcy5zdGFydFRpbWU9MCx0aGlzLm9sZFRpbWU9MCx0aGlzLmVsYXBzZWRUaW1lPTAsdGhpcy5ydW5uaW5nPSExfXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5zdGFydFRpbWU9dWwoKSx0aGlzLm9sZFRpbWU9dGhpcy5zdGFydFRpbWUsdGhpcy5lbGFwc2VkVGltZT0wLHRoaXMucnVubmluZz0hMH0sZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5nZXRFbGFwc2VkVGltZSgpLHRoaXMucnVubmluZz0hMSx0aGlzLmF1dG9TdGFydD0hMX0sZS5nZXRFbGFwc2VkVGltZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERlbHRhKCksdGhpcy5lbGFwc2VkVGltZX0sZS5nZXREZWx0YT1mdW5jdGlvbigpe3ZhciB0PTA7aWYodGhpcy5hdXRvU3RhcnQmJiF0aGlzLnJ1bm5pbmcpcmV0dXJuIHRoaXMuc3RhcnQoKSwwO2lmKHRoaXMucnVubmluZyl7dmFyIGU9dWwoKTt0PShlLXRoaXMub2xkVGltZSkvMWUzLHRoaXMub2xkVGltZT1lLHRoaXMuZWxhcHNlZFRpbWUrPXR9cmV0dXJuIHR9LHR9KCk7ZnVuY3Rpb24gdWwoKXtyZXR1cm4oInVuZGVmaW5lZCI9PXR5cGVvZiBwZXJmb3JtYW5jZT9EYXRlOnBlcmZvcm1hbmNlKS5ub3coKX12YXIgaGw9bmV3IEx0LGRsPW5ldyBBdCxwbD1uZXcgTHQsZmw9bmV3IEx0LG1sPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZTtyZXR1cm4oZT10LmNhbGwodGhpcyl8fHRoaXMpLnR5cGU9IkF1ZGlvTGlzdGVuZXIiLGUuY29udGV4dD1ubC5nZXRDb250ZXh0KCksZS5nYWluPWUuY29udGV4dC5jcmVhdGVHYWluKCksZS5nYWluLmNvbm5lY3QoZS5jb250ZXh0LmRlc3RpbmF0aW9uKSxlLmZpbHRlcj1udWxsLGUudGltZURlbHRhPTAsZS5fY2xvY2s9bmV3IGxsLGV9Y3QoZSx0KTt2YXIgbj1lLnByb3RvdHlwZTtyZXR1cm4gbi5nZXRJbnB1dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdhaW59LG4ucmVtb3ZlRmlsdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmZpbHRlciYmKHRoaXMuZ2Fpbi5kaXNjb25uZWN0KHRoaXMuZmlsdGVyKSx0aGlzLmZpbHRlci5kaXNjb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksdGhpcy5nYWluLmNvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKSx0aGlzLmZpbHRlcj1udWxsKSx0aGlzfSxuLmdldEZpbHRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbHRlcn0sbi5zZXRGaWx0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10aGlzLmZpbHRlcj8odGhpcy5nYWluLmRpc2Nvbm5lY3QodGhpcy5maWx0ZXIpLHRoaXMuZmlsdGVyLmRpc2Nvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKSk6dGhpcy5nYWluLmRpc2Nvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKSx0aGlzLmZpbHRlcj10LHRoaXMuZ2Fpbi5jb25uZWN0KHRoaXMuZmlsdGVyKSx0aGlzLmZpbHRlci5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksdGhpc30sbi5nZXRNYXN0ZXJWb2x1bWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYWluLmdhaW4udmFsdWV9LG4uc2V0TWFzdGVyVm9sdW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdhaW4uZ2Fpbi5zZXRUYXJnZXRBdFRpbWUodCx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUsLjAxKSx0aGlzfSxuLnVwZGF0ZU1hdHJpeFdvcmxkPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLnVwZGF0ZU1hdHJpeFdvcmxkLmNhbGwodGhpcyxlKTt2YXIgbj10aGlzLmNvbnRleHQubGlzdGVuZXIsaT10aGlzLnVwO2lmKHRoaXMudGltZURlbHRhPXRoaXMuX2Nsb2NrLmdldERlbHRhKCksdGhpcy5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoaGwsZGwscGwpLGZsLnNldCgwLDAsLTEpLmFwcGx5UXVhdGVybmlvbihkbCksbi5wb3NpdGlvblgpe3ZhciByPXRoaXMuY29udGV4dC5jdXJyZW50VGltZSt0aGlzLnRpbWVEZWx0YTtuLnBvc2l0aW9uWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShobC54LHIpLG4ucG9zaXRpb25ZLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGhsLnksciksbi5wb3NpdGlvbloubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoaGwueixyKSxuLmZvcndhcmRYLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGZsLngsciksbi5mb3J3YXJkWS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShmbC55LHIpLG4uZm9yd2FyZFoubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoZmwueixyKSxuLnVwWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShpLngsciksbi51cFkubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoaS55LHIpLG4udXBaLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGkueixyKX1lbHNlIG4uc2V0UG9zaXRpb24oaGwueCxobC55LGhsLnopLG4uc2V0T3JpZW50YXRpb24oZmwueCxmbC55LGZsLnosaS54LGkueSxpLnopfSxlfShBZSksdmw9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgbjtyZXR1cm4obj10LmNhbGwodGhpcyl8fHRoaXMpLnR5cGU9IkF1ZGlvIixuLmxpc3RlbmVyPWUsbi5jb250ZXh0PWUuY29udGV4dCxuLmdhaW49bi5jb250ZXh0LmNyZWF0ZUdhaW4oKSxuLmdhaW4uY29ubmVjdChlLmdldElucHV0KCkpLG4uYXV0b3BsYXk9ITEsbi5idWZmZXI9bnVsbCxuLmRldHVuZT0wLG4ubG9vcD0hMSxuLmxvb3BTdGFydD0wLG4ubG9vcEVuZD0wLG4ub2Zmc2V0PTAsbi5kdXJhdGlvbj12b2lkIDAsbi5wbGF5YmFja1JhdGU9MSxuLmlzUGxheWluZz0hMSxuLmhhc1BsYXliYWNrQ29udHJvbD0hMCxuLnNvdXJjZT1udWxsLG4uc291cmNlVHlwZT0iZW1wdHkiLG4uX3N0YXJ0ZWRBdD0wLG4uX3Byb2dyZXNzPTAsbi5fY29ubmVjdGVkPSExLG4uZmlsdGVycz1bXSxufWN0KGUsdCk7dmFyIG49ZS5wcm90b3R5cGU7cmV0dXJuIG4uZ2V0T3V0cHV0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2Fpbn0sbi5zZXROb2RlU291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhc1BsYXliYWNrQ29udHJvbD0hMSx0aGlzLnNvdXJjZVR5cGU9ImF1ZGlvTm9kZSIsdGhpcy5zb3VyY2U9dCx0aGlzLmNvbm5lY3QoKSx0aGlzfSxuLnNldE1lZGlhRWxlbWVudFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9ITEsdGhpcy5zb3VyY2VUeXBlPSJtZWRpYU5vZGUiLHRoaXMuc291cmNlPXRoaXMuY29udGV4dC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UodCksdGhpcy5jb25uZWN0KCksdGhpc30sbi5zZXRNZWRpYVN0cmVhbVNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9ITEsdGhpcy5zb3VyY2VUeXBlPSJtZWRpYVN0cmVhbU5vZGUiLHRoaXMuc291cmNlPXRoaXMuY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSh0KSx0aGlzLmNvbm5lY3QoKSx0aGlzfSxuLnNldEJ1ZmZlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5idWZmZXI9dCx0aGlzLnNvdXJjZVR5cGU9ImJ1ZmZlciIsdGhpcy5hdXRvcGxheSYmdGhpcy5wbGF5KCksdGhpc30sbi5wbGF5PWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQmJih0PTApLCEwIT09dGhpcy5pc1BsYXlpbmcpe2lmKCExIT09dGhpcy5oYXNQbGF5YmFja0NvbnRyb2wpe3RoaXMuX3N0YXJ0ZWRBdD10aGlzLmNvbnRleHQuY3VycmVudFRpbWUrdDt2YXIgZT10aGlzLmNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7cmV0dXJuIGUuYnVmZmVyPXRoaXMuYnVmZmVyLGUubG9vcD10aGlzLmxvb3AsZS5sb29wU3RhcnQ9dGhpcy5sb29wU3RhcnQsZS5sb29wRW5kPXRoaXMubG9vcEVuZCxlLm9uZW5kZWQ9dGhpcy5vbkVuZGVkLmJpbmQodGhpcyksZS5zdGFydCh0aGlzLl9zdGFydGVkQXQsdGhpcy5fcHJvZ3Jlc3MrdGhpcy5vZmZzZXQsdGhpcy5kdXJhdGlvbiksdGhpcy5pc1BsYXlpbmc9ITAsdGhpcy5zb3VyY2U9ZSx0aGlzLnNldERldHVuZSh0aGlzLmRldHVuZSksdGhpcy5zZXRQbGF5YmFja1JhdGUodGhpcy5wbGF5YmFja1JhdGUpLHRoaXMuY29ubmVjdCgpfWNvbnNvbGUud2FybigiVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuIil9ZWxzZSBjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvOiBBdWRpbyBpcyBhbHJlYWR5IHBsYXlpbmcuIil9LG4ucGF1c2U9ZnVuY3Rpb24oKXtpZighMSE9PXRoaXMuaGFzUGxheWJhY2tDb250cm9sKXJldHVybiEwPT09dGhpcy5pc1BsYXlpbmcmJih0aGlzLl9wcm9ncmVzcys9TWF0aC5tYXgodGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLXRoaXMuX3N0YXJ0ZWRBdCwwKSp0aGlzLnBsYXliYWNrUmF0ZSwhMD09PXRoaXMubG9vcCYmKHRoaXMuX3Byb2dyZXNzPXRoaXMuX3Byb2dyZXNzJSh0aGlzLmR1cmF0aW9ufHx0aGlzLmJ1ZmZlci5kdXJhdGlvbikpLHRoaXMuc291cmNlLnN0b3AoKSx0aGlzLnNvdXJjZS5vbmVuZGVkPW51bGwsdGhpcy5pc1BsYXlpbmc9ITEpLHRoaXM7Y29uc29sZS53YXJuKCJUSFJFRS5BdWRpbzogdGhpcyBBdWRpbyBoYXMgbm8gcGxheWJhY2sgY29udHJvbC4iKX0sbi5zdG9wPWZ1bmN0aW9uKCl7aWYoITEhPT10aGlzLmhhc1BsYXliYWNrQ29udHJvbClyZXR1cm4gdGhpcy5fcHJvZ3Jlc3M9MCx0aGlzLnNvdXJjZS5zdG9wKCksdGhpcy5zb3VyY2Uub25lbmRlZD1udWxsLHRoaXMuaXNQbGF5aW5nPSExLHRoaXM7Y29uc29sZS53YXJuKCJUSFJFRS5BdWRpbzogdGhpcyBBdWRpbyBoYXMgbm8gcGxheWJhY2sgY29udHJvbC4iKX0sbi5jb25uZWN0PWZ1bmN0aW9uKCl7aWYodGhpcy5maWx0ZXJzLmxlbmd0aD4wKXt0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMuZmlsdGVyc1swXSk7Zm9yKHZhciB0PTEsZT10aGlzLmZpbHRlcnMubGVuZ3RoO3Q8ZTt0KyspdGhpcy5maWx0ZXJzW3QtMV0uY29ubmVjdCh0aGlzLmZpbHRlcnNbdF0pO3RoaXMuZmlsdGVyc1t0aGlzLmZpbHRlcnMubGVuZ3RoLTFdLmNvbm5lY3QodGhpcy5nZXRPdXRwdXQoKSl9ZWxzZSB0aGlzLnNvdXJjZS5jb25uZWN0KHRoaXMuZ2V0T3V0cHV0KCkpO3JldHVybiB0aGlzLl9jb25uZWN0ZWQ9ITAsdGhpc30sbi5kaXNjb25uZWN0PWZ1bmN0aW9uKCl7aWYodGhpcy5maWx0ZXJzLmxlbmd0aD4wKXt0aGlzLnNvdXJjZS5kaXNjb25uZWN0KHRoaXMuZmlsdGVyc1swXSk7Zm9yKHZhciB0PTEsZT10aGlzLmZpbHRlcnMubGVuZ3RoO3Q8ZTt0KyspdGhpcy5maWx0ZXJzW3QtMV0uZGlzY29ubmVjdCh0aGlzLmZpbHRlcnNbdF0pO3RoaXMuZmlsdGVyc1t0aGlzLmZpbHRlcnMubGVuZ3RoLTFdLmRpc2Nvbm5lY3QodGhpcy5nZXRPdXRwdXQoKSl9ZWxzZSB0aGlzLnNvdXJjZS5kaXNjb25uZWN0KHRoaXMuZ2V0T3V0cHV0KCkpO3JldHVybiB0aGlzLl9jb25uZWN0ZWQ9ITEsdGhpc30sbi5nZXRGaWx0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyc30sbi5zZXRGaWx0ZXJzPWZ1bmN0aW9uKHQpe3JldHVybiB0fHwodD1bXSksITA9PT10aGlzLl9jb25uZWN0ZWQ/KHRoaXMuZGlzY29ubmVjdCgpLHRoaXMuZmlsdGVycz10LnNsaWNlKCksdGhpcy5jb25uZWN0KCkpOnRoaXMuZmlsdGVycz10LnNsaWNlKCksdGhpc30sbi5zZXREZXR1bmU9ZnVuY3Rpb24odCl7aWYodGhpcy5kZXR1bmU9dCx2b2lkIDAhPT10aGlzLnNvdXJjZS5kZXR1bmUpcmV0dXJuITA9PT10aGlzLmlzUGxheWluZyYmdGhpcy5zb3VyY2UuZGV0dW5lLnNldFRhcmdldEF0VGltZSh0aGlzLmRldHVuZSx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUsLjAxKSx0aGlzfSxuLmdldERldHVuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRldHVuZX0sbi5nZXRGaWx0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRGaWx0ZXJzKClbMF19LG4uc2V0RmlsdGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldEZpbHRlcnModD9bdF06W10pfSxuLnNldFBsYXliYWNrUmF0ZT1mdW5jdGlvbih0KXtpZighMSE9PXRoaXMuaGFzUGxheWJhY2tDb250cm9sKXJldHVybiB0aGlzLnBsYXliYWNrUmF0ZT10LCEwPT09dGhpcy5pc1BsYXlpbmcmJnRoaXMuc291cmNlLnBsYXliYWNrUmF0ZS5zZXRUYXJnZXRBdFRpbWUodGhpcy5wbGF5YmFja1JhdGUsdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLC4wMSksdGhpcztjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLiIpfSxuLmdldFBsYXliYWNrUmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBsYXliYWNrUmF0ZX0sbi5vbkVuZGVkPWZ1bmN0aW9uKCl7dGhpcy5pc1BsYXlpbmc9ITF9LG4uZ2V0TG9vcD1mdW5jdGlvbigpe3JldHVybiExPT09dGhpcy5oYXNQbGF5YmFja0NvbnRyb2w/KGNvbnNvbGUud2FybigiVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuIiksITEpOnRoaXMubG9vcH0sbi5zZXRMb29wPWZ1bmN0aW9uKHQpe2lmKCExIT09dGhpcy5oYXNQbGF5YmFja0NvbnRyb2wpcmV0dXJuIHRoaXMubG9vcD10LCEwPT09dGhpcy5pc1BsYXlpbmcmJih0aGlzLnNvdXJjZS5sb29wPXRoaXMubG9vcCksdGhpcztjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLiIpfSxuLnNldExvb3BTdGFydD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sb29wU3RhcnQ9dCx0aGlzfSxuLnNldExvb3BFbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubG9vcEVuZD10LHRoaXN9LG4uZ2V0Vm9sdW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2Fpbi5nYWluLnZhbHVlfSxuLnNldFZvbHVtZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nYWluLmdhaW4uc2V0VGFyZ2V0QXRUaW1lKHQsdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLC4wMSksdGhpc30sZX0oQWUpLGdsPW5ldyBMdCx5bD1uZXcgQXQseGw9bmV3IEx0LF9sPW5ldyBMdCxibD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuO3JldHVybihuPXQuY2FsbCh0aGlzLGUpfHx0aGlzKS5wYW5uZXI9bi5jb250ZXh0LmNyZWF0ZVBhbm5lcigpLG4ucGFubmVyLnBhbm5pbmdNb2RlbD0iSFJURiIsbi5wYW5uZXIuY29ubmVjdChuLmdhaW4pLG59Y3QoZSx0KTt2YXIgbj1lLnByb3RvdHlwZTtyZXR1cm4gbi5nZXRPdXRwdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYW5uZXJ9LG4uZ2V0UmVmRGlzdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYW5uZXIucmVmRGlzdGFuY2V9LG4uc2V0UmVmRGlzdGFuY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGFubmVyLnJlZkRpc3RhbmNlPXQsdGhpc30sbi5nZXRSb2xsb2ZmRmFjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFubmVyLnJvbGxvZmZGYWN0b3J9LG4uc2V0Um9sbG9mZkZhY3Rvcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wYW5uZXIucm9sbG9mZkZhY3Rvcj10LHRoaXN9LG4uZ2V0RGlzdGFuY2VNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhbm5lci5kaXN0YW5jZU1vZGVsfSxuLnNldERpc3RhbmNlTW9kZWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGFubmVyLmRpc3RhbmNlTW9kZWw9dCx0aGlzfSxuLmdldE1heERpc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFubmVyLm1heERpc3RhbmNlfSxuLnNldE1heERpc3RhbmNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBhbm5lci5tYXhEaXN0YW5jZT10LHRoaXN9LG4uc2V0RGlyZWN0aW9uYWxDb25lPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5wYW5uZXIuY29uZUlubmVyQW5nbGU9dCx0aGlzLnBhbm5lci5jb25lT3V0ZXJBbmdsZT1lLHRoaXMucGFubmVyLmNvbmVPdXRlckdhaW49bix0aGlzfSxuLnVwZGF0ZU1hdHJpeFdvcmxkPWZ1bmN0aW9uKGUpe2lmKHQucHJvdG90eXBlLnVwZGF0ZU1hdHJpeFdvcmxkLmNhbGwodGhpcyxlKSwhMCE9PXRoaXMuaGFzUGxheWJhY2tDb250cm9sfHwhMSE9PXRoaXMuaXNQbGF5aW5nKXt0aGlzLm1hdHJpeFdvcmxkLmRlY29tcG9zZShnbCx5bCx4bCksX2wuc2V0KDAsMCwxKS5hcHBseVF1YXRlcm5pb24oeWwpO3ZhciBuPXRoaXMucGFubmVyO2lmKG4ucG9zaXRpb25YKXt2YXIgaT10aGlzLmNvbnRleHQuY3VycmVudFRpbWUrdGhpcy5saXN0ZW5lci50aW1lRGVsdGE7bi5wb3NpdGlvblgubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoZ2wueCxpKSxuLnBvc2l0aW9uWS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShnbC55LGkpLG4ucG9zaXRpb25aLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGdsLnosaSksbi5vcmllbnRhdGlvblgubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoX2wueCxpKSxuLm9yaWVudGF0aW9uWS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShfbC55LGkpLG4ub3JpZW50YXRpb25aLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKF9sLnosaSl9ZWxzZSBuLnNldFBvc2l0aW9uKGdsLngsZ2wueSxnbC56KSxuLnNldE9yaWVudGF0aW9uKF9sLngsX2wueSxfbC56KX19LGV9KHZsKSx3bD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2b2lkIDA9PT1lJiYoZT0yMDQ4KSx0aGlzLmFuYWx5c2VyPXQuY29udGV4dC5jcmVhdGVBbmFseXNlcigpLHRoaXMuYW5hbHlzZXIuZmZ0U2l6ZT1lLHRoaXMuZGF0YT1uZXcgVWludDhBcnJheSh0aGlzLmFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KSx0LmdldE91dHB1dCgpLmNvbm5lY3QodGhpcy5hbmFseXNlcil9dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUuZ2V0RnJlcXVlbmN5RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFuYWx5c2VyLmdldEJ5dGVGcmVxdWVuY3lEYXRhKHRoaXMuZGF0YSksdGhpcy5kYXRhfSxlLmdldEF2ZXJhZ2VGcmVxdWVuY3k9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPXRoaXMuZ2V0RnJlcXVlbmN5RGF0YSgpLG49MDtuPGUubGVuZ3RoO24rKyl0Kz1lW25dO3JldHVybiB0L2UubGVuZ3RofSx0fSgpO2Z1bmN0aW9uIE1sKHQsZSxuKXt2YXIgaSxyLGE7c3dpdGNoKHRoaXMuYmluZGluZz10LHRoaXMudmFsdWVTaXplPW4sZSl7Y2FzZSJxdWF0ZXJuaW9uIjppPXRoaXMuX3NsZXJwLHI9dGhpcy5fc2xlcnBBZGRpdGl2ZSxhPXRoaXMuX3NldEFkZGl0aXZlSWRlbnRpdHlRdWF0ZXJuaW9uLHRoaXMuYnVmZmVyPW5ldyBGbG9hdDY0QXJyYXkoNipuKSx0aGlzLl93b3JrSW5kZXg9NTticmVhaztjYXNlInN0cmluZyI6Y2FzZSJib29sIjppPXRoaXMuX3NlbGVjdCxyPXRoaXMuX3NlbGVjdCxhPXRoaXMuX3NldEFkZGl0aXZlSWRlbnRpdHlPdGhlcix0aGlzLmJ1ZmZlcj1uZXcgQXJyYXkoNSpuKTticmVhaztkZWZhdWx0Omk9dGhpcy5fbGVycCxyPXRoaXMuX2xlcnBBZGRpdGl2ZSxhPXRoaXMuX3NldEFkZGl0aXZlSWRlbnRpdHlOdW1lcmljLHRoaXMuYnVmZmVyPW5ldyBGbG9hdDY0QXJyYXkoNSpuKX10aGlzLl9taXhCdWZmZXJSZWdpb249aSx0aGlzLl9taXhCdWZmZXJSZWdpb25BZGRpdGl2ZT1yLHRoaXMuX3NldElkZW50aXR5PWEsdGhpcy5fb3JpZ0luZGV4PTMsdGhpcy5fYWRkSW5kZXg9NCx0aGlzLmN1bXVsYXRpdmVXZWlnaHQ9MCx0aGlzLmN1bXVsYXRpdmVXZWlnaHRBZGRpdGl2ZT0wLHRoaXMudXNlQ291bnQ9MCx0aGlzLnJlZmVyZW5jZUNvdW50PTB9T2JqZWN0LmFzc2lnbihNbC5wcm90b3R5cGUse2FjY3VtdWxhdGU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmJ1ZmZlcixpPXRoaXMudmFsdWVTaXplLHI9dCppK2ksYT10aGlzLmN1bXVsYXRpdmVXZWlnaHQ7aWYoMD09PWEpe2Zvcih2YXIgbz0wO28hPT1pOysrbyluW3Irb109bltvXTthPWV9ZWxzZXt2YXIgcz1lLyhhKz1lKTt0aGlzLl9taXhCdWZmZXJSZWdpb24obixyLDAscyxpKX10aGlzLmN1bXVsYXRpdmVXZWlnaHQ9YX0sYWNjdW11bGF0ZUFkZGl0aXZlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYnVmZmVyLG49dGhpcy52YWx1ZVNpemUsaT1uKnRoaXMuX2FkZEluZGV4OzA9PT10aGlzLmN1bXVsYXRpdmVXZWlnaHRBZGRpdGl2ZSYmdGhpcy5fc2V0SWRlbnRpdHkoKSx0aGlzLl9taXhCdWZmZXJSZWdpb25BZGRpdGl2ZShlLGksMCx0LG4pLHRoaXMuY3VtdWxhdGl2ZVdlaWdodEFkZGl0aXZlKz10fSxhcHBseTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnZhbHVlU2l6ZSxuPXRoaXMuYnVmZmVyLGk9dCplK2Uscj10aGlzLmN1bXVsYXRpdmVXZWlnaHQsYT10aGlzLmN1bXVsYXRpdmVXZWlnaHRBZGRpdGl2ZSxvPXRoaXMuYmluZGluZztpZih0aGlzLmN1bXVsYXRpdmVXZWlnaHQ9MCx0aGlzLmN1bXVsYXRpdmVXZWlnaHRBZGRpdGl2ZT0wLHI8MSl7dmFyIHM9ZSp0aGlzLl9vcmlnSW5kZXg7dGhpcy5fbWl4QnVmZmVyUmVnaW9uKG4saSxzLDEtcixlKX1hPjAmJnRoaXMuX21peEJ1ZmZlclJlZ2lvbkFkZGl0aXZlKG4saSx0aGlzLl9hZGRJbmRleCplLDEsZSk7Zm9yKHZhciBjPWUsbD1lK2U7YyE9PWw7KytjKWlmKG5bY10hPT1uW2MrZV0pe28uc2V0VmFsdWUobixpKTticmVha319LHNhdmVPcmlnaW5hbFN0YXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5iaW5kaW5nLGU9dGhpcy5idWZmZXIsbj10aGlzLnZhbHVlU2l6ZSxpPW4qdGhpcy5fb3JpZ0luZGV4O3QuZ2V0VmFsdWUoZSxpKTtmb3IodmFyIHI9bixhPWk7ciE9PWE7KytyKWVbcl09ZVtpK3Ilbl07dGhpcy5fc2V0SWRlbnRpdHkoKSx0aGlzLmN1bXVsYXRpdmVXZWlnaHQ9MCx0aGlzLmN1bXVsYXRpdmVXZWlnaHRBZGRpdGl2ZT0wfSxyZXN0b3JlT3JpZ2luYWxTdGF0ZTpmdW5jdGlvbigpe3ZhciB0PTMqdGhpcy52YWx1ZVNpemU7dGhpcy5iaW5kaW5nLnNldFZhbHVlKHRoaXMuYnVmZmVyLHQpfSxfc2V0QWRkaXRpdmVJZGVudGl0eU51bWVyaWM6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fYWRkSW5kZXgqdGhpcy52YWx1ZVNpemUsZT10K3RoaXMudmFsdWVTaXplLG49dDtuPGU7bisrKXRoaXMuYnVmZmVyW25dPTB9LF9zZXRBZGRpdGl2ZUlkZW50aXR5UXVhdGVybmlvbjpmdW5jdGlvbigpe3RoaXMuX3NldEFkZGl0aXZlSWRlbnRpdHlOdW1lcmljKCksdGhpcy5idWZmZXJbdGhpcy5fYWRkSW5kZXgqdGhpcy52YWx1ZVNpemUrM109MX0sX3NldEFkZGl0aXZlSWRlbnRpdHlPdGhlcjpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9vcmlnSW5kZXgqdGhpcy52YWx1ZVNpemUsZT10aGlzLl9hZGRJbmRleCp0aGlzLnZhbHVlU2l6ZSxuPTA7bjx0aGlzLnZhbHVlU2l6ZTtuKyspdGhpcy5idWZmZXJbZStuXT10aGlzLmJ1ZmZlclt0K25dfSxfc2VsZWN0OmZ1bmN0aW9uKHQsZSxuLGkscil7aWYoaT49LjUpZm9yKHZhciBhPTA7YSE9PXI7KythKXRbZSthXT10W24rYV19LF9zbGVycDpmdW5jdGlvbih0LGUsbixpKXtBdC5zbGVycEZsYXQodCxlLHQsZSx0LG4saSl9LF9zbGVycEFkZGl0aXZlOmZ1bmN0aW9uKHQsZSxuLGkscil7dmFyIGE9dGhpcy5fd29ya0luZGV4KnI7QXQubXVsdGlwbHlRdWF0ZXJuaW9uc0ZsYXQodCxhLHQsZSx0LG4pLEF0LnNsZXJwRmxhdCh0LGUsdCxlLHQsYSxpKX0sX2xlcnA6ZnVuY3Rpb24odCxlLG4saSxyKXtmb3IodmFyIGE9MS1pLG89MDtvIT09cjsrK28pe3ZhciBzPWUrbzt0W3NdPXRbc10qYSt0W24rb10qaX19LF9sZXJwQWRkaXRpdmU6ZnVuY3Rpb24odCxlLG4saSxyKXtmb3IodmFyIGE9MDthIT09cjsrK2Epe3ZhciBvPWUrYTt0W29dPXRbb10rdFtuK2FdKml9fX0pO3ZhciBTbD0iXFxbXFxdXFwuOlxcLyIsVGw9bmV3IFJlZ0V4cCgiW1xcW1xcXVxcLjpcXC9dIiwiZyIpLEVsPSJbXlxcW1xcXVxcLjpcXC9dIixBbD0iW14iK1NsLnJlcGxhY2UoIlxcLiIsIiIpKyJdIixMbD0vKCg/OldDK1tcLzpdKSopLy5zb3VyY2UucmVwbGFjZSgiV0MiLEVsKSxSbD0vKFdDT0QrKT8vLnNvdXJjZS5yZXBsYWNlKCJXQ09EIixBbCksQ2w9Lyg/OlwuKFdDKykoPzpcWyguKylcXSk/KT8vLnNvdXJjZS5yZXBsYWNlKCJXQyIsRWwpLFBsPS9cLihXQyspKD86XFsoLispXF0pPy8uc291cmNlLnJlcGxhY2UoIldDIixFbCksRGw9bmV3IFJlZ0V4cCgiXiIrTGwrUmwrQ2wrUGwrIiQiKSxJbD1bIm1hdGVyaWFsIiwibWF0ZXJpYWxzIiwiYm9uZXMiXTtmdW5jdGlvbiBPbCh0LGUsbil7dmFyIGk9bnx8TmwucGFyc2VUcmFja05hbWUoZSk7dGhpcy5fdGFyZ2V0R3JvdXA9dCx0aGlzLl9iaW5kaW5ncz10LnN1YnNjcmliZV8oZSxpKX1mdW5jdGlvbiBObCh0LGUsbil7dGhpcy5wYXRoPWUsdGhpcy5wYXJzZWRQYXRoPW58fE5sLnBhcnNlVHJhY2tOYW1lKGUpLHRoaXMubm9kZT1ObC5maW5kTm9kZSh0LHRoaXMucGFyc2VkUGF0aC5ub2RlTmFtZSl8fHQsdGhpcy5yb290Tm9kZT10fWZ1bmN0aW9uIEJsKCl7dGhpcy51dWlkPWd0LmdlbmVyYXRlVVVJRCgpLHRoaXMuX29iamVjdHM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSx0aGlzLm5DYWNoZWRPYmplY3RzXz0wO3ZhciB0PXt9O3RoaXMuX2luZGljZXNCeVVVSUQ9dDtmb3IodmFyIGU9MCxuPWFyZ3VtZW50cy5sZW5ndGg7ZSE9PW47KytlKXRbYXJndW1lbnRzW2VdLnV1aWRdPWU7dGhpcy5fcGF0aHM9W10sdGhpcy5fcGFyc2VkUGF0aHM9W10sdGhpcy5fYmluZGluZ3M9W10sdGhpcy5fYmluZGluZ3NJbmRpY2VzQnlQYXRoPXt9O3ZhciBpPXRoaXM7dGhpcy5zdGF0cz17b2JqZWN0czp7Z2V0IHRvdGFsKCl7cmV0dXJuIGkuX29iamVjdHMubGVuZ3RofSxnZXQgaW5Vc2UoKXtyZXR1cm4gdGhpcy50b3RhbC1pLm5DYWNoZWRPYmplY3RzX319LGdldCBiaW5kaW5nc1Blck9iamVjdCgpe3JldHVybiBpLl9iaW5kaW5ncy5sZW5ndGh9fX1PYmplY3QuYXNzaWduKE9sLnByb3RvdHlwZSx7Z2V0VmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmJpbmQoKTt2YXIgbj10aGlzLl90YXJnZXRHcm91cC5uQ2FjaGVkT2JqZWN0c18saT10aGlzLl9iaW5kaW5nc1tuXTt2b2lkIDAhPT1pJiZpLmdldFZhbHVlKHQsZSl9LHNldFZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuX2JpbmRpbmdzLGk9dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLHI9bi5sZW5ndGg7aSE9PXI7KytpKW5baV0uc2V0VmFsdWUodCxlKX0sYmluZDpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9iaW5kaW5ncyxlPXRoaXMuX3RhcmdldEdyb3VwLm5DYWNoZWRPYmplY3RzXyxuPXQubGVuZ3RoO2UhPT1uOysrZSl0W2VdLmJpbmQoKX0sdW5iaW5kOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2JpbmRpbmdzLGU9dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLG49dC5sZW5ndGg7ZSE9PW47KytlKXRbZV0udW5iaW5kKCl9fSksT2JqZWN0LmFzc2lnbihObCx7Q29tcG9zaXRlOk9sLGNyZWF0ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQmJnQuaXNBbmltYXRpb25PYmplY3RHcm91cD9uZXcgTmwuQ29tcG9zaXRlKHQsZSxuKTpuZXcgTmwodCxlLG4pfSxzYW5pdGl6ZU5vZGVOYW1lOmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL1xzL2csIl8iKS5yZXBsYWNlKFRsLCIiKX0scGFyc2VUcmFja05hbWU6ZnVuY3Rpb24odCl7dmFyIGU9RGwuZXhlYyh0KTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlByb3BlcnR5QmluZGluZzogQ2Fubm90IHBhcnNlIHRyYWNrTmFtZTogIit0KTt2YXIgbj17bm9kZU5hbWU6ZVsyXSxvYmplY3ROYW1lOmVbM10sb2JqZWN0SW5kZXg6ZVs0XSxwcm9wZXJ0eU5hbWU6ZVs1XSxwcm9wZXJ0eUluZGV4OmVbNl19LGk9bi5ub2RlTmFtZSYmbi5ub2RlTmFtZS5sYXN0SW5kZXhPZigiLiIpO2lmKHZvaWQgMCE9PWkmJi0xIT09aSl7dmFyIHI9bi5ub2RlTmFtZS5zdWJzdHJpbmcoaSsxKTstMSE9PUlsLmluZGV4T2YocikmJihuLm5vZGVOYW1lPW4ubm9kZU5hbWUuc3Vic3RyaW5nKDAsaSksbi5vYmplY3ROYW1lPXIpfWlmKG51bGw9PT1uLnByb3BlcnR5TmFtZXx8MD09PW4ucHJvcGVydHlOYW1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIlByb3BlcnR5QmluZGluZzogY2FuIG5vdCBwYXJzZSBwcm9wZXJ0eU5hbWUgZnJvbSB0cmFja05hbWU6ICIrdCk7cmV0dXJuIG59LGZpbmROb2RlOmZ1bmN0aW9uKHQsZSl7aWYoIWV8fCIiPT09ZXx8Ii4iPT09ZXx8LTE9PT1lfHxlPT09dC5uYW1lfHxlPT09dC51dWlkKXJldHVybiB0O2lmKHQuc2tlbGV0b24pe3ZhciBuPXQuc2tlbGV0b24uZ2V0Qm9uZUJ5TmFtZShlKTtpZih2b2lkIDAhPT1uKXJldHVybiBufWlmKHQuY2hpbGRyZW4pe3ZhciBpPWZ1bmN0aW9uIHQobil7Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciByPW5baV07aWYoci5uYW1lPT09ZXx8ci51dWlkPT09ZSlyZXR1cm4gcjt2YXIgYT10KHIuY2hpbGRyZW4pO2lmKGEpcmV0dXJuIGF9cmV0dXJuIG51bGx9KHQuY2hpbGRyZW4pO2lmKGkpcmV0dXJuIGl9cmV0dXJuIG51bGx9fSksT2JqZWN0LmFzc2lnbihObC5wcm90b3R5cGUse19nZXRWYWx1ZV91bmF2YWlsYWJsZTpmdW5jdGlvbigpe30sX3NldFZhbHVlX3VuYXZhaWxhYmxlOmZ1bmN0aW9uKCl7fSxCaW5kaW5nVHlwZTp7RGlyZWN0OjAsRW50aXJlQXJyYXk6MSxBcnJheUVsZW1lbnQ6MixIYXNGcm9tVG9BcnJheTozfSxWZXJzaW9uaW5nOntOb25lOjAsTmVlZHNVcGRhdGU6MSxNYXRyaXhXb3JsZE5lZWRzVXBkYXRlOjJ9LEdldHRlckJ5QmluZGluZ1R5cGU6W2Z1bmN0aW9uKHQsZSl7dFtlXT10aGlzLm5vZGVbdGhpcy5wcm9wZXJ0eU5hbWVdfSxmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLnJlc29sdmVkUHJvcGVydHksaT0wLHI9bi5sZW5ndGg7aSE9PXI7KytpKXRbZSsrXT1uW2ldfSxmdW5jdGlvbih0LGUpe3RbZV09dGhpcy5yZXNvbHZlZFByb3BlcnR5W3RoaXMucHJvcGVydHlJbmRleF19LGZ1bmN0aW9uKHQsZSl7dGhpcy5yZXNvbHZlZFByb3BlcnR5LnRvQXJyYXkodCxlKX1dLFNldHRlckJ5QmluZGluZ1R5cGVBbmRWZXJzaW9uaW5nOltbZnVuY3Rpb24odCxlKXt0aGlzLnRhcmdldE9iamVjdFt0aGlzLnByb3BlcnR5TmFtZV09dFtlXX0sZnVuY3Rpb24odCxlKXt0aGlzLnRhcmdldE9iamVjdFt0aGlzLnByb3BlcnR5TmFtZV09dFtlXSx0aGlzLnRhcmdldE9iamVjdC5uZWVkc1VwZGF0ZT0hMH0sZnVuY3Rpb24odCxlKXt0aGlzLnRhcmdldE9iamVjdFt0aGlzLnByb3BlcnR5TmFtZV09dFtlXSx0aGlzLnRhcmdldE9iamVjdC5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSEwfV0sW2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eSxpPTAscj1uLmxlbmd0aDtpIT09cjsrK2kpbltpXT10W2UrK119LGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eSxpPTAscj1uLmxlbmd0aDtpIT09cjsrK2kpbltpXT10W2UrK107dGhpcy50YXJnZXRPYmplY3QubmVlZHNVcGRhdGU9ITB9LGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eSxpPTAscj1uLmxlbmd0aDtpIT09cjsrK2kpbltpXT10W2UrK107dGhpcy50YXJnZXRPYmplY3QubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMH1dLFtmdW5jdGlvbih0LGUpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eVt0aGlzLnByb3BlcnR5SW5kZXhdPXRbZV19LGZ1bmN0aW9uKHQsZSl7dGhpcy5yZXNvbHZlZFByb3BlcnR5W3RoaXMucHJvcGVydHlJbmRleF09dFtlXSx0aGlzLnRhcmdldE9iamVjdC5uZWVkc1VwZGF0ZT0hMH0sZnVuY3Rpb24odCxlKXt0aGlzLnJlc29sdmVkUHJvcGVydHlbdGhpcy5wcm9wZXJ0eUluZGV4XT10W2VdLHRoaXMudGFyZ2V0T2JqZWN0Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ITB9XSxbZnVuY3Rpb24odCxlKXt0aGlzLnJlc29sdmVkUHJvcGVydHkuZnJvbUFycmF5KHQsZSl9LGZ1bmN0aW9uKHQsZSl7dGhpcy5yZXNvbHZlZFByb3BlcnR5LmZyb21BcnJheSh0LGUpLHRoaXMudGFyZ2V0T2JqZWN0Lm5lZWRzVXBkYXRlPSEwfSxmdW5jdGlvbih0LGUpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eS5mcm9tQXJyYXkodCxlKSx0aGlzLnRhcmdldE9iamVjdC5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSEwfV1dLGdldFZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5iaW5kKCksdGhpcy5nZXRWYWx1ZSh0LGUpfSxzZXRWYWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuYmluZCgpLHRoaXMuc2V0VmFsdWUodCxlKX0sYmluZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMubm9kZSxlPXRoaXMucGFyc2VkUGF0aCxuPWUub2JqZWN0TmFtZSxpPWUucHJvcGVydHlOYW1lLHI9ZS5wcm9wZXJ0eUluZGV4O2lmKHR8fCh0PU5sLmZpbmROb2RlKHRoaXMucm9vdE5vZGUsZS5ub2RlTmFtZSl8fHRoaXMucm9vdE5vZGUsdGhpcy5ub2RlPXQpLHRoaXMuZ2V0VmFsdWU9dGhpcy5fZ2V0VmFsdWVfdW5hdmFpbGFibGUsdGhpcy5zZXRWYWx1ZT10aGlzLl9zZXRWYWx1ZV91bmF2YWlsYWJsZSx0KXtpZihuKXt2YXIgYT1lLm9iamVjdEluZGV4O3N3aXRjaChuKXtjYXNlIm1hdGVyaWFscyI6aWYoIXQubWF0ZXJpYWwpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbWF0ZXJpYWwgYXMgbm9kZSBkb2VzIG5vdCBoYXZlIGEgbWF0ZXJpYWwuIix0aGlzKTtpZighdC5tYXRlcmlhbC5tYXRlcmlhbHMpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbWF0ZXJpYWwubWF0ZXJpYWxzIGFzIG5vZGUubWF0ZXJpYWwgZG9lcyBub3QgaGF2ZSBhIG1hdGVyaWFscyBhcnJheS4iLHRoaXMpO3Q9dC5tYXRlcmlhbC5tYXRlcmlhbHM7YnJlYWs7Y2FzZSJib25lcyI6aWYoIXQuc2tlbGV0b24pcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gYm9uZXMgYXMgbm9kZSBkb2VzIG5vdCBoYXZlIGEgc2tlbGV0b24uIix0aGlzKTt0PXQuc2tlbGV0b24uYm9uZXM7Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspaWYodFtvXS5uYW1lPT09YSl7YT1vO2JyZWFrfWJyZWFrO2RlZmF1bHQ6aWYodm9pZCAwPT09dFtuXSlyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBvYmplY3ROYW1lIG9mIG5vZGUgdW5kZWZpbmVkLiIsdGhpcyk7dD10W25dfWlmKHZvaWQgMCE9PWEpe2lmKHZvaWQgMD09PXRbYV0pcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBUcnlpbmcgdG8gYmluZCB0byBvYmplY3RJbmRleCBvZiBvYmplY3ROYW1lLCBidXQgaXMgdW5kZWZpbmVkLiIsdGhpcyx0KTt0PXRbYV19fXZhciBzPXRbaV07aWYodm9pZCAwIT09cyl7dmFyIGM9dGhpcy5WZXJzaW9uaW5nLk5vbmU7dGhpcy50YXJnZXRPYmplY3Q9dCx2b2lkIDAhPT10Lm5lZWRzVXBkYXRlP2M9dGhpcy5WZXJzaW9uaW5nLk5lZWRzVXBkYXRlOnZvaWQgMCE9PXQubWF0cml4V29ybGROZWVkc1VwZGF0ZSYmKGM9dGhpcy5WZXJzaW9uaW5nLk1hdHJpeFdvcmxkTmVlZHNVcGRhdGUpO3ZhciBsPXRoaXMuQmluZGluZ1R5cGUuRGlyZWN0O2lmKHZvaWQgMCE9PXIpe2lmKCJtb3JwaFRhcmdldEluZmx1ZW5jZXMiPT09aSl7aWYoIXQuZ2VvbWV0cnkpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbW9ycGhUYXJnZXRJbmZsdWVuY2VzIGJlY2F1c2Ugbm9kZSBkb2VzIG5vdCBoYXZlIGEgZ2VvbWV0cnkuIix0aGlzKTtpZighdC5nZW9tZXRyeS5pc0J1ZmZlckdlb21ldHJ5KXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIlRIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIG1vcnBoVGFyZ2V0SW5mbHVlbmNlcyBvbiBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuIix0aGlzKTtpZighdC5nZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbW9ycGhUYXJnZXRJbmZsdWVuY2VzIGJlY2F1c2Ugbm9kZSBkb2VzIG5vdCBoYXZlIGEgZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLiIsdGhpcyk7dm9pZCAwIT09dC5tb3JwaFRhcmdldERpY3Rpb25hcnlbcl0mJihyPXQubW9ycGhUYXJnZXREaWN0aW9uYXJ5W3JdKX1sPXRoaXMuQmluZGluZ1R5cGUuQXJyYXlFbGVtZW50LHRoaXMucmVzb2x2ZWRQcm9wZXJ0eT1zLHRoaXMucHJvcGVydHlJbmRleD1yfWVsc2Ugdm9pZCAwIT09cy5mcm9tQXJyYXkmJnZvaWQgMCE9PXMudG9BcnJheT8obD10aGlzLkJpbmRpbmdUeXBlLkhhc0Zyb21Ub0FycmF5LHRoaXMucmVzb2x2ZWRQcm9wZXJ0eT1zKTpBcnJheS5pc0FycmF5KHMpPyhsPXRoaXMuQmluZGluZ1R5cGUuRW50aXJlQXJyYXksdGhpcy5yZXNvbHZlZFByb3BlcnR5PXMpOnRoaXMucHJvcGVydHlOYW1lPWk7dGhpcy5nZXRWYWx1ZT10aGlzLkdldHRlckJ5QmluZGluZ1R5cGVbbF0sdGhpcy5zZXRWYWx1ZT10aGlzLlNldHRlckJ5QmluZGluZ1R5cGVBbmRWZXJzaW9uaW5nW2xdW2NdfWVsc2V7dmFyIHU9ZS5ub2RlTmFtZTtjb25zb2xlLmVycm9yKCJUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IFRyeWluZyB0byB1cGRhdGUgcHJvcGVydHkgZm9yIHRyYWNrOiAiK3UrIi4iK2krIiBidXQgaXQgd2Fzbid0IGZvdW5kLiIsdCl9fWVsc2UgY29uc29sZS5lcnJvcigiVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBUcnlpbmcgdG8gdXBkYXRlIG5vZGUgZm9yIHRyYWNrOiAiK3RoaXMucGF0aCsiIGJ1dCBpdCB3YXNuJ3QgZm91bmQuIil9LHVuYmluZDpmdW5jdGlvbigpe3RoaXMubm9kZT1udWxsLHRoaXMuZ2V0VmFsdWU9dGhpcy5fZ2V0VmFsdWVfdW5ib3VuZCx0aGlzLnNldFZhbHVlPXRoaXMuX3NldFZhbHVlX3VuYm91bmR9fSksT2JqZWN0LmFzc2lnbihObC5wcm90b3R5cGUse19nZXRWYWx1ZV91bmJvdW5kOk5sLnByb3RvdHlwZS5nZXRWYWx1ZSxfc2V0VmFsdWVfdW5ib3VuZDpObC5wcm90b3R5cGUuc2V0VmFsdWV9KSxPYmplY3QuYXNzaWduKEJsLnByb3RvdHlwZSx7aXNBbmltYXRpb25PYmplY3RHcm91cDohMCxhZGQ6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fb2JqZWN0cyxlPXRoaXMuX2luZGljZXNCeVVVSUQsbj10aGlzLl9wYXRocyxpPXRoaXMuX3BhcnNlZFBhdGhzLHI9dGhpcy5fYmluZGluZ3MsYT1yLmxlbmd0aCxvPXZvaWQgMCxzPXQubGVuZ3RoLGM9dGhpcy5uQ2FjaGVkT2JqZWN0c18sbD0wLHU9YXJndW1lbnRzLmxlbmd0aDtsIT09dTsrK2wpe3ZhciBoPWFyZ3VtZW50c1tsXSxkPWgudXVpZCxwPWVbZF07aWYodm9pZCAwPT09cCl7cD1zKyssZVtkXT1wLHQucHVzaChoKTtmb3IodmFyIGY9MCxtPWE7ZiE9PW07KytmKXJbZl0ucHVzaChuZXcgTmwoaCxuW2ZdLGlbZl0pKX1lbHNlIGlmKHA8Yyl7bz10W3BdO3ZhciB2PS0tYyxnPXRbdl07ZVtnLnV1aWRdPXAsdFtwXT1nLGVbZF09dix0W3ZdPWg7Zm9yKHZhciB5PTAseD1hO3khPT14OysreSl7dmFyIF89clt5XSxiPV9bdl0sdz1fW3BdO19bcF09Yix2b2lkIDA9PT13JiYodz1uZXcgTmwoaCxuW3ldLGlbeV0pKSxfW3ZdPXd9fWVsc2UgdFtwXSE9PW8mJmNvbnNvbGUuZXJyb3IoIlRIUkVFLkFuaW1hdGlvbk9iamVjdEdyb3VwOiBEaWZmZXJlbnQgb2JqZWN0cyB3aXRoIHRoZSBzYW1lIFVVSUQgZGV0ZWN0ZWQuIENsZWFuIHRoZSBjYWNoZXMgb3IgcmVjcmVhdGUgeW91ciBpbmZyYXN0cnVjdHVyZSB3aGVuIHJlbG9hZGluZyBzY2VuZXMuIil9dGhpcy5uQ2FjaGVkT2JqZWN0c189Y30scmVtb3ZlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX29iamVjdHMsZT10aGlzLl9pbmRpY2VzQnlVVUlELG49dGhpcy5fYmluZGluZ3MsaT1uLmxlbmd0aCxyPXRoaXMubkNhY2hlZE9iamVjdHNfLGE9MCxvPWFyZ3VtZW50cy5sZW5ndGg7YSE9PW87KythKXt2YXIgcz1hcmd1bWVudHNbYV0sYz1zLnV1aWQsbD1lW2NdO2lmKHZvaWQgMCE9PWwmJmw+PXIpe3ZhciB1PXIrKyxoPXRbdV07ZVtoLnV1aWRdPWwsdFtsXT1oLGVbY109dSx0W3VdPXM7Zm9yKHZhciBkPTAscD1pO2QhPT1wOysrZCl7dmFyIGY9bltkXSxtPWZbdV0sdj1mW2xdO2ZbbF09bSxmW3VdPXZ9fX10aGlzLm5DYWNoZWRPYmplY3RzXz1yfSx1bmNhY2hlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX29iamVjdHMsZT10aGlzLl9pbmRpY2VzQnlVVUlELG49dGhpcy5fYmluZGluZ3MsaT1uLmxlbmd0aCxyPXRoaXMubkNhY2hlZE9iamVjdHNfLGE9dC5sZW5ndGgsbz0wLHM9YXJndW1lbnRzLmxlbmd0aDtvIT09czsrK28pe3ZhciBjPWFyZ3VtZW50c1tvXSxsPWMudXVpZCx1PWVbbF07aWYodm9pZCAwIT09dSlpZihkZWxldGUgZVtsXSx1PHIpe3ZhciBoPS0tcixkPXRbaF0scD0tLWEsZj10W3BdO2VbZC51dWlkXT11LHRbdV09ZCxlW2YudXVpZF09aCx0W2hdPWYsdC5wb3AoKTtmb3IodmFyIG09MCx2PWk7bSE9PXY7KyttKXt2YXIgZz1uW21dLHk9Z1toXSx4PWdbcF07Z1t1XT15LGdbaF09eCxnLnBvcCgpfX1lbHNle3ZhciBfPS0tYSxiPXRbX107Xz4wJiYoZVtiLnV1aWRdPXUpLHRbdV09Yix0LnBvcCgpO2Zvcih2YXIgdz0wLE09aTt3IT09TTsrK3cpe3ZhciBTPW5bd107U1t1XT1TW19dLFMucG9wKCl9fX10aGlzLm5DYWNoZWRPYmplY3RzXz1yfSxzdWJzY3JpYmVfOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fYmluZGluZ3NJbmRpY2VzQnlQYXRoLGk9blt0XSxyPXRoaXMuX2JpbmRpbmdzO2lmKHZvaWQgMCE9PWkpcmV0dXJuIHJbaV07dmFyIGE9dGhpcy5fcGF0aHMsbz10aGlzLl9wYXJzZWRQYXRocyxzPXRoaXMuX29iamVjdHMsYz1zLmxlbmd0aCxsPXRoaXMubkNhY2hlZE9iamVjdHNfLHU9bmV3IEFycmF5KGMpO2k9ci5sZW5ndGgsblt0XT1pLGEucHVzaCh0KSxvLnB1c2goZSksci5wdXNoKHUpO2Zvcih2YXIgaD1sLGQ9cy5sZW5ndGg7aCE9PWQ7KytoKXt2YXIgcD1zW2hdO3VbaF09bmV3IE5sKHAsdCxlKX1yZXR1cm4gdX0sdW5zdWJzY3JpYmVfOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2JpbmRpbmdzSW5kaWNlc0J5UGF0aCxuPWVbdF07aWYodm9pZCAwIT09bil7dmFyIGk9dGhpcy5fcGF0aHMscj10aGlzLl9wYXJzZWRQYXRocyxhPXRoaXMuX2JpbmRpbmdzLG89YS5sZW5ndGgtMSxzPWFbb107ZVt0W29dXT1uLGFbbl09cyxhLnBvcCgpLHJbbl09cltvXSxyLnBvcCgpLGlbbl09aVtvXSxpLnBvcCgpfX19KTt2YXIgemw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLGkpe3ZvaWQgMD09PW4mJihuPW51bGwpLHZvaWQgMD09PWkmJihpPWUuYmxlbmRNb2RlKSx0aGlzLl9taXhlcj10LHRoaXMuX2NsaXA9ZSx0aGlzLl9sb2NhbFJvb3Q9bix0aGlzLmJsZW5kTW9kZT1pO2Zvcih2YXIgcj1lLnRyYWNrcyxhPXIubGVuZ3RoLG89bmV3IEFycmF5KGEpLHM9e2VuZGluZ1N0YXJ0OlYsZW5kaW5nRW5kOlZ9LGM9MDtjIT09YTsrK2Mpe3ZhciBsPXJbY10uY3JlYXRlSW50ZXJwb2xhbnQobnVsbCk7b1tjXT1sLGwuc2V0dGluZ3M9c310aGlzLl9pbnRlcnBvbGFudFNldHRpbmdzPXMsdGhpcy5faW50ZXJwb2xhbnRzPW8sdGhpcy5fcHJvcGVydHlCaW5kaW5ncz1uZXcgQXJyYXkoYSksdGhpcy5fY2FjaGVJbmRleD1udWxsLHRoaXMuX2J5Q2xpcENhY2hlSW5kZXg9bnVsbCx0aGlzLl90aW1lU2NhbGVJbnRlcnBvbGFudD1udWxsLHRoaXMuX3dlaWdodEludGVycG9sYW50PW51bGwsdGhpcy5sb29wPTIyMDEsdGhpcy5fbG9vcENvdW50PS0xLHRoaXMuX3N0YXJ0VGltZT1udWxsLHRoaXMudGltZT0wLHRoaXMudGltZVNjYWxlPTEsdGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlPTEsdGhpcy53ZWlnaHQ9MSx0aGlzLl9lZmZlY3RpdmVXZWlnaHQ9MSx0aGlzLnJlcGV0aXRpb25zPTEvMCx0aGlzLnBhdXNlZD0hMSx0aGlzLmVuYWJsZWQ9ITAsdGhpcy5jbGFtcFdoZW5GaW5pc2hlZD0hMSx0aGlzLnplcm9TbG9wZUF0U3RhcnQ9ITAsdGhpcy56ZXJvU2xvcGVBdEVuZD0hMH12YXIgZT10LnByb3RvdHlwZTtyZXR1cm4gZS5wbGF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21peGVyLl9hY3RpdmF0ZUFjdGlvbih0aGlzKSx0aGlzfSxlLnN0b3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWl4ZXIuX2RlYWN0aXZhdGVBY3Rpb24odGhpcyksdGhpcy5yZXNldCgpfSxlLnJlc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF1c2VkPSExLHRoaXMuZW5hYmxlZD0hMCx0aGlzLnRpbWU9MCx0aGlzLl9sb29wQ291bnQ9LTEsdGhpcy5fc3RhcnRUaW1lPW51bGwsdGhpcy5zdG9wRmFkaW5nKCkuc3RvcFdhcnBpbmcoKX0sZS5pc1J1bm5pbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkJiYhdGhpcy5wYXVzZWQmJjAhPT10aGlzLnRpbWVTY2FsZSYmbnVsbD09PXRoaXMuX3N0YXJ0VGltZSYmdGhpcy5fbWl4ZXIuX2lzQWN0aXZlQWN0aW9uKHRoaXMpfSxlLmlzU2NoZWR1bGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21peGVyLl9pc0FjdGl2ZUFjdGlvbih0aGlzKX0sZS5zdGFydEF0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zdGFydFRpbWU9dCx0aGlzfSxlLnNldExvb3A9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5sb29wPXQsdGhpcy5yZXBldGl0aW9ucz1lLHRoaXN9LGUuc2V0RWZmZWN0aXZlV2VpZ2h0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLndlaWdodD10LHRoaXMuX2VmZmVjdGl2ZVdlaWdodD10aGlzLmVuYWJsZWQ/dDowLHRoaXMuc3RvcEZhZGluZygpfSxlLmdldEVmZmVjdGl2ZVdlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lZmZlY3RpdmVXZWlnaHR9LGUuZmFkZUluPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zY2hlZHVsZUZhZGluZyh0LDAsMSl9LGUuZmFkZU91dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc2NoZWR1bGVGYWRpbmcodCwxLDApfSxlLmNyb3NzRmFkZUZyb209ZnVuY3Rpb24odCxlLG4pe2lmKHQuZmFkZU91dChlKSx0aGlzLmZhZGVJbihlKSxuKXt2YXIgaT10aGlzLl9jbGlwLmR1cmF0aW9uLHI9dC5fY2xpcC5kdXJhdGlvbixhPXIvaSxvPWkvcjt0LndhcnAoMSxhLGUpLHRoaXMud2FycChvLDEsZSl9cmV0dXJuIHRoaXN9LGUuY3Jvc3NGYWRlVG89ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LmNyb3NzRmFkZUZyb20odGhpcyxlLG4pfSxlLnN0b3BGYWRpbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl93ZWlnaHRJbnRlcnBvbGFudDtyZXR1cm4gbnVsbCE9PXQmJih0aGlzLl93ZWlnaHRJbnRlcnBvbGFudD1udWxsLHRoaXMuX21peGVyLl90YWtlQmFja0NvbnRyb2xJbnRlcnBvbGFudCh0KSksdGhpc30sZS5zZXRFZmZlY3RpdmVUaW1lU2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGltZVNjYWxlPXQsdGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlPXRoaXMucGF1c2VkPzA6dCx0aGlzLnN0b3BXYXJwaW5nKCl9LGUuZ2V0RWZmZWN0aXZlVGltZVNjYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZX0sZS5zZXREdXJhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aW1lU2NhbGU9dGhpcy5fY2xpcC5kdXJhdGlvbi90LHRoaXMuc3RvcFdhcnBpbmcoKX0sZS5zeW5jV2l0aD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aW1lPXQudGltZSx0aGlzLnRpbWVTY2FsZT10LnRpbWVTY2FsZSx0aGlzLnN0b3BXYXJwaW5nKCl9LGUuaGFsdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy53YXJwKHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZSwwLHQpfSxlLndhcnA9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXRoaXMuX21peGVyLHI9aS50aW1lLGE9dGhpcy50aW1lU2NhbGUsbz10aGlzLl90aW1lU2NhbGVJbnRlcnBvbGFudDtudWxsPT09byYmKG89aS5fbGVuZENvbnRyb2xJbnRlcnBvbGFudCgpLHRoaXMuX3RpbWVTY2FsZUludGVycG9sYW50PW8pO3ZhciBzPW8ucGFyYW1ldGVyUG9zaXRpb25zLGM9by5zYW1wbGVWYWx1ZXM7cmV0dXJuIHNbMF09cixzWzFdPXIrbixjWzBdPXQvYSxjWzFdPWUvYSx0aGlzfSxlLnN0b3BXYXJwaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ7cmV0dXJuIG51bGwhPT10JiYodGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ9bnVsbCx0aGlzLl9taXhlci5fdGFrZUJhY2tDb250cm9sSW50ZXJwb2xhbnQodCkpLHRoaXN9LGUuZ2V0TWl4ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWl4ZXJ9LGUuZ2V0Q2xpcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jbGlwfSxlLmdldFJvb3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9jYWxSb290fHx0aGlzLl9taXhlci5fcm9vdH0sZS5fdXBkYXRlPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKHRoaXMuZW5hYmxlZCl7dmFyIHI9dGhpcy5fc3RhcnRUaW1lO2lmKG51bGwhPT1yKXt2YXIgYT0odC1yKSpuO2lmKGE8MHx8MD09PW4pcmV0dXJuO3RoaXMuX3N0YXJ0VGltZT1udWxsLGU9biphfWUqPXRoaXMuX3VwZGF0ZVRpbWVTY2FsZSh0KTt2YXIgbz10aGlzLl91cGRhdGVUaW1lKGUpLHM9dGhpcy5fdXBkYXRlV2VpZ2h0KHQpO2lmKHM+MCl7dmFyIGM9dGhpcy5faW50ZXJwb2xhbnRzLGw9dGhpcy5fcHJvcGVydHlCaW5kaW5ncztzd2l0Y2godGhpcy5ibGVuZE1vZGUpe2Nhc2UgWDpmb3IodmFyIHU9MCxoPWMubGVuZ3RoO3UhPT1oOysrdSljW3VdLmV2YWx1YXRlKG8pLGxbdV0uYWNjdW11bGF0ZUFkZGl0aXZlKHMpO2JyZWFrO2Nhc2UgcTpkZWZhdWx0OmZvcih2YXIgZD0wLHA9Yy5sZW5ndGg7ZCE9PXA7KytkKWNbZF0uZXZhbHVhdGUobyksbFtkXS5hY2N1bXVsYXRlKGkscyl9fX1lbHNlIHRoaXMuX3VwZGF0ZVdlaWdodCh0KX0sZS5fdXBkYXRlV2VpZ2h0PWZ1bmN0aW9uKHQpe3ZhciBlPTA7aWYodGhpcy5lbmFibGVkKXtlPXRoaXMud2VpZ2h0O3ZhciBuPXRoaXMuX3dlaWdodEludGVycG9sYW50O2lmKG51bGwhPT1uKXt2YXIgaT1uLmV2YWx1YXRlKHQpWzBdO2UqPWksdD5uLnBhcmFtZXRlclBvc2l0aW9uc1sxXSYmKHRoaXMuc3RvcEZhZGluZygpLDA9PT1pJiYodGhpcy5lbmFibGVkPSExKSl9fXJldHVybiB0aGlzLl9lZmZlY3RpdmVXZWlnaHQ9ZSxlfSxlLl91cGRhdGVUaW1lU2NhbGU9ZnVuY3Rpb24odCl7dmFyIGU9MDtpZighdGhpcy5wYXVzZWQpe2U9dGhpcy50aW1lU2NhbGU7dmFyIG49dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ7aWYobnVsbCE9PW4pZSo9bi5ldmFsdWF0ZSh0KVswXSx0Pm4ucGFyYW1ldGVyUG9zaXRpb25zWzFdJiYodGhpcy5zdG9wV2FycGluZygpLDA9PT1lP3RoaXMucGF1c2VkPSEwOnRoaXMudGltZVNjYWxlPWUpfXJldHVybiB0aGlzLl9lZmZlY3RpdmVUaW1lU2NhbGU9ZSxlfSxlLl91cGRhdGVUaW1lPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NsaXAuZHVyYXRpb24sbj10aGlzLmxvb3AsaT10aGlzLnRpbWUrdCxyPXRoaXMuX2xvb3BDb3VudCxhPTIyMDI9PT1uO2lmKDA9PT10KXJldHVybi0xPT09cj9pOmEmJjE9PSgxJnIpP2UtaTppO2lmKDIyMDA9PT1uKXstMT09PXImJih0aGlzLl9sb29wQ291bnQ9MCx0aGlzLl9zZXRFbmRpbmdzKCEwLCEwLCExKSk7dDp7aWYoaT49ZSlpPWU7ZWxzZXtpZighKGk8MCkpe3RoaXMudGltZT1pO2JyZWFrIHR9aT0wfXRoaXMuY2xhbXBXaGVuRmluaXNoZWQ/dGhpcy5wYXVzZWQ9ITA6dGhpcy5lbmFibGVkPSExLHRoaXMudGltZT1pLHRoaXMuX21peGVyLmRpc3BhdGNoRXZlbnQoe3R5cGU6ImZpbmlzaGVkIixhY3Rpb246dGhpcyxkaXJlY3Rpb246dDwwPy0xOjF9KX19ZWxzZXtpZigtMT09PXImJih0Pj0wPyhyPTAsdGhpcy5fc2V0RW5kaW5ncyghMCwwPT09dGhpcy5yZXBldGl0aW9ucyxhKSk6dGhpcy5fc2V0RW5kaW5ncygwPT09dGhpcy5yZXBldGl0aW9ucywhMCxhKSksaT49ZXx8aTwwKXt2YXIgbz1NYXRoLmZsb29yKGkvZSk7aS09ZSpvLHIrPU1hdGguYWJzKG8pO3ZhciBzPXRoaXMucmVwZXRpdGlvbnMtcjtpZihzPD0wKXRoaXMuY2xhbXBXaGVuRmluaXNoZWQ/dGhpcy5wYXVzZWQ9ITA6dGhpcy5lbmFibGVkPSExLGk9dD4wP2U6MCx0aGlzLnRpbWU9aSx0aGlzLl9taXhlci5kaXNwYXRjaEV2ZW50KHt0eXBlOiJmaW5pc2hlZCIsYWN0aW9uOnRoaXMsZGlyZWN0aW9uOnQ+MD8xOi0xfSk7ZWxzZXtpZigxPT09cyl7dmFyIGM9dDwwO3RoaXMuX3NldEVuZGluZ3MoYywhYyxhKX1lbHNlIHRoaXMuX3NldEVuZGluZ3MoITEsITEsYSk7dGhpcy5fbG9vcENvdW50PXIsdGhpcy50aW1lPWksdGhpcy5fbWl4ZXIuZGlzcGF0Y2hFdmVudCh7dHlwZToibG9vcCIsYWN0aW9uOnRoaXMsbG9vcERlbHRhOm99KX19ZWxzZSB0aGlzLnRpbWU9aTtpZihhJiYxPT0oMSZyKSlyZXR1cm4gZS1pfXJldHVybiBpfSxlLl9zZXRFbmRpbmdzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzLl9pbnRlcnBvbGFudFNldHRpbmdzO24/KGkuZW5kaW5nU3RhcnQ9VyxpLmVuZGluZ0VuZD1XKTooaS5lbmRpbmdTdGFydD10P3RoaXMuemVyb1Nsb3BlQXRTdGFydD9XOlY6aixpLmVuZGluZ0VuZD1lP3RoaXMuemVyb1Nsb3BlQXRFbmQ/VzpWOmopfSxlLl9zY2hlZHVsZUZhZGluZz1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fbWl4ZXIscj1pLnRpbWUsYT10aGlzLl93ZWlnaHRJbnRlcnBvbGFudDtudWxsPT09YSYmKGE9aS5fbGVuZENvbnRyb2xJbnRlcnBvbGFudCgpLHRoaXMuX3dlaWdodEludGVycG9sYW50PWEpO3ZhciBvPWEucGFyYW1ldGVyUG9zaXRpb25zLHM9YS5zYW1wbGVWYWx1ZXM7cmV0dXJuIG9bMF09cixzWzBdPWUsb1sxXT1yK3Qsc1sxXT1uLHRoaXN9LHR9KCk7ZnVuY3Rpb24gRmwodCl7dGhpcy5fcm9vdD10LHRoaXMuX2luaXRNZW1vcnlNYW5hZ2VyKCksdGhpcy5fYWNjdUluZGV4PTAsdGhpcy50aW1lPTAsdGhpcy50aW1lU2NhbGU9MX1GbC5wcm90b3R5cGU9T2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKGR0LnByb3RvdHlwZSkse2NvbnN0cnVjdG9yOkZsLF9iaW5kQWN0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5fbG9jYWxSb290fHx0aGlzLl9yb290LGk9dC5fY2xpcC50cmFja3Mscj1pLmxlbmd0aCxhPXQuX3Byb3BlcnR5QmluZGluZ3Msbz10Ll9pbnRlcnBvbGFudHMscz1uLnV1aWQsYz10aGlzLl9iaW5kaW5nc0J5Um9vdEFuZE5hbWUsbD1jW3NdO3ZvaWQgMD09PWwmJihsPXt9LGNbc109bCk7Zm9yKHZhciB1PTA7dSE9PXI7Kyt1KXt2YXIgaD1pW3VdLGQ9aC5uYW1lLHA9bFtkXTtpZih2b2lkIDAhPT1wKWFbdV09cDtlbHNle2lmKHZvaWQgMCE9PShwPWFbdV0pKXtudWxsPT09cC5fY2FjaGVJbmRleCYmKCsrcC5yZWZlcmVuY2VDb3VudCx0aGlzLl9hZGRJbmFjdGl2ZUJpbmRpbmcocCxzLGQpKTtjb250aW51ZX12YXIgZj1lJiZlLl9wcm9wZXJ0eUJpbmRpbmdzW3VdLmJpbmRpbmcucGFyc2VkUGF0aDsrKyhwPW5ldyBNbChObC5jcmVhdGUobixkLGYpLGguVmFsdWVUeXBlTmFtZSxoLmdldFZhbHVlU2l6ZSgpKSkucmVmZXJlbmNlQ291bnQsdGhpcy5fYWRkSW5hY3RpdmVCaW5kaW5nKHAscyxkKSxhW3VdPXB9b1t1XS5yZXN1bHRCdWZmZXI9cC5idWZmZXJ9fSxfYWN0aXZhdGVBY3Rpb246ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2lzQWN0aXZlQWN0aW9uKHQpKXtpZihudWxsPT09dC5fY2FjaGVJbmRleCl7dmFyIGU9KHQuX2xvY2FsUm9vdHx8dGhpcy5fcm9vdCkudXVpZCxuPXQuX2NsaXAudXVpZCxpPXRoaXMuX2FjdGlvbnNCeUNsaXBbbl07dGhpcy5fYmluZEFjdGlvbih0LGkmJmkua25vd25BY3Rpb25zWzBdKSx0aGlzLl9hZGRJbmFjdGl2ZUFjdGlvbih0LG4sZSl9Zm9yKHZhciByPXQuX3Byb3BlcnR5QmluZGluZ3MsYT0wLG89ci5sZW5ndGg7YSE9PW87KythKXt2YXIgcz1yW2FdOzA9PXMudXNlQ291bnQrKyYmKHRoaXMuX2xlbmRCaW5kaW5nKHMpLHMuc2F2ZU9yaWdpbmFsU3RhdGUoKSl9dGhpcy5fbGVuZEFjdGlvbih0KX19LF9kZWFjdGl2YXRlQWN0aW9uOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX2lzQWN0aXZlQWN0aW9uKHQpKXtmb3IodmFyIGU9dC5fcHJvcGVydHlCaW5kaW5ncyxuPTAsaT1lLmxlbmd0aDtuIT09aTsrK24pe3ZhciByPWVbbl07MD09LS1yLnVzZUNvdW50JiYoci5yZXN0b3JlT3JpZ2luYWxTdGF0ZSgpLHRoaXMuX3Rha2VCYWNrQmluZGluZyhyKSl9dGhpcy5fdGFrZUJhY2tBY3Rpb24odCl9fSxfaW5pdE1lbW9yeU1hbmFnZXI6ZnVuY3Rpb24oKXt0aGlzLl9hY3Rpb25zPVtdLHRoaXMuX25BY3RpdmVBY3Rpb25zPTAsdGhpcy5fYWN0aW9uc0J5Q2xpcD17fSx0aGlzLl9iaW5kaW5ncz1bXSx0aGlzLl9uQWN0aXZlQmluZGluZ3M9MCx0aGlzLl9iaW5kaW5nc0J5Um9vdEFuZE5hbWU9e30sdGhpcy5fY29udHJvbEludGVycG9sYW50cz1bXSx0aGlzLl9uQWN0aXZlQ29udHJvbEludGVycG9sYW50cz0wO3ZhciB0PXRoaXM7dGhpcy5zdGF0cz17YWN0aW9uczp7Z2V0IHRvdGFsKCl7cmV0dXJuIHQuX2FjdGlvbnMubGVuZ3RofSxnZXQgaW5Vc2UoKXtyZXR1cm4gdC5fbkFjdGl2ZUFjdGlvbnN9fSxiaW5kaW5nczp7Z2V0IHRvdGFsKCl7cmV0dXJuIHQuX2JpbmRpbmdzLmxlbmd0aH0sZ2V0IGluVXNlKCl7cmV0dXJuIHQuX25BY3RpdmVCaW5kaW5nc319LGNvbnRyb2xJbnRlcnBvbGFudHM6e2dldCB0b3RhbCgpe3JldHVybiB0Ll9jb250cm9sSW50ZXJwb2xhbnRzLmxlbmd0aH0sZ2V0IGluVXNlKCl7cmV0dXJuIHQuX25BY3RpdmVDb250cm9sSW50ZXJwb2xhbnRzfX19fSxfaXNBY3RpdmVBY3Rpb246ZnVuY3Rpb24odCl7dmFyIGU9dC5fY2FjaGVJbmRleDtyZXR1cm4gbnVsbCE9PWUmJmU8dGhpcy5fbkFjdGl2ZUFjdGlvbnN9LF9hZGRJbmFjdGl2ZUFjdGlvbjpmdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fYWN0aW9ucyxyPXRoaXMuX2FjdGlvbnNCeUNsaXAsYT1yW2VdO2lmKHZvaWQgMD09PWEpYT17a25vd25BY3Rpb25zOlt0XSxhY3Rpb25CeVJvb3Q6e319LHQuX2J5Q2xpcENhY2hlSW5kZXg9MCxyW2VdPWE7ZWxzZXt2YXIgbz1hLmtub3duQWN0aW9uczt0Ll9ieUNsaXBDYWNoZUluZGV4PW8ubGVuZ3RoLG8ucHVzaCh0KX10Ll9jYWNoZUluZGV4PWkubGVuZ3RoLGkucHVzaCh0KSxhLmFjdGlvbkJ5Um9vdFtuXT10fSxfcmVtb3ZlSW5hY3RpdmVBY3Rpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYWN0aW9ucyxuPWVbZS5sZW5ndGgtMV0saT10Ll9jYWNoZUluZGV4O24uX2NhY2hlSW5kZXg9aSxlW2ldPW4sZS5wb3AoKSx0Ll9jYWNoZUluZGV4PW51bGw7dmFyIHI9dC5fY2xpcC51dWlkLGE9dGhpcy5fYWN0aW9uc0J5Q2xpcCxvPWFbcl0scz1vLmtub3duQWN0aW9ucyxjPXNbcy5sZW5ndGgtMV0sbD10Ll9ieUNsaXBDYWNoZUluZGV4O2MuX2J5Q2xpcENhY2hlSW5kZXg9bCxzW2xdPWMscy5wb3AoKSx0Ll9ieUNsaXBDYWNoZUluZGV4PW51bGwsZGVsZXRlIG8uYWN0aW9uQnlSb290Wyh0Ll9sb2NhbFJvb3R8fHRoaXMuX3Jvb3QpLnV1aWRdLDA9PT1zLmxlbmd0aCYmZGVsZXRlIGFbcl0sdGhpcy5fcmVtb3ZlSW5hY3RpdmVCaW5kaW5nc0ZvckFjdGlvbih0KX0sX3JlbW92ZUluYWN0aXZlQmluZGluZ3NGb3JBY3Rpb246ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuX3Byb3BlcnR5QmluZGluZ3Msbj0wLGk9ZS5sZW5ndGg7biE9PWk7KytuKXt2YXIgcj1lW25dOzA9PS0tci5yZWZlcmVuY2VDb3VudCYmdGhpcy5fcmVtb3ZlSW5hY3RpdmVCaW5kaW5nKHIpfX0sX2xlbmRBY3Rpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYWN0aW9ucyxuPXQuX2NhY2hlSW5kZXgsaT10aGlzLl9uQWN0aXZlQWN0aW9ucysrLHI9ZVtpXTt0Ll9jYWNoZUluZGV4PWksZVtpXT10LHIuX2NhY2hlSW5kZXg9bixlW25dPXJ9LF90YWtlQmFja0FjdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9hY3Rpb25zLG49dC5fY2FjaGVJbmRleCxpPS0tdGhpcy5fbkFjdGl2ZUFjdGlvbnMscj1lW2ldO3QuX2NhY2hlSW5kZXg9aSxlW2ldPXQsci5fY2FjaGVJbmRleD1uLGVbbl09cn0sX2FkZEluYWN0aXZlQmluZGluZzpmdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lLHI9dGhpcy5fYmluZGluZ3MsYT1pW2VdO3ZvaWQgMD09PWEmJihhPXt9LGlbZV09YSksYVtuXT10LHQuX2NhY2hlSW5kZXg9ci5sZW5ndGgsci5wdXNoKHQpfSxfcmVtb3ZlSW5hY3RpdmVCaW5kaW5nOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2JpbmRpbmdzLG49dC5iaW5kaW5nLGk9bi5yb290Tm9kZS51dWlkLHI9bi5wYXRoLGE9dGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lLG89YVtpXSxzPWVbZS5sZW5ndGgtMV0sYz10Ll9jYWNoZUluZGV4O3MuX2NhY2hlSW5kZXg9YyxlW2NdPXMsZS5wb3AoKSxkZWxldGUgb1tyXSwwPT09T2JqZWN0LmtleXMobykubGVuZ3RoJiZkZWxldGUgYVtpXX0sX2xlbmRCaW5kaW5nOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2JpbmRpbmdzLG49dC5fY2FjaGVJbmRleCxpPXRoaXMuX25BY3RpdmVCaW5kaW5ncysrLHI9ZVtpXTt0Ll9jYWNoZUluZGV4PWksZVtpXT10LHIuX2NhY2hlSW5kZXg9bixlW25dPXJ9LF90YWtlQmFja0JpbmRpbmc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYmluZGluZ3Msbj10Ll9jYWNoZUluZGV4LGk9LS10aGlzLl9uQWN0aXZlQmluZGluZ3Mscj1lW2ldO3QuX2NhY2hlSW5kZXg9aSxlW2ldPXQsci5fY2FjaGVJbmRleD1uLGVbbl09cn0sX2xlbmRDb250cm9sSW50ZXJwb2xhbnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jb250cm9sSW50ZXJwb2xhbnRzLGU9dGhpcy5fbkFjdGl2ZUNvbnRyb2xJbnRlcnBvbGFudHMrKyxuPXRbZV07cmV0dXJuIHZvaWQgMD09PW4mJigobj1uZXcgT3MobmV3IEZsb2F0MzJBcnJheSgyKSxuZXcgRmxvYXQzMkFycmF5KDIpLDEsdGhpcy5fY29udHJvbEludGVycG9sYW50c1Jlc3VsdEJ1ZmZlcikpLl9fY2FjaGVJbmRleD1lLHRbZV09biksbn0sX3Rha2VCYWNrQ29udHJvbEludGVycG9sYW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2NvbnRyb2xJbnRlcnBvbGFudHMsbj10Ll9fY2FjaGVJbmRleCxpPS0tdGhpcy5fbkFjdGl2ZUNvbnRyb2xJbnRlcnBvbGFudHMscj1lW2ldO3QuX19jYWNoZUluZGV4PWksZVtpXT10LHIuX19jYWNoZUluZGV4PW4sZVtuXT1yfSxfY29udHJvbEludGVycG9sYW50c1Jlc3VsdEJ1ZmZlcjpuZXcgRmxvYXQzMkFycmF5KDEpLGNsaXBBY3Rpb246ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWV8fHRoaXMuX3Jvb3Qscj1pLnV1aWQsYT0ic3RyaW5nIj09dHlwZW9mIHQ/V3MuZmluZEJ5TmFtZShpLHQpOnQsbz1udWxsIT09YT9hLnV1aWQ6dCxzPXRoaXMuX2FjdGlvbnNCeUNsaXBbb10sYz1udWxsO2lmKHZvaWQgMD09PW4mJihuPW51bGwhPT1hP2EuYmxlbmRNb2RlOnEpLHZvaWQgMCE9PXMpe3ZhciBsPXMuYWN0aW9uQnlSb290W3JdO2lmKHZvaWQgMCE9PWwmJmwuYmxlbmRNb2RlPT09bilyZXR1cm4gbDtjPXMua25vd25BY3Rpb25zWzBdLG51bGw9PT1hJiYoYT1jLl9jbGlwKX1pZihudWxsPT09YSlyZXR1cm4gbnVsbDt2YXIgdT1uZXcgemwodGhpcyxhLGUsbik7cmV0dXJuIHRoaXMuX2JpbmRBY3Rpb24odSxjKSx0aGlzLl9hZGRJbmFjdGl2ZUFjdGlvbih1LG8sciksdX0sZXhpc3RpbmdBY3Rpb246ZnVuY3Rpb24odCxlKXt2YXIgbj1lfHx0aGlzLl9yb290LGk9bi51dWlkLHI9InN0cmluZyI9PXR5cGVvZiB0P1dzLmZpbmRCeU5hbWUobix0KTp0LGE9cj9yLnV1aWQ6dCxvPXRoaXMuX2FjdGlvbnNCeUNsaXBbYV07cmV0dXJuIHZvaWQgMCE9PW8mJm8uYWN0aW9uQnlSb290W2ldfHxudWxsfSxzdG9wQWxsQWN0aW9uOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2FjdGlvbnMsZT10aGlzLl9uQWN0aXZlQWN0aW9ucy0xO2U+PTA7LS1lKXRbZV0uc3RvcCgpO3JldHVybiB0aGlzfSx1cGRhdGU6ZnVuY3Rpb24odCl7dCo9dGhpcy50aW1lU2NhbGU7Zm9yKHZhciBlPXRoaXMuX2FjdGlvbnMsbj10aGlzLl9uQWN0aXZlQWN0aW9ucyxpPXRoaXMudGltZSs9dCxyPU1hdGguc2lnbih0KSxhPXRoaXMuX2FjY3VJbmRleF49MSxvPTA7byE9PW47KytvKXtlW29dLl91cGRhdGUoaSx0LHIsYSl9Zm9yKHZhciBzPXRoaXMuX2JpbmRpbmdzLGM9dGhpcy5fbkFjdGl2ZUJpbmRpbmdzLGw9MDtsIT09YzsrK2wpc1tsXS5hcHBseShhKTtyZXR1cm4gdGhpc30sc2V0VGltZTpmdW5jdGlvbih0KXt0aGlzLnRpbWU9MDtmb3IodmFyIGU9MDtlPHRoaXMuX2FjdGlvbnMubGVuZ3RoO2UrKyl0aGlzLl9hY3Rpb25zW2VdLnRpbWU9MDtyZXR1cm4gdGhpcy51cGRhdGUodCl9LGdldFJvb3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm9vdH0sdW5jYWNoZUNsaXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fYWN0aW9ucyxuPXQudXVpZCxpPXRoaXMuX2FjdGlvbnNCeUNsaXAscj1pW25dO2lmKHZvaWQgMCE9PXIpe2Zvcih2YXIgYT1yLmtub3duQWN0aW9ucyxvPTAscz1hLmxlbmd0aDtvIT09czsrK28pe3ZhciBjPWFbb107dGhpcy5fZGVhY3RpdmF0ZUFjdGlvbihjKTt2YXIgbD1jLl9jYWNoZUluZGV4LHU9ZVtlLmxlbmd0aC0xXTtjLl9jYWNoZUluZGV4PW51bGwsYy5fYnlDbGlwQ2FjaGVJbmRleD1udWxsLHUuX2NhY2hlSW5kZXg9bCxlW2xdPXUsZS5wb3AoKSx0aGlzLl9yZW1vdmVJbmFjdGl2ZUJpbmRpbmdzRm9yQWN0aW9uKGMpfWRlbGV0ZSBpW25dfX0sdW5jYWNoZVJvb3Q6ZnVuY3Rpb24odCl7dmFyIGU9dC51dWlkLG49dGhpcy5fYWN0aW9uc0J5Q2xpcDtmb3IodmFyIGkgaW4gbil7dmFyIHI9bltpXS5hY3Rpb25CeVJvb3RbZV07dm9pZCAwIT09ciYmKHRoaXMuX2RlYWN0aXZhdGVBY3Rpb24ociksdGhpcy5fcmVtb3ZlSW5hY3RpdmVBY3Rpb24ocikpfXZhciBhPXRoaXMuX2JpbmRpbmdzQnlSb290QW5kTmFtZVtlXTtpZih2b2lkIDAhPT1hKWZvcih2YXIgbyBpbiBhKXt2YXIgcz1hW29dO3MucmVzdG9yZU9yaWdpbmFsU3RhdGUoKSx0aGlzLl9yZW1vdmVJbmFjdGl2ZUJpbmRpbmcocyl9fSx1bmNhY2hlQWN0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5leGlzdGluZ0FjdGlvbih0LGUpO251bGwhPT1uJiYodGhpcy5fZGVhY3RpdmF0ZUFjdGlvbihuKSx0aGlzLl9yZW1vdmVJbmFjdGl2ZUFjdGlvbihuKSl9fSk7dmFyIEhsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXsic3RyaW5nIj09dHlwZW9mIHQmJihjb25zb2xlLndhcm4oIlRIUkVFLlVuaWZvcm06IFR5cGUgcGFyYW1ldGVyIGlzIG5vIGxvbmdlciBuZWVkZWQuIiksdD1hcmd1bWVudHNbMV0pLHRoaXMudmFsdWU9dH1yZXR1cm4gdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodm9pZCAwPT09dGhpcy52YWx1ZS5jbG9uZT90aGlzLnZhbHVlOnRoaXMudmFsdWUuY2xvbmUoKSl9LHR9KCk7ZnVuY3Rpb24gR2wodCxlLG4pe2ZhLmNhbGwodGhpcyx0LGUpLHRoaXMubWVzaFBlckF0dHJpYnV0ZT1ufHwxfWZ1bmN0aW9uIFVsKHQsZSxuLGkscil7dGhpcy5idWZmZXI9dCx0aGlzLnR5cGU9ZSx0aGlzLml0ZW1TaXplPW4sdGhpcy5lbGVtZW50U2l6ZT1pLHRoaXMuY291bnQ9cix0aGlzLnZlcnNpb249MH1mdW5jdGlvbiBrbCh0LGUsbixpKXt0aGlzLnJheT1uZXcgZWUodCxlKSx0aGlzLm5lYXI9bnx8MCx0aGlzLmZhcj1pfHwxLzAsdGhpcy5jYW1lcmE9bnVsbCx0aGlzLmxheWVycz1uZXcgcGUsdGhpcy5wYXJhbXM9e01lc2g6e30sTGluZTp7dGhyZXNob2xkOjF9LExPRDp7fSxQb2ludHM6e3RocmVzaG9sZDoxfSxTcHJpdGU6e319LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMucGFyYW1zLHtQb2ludENsb3VkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5SYXljYXN0ZXI6IHBhcmFtcy5Qb2ludENsb3VkIGhhcyBiZWVuIHJlbmFtZWQgdG8gcGFyYW1zLlBvaW50cy4iKSx0aGlzLlBvaW50c319fSl9ZnVuY3Rpb24gVmwodCxlKXtyZXR1cm4gdC5kaXN0YW5jZS1lLmRpc3RhbmNlfWZ1bmN0aW9uIFdsKHQsZSxuLGkpe2lmKHQubGF5ZXJzLnRlc3QoZS5sYXllcnMpJiZ0LnJheWNhc3QoZSxuKSwhMD09PWkpZm9yKHZhciByPXQuY2hpbGRyZW4sYT0wLG89ci5sZW5ndGg7YTxvO2ErKylXbChyW2FdLGUsbiwhMCl9R2wucHJvdG90eXBlPU9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShmYS5wcm90b3R5cGUpLHtjb25zdHJ1Y3RvcjpHbCxpc0luc3RhbmNlZEludGVybGVhdmVkQnVmZmVyOiEwLGNvcHk6ZnVuY3Rpb24odCl7cmV0dXJuIGZhLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyx0KSx0aGlzLm1lc2hQZXJBdHRyaWJ1dGU9dC5tZXNoUGVyQXR0cmlidXRlLHRoaXN9LGNsb25lOmZ1bmN0aW9uKHQpe3ZhciBlPWZhLnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsdCk7cmV0dXJuIGUubWVzaFBlckF0dHJpYnV0ZT10aGlzLm1lc2hQZXJBdHRyaWJ1dGUsZX0sdG9KU09OOmZ1bmN0aW9uKHQpe3ZhciBlPWZhLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzLHQpO3JldHVybiBlLmlzSW5zdGFuY2VkSW50ZXJsZWF2ZWRCdWZmZXI9ITAsZS5tZXNoUGVyQXR0cmlidXRlPXRoaXMubWVzaFBlckF0dHJpYnV0ZSxlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbC5wcm90b3R5cGUsIm5lZWRzVXBkYXRlIix7c2V0OmZ1bmN0aW9uKHQpeyEwPT09dCYmdGhpcy52ZXJzaW9uKyt9fSksT2JqZWN0LmFzc2lnbihVbC5wcm90b3R5cGUse2lzR0xCdWZmZXJBdHRyaWJ1dGU6ITAsc2V0QnVmZmVyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJ1ZmZlcj10LHRoaXN9LHNldFR5cGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50eXBlPXQsdGhpcy5lbGVtZW50U2l6ZT1lLHRoaXN9LHNldEl0ZW1TaXplOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLml0ZW1TaXplPXQsdGhpc30sc2V0Q291bnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY291bnQ9dCx0aGlzfX0pLE9iamVjdC5hc3NpZ24oa2wucHJvdG90eXBlLHtzZXQ6ZnVuY3Rpb24odCxlKXt0aGlzLnJheS5zZXQodCxlKX0sc2V0RnJvbUNhbWVyYTpmdW5jdGlvbih0LGUpe2UmJmUuaXNQZXJzcGVjdGl2ZUNhbWVyYT8odGhpcy5yYXkub3JpZ2luLnNldEZyb21NYXRyaXhQb3NpdGlvbihlLm1hdHJpeFdvcmxkKSx0aGlzLnJheS5kaXJlY3Rpb24uc2V0KHQueCx0LnksLjUpLnVucHJvamVjdChlKS5zdWIodGhpcy5yYXkub3JpZ2luKS5ub3JtYWxpemUoKSx0aGlzLmNhbWVyYT1lKTplJiZlLmlzT3J0aG9ncmFwaGljQ2FtZXJhPyh0aGlzLnJheS5vcmlnaW4uc2V0KHQueCx0LnksKGUubmVhcitlLmZhcikvKGUubmVhci1lLmZhcikpLnVucHJvamVjdChlKSx0aGlzLnJheS5kaXJlY3Rpb24uc2V0KDAsMCwtMSkudHJhbnNmb3JtRGlyZWN0aW9uKGUubWF0cml4V29ybGQpLHRoaXMuY2FtZXJhPWUpOmNvbnNvbGUuZXJyb3IoIlRIUkVFLlJheWNhc3RlcjogVW5zdXBwb3J0ZWQgY2FtZXJhIHR5cGU6ICIrZS50eXBlKX0saW50ZXJzZWN0T2JqZWN0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1ufHxbXTtyZXR1cm4gV2wodCx0aGlzLGksZSksaS5zb3J0KFZsKSxpfSxpbnRlcnNlY3RPYmplY3RzOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1ufHxbXTtpZighMT09PUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHM6IG9iamVjdHMgaXMgbm90IGFuIEFycmF5LiIpLGk7Zm9yKHZhciByPTAsYT10Lmxlbmd0aDtyPGE7cisrKVdsKHRbcl0sdGhpcyxpLGUpO3JldHVybiBpLnNvcnQoVmwpLGl9fSk7dmFyIGpsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbil7cmV0dXJuIHZvaWQgMD09PXQmJih0PTEpLHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PW4mJihuPTApLHRoaXMucmFkaXVzPXQsdGhpcy5waGk9ZSx0aGlzLnRoZXRhPW4sdGhpc312YXIgZT10LnByb3RvdHlwZTtyZXR1cm4gZS5zZXQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnJhZGl1cz10LHRoaXMucGhpPWUsdGhpcy50aGV0YT1uLHRoaXN9LGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yYWRpdXM9dC5yYWRpdXMsdGhpcy5waGk9dC5waGksdGhpcy50aGV0YT10LnRoZXRhLHRoaXN9LGUubWFrZVNhZmU9ZnVuY3Rpb24oKXt2YXIgdD0xZS02O3JldHVybiB0aGlzLnBoaT1NYXRoLm1heCh0LE1hdGgubWluKE1hdGguUEktdCx0aGlzLnBoaSkpLHRoaXN9LGUuc2V0RnJvbVZlY3RvcjM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0RnJvbUNhcnRlc2lhbkNvb3Jkcyh0LngsdC55LHQueil9LGUuc2V0RnJvbUNhcnRlc2lhbkNvb3Jkcz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMucmFkaXVzPU1hdGguc3FydCh0KnQrZSplK24qbiksMD09PXRoaXMucmFkaXVzPyh0aGlzLnRoZXRhPTAsdGhpcy5waGk9MCk6KHRoaXMudGhldGE9TWF0aC5hdGFuMih0LG4pLHRoaXMucGhpPU1hdGguYWNvcyhndC5jbGFtcChlL3RoaXMucmFkaXVzLC0xLDEpKSksdGhpc30sdH0oKSxxbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLG4pe3JldHVybiB0aGlzLnJhZGl1cz12b2lkIDAhPT10P3Q6MSx0aGlzLnRoZXRhPXZvaWQgMCE9PWU/ZTowLHRoaXMueT12b2lkIDAhPT1uP246MCx0aGlzfXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnNldD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMucmFkaXVzPXQsdGhpcy50aGV0YT1lLHRoaXMueT1uLHRoaXN9LGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHRoaXMuY29uc3RydWN0b3IpLmNvcHkodGhpcyl9LGUuY29weT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yYWRpdXM9dC5yYWRpdXMsdGhpcy50aGV0YT10LnRoZXRhLHRoaXMueT10LnksdGhpc30sZS5zZXRGcm9tVmVjdG9yMz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRGcm9tQ2FydGVzaWFuQ29vcmRzKHQueCx0LnksdC56KX0sZS5zZXRGcm9tQ2FydGVzaWFuQ29vcmRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5yYWRpdXM9TWF0aC5zcXJ0KHQqdCtuKm4pLHRoaXMudGhldGE9TWF0aC5hdGFuMih0LG4pLHRoaXMueT1lLHRoaXN9LHR9KCksWGw9bmV3IHl0LFlsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJpc0JveDIiLHt2YWx1ZTohMH0pLHRoaXMubWluPXZvaWQgMCE9PXQ/dDpuZXcgeXQoMS8wLDEvMCksdGhpcy5tYXg9dm9pZCAwIT09ZT9lOm5ldyB5dCgtMS8wLC0xLzApfXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnNldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm1pbi5jb3B5KHQpLHRoaXMubWF4LmNvcHkoZSksdGhpc30sZS5zZXRGcm9tUG9pbnRzPWZ1bmN0aW9uKHQpe3RoaXMubWFrZUVtcHR5KCk7Zm9yKHZhciBlPTAsbj10Lmxlbmd0aDtlPG47ZSsrKXRoaXMuZXhwYW5kQnlQb2ludCh0W2VdKTtyZXR1cm4gdGhpc30sZS5zZXRGcm9tQ2VudGVyQW5kU2l6ZT1mdW5jdGlvbih0LGUpe3ZhciBuPVhsLmNvcHkoZSkubXVsdGlwbHlTY2FsYXIoLjUpO3JldHVybiB0aGlzLm1pbi5jb3B5KHQpLnN1YihuKSx0aGlzLm1heC5jb3B5KHQpLmFkZChuKSx0aGlzfSxlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyB0aGlzLmNvbnN0cnVjdG9yKS5jb3B5KHRoaXMpfSxlLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWluLmNvcHkodC5taW4pLHRoaXMubWF4LmNvcHkodC5tYXgpLHRoaXN9LGUubWFrZUVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWluLng9dGhpcy5taW4ueT0xLzAsdGhpcy5tYXgueD10aGlzLm1heC55PS0xLzAsdGhpc30sZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4Lng8dGhpcy5taW4ueHx8dGhpcy5tYXgueTx0aGlzLm1pbi55fSxlLmdldENlbnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKGNvbnNvbGUud2FybigiVEhSRUUuQm94MjogLmdldENlbnRlcigpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSx0PW5ldyB5dCksdGhpcy5pc0VtcHR5KCk/dC5zZXQoMCwwKTp0LmFkZFZlY3RvcnModGhpcy5taW4sdGhpcy5tYXgpLm11bHRpcGx5U2NhbGFyKC41KX0sZS5nZXRTaXplPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKCJUSFJFRS5Cb3gyOiAuZ2V0U2l6ZSgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSx0PW5ldyB5dCksdGhpcy5pc0VtcHR5KCk/dC5zZXQoMCwwKTp0LnN1YlZlY3RvcnModGhpcy5tYXgsdGhpcy5taW4pfSxlLmV4cGFuZEJ5UG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWluLm1pbih0KSx0aGlzLm1heC5tYXgodCksdGhpc30sZS5leHBhbmRCeVZlY3Rvcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5taW4uc3ViKHQpLHRoaXMubWF4LmFkZCh0KSx0aGlzfSxlLmV4cGFuZEJ5U2NhbGFyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm1pbi5hZGRTY2FsYXIoLXQpLHRoaXMubWF4LmFkZFNjYWxhcih0KSx0aGlzfSxlLmNvbnRhaW5zUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuISh0Lng8dGhpcy5taW4ueHx8dC54PnRoaXMubWF4Lnh8fHQueTx0aGlzLm1pbi55fHx0Lnk+dGhpcy5tYXgueSl9LGUuY29udGFpbnNCb3g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWluLng8PXQubWluLngmJnQubWF4Lng8PXRoaXMubWF4LngmJnRoaXMubWluLnk8PXQubWluLnkmJnQubWF4Lnk8PXRoaXMubWF4Lnl9LGUuZ2V0UGFyYW1ldGVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihjb25zb2xlLndhcm4oIlRIUkVFLkJveDI6IC5nZXRQYXJhbWV0ZXIoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkIiksZT1uZXcgeXQpLGUuc2V0KCh0LngtdGhpcy5taW4ueCkvKHRoaXMubWF4LngtdGhpcy5taW4ueCksKHQueS10aGlzLm1pbi55KS8odGhpcy5tYXgueS10aGlzLm1pbi55KSl9LGUuaW50ZXJzZWN0c0JveD1mdW5jdGlvbih0KXtyZXR1cm4hKHQubWF4Lng8dGhpcy5taW4ueHx8dC5taW4ueD50aGlzLm1heC54fHx0Lm1heC55PHRoaXMubWluLnl8fHQubWluLnk+dGhpcy5tYXgueSl9LGUuY2xhbXBQb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoY29uc29sZS53YXJuKCJUSFJFRS5Cb3gyOiAuY2xhbXBQb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSxlPW5ldyB5dCksZS5jb3B5KHQpLmNsYW1wKHRoaXMubWluLHRoaXMubWF4KX0sZS5kaXN0YW5jZVRvUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIFhsLmNvcHkodCkuY2xhbXAodGhpcy5taW4sdGhpcy5tYXgpLnN1Yih0KS5sZW5ndGgoKX0sZS5pbnRlcnNlY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWluLm1heCh0Lm1pbiksdGhpcy5tYXgubWluKHQubWF4KSx0aGlzfSxlLnVuaW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm1pbi5taW4odC5taW4pLHRoaXMubWF4Lm1heCh0Lm1heCksdGhpc30sZS50cmFuc2xhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWluLmFkZCh0KSx0aGlzLm1heC5hZGQodCksdGhpc30sZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQubWluLmVxdWFscyh0aGlzLm1pbikmJnQubWF4LmVxdWFscyh0aGlzLm1heCl9LHR9KCksWmw9bmV3IEx0LEpsPW5ldyBMdCxRbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLnN0YXJ0PXZvaWQgMCE9PXQ/dDpuZXcgTHQsdGhpcy5lbmQ9dm9pZCAwIT09ZT9lOm5ldyBMdH12YXIgZT10LnByb3RvdHlwZTtyZXR1cm4gZS5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zdGFydC5jb3B5KHQpLHRoaXMuZW5kLmNvcHkoZSksdGhpc30sZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybihuZXcgdGhpcy5jb25zdHJ1Y3RvcikuY29weSh0aGlzKX0sZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXJ0LmNvcHkodC5zdGFydCksdGhpcy5lbmQuY29weSh0LmVuZCksdGhpc30sZS5nZXRDZW50ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJihjb25zb2xlLndhcm4oIlRIUkVFLkxpbmUzOiAuZ2V0Q2VudGVyKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLHQ9bmV3IEx0KSx0LmFkZFZlY3RvcnModGhpcy5zdGFydCx0aGlzLmVuZCkubXVsdGlwbHlTY2FsYXIoLjUpfSxlLmRlbHRhPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYoY29uc29sZS53YXJuKCJUSFJFRS5MaW5lMzogLmRlbHRhKCkgdGFyZ2V0IGlzIG5vdyByZXF1aXJlZCIpLHQ9bmV3IEx0KSx0LnN1YlZlY3RvcnModGhpcy5lbmQsdGhpcy5zdGFydCl9LGUuZGlzdGFuY2VTcT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LmRpc3RhbmNlVG9TcXVhcmVkKHRoaXMuZW5kKX0sZS5kaXN0YW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LmRpc3RhbmNlVG8odGhpcy5lbmQpfSxlLmF0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihjb25zb2xlLndhcm4oIlRIUkVFLkxpbmUzOiAuYXQoKSB0YXJnZXQgaXMgbm93IHJlcXVpcmVkIiksZT1uZXcgTHQpLHRoaXMuZGVsdGEoZSkubXVsdGlwbHlTY2FsYXIodCkuYWRkKHRoaXMuc3RhcnQpfSxlLmNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXI9ZnVuY3Rpb24odCxlKXtabC5zdWJWZWN0b3JzKHQsdGhpcy5zdGFydCksSmwuc3ViVmVjdG9ycyh0aGlzLmVuZCx0aGlzLnN0YXJ0KTt2YXIgbj1KbC5kb3QoSmwpLGk9SmwuZG90KFpsKS9uO3JldHVybiBlJiYoaT1ndC5jbGFtcChpLDAsMSkpLGl9LGUuY2xvc2VzdFBvaW50VG9Qb2ludD1mdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcy5jbG9zZXN0UG9pbnRUb1BvaW50UGFyYW1ldGVyKHQsZSk7cmV0dXJuIHZvaWQgMD09PW4mJihjb25zb2xlLndhcm4oIlRIUkVFLkxpbmUzOiAuY2xvc2VzdFBvaW50VG9Qb2ludCgpIHRhcmdldCBpcyBub3cgcmVxdWlyZWQiKSxuPW5ldyBMdCksdGhpcy5kZWx0YShuKS5tdWx0aXBseVNjYWxhcihpKS5hZGQodGhpcy5zdGFydCl9LGUuYXBwbHlNYXRyaXg0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXJ0LmFwcGx5TWF0cml4NCh0KSx0aGlzLmVuZC5hcHBseU1hdHJpeDQodCksdGhpc30sZS5lcXVhbHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhcnQuZXF1YWxzKHRoaXMuc3RhcnQpJiZ0LmVuZC5lcXVhbHModGhpcy5lbmQpfSx0fSgpO2Z1bmN0aW9uIEtsKHQpe0FlLmNhbGwodGhpcyksdGhpcy5tYXRlcmlhbD10LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7fSx0aGlzLmhhc1Bvc2l0aW9ucz0hMSx0aGlzLmhhc05vcm1hbHM9ITEsdGhpcy5oYXNDb2xvcnM9ITEsdGhpcy5oYXNVdnM9ITEsdGhpcy5wb3NpdGlvbkFycmF5PW51bGwsdGhpcy5ub3JtYWxBcnJheT1udWxsLHRoaXMuY29sb3JBcnJheT1udWxsLHRoaXMudXZBcnJheT1udWxsLHRoaXMuY291bnQ9MH1LbC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShBZS5wcm90b3R5cGUpLEtsLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1LbCxLbC5wcm90b3R5cGUuaXNJbW1lZGlhdGVSZW5kZXJPYmplY3Q9ITA7dmFyICRsPW5ldyBMdCx0dT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk7KGk9dC5jYWxsKHRoaXMpfHx0aGlzKS5saWdodD1lLGkubGlnaHQudXBkYXRlTWF0cml4V29ybGQoKSxpLm1hdHJpeD1lLm1hdHJpeFdvcmxkLGkubWF0cml4QXV0b1VwZGF0ZT0hMSxpLmNvbG9yPW47Zm9yKHZhciByPW5ldyBNbixhPVswLDAsMCwwLDAsMSwwLDAsMCwxLDAsMSwwLDAsMCwtMSwwLDEsMCwwLDAsMCwxLDEsMCwwLDAsMCwtMSwxXSxvPTAscz0xO288MzI7bysrLHMrKyl7dmFyIGM9by8zMipNYXRoLlBJKjIsbD1zLzMyKk1hdGguUEkqMjthLnB1c2goTWF0aC5jb3MoYyksTWF0aC5zaW4oYyksMSxNYXRoLmNvcyhsKSxNYXRoLnNpbihsKSwxKX1yLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBobihhLDMpKTt2YXIgdT1uZXcgUWEoe2ZvZzohMSx0b25lTWFwcGVkOiExfSk7cmV0dXJuIGkuY29uZT1uZXcgb28ocix1KSxpLmFkZChpLmNvbmUpLGkudXBkYXRlKCksaX1jdChlLHQpO3ZhciBuPWUucHJvdG90eXBlO3JldHVybiBuLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmNvbmUuZ2VvbWV0cnkuZGlzcG9zZSgpLHRoaXMuY29uZS5tYXRlcmlhbC5kaXNwb3NlKCl9LG4udXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5saWdodC51cGRhdGVNYXRyaXhXb3JsZCgpO3ZhciB0PXRoaXMubGlnaHQuZGlzdGFuY2U/dGhpcy5saWdodC5kaXN0YW5jZToxZTMsZT10Kk1hdGgudGFuKHRoaXMubGlnaHQuYW5nbGUpO3RoaXMuY29uZS5zY2FsZS5zZXQoZSxlLHQpLCRsLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLmxpZ2h0LnRhcmdldC5tYXRyaXhXb3JsZCksdGhpcy5jb25lLmxvb2tBdCgkbCksdm9pZCAwIT09dGhpcy5jb2xvcj90aGlzLmNvbmUubWF0ZXJpYWwuY29sb3Iuc2V0KHRoaXMuY29sb3IpOnRoaXMuY29uZS5tYXRlcmlhbC5jb2xvci5jb3B5KHRoaXMubGlnaHQuY29sb3IpfSxlfShBZSksZXU9bmV3IEx0LG51PW5ldyBuZSxpdT1uZXcgbmUscnU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtmb3IodmFyIG4saT1hdShlKSxyPW5ldyBNbixhPVtdLG89W10scz1uZXcgUWUoMCwwLDEpLGM9bmV3IFFlKDAsMSwwKSxsPTA7bDxpLmxlbmd0aDtsKyspe3ZhciB1PWlbbF07dS5wYXJlbnQmJnUucGFyZW50LmlzQm9uZSYmKGEucHVzaCgwLDAsMCksYS5wdXNoKDAsMCwwKSxvLnB1c2gocy5yLHMuZyxzLmIpLG8ucHVzaChjLnIsYy5nLGMuYikpfXIuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IGhuKGEsMykpLHIuc2V0QXR0cmlidXRlKCJjb2xvciIsbmV3IGhuKG8sMykpO3ZhciBoPW5ldyBRYSh7dmVydGV4Q29sb3JzOiEwLGRlcHRoVGVzdDohMSxkZXB0aFdyaXRlOiExLHRvbmVNYXBwZWQ6ITEsdHJhbnNwYXJlbnQ6ITB9KTtyZXR1cm4obj10LmNhbGwodGhpcyxyLGgpfHx0aGlzKS50eXBlPSJTa2VsZXRvbkhlbHBlciIsbi5pc1NrZWxldG9uSGVscGVyPSEwLG4ucm9vdD1lLG4uYm9uZXM9aSxuLm1hdHJpeD1lLm1hdHJpeFdvcmxkLG4ubWF0cml4QXV0b1VwZGF0ZT0hMSxufXJldHVybiBjdChlLHQpLGUucHJvdG90eXBlLnVwZGF0ZU1hdHJpeFdvcmxkPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMuYm9uZXMsaT10aGlzLmdlb21ldHJ5LHI9aS5nZXRBdHRyaWJ1dGUoInBvc2l0aW9uIik7aXUuY29weSh0aGlzLnJvb3QubWF0cml4V29ybGQpLmludmVydCgpO2Zvcih2YXIgYT0wLG89MDthPG4ubGVuZ3RoO2ErKyl7dmFyIHM9blthXTtzLnBhcmVudCYmcy5wYXJlbnQuaXNCb25lJiYobnUubXVsdGlwbHlNYXRyaWNlcyhpdSxzLm1hdHJpeFdvcmxkKSxldS5zZXRGcm9tTWF0cml4UG9zaXRpb24obnUpLHIuc2V0WFlaKG8sZXUueCxldS55LGV1LnopLG51Lm11bHRpcGx5TWF0cmljZXMoaXUscy5wYXJlbnQubWF0cml4V29ybGQpLGV1LnNldEZyb21NYXRyaXhQb3NpdGlvbihudSksci5zZXRYWVoobysxLGV1LngsZXUueSxldS56KSxvKz0yKX1pLmdldEF0dHJpYnV0ZSgicG9zaXRpb24iKS5uZWVkc1VwZGF0ZT0hMCx0LnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZC5jYWxsKHRoaXMsZSl9LGV9KG9vKTtmdW5jdGlvbiBhdSh0KXt2YXIgZT1bXTt0JiZ0LmlzQm9uZSYmZS5wdXNoKHQpO2Zvcih2YXIgbj0wO248dC5jaGlsZHJlbi5sZW5ndGg7bisrKWUucHVzaC5hcHBseShlLGF1KHQuY2hpbGRyZW5bbl0pKTtyZXR1cm4gZX12YXIgb3U9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSl7dmFyIHIsYT1uZXcgZHMobiw0LDIpLG89bmV3IEtlKHt3aXJlZnJhbWU6ITAsZm9nOiExLHRvbmVNYXBwZWQ6ITF9KTtyZXR1cm4ocj10LmNhbGwodGhpcyxhLG8pfHx0aGlzKS5saWdodD1lLHIubGlnaHQudXBkYXRlTWF0cml4V29ybGQoKSxyLmNvbG9yPWksci50eXBlPSJQb2ludExpZ2h0SGVscGVyIixyLm1hdHJpeD1yLmxpZ2h0Lm1hdHJpeFdvcmxkLHIubWF0cml4QXV0b1VwZGF0ZT0hMSxyLnVwZGF0ZSgpLHJ9Y3QoZSx0KTt2YXIgbj1lLnByb3RvdHlwZTtyZXR1cm4gbi5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5nZW9tZXRyeS5kaXNwb3NlKCksdGhpcy5tYXRlcmlhbC5kaXNwb3NlKCl9LG4udXBkYXRlPWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5jb2xvcj90aGlzLm1hdGVyaWFsLmNvbG9yLnNldCh0aGlzLmNvbG9yKTp0aGlzLm1hdGVyaWFsLmNvbG9yLmNvcHkodGhpcy5saWdodC5jb2xvcil9LGV9KFVuKSxzdT1uZXcgTHQsY3U9bmV3IFFlLGx1PW5ldyBRZSx1dT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbixpKXt2YXIgcjsocj10LmNhbGwodGhpcyl8fHRoaXMpLmxpZ2h0PWUsci5saWdodC51cGRhdGVNYXRyaXhXb3JsZCgpLHIubWF0cml4PWUubWF0cml4V29ybGQsci5tYXRyaXhBdXRvVXBkYXRlPSExLHIuY29sb3I9aTt2YXIgYT1uZXcgY3Mobik7YS5yb3RhdGVZKC41Kk1hdGguUEkpLHIubWF0ZXJpYWw9bmV3IEtlKHt3aXJlZnJhbWU6ITAsZm9nOiExLHRvbmVNYXBwZWQ6ITF9KSx2b2lkIDA9PT1yLmNvbG9yJiYoci5tYXRlcmlhbC52ZXJ0ZXhDb2xvcnM9ITApO3ZhciBvPWEuZ2V0QXR0cmlidXRlKCJwb3NpdGlvbiIpLHM9bmV3IEZsb2F0MzJBcnJheSgzKm8uY291bnQpO3JldHVybiBhLnNldEF0dHJpYnV0ZSgiY29sb3IiLG5ldyBlbihzLDMpKSxyLmFkZChuZXcgVW4oYSxyLm1hdGVyaWFsKSksci51cGRhdGUoKSxyfWN0KGUsdCk7dmFyIG49ZS5wcm90b3R5cGU7cmV0dXJuIG4uZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuY2hpbGRyZW5bMF0uZ2VvbWV0cnkuZGlzcG9zZSgpLHRoaXMuY2hpbGRyZW5bMF0ubWF0ZXJpYWwuZGlzcG9zZSgpfSxuLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY2hpbGRyZW5bMF07aWYodm9pZCAwIT09dGhpcy5jb2xvcil0aGlzLm1hdGVyaWFsLmNvbG9yLnNldCh0aGlzLmNvbG9yKTtlbHNle3ZhciBlPXQuZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCJjb2xvciIpO2N1LmNvcHkodGhpcy5saWdodC5jb2xvciksbHUuY29weSh0aGlzLmxpZ2h0Lmdyb3VuZENvbG9yKTtmb3IodmFyIG49MCxpPWUuY291bnQ7bjxpO24rKyl7dmFyIHI9bjxpLzI/Y3U6bHU7ZS5zZXRYWVoobixyLnIsci5nLHIuYil9ZS5uZWVkc1VwZGF0ZT0hMH10Lmxvb2tBdChzdS5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5saWdodC5tYXRyaXhXb3JsZCkubmVnYXRlKCkpfSxlfShBZSksaHU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyKXt2YXIgYTt2b2lkIDA9PT1lJiYoZT0xMCksdm9pZCAwPT09biYmKG49MTApLHZvaWQgMD09PWkmJihpPTQ0NzM5MjQpLHZvaWQgMD09PXImJihyPTg5NDc4NDgpLGk9bmV3IFFlKGkpLHI9bmV3IFFlKHIpO2Zvcih2YXIgbz1uLzIscz1lL24sYz1lLzIsbD1bXSx1PVtdLGg9MCxkPTAscD0tYztoPD1uO2grKyxwKz1zKXtsLnB1c2goLWMsMCxwLGMsMCxwKSxsLnB1c2gocCwwLC1jLHAsMCxjKTt2YXIgZj1oPT09bz9pOnI7Zi50b0FycmF5KHUsZCksZCs9MyxmLnRvQXJyYXkodSxkKSxkKz0zLGYudG9BcnJheSh1LGQpLGQrPTMsZi50b0FycmF5KHUsZCksZCs9M312YXIgbT1uZXcgTW47bS5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgaG4obCwzKSksbS5zZXRBdHRyaWJ1dGUoImNvbG9yIixuZXcgaG4odSwzKSk7dmFyIHY9bmV3IFFhKHt2ZXJ0ZXhDb2xvcnM6ITAsdG9uZU1hcHBlZDohMX0pO3JldHVybihhPXQuY2FsbCh0aGlzLG0sdil8fHRoaXMpLnR5cGU9IkdyaWRIZWxwZXIiLGF9cmV0dXJuIGN0KGUsdCksZX0ob28pLGR1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLGkscixhLG8pe3ZhciBzO3ZvaWQgMD09PWUmJihlPTEwKSx2b2lkIDA9PT1uJiYobj0xNiksdm9pZCAwPT09aSYmKGk9OCksdm9pZCAwPT09ciYmKHI9NjQpLHZvaWQgMD09PWEmJihhPTQ0NzM5MjQpLHZvaWQgMD09PW8mJihvPTg5NDc4NDgpLGE9bmV3IFFlKGEpLG89bmV3IFFlKG8pO2Zvcih2YXIgYz1bXSxsPVtdLHU9MDt1PD1uO3UrKyl7dmFyIGg9dS9uKigyKk1hdGguUEkpLGQ9TWF0aC5zaW4oaCkqZSxwPU1hdGguY29zKGgpKmU7Yy5wdXNoKDAsMCwwKSxjLnB1c2goZCwwLHApO3ZhciBmPTEmdT9hOm87bC5wdXNoKGYucixmLmcsZi5iKSxsLnB1c2goZi5yLGYuZyxmLmIpfWZvcih2YXIgbT0wO208PWk7bSsrKWZvcih2YXIgdj0xJm0/YTpvLGc9ZS1lL2kqbSx5PTA7eTxyO3krKyl7dmFyIHg9eS9yKigyKk1hdGguUEkpLF89TWF0aC5zaW4oeCkqZyxiPU1hdGguY29zKHgpKmc7Yy5wdXNoKF8sMCxiKSxsLnB1c2godi5yLHYuZyx2LmIpLHg9KHkrMSkvciooMipNYXRoLlBJKSxfPU1hdGguc2luKHgpKmcsYj1NYXRoLmNvcyh4KSpnLGMucHVzaChfLDAsYiksbC5wdXNoKHYucix2Lmcsdi5iKX12YXIgdz1uZXcgTW47dy5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgaG4oYywzKSksdy5zZXRBdHRyaWJ1dGUoImNvbG9yIixuZXcgaG4obCwzKSk7dmFyIE09bmV3IFFhKHt2ZXJ0ZXhDb2xvcnM6ITAsdG9uZU1hcHBlZDohMX0pO3JldHVybihzPXQuY2FsbCh0aGlzLHcsTSl8fHRoaXMpLnR5cGU9IlBvbGFyR3JpZEhlbHBlciIsc31yZXR1cm4gY3QoZSx0KSxlfShvbykscHU9bmV3IEx0LGZ1PW5ldyBMdCxtdT1uZXcgTHQsdnU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSl7dmFyIHI7KHI9dC5jYWxsKHRoaXMpfHx0aGlzKS5saWdodD1lLHIubGlnaHQudXBkYXRlTWF0cml4V29ybGQoKSxyLm1hdHJpeD1lLm1hdHJpeFdvcmxkLHIubWF0cml4QXV0b1VwZGF0ZT0hMSxyLmNvbG9yPWksdm9pZCAwPT09biYmKG49MSk7dmFyIGE9bmV3IE1uO2Euc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IGhuKFstbixuLDAsbixuLDAsbiwtbiwwLC1uLC1uLDAsLW4sbiwwXSwzKSk7dmFyIG89bmV3IFFhKHtmb2c6ITEsdG9uZU1hcHBlZDohMX0pO3JldHVybiByLmxpZ2h0UGxhbmU9bmV3IGlvKGEsbyksci5hZGQoci5saWdodFBsYW5lKSwoYT1uZXcgTW4pLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBobihbMCwwLDAsMCwwLDFdLDMpKSxyLnRhcmdldExpbmU9bmV3IGlvKGEsbyksci5hZGQoci50YXJnZXRMaW5lKSxyLnVwZGF0ZSgpLHJ9Y3QoZSx0KTt2YXIgbj1lLnByb3RvdHlwZTtyZXR1cm4gbi5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5saWdodFBsYW5lLmdlb21ldHJ5LmRpc3Bvc2UoKSx0aGlzLmxpZ2h0UGxhbmUubWF0ZXJpYWwuZGlzcG9zZSgpLHRoaXMudGFyZ2V0TGluZS5nZW9tZXRyeS5kaXNwb3NlKCksdGhpcy50YXJnZXRMaW5lLm1hdGVyaWFsLmRpc3Bvc2UoKX0sbi51cGRhdGU9ZnVuY3Rpb24oKXtwdS5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5saWdodC5tYXRyaXhXb3JsZCksZnUuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubGlnaHQudGFyZ2V0Lm1hdHJpeFdvcmxkKSxtdS5zdWJWZWN0b3JzKGZ1LHB1KSx0aGlzLmxpZ2h0UGxhbmUubG9va0F0KGZ1KSx2b2lkIDAhPT10aGlzLmNvbG9yPyh0aGlzLmxpZ2h0UGxhbmUubWF0ZXJpYWwuY29sb3Iuc2V0KHRoaXMuY29sb3IpLHRoaXMudGFyZ2V0TGluZS5tYXRlcmlhbC5jb2xvci5zZXQodGhpcy5jb2xvcikpOih0aGlzLmxpZ2h0UGxhbmUubWF0ZXJpYWwuY29sb3IuY29weSh0aGlzLmxpZ2h0LmNvbG9yKSx0aGlzLnRhcmdldExpbmUubWF0ZXJpYWwuY29sb3IuY29weSh0aGlzLmxpZ2h0LmNvbG9yKSksdGhpcy50YXJnZXRMaW5lLmxvb2tBdChmdSksdGhpcy50YXJnZXRMaW5lLnNjYWxlLno9bXUubGVuZ3RoKCl9LGV9KEFlKSxndT1uZXcgTHQseXU9bmV3IFluLHh1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIG4saT1uZXcgTW4scj1uZXcgUWEoe2NvbG9yOjE2Nzc3MjE1LHZlcnRleENvbG9yczohMCx0b25lTWFwcGVkOiExfSksYT1bXSxvPVtdLHM9e30sYz1uZXcgUWUoMTY3NTUyMDApLGw9bmV3IFFlKDE2NzExNjgwKSx1PW5ldyBRZSg0Mzc3NSksaD1uZXcgUWUoMTY3NzcyMTUpLGQ9bmV3IFFlKDMzNTU0NDMpO2Z1bmN0aW9uIHAodCxlLG4pe2YodCxuKSxmKGUsbil9ZnVuY3Rpb24gZih0LGUpe2EucHVzaCgwLDAsMCksby5wdXNoKGUucixlLmcsZS5iKSx2b2lkIDA9PT1zW3RdJiYoc1t0XT1bXSksc1t0XS5wdXNoKGEubGVuZ3RoLzMtMSl9cmV0dXJuIHAoIm4xIiwibjIiLGMpLHAoIm4yIiwibjQiLGMpLHAoIm40IiwibjMiLGMpLHAoIm4zIiwibjEiLGMpLHAoImYxIiwiZjIiLGMpLHAoImYyIiwiZjQiLGMpLHAoImY0IiwiZjMiLGMpLHAoImYzIiwiZjEiLGMpLHAoIm4xIiwiZjEiLGMpLHAoIm4yIiwiZjIiLGMpLHAoIm4zIiwiZjMiLGMpLHAoIm40IiwiZjQiLGMpLHAoInAiLCJuMSIsbCkscCgicCIsIm4yIixsKSxwKCJwIiwibjMiLGwpLHAoInAiLCJuNCIsbCkscCgidTEiLCJ1MiIsdSkscCgidTIiLCJ1MyIsdSkscCgidTMiLCJ1MSIsdSkscCgiYyIsInQiLGgpLHAoInAiLCJjIixkKSxwKCJjbjEiLCJjbjIiLGQpLHAoImNuMyIsImNuNCIsZCkscCgiY2YxIiwiY2YyIixkKSxwKCJjZjMiLCJjZjQiLGQpLGkuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IGhuKGEsMykpLGkuc2V0QXR0cmlidXRlKCJjb2xvciIsbmV3IGhuKG8sMykpLChuPXQuY2FsbCh0aGlzLGkscil8fHRoaXMpLnR5cGU9IkNhbWVyYUhlbHBlciIsbi5jYW1lcmE9ZSxuLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4JiZuLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCksbi5tYXRyaXg9ZS5tYXRyaXhXb3JsZCxuLm1hdHJpeEF1dG9VcGRhdGU9ITEsbi5wb2ludE1hcD1zLG4udXBkYXRlKCksbn1yZXR1cm4gY3QoZSx0KSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdlb21ldHJ5LGU9dGhpcy5wb2ludE1hcDt5dS5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMuY2FtZXJhLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlKSxfdSgiYyIsZSx0LHl1LDAsMCwtMSksX3UoInQiLGUsdCx5dSwwLDAsMSksX3UoIm4xIixlLHQseXUsLTEsLTEsLTEpLF91KCJuMiIsZSx0LHl1LDEsLTEsLTEpLF91KCJuMyIsZSx0LHl1LC0xLDEsLTEpLF91KCJuNCIsZSx0LHl1LDEsMSwtMSksX3UoImYxIixlLHQseXUsLTEsLTEsMSksX3UoImYyIixlLHQseXUsMSwtMSwxKSxfdSgiZjMiLGUsdCx5dSwtMSwxLDEpLF91KCJmNCIsZSx0LHl1LDEsMSwxKSxfdSgidTEiLGUsdCx5dSwuNywxLjEsLTEpLF91KCJ1MiIsZSx0LHl1LC0uNywxLjEsLTEpLF91KCJ1MyIsZSx0LHl1LDAsMiwtMSksX3UoImNmMSIsZSx0LHl1LC0xLDAsMSksX3UoImNmMiIsZSx0LHl1LDEsMCwxKSxfdSgiY2YzIixlLHQseXUsMCwtMSwxKSxfdSgiY2Y0IixlLHQseXUsMCwxLDEpLF91KCJjbjEiLGUsdCx5dSwtMSwwLC0xKSxfdSgiY24yIixlLHQseXUsMSwwLC0xKSxfdSgiY24zIixlLHQseXUsMCwtMSwtMSksX3UoImNuNCIsZSx0LHl1LDAsMSwtMSksdC5nZXRBdHRyaWJ1dGUoInBvc2l0aW9uIikubmVlZHNVcGRhdGU9ITB9LGV9KG9vKTtmdW5jdGlvbiBfdSh0LGUsbixpLHIsYSxvKXtndS5zZXQocixhLG8pLnVucHJvamVjdChpKTt2YXIgcz1lW3RdO2lmKHZvaWQgMCE9PXMpZm9yKHZhciBjPW4uZ2V0QXR0cmlidXRlKCJwb3NpdGlvbiIpLGw9MCx1PXMubGVuZ3RoO2w8dTtsKyspYy5zZXRYWVooc1tsXSxndS54LGd1LnksZ3Uueil9dmFyIGJ1LHd1LE11LFN1PW5ldyBQdCxUdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dmFyIGk7dm9pZCAwPT09biYmKG49MTY3NzY5NjApO3ZhciByPW5ldyBVaW50MTZBcnJheShbMCwxLDEsMiwyLDMsMywwLDQsNSw1LDYsNiw3LDcsNCwwLDQsMSw1LDIsNiwzLDddKSxhPW5ldyBGbG9hdDMyQXJyYXkoMjQpLG89bmV3IE1uO3JldHVybiBvLnNldEluZGV4KG5ldyBlbihyLDEpKSxvLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBlbihhLDMpKSwoaT10LmNhbGwodGhpcyxvLG5ldyBRYSh7Y29sb3I6bix0b25lTWFwcGVkOiExfSkpfHx0aGlzKS5vYmplY3Q9ZSxpLnR5cGU9IkJveEhlbHBlciIsaS5tYXRyaXhBdXRvVXBkYXRlPSExLGkudXBkYXRlKCksaX1jdChlLHQpO3ZhciBuPWUucHJvdG90eXBlO3JldHVybiBuLnVwZGF0ZT1mdW5jdGlvbih0KXtpZih2b2lkIDAhPT10JiZjb25zb2xlLndhcm4oIlRIUkVFLkJveEhlbHBlcjogLnVwZGF0ZSgpIGhhcyBubyBsb25nZXIgYXJndW1lbnRzLiIpLHZvaWQgMCE9PXRoaXMub2JqZWN0JiZTdS5zZXRGcm9tT2JqZWN0KHRoaXMub2JqZWN0KSwhU3UuaXNFbXB0eSgpKXt2YXIgZT1TdS5taW4sbj1TdS5tYXgsaT10aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24scj1pLmFycmF5O3JbMF09bi54LHJbMV09bi55LHJbMl09bi56LHJbM109ZS54LHJbNF09bi55LHJbNV09bi56LHJbNl09ZS54LHJbN109ZS55LHJbOF09bi56LHJbOV09bi54LHJbMTBdPWUueSxyWzExXT1uLnosclsxMl09bi54LHJbMTNdPW4ueSxyWzE0XT1lLnosclsxNV09ZS54LHJbMTZdPW4ueSxyWzE3XT1lLnosclsxOF09ZS54LHJbMTldPWUueSxyWzIwXT1lLnosclsyMV09bi54LHJbMjJdPWUueSxyWzIzXT1lLnosaS5uZWVkc1VwZGF0ZT0hMCx0aGlzLmdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpfX0sbi5zZXRGcm9tT2JqZWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9iamVjdD10LHRoaXMudXBkYXRlKCksdGhpc30sbi5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiBvby5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsdCksdGhpcy5vYmplY3Q9dC5vYmplY3QsdGhpc30sZX0ob28pLEV1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgaTt2b2lkIDA9PT1uJiYobj0xNjc3Njk2MCk7dmFyIHI9bmV3IFVpbnQxNkFycmF5KFswLDEsMSwyLDIsMywzLDAsNCw1LDUsNiw2LDcsNyw0LDAsNCwxLDUsMiw2LDMsN10pLGE9bmV3IE1uO3JldHVybiBhLnNldEluZGV4KG5ldyBlbihyLDEpKSxhLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBobihbMSwxLDEsLTEsMSwxLC0xLC0xLDEsMSwtMSwxLDEsMSwtMSwtMSwxLC0xLC0xLC0xLC0xLDEsLTEsLTFdLDMpKSwoaT10LmNhbGwodGhpcyxhLG5ldyBRYSh7Y29sb3I6bix0b25lTWFwcGVkOiExfSkpfHx0aGlzKS5ib3g9ZSxpLnR5cGU9IkJveDNIZWxwZXIiLGkuZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCksaX1yZXR1cm4gY3QoZSx0KSxlLnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZD1mdW5jdGlvbihlKXt2YXIgbj10aGlzLmJveDtuLmlzRW1wdHkoKXx8KG4uZ2V0Q2VudGVyKHRoaXMucG9zaXRpb24pLG4uZ2V0U2l6ZSh0aGlzLnNjYWxlKSx0aGlzLnNjYWxlLm11bHRpcGx5U2NhbGFyKC41KSx0LnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZC5jYWxsKHRoaXMsZSkpfSxlfShvbyksQXU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSl7dmFyIHI7dm9pZCAwPT09biYmKG49MSksdm9pZCAwPT09aSYmKGk9MTY3NzY5NjApO3ZhciBhPWksbz1uZXcgTW47by5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgaG4oWzEsLTEsMSwtMSwxLDEsLTEsLTEsMSwxLDEsMSwtMSwxLDEsLTEsLTEsMSwxLC0xLDEsMSwxLDEsMCwwLDEsMCwwLDBdLDMpKSxvLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpLChyPXQuY2FsbCh0aGlzLG8sbmV3IFFhKHtjb2xvcjphLHRvbmVNYXBwZWQ6ITF9KSl8fHRoaXMpLnR5cGU9IlBsYW5lSGVscGVyIixyLnBsYW5lPWUsci5zaXplPW47dmFyIHM9bmV3IE1uO3JldHVybiBzLnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBobihbMSwxLDEsLTEsMSwxLC0xLC0xLDEsMSwxLDEsLTEsLTEsMSwxLC0xLDFdLDMpKSxzLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpLHIuYWRkKG5ldyBVbihzLG5ldyBLZSh7Y29sb3I6YSxvcGFjaXR5Oi4yLHRyYW5zcGFyZW50OiEwLGRlcHRoV3JpdGU6ITEsdG9uZU1hcHBlZDohMX0pKSkscn1yZXR1cm4gY3QoZSx0KSxlLnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZD1mdW5jdGlvbihlKXt2YXIgbj0tdGhpcy5wbGFuZS5jb25zdGFudDtNYXRoLmFicyhuKTwxZS04JiYobj0xZS04KSx0aGlzLnNjYWxlLnNldCguNSp0aGlzLnNpemUsLjUqdGhpcy5zaXplLG4pLHRoaXMuY2hpbGRyZW5bMF0ubWF0ZXJpYWwuc2lkZT1uPDA/MTowLHRoaXMubG9va0F0KHRoaXMucGxhbmUubm9ybWFsKSx0LnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZC5jYWxsKHRoaXMsZSl9LGV9KGlvKSxMdT1uZXcgTHQsUnU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4saSxyLGEsbyl7dmFyIHM7cmV0dXJuKHM9dC5jYWxsKHRoaXMpfHx0aGlzKS50eXBlPSJBcnJvd0hlbHBlciIsdm9pZCAwPT09ZSYmKGU9bmV3IEx0KDAsMCwxKSksdm9pZCAwPT09biYmKG49bmV3IEx0KDAsMCwwKSksdm9pZCAwPT09aSYmKGk9MSksdm9pZCAwPT09ciYmKHI9MTY3NzY5NjApLHZvaWQgMD09PWEmJihhPS4yKmkpLHZvaWQgMD09PW8mJihvPS4yKmEpLHZvaWQgMD09PWJ1JiYoKGJ1PW5ldyBNbikuc2V0QXR0cmlidXRlKCJwb3NpdGlvbiIsbmV3IGhuKFswLDAsMCwwLDEsMF0sMykpLCh3dT1uZXcgYm8oMCwuNSwxLDUsMSkpLnRyYW5zbGF0ZSgwLC0uNSwwKSkscy5wb3NpdGlvbi5jb3B5KG4pLHMubGluZT1uZXcgaW8oYnUsbmV3IFFhKHtjb2xvcjpyLHRvbmVNYXBwZWQ6ITF9KSkscy5saW5lLm1hdHJpeEF1dG9VcGRhdGU9ITEscy5hZGQocy5saW5lKSxzLmNvbmU9bmV3IFVuKHd1LG5ldyBLZSh7Y29sb3I6cix0b25lTWFwcGVkOiExfSkpLHMuY29uZS5tYXRyaXhBdXRvVXBkYXRlPSExLHMuYWRkKHMuY29uZSkscy5zZXREaXJlY3Rpb24oZSkscy5zZXRMZW5ndGgoaSxhLG8pLHN9Y3QoZSx0KTt2YXIgbj1lLnByb3RvdHlwZTtyZXR1cm4gbi5zZXREaXJlY3Rpb249ZnVuY3Rpb24odCl7aWYodC55Pi45OTk5OSl0aGlzLnF1YXRlcm5pb24uc2V0KDAsMCwwLDEpO2Vsc2UgaWYodC55PC0uOTk5OTkpdGhpcy5xdWF0ZXJuaW9uLnNldCgxLDAsMCwwKTtlbHNle0x1LnNldCh0LnosMCwtdC54KS5ub3JtYWxpemUoKTt2YXIgZT1NYXRoLmFjb3ModC55KTt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbUF4aXNBbmdsZShMdSxlKX19LG4uc2V0TGVuZ3RoPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT0uMip0KSx2b2lkIDA9PT1uJiYobj0uMiplKSx0aGlzLmxpbmUuc2NhbGUuc2V0KDEsTWF0aC5tYXgoMWUtNCx0LWUpLDEpLHRoaXMubGluZS51cGRhdGVNYXRyaXgoKSx0aGlzLmNvbmUuc2NhbGUuc2V0KG4sZSxuKSx0aGlzLmNvbmUucG9zaXRpb24ueT10LHRoaXMuY29uZS51cGRhdGVNYXRyaXgoKX0sbi5zZXRDb2xvcj1mdW5jdGlvbih0KXt0aGlzLmxpbmUubWF0ZXJpYWwuY29sb3Iuc2V0KHQpLHRoaXMuY29uZS5tYXRlcmlhbC5jb2xvci5zZXQodCl9LG4uY29weT1mdW5jdGlvbihlKXtyZXR1cm4gdC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsZSwhMSksdGhpcy5saW5lLmNvcHkoZS5saW5lKSx0aGlzLmNvbmUuY29weShlLmNvbmUpLHRoaXN9LGV9KEFlKSxDdT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBuO3ZvaWQgMD09PWUmJihlPTEpO3ZhciBpPVswLDAsMCxlLDAsMCwwLDAsMCwwLGUsMCwwLDAsMCwwLDAsZV0scj1uZXcgTW47ci5zZXRBdHRyaWJ1dGUoInBvc2l0aW9uIixuZXcgaG4oaSwzKSksci5zZXRBdHRyaWJ1dGUoImNvbG9yIixuZXcgaG4oWzEsMCwwLDEsLjYsMCwwLDEsMCwuNiwxLDAsMCwwLDEsMCwuNiwxXSwzKSk7dmFyIGE9bmV3IFFhKHt2ZXJ0ZXhDb2xvcnM6ITAsdG9uZU1hcHBlZDohMX0pO3JldHVybihuPXQuY2FsbCh0aGlzLHIsYSl8fHRoaXMpLnR5cGU9IkF4ZXNIZWxwZXIiLG59cmV0dXJuIGN0KGUsdCksZX0ob28pLFB1PW5ldyBGbG9hdDMyQXJyYXkoMSksRHU9bmV3IEludDMyQXJyYXkoUHUuYnVmZmVyKSxJdT17dG9IYWxmRmxvYXQ6ZnVuY3Rpb24odCl7UHVbMF09dDt2YXIgZT1EdVswXSxuPWU+PjE2JjMyNzY4LGk9ZT4+MTImMjA0NyxyPWU+PjIzJjI1NTtyZXR1cm4gcjwxMDM/bjpyPjE0Mj8obnw9MzE3NDQsbnw9KDI1NT09cj8wOjEpJiY4Mzg4NjA3JmUpOnI8MTEzP258PSgoaXw9MjA0OCk+PjExNC1yKSsoaT4+MTEzLXImMSk6KG58PXItMTEyPDwxMHxpPj4xLG4rPTEmaSl9fSxPdT1NYXRoLnBvdygyLDgpLE51PVsuMTI1LC4yMTUsLjM1LC40NDYsLjUyNiwuNTgyXSxCdT01K051Lmxlbmd0aCx6dT0yMCxGdT0oKE11PXt9KVszZTNdPTAsTXVbMzAwMV09MSxNdVszMDAyXT0yLE11WzMwMDRdPTMsTXVbMzAwNV09NCxNdVszMDA2XT01LE11WzMwMDddPTYsTXUpLEh1PW5ldyBLZSh7c2lkZToxLGRlcHRoV3JpdGU6ITEsZGVwdGhUZXN0OiExfSksR3U9bmV3IFVuKG5ldyBWbixIdSksVXU9bmV3IE9jLGt1PXRoKCksVnU9a3UuX2xvZFBsYW5lcyxXdT1rdS5fc2l6ZUxvZHMsanU9a3UuX3NpZ21hcyxxdT1uZXcgUWUsWHU9bnVsbCxZdT0oMStNYXRoLnNxcnQoNSkpLzIsWnU9MS9ZdSxKdT1bbmV3IEx0KDEsMSwxKSxuZXcgTHQoLTEsMSwxKSxuZXcgTHQoMSwxLC0xKSxuZXcgTHQoLTEsMSwtMSksbmV3IEx0KDAsWXUsWnUpLG5ldyBMdCgwLFl1LC1adSksbmV3IEx0KFp1LDAsWXUpLG5ldyBMdCgtWnUsMCxZdSksbmV3IEx0KFl1LFp1LDApLG5ldyBMdCgtWXUsWnUsMCldO2Z1bmN0aW9uIFF1KHQpe3ZhciBlPU1hdGgubWF4KHQucix0LmcsdC5iKSxuPU1hdGgubWluKE1hdGgubWF4KE1hdGguY2VpbChNYXRoLmxvZzIoZSkpLC0xMjgpLDEyNyk7cmV0dXJuIHQubXVsdGlwbHlTY2FsYXIoTWF0aC5wb3coMiwtbikpLChuKzEyOCkvMjU1fXZhciBLdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGUsbixpO3RoaXMuX3JlbmRlcmVyPXQsdGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQ9bnVsbCx0aGlzLl9ibHVyTWF0ZXJpYWw9KGU9enUsbj1uZXcgRmxvYXQzMkFycmF5KGUpLGk9bmV3IEx0KDAsMSwwKSxuZXcgYnMoe25hbWU6IlNwaGVyaWNhbEdhdXNzaWFuQmx1ciIsZGVmaW5lczp7bjplfSx1bmlmb3Jtczp7ZW52TWFwOnt2YWx1ZTpudWxsfSxzYW1wbGVzOnt2YWx1ZToxfSx3ZWlnaHRzOnt2YWx1ZTpufSxsYXRpdHVkaW5hbDp7dmFsdWU6ITF9LGRUaGV0YTp7dmFsdWU6MH0sbWlwSW50Ont2YWx1ZTowfSxwb2xlQXhpczp7dmFsdWU6aX0saW5wdXRFbmNvZGluZzp7dmFsdWU6RnVbM2UzXX0sb3V0cHV0RW5jb2Rpbmc6e3ZhbHVlOkZ1WzNlM119fSx2ZXJ0ZXhTaGFkZXI6IlxuXG5cdFx0cHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cdFx0cHJlY2lzaW9uIG1lZGl1bXAgaW50O1xuXG5cdFx0YXR0cmlidXRlIHZlYzMgcG9zaXRpb247XG5cdFx0YXR0cmlidXRlIHZlYzIgdXY7XG5cdFx0YXR0cmlidXRlIGZsb2F0IGZhY2VJbmRleDtcblxuXHRcdHZhcnlpbmcgdmVjMyB2T3V0cHV0RGlyZWN0aW9uO1xuXG5cdFx0Ly8gUkggY29vcmRpbmF0ZSBzeXN0ZW07IFBNUkVNIGZhY2UtaW5kZXhpbmcgY29udmVudGlvblxuXHRcdHZlYzMgZ2V0RGlyZWN0aW9uKCB2ZWMyIHV2LCBmbG9hdCBmYWNlICkge1xuXG5cdFx0XHR1diA9IDIuMCAqIHV2IC0gMS4wO1xuXG5cdFx0XHR2ZWMzIGRpcmVjdGlvbiA9IHZlYzMoIHV2LCAxLjAgKTtcblxuXHRcdFx0aWYgKCBmYWNlID09IDAuMCApIHtcblxuXHRcdFx0XHRkaXJlY3Rpb24gPSBkaXJlY3Rpb24uenl4OyAvLyAoIDEsIHYsIHUgKSBwb3MgeFxuXG5cdFx0XHR9IGVsc2UgaWYgKCBmYWNlID09IDEuMCApIHtcblxuXHRcdFx0XHRkaXJlY3Rpb24gPSBkaXJlY3Rpb24ueHp5O1xuXHRcdFx0XHRkaXJlY3Rpb24ueHogKj0gLTEuMDsgLy8gKCAtdSwgMSwgLXYgKSBwb3MgeVxuXG5cdFx0XHR9IGVsc2UgaWYgKCBmYWNlID09IDIuMCApIHtcblxuXHRcdFx0XHRkaXJlY3Rpb24ueCAqPSAtMS4wOyAvLyAoIC11LCB2LCAxICkgcG9zIHpcblxuXHRcdFx0fSBlbHNlIGlmICggZmFjZSA9PSAzLjAgKSB7XG5cblx0XHRcdFx0ZGlyZWN0aW9uID0gZGlyZWN0aW9uLnp5eDtcblx0XHRcdFx0ZGlyZWN0aW9uLnh6ICo9IC0xLjA7IC8vICggLTEsIHYsIC11ICkgbmVnIHhcblxuXHRcdFx0fSBlbHNlIGlmICggZmFjZSA9PSA0LjAgKSB7XG5cblx0XHRcdFx0ZGlyZWN0aW9uID0gZGlyZWN0aW9uLnh6eTtcblx0XHRcdFx0ZGlyZWN0aW9uLnh5ICo9IC0xLjA7IC8vICggLXUsIC0xLCB2ICkgbmVnIHlcblxuXHRcdFx0fSBlbHNlIGlmICggZmFjZSA9PSA1LjAgKSB7XG5cblx0XHRcdFx0ZGlyZWN0aW9uLnogKj0gLTEuMDsgLy8gKCB1LCB2LCAtMSApIG5lZyB6XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGRpcmVjdGlvbjtcblxuXHRcdH1cblxuXHRcdHZvaWQgbWFpbigpIHtcblxuXHRcdFx0dk91dHB1dERpcmVjdGlvbiA9IGdldERpcmVjdGlvbiggdXYsIGZhY2VJbmRleCApO1xuXHRcdFx0Z2xfUG9zaXRpb24gPSB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG5cblx0XHR9XG5cdCIsZnJhZ21lbnRTaGFkZXI6IlxuXG5cdFx0XHRwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblx0XHRcdHByZWNpc2lvbiBtZWRpdW1wIGludDtcblxuXHRcdFx0dmFyeWluZyB2ZWMzIHZPdXRwdXREaXJlY3Rpb247XG5cblx0XHRcdHVuaWZvcm0gc2FtcGxlcjJEIGVudk1hcDtcblx0XHRcdHVuaWZvcm0gaW50IHNhbXBsZXM7XG5cdFx0XHR1bmlmb3JtIGZsb2F0IHdlaWdodHNbIG4gXTtcblx0XHRcdHVuaWZvcm0gYm9vbCBsYXRpdHVkaW5hbDtcblx0XHRcdHVuaWZvcm0gZmxvYXQgZFRoZXRhO1xuXHRcdFx0dW5pZm9ybSBmbG9hdCBtaXBJbnQ7XG5cdFx0XHR1bmlmb3JtIHZlYzMgcG9sZUF4aXM7XG5cblx0XHRcdFxuXG5cdFx0dW5pZm9ybSBpbnQgaW5wdXRFbmNvZGluZztcblx0XHR1bmlmb3JtIGludCBvdXRwdXRFbmNvZGluZztcblxuXHRcdCNpbmNsdWRlIDxlbmNvZGluZ3NfcGFyc19mcmFnbWVudD5cblxuXHRcdHZlYzQgaW5wdXRUZXhlbFRvTGluZWFyKCB2ZWM0IHZhbHVlICkge1xuXG5cdFx0XHRpZiAoIGlucHV0RW5jb2RpbmcgPT0gMCApIHtcblxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGlucHV0RW5jb2RpbmcgPT0gMSApIHtcblxuXHRcdFx0XHRyZXR1cm4gc1JHQlRvTGluZWFyKCB2YWx1ZSApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBpbnB1dEVuY29kaW5nID09IDIgKSB7XG5cblx0XHRcdFx0cmV0dXJuIFJHQkVUb0xpbmVhciggdmFsdWUgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggaW5wdXRFbmNvZGluZyA9PSAzICkge1xuXG5cdFx0XHRcdHJldHVybiBSR0JNVG9MaW5lYXIoIHZhbHVlLCA3LjAgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggaW5wdXRFbmNvZGluZyA9PSA0ICkge1xuXG5cdFx0XHRcdHJldHVybiBSR0JNVG9MaW5lYXIoIHZhbHVlLCAxNi4wICk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGlucHV0RW5jb2RpbmcgPT0gNSApIHtcblxuXHRcdFx0XHRyZXR1cm4gUkdCRFRvTGluZWFyKCB2YWx1ZSwgMjU2LjAgKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRyZXR1cm4gR2FtbWFUb0xpbmVhciggdmFsdWUsIDIuMiApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHR2ZWM0IGxpbmVhclRvT3V0cHV0VGV4ZWwoIHZlYzQgdmFsdWUgKSB7XG5cblx0XHRcdGlmICggb3V0cHV0RW5jb2RpbmcgPT0gMCApIHtcblxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cblx0XHRcdH0gZWxzZSBpZiAoIG91dHB1dEVuY29kaW5nID09IDEgKSB7XG5cblx0XHRcdFx0cmV0dXJuIExpbmVhclRvc1JHQiggdmFsdWUgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggb3V0cHV0RW5jb2RpbmcgPT0gMiApIHtcblxuXHRcdFx0XHRyZXR1cm4gTGluZWFyVG9SR0JFKCB2YWx1ZSApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBvdXRwdXRFbmNvZGluZyA9PSAzICkge1xuXG5cdFx0XHRcdHJldHVybiBMaW5lYXJUb1JHQk0oIHZhbHVlLCA3LjAgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggb3V0cHV0RW5jb2RpbmcgPT0gNCApIHtcblxuXHRcdFx0XHRyZXR1cm4gTGluZWFyVG9SR0JNKCB2YWx1ZSwgMTYuMCApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBvdXRwdXRFbmNvZGluZyA9PSA1ICkge1xuXG5cdFx0XHRcdHJldHVybiBMaW5lYXJUb1JHQkQoIHZhbHVlLCAyNTYuMCApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdHJldHVybiBMaW5lYXJUb0dhbW1hKCB2YWx1ZSwgMi4yICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHZlYzQgZW52TWFwVGV4ZWxUb0xpbmVhciggdmVjNCBjb2xvciApIHtcblxuXHRcdFx0cmV0dXJuIGlucHV0VGV4ZWxUb0xpbmVhciggY29sb3IgKTtcblxuXHRcdH1cblx0XG5cblx0XHRcdCNkZWZpbmUgRU5WTUFQX1RZUEVfQ1VCRV9VVlxuXHRcdFx0I2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD5cblxuXHRcdFx0dmVjMyBnZXRTYW1wbGUoIGZsb2F0IHRoZXRhLCB2ZWMzIGF4aXMgKSB7XG5cblx0XHRcdFx0ZmxvYXQgY29zVGhldGEgPSBjb3MoIHRoZXRhICk7XG5cdFx0XHRcdC8vIFJvZHJpZ3VlcycgYXhpcy1hbmdsZSByb3RhdGlvblxuXHRcdFx0XHR2ZWMzIHNhbXBsZURpcmVjdGlvbiA9IHZPdXRwdXREaXJlY3Rpb24gKiBjb3NUaGV0YVxuXHRcdFx0XHRcdCsgY3Jvc3MoIGF4aXMsIHZPdXRwdXREaXJlY3Rpb24gKSAqIHNpbiggdGhldGEgKVxuXHRcdFx0XHRcdCsgYXhpcyAqIGRvdCggYXhpcywgdk91dHB1dERpcmVjdGlvbiApICogKCAxLjAgLSBjb3NUaGV0YSApO1xuXG5cdFx0XHRcdHJldHVybiBiaWxpbmVhckN1YmVVViggZW52TWFwLCBzYW1wbGVEaXJlY3Rpb24sIG1pcEludCApO1xuXG5cdFx0XHR9XG5cblx0XHRcdHZvaWQgbWFpbigpIHtcblxuXHRcdFx0XHR2ZWMzIGF4aXMgPSBsYXRpdHVkaW5hbCA/IHBvbGVBeGlzIDogY3Jvc3MoIHBvbGVBeGlzLCB2T3V0cHV0RGlyZWN0aW9uICk7XG5cblx0XHRcdFx0aWYgKCBhbGwoIGVxdWFsKCBheGlzLCB2ZWMzKCAwLjAgKSApICkgKSB7XG5cblx0XHRcdFx0XHRheGlzID0gdmVjMyggdk91dHB1dERpcmVjdGlvbi56LCAwLjAsIC0gdk91dHB1dERpcmVjdGlvbi54ICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGF4aXMgPSBub3JtYWxpemUoIGF4aXMgKTtcblxuXHRcdFx0XHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCAwLjAsIDAuMCwgMC4wLCAxLjAgKTtcblx0XHRcdFx0Z2xfRnJhZ0NvbG9yLnJnYiArPSB3ZWlnaHRzWyAwIF0gKiBnZXRTYW1wbGUoIDAuMCwgYXhpcyApO1xuXG5cdFx0XHRcdGZvciAoIGludCBpID0gMTsgaSA8IG47IGkrKyApIHtcblxuXHRcdFx0XHRcdGlmICggaSA+PSBzYW1wbGVzICkge1xuXG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGZsb2F0IHRoZXRhID0gZFRoZXRhICogZmxvYXQoIGkgKTtcblx0XHRcdFx0XHRnbF9GcmFnQ29sb3IucmdiICs9IHdlaWdodHNbIGkgXSAqIGdldFNhbXBsZSggLTEuMCAqIHRoZXRhLCBheGlzICk7XG5cdFx0XHRcdFx0Z2xfRnJhZ0NvbG9yLnJnYiArPSB3ZWlnaHRzWyBpIF0gKiBnZXRTYW1wbGUoIHRoZXRhLCBheGlzICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGdsX0ZyYWdDb2xvciA9IGxpbmVhclRvT3V0cHV0VGV4ZWwoIGdsX0ZyYWdDb2xvciApO1xuXG5cdFx0XHR9XG5cdFx0IixibGVuZGluZzowLGRlcHRoVGVzdDohMSxkZXB0aFdyaXRlOiExfSkpLHRoaXMuX2VxdWlyZWN0U2hhZGVyPW51bGwsdGhpcy5fY3ViZW1hcFNoYWRlcj1udWxsLHRoaXMuX2NvbXBpbGVNYXRlcmlhbCh0aGlzLl9ibHVyTWF0ZXJpYWwpfXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLmZyb21TY2VuZT1mdW5jdGlvbih0LGUsbixpKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1uJiYobj0uMSksdm9pZCAwPT09aSYmKGk9MTAwKSxYdT10aGlzLl9yZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKTt2YXIgcj10aGlzLl9hbGxvY2F0ZVRhcmdldHMoKTtyZXR1cm4gdGhpcy5fc2NlbmVUb0N1YmVVVih0LG4saSxyKSxlPjAmJnRoaXMuX2JsdXIociwwLDAsZSksdGhpcy5fYXBwbHlQTVJFTShyKSx0aGlzLl9jbGVhbnVwKHIpLHJ9LGUuZnJvbUVxdWlyZWN0YW5ndWxhcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZnJvbVRleHR1cmUodCl9LGUuZnJvbUN1YmVtYXA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2Zyb21UZXh0dXJlKHQpfSxlLmNvbXBpbGVDdWJlbWFwU2hhZGVyPWZ1bmN0aW9uKCl7bnVsbD09PXRoaXMuX2N1YmVtYXBTaGFkZXImJih0aGlzLl9jdWJlbWFwU2hhZGVyPXJoKCksdGhpcy5fY29tcGlsZU1hdGVyaWFsKHRoaXMuX2N1YmVtYXBTaGFkZXIpKX0sZS5jb21waWxlRXF1aXJlY3Rhbmd1bGFyU2hhZGVyPWZ1bmN0aW9uKCl7bnVsbD09PXRoaXMuX2VxdWlyZWN0U2hhZGVyJiYodGhpcy5fZXF1aXJlY3RTaGFkZXI9aWgoKSx0aGlzLl9jb21waWxlTWF0ZXJpYWwodGhpcy5fZXF1aXJlY3RTaGFkZXIpKX0sZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fYmx1ck1hdGVyaWFsLmRpc3Bvc2UoKSxudWxsIT09dGhpcy5fY3ViZW1hcFNoYWRlciYmdGhpcy5fY3ViZW1hcFNoYWRlci5kaXNwb3NlKCksbnVsbCE9PXRoaXMuX2VxdWlyZWN0U2hhZGVyJiZ0aGlzLl9lcXVpcmVjdFNoYWRlci5kaXNwb3NlKCk7Zm9yKHZhciB0PTA7dDxWdS5sZW5ndGg7dCsrKVZ1W3RdLmRpc3Bvc2UoKX0sZS5fY2xlYW51cD1mdW5jdGlvbih0KXt0aGlzLl9waW5nUG9uZ1JlbmRlclRhcmdldC5kaXNwb3NlKCksdGhpcy5fcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KFh1KSx0LnNjaXNzb3JUZXN0PSExLG5oKHQsMCwwLHQud2lkdGgsdC5oZWlnaHQpfSxlLl9mcm9tVGV4dHVyZT1mdW5jdGlvbih0KXtYdT10aGlzLl9yZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKTt2YXIgZT10aGlzLl9hbGxvY2F0ZVRhcmdldHModCk7cmV0dXJuIHRoaXMuX3RleHR1cmVUb0N1YmVVVih0LGUpLHRoaXMuX2FwcGx5UE1SRU0oZSksdGhpcy5fY2xlYW51cChlKSxlfSxlLl9hbGxvY2F0ZVRhcmdldHM9ZnVuY3Rpb24odCl7dmFyIGU9e21hZ0ZpbHRlcjpmLG1pbkZpbHRlcjpmLGdlbmVyYXRlTWlwbWFwczohMSx0eXBlOl8sZm9ybWF0OjEwMjMsZW5jb2Rpbmc6JHUodCk/dC5lbmNvZGluZzpRLGRlcHRoQnVmZmVyOiExfSxuPWVoKGUpO3JldHVybiBuLmRlcHRoQnVmZmVyPSF0LHRoaXMuX3BpbmdQb25nUmVuZGVyVGFyZ2V0PWVoKGUpLG59LGUuX2NvbXBpbGVNYXRlcmlhbD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgVW4oVnVbMF0sdCk7dGhpcy5fcmVuZGVyZXIuY29tcGlsZShlLFV1KX0sZS5fc2NlbmVUb0N1YmVVVj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uZXcgWm4oOTAsMSxlLG4pLGE9WzEsLTEsMSwxLDEsMV0sbz1bMSwxLDEsLTEsLTEsLTFdLHM9dGhpcy5fcmVuZGVyZXIsYz1zLmF1dG9DbGVhcixsPXMub3V0cHV0RW5jb2RpbmcsdT1zLnRvbmVNYXBwaW5nO3MuZ2V0Q2xlYXJDb2xvcihxdSkscy50b25lTWFwcGluZz0wLHMub3V0cHV0RW5jb2Rpbmc9WSxzLmF1dG9DbGVhcj0hMTt2YXIgaD0hMSxkPXQuYmFja2dyb3VuZDtpZihkKXtpZihkLmlzQ29sb3Ipe0h1LmNvbG9yLmNvcHkoZCkuY29udmVydFNSR0JUb0xpbmVhcigpLHQuYmFja2dyb3VuZD1udWxsO3ZhciBwPVF1KEh1LmNvbG9yKTtIdS5vcGFjaXR5PXAsaD0hMH19ZWxzZXtIdS5jb2xvci5jb3B5KHF1KS5jb252ZXJ0U1JHQlRvTGluZWFyKCk7dmFyIGY9UXUoSHUuY29sb3IpO0h1Lm9wYWNpdHk9ZixoPSEwfWZvcih2YXIgbT0wO208NjttKyspe3ZhciB2PW0lMzswPT12PyhyLnVwLnNldCgwLGFbbV0sMCksci5sb29rQXQob1ttXSwwLDApKToxPT12PyhyLnVwLnNldCgwLDAsYVttXSksci5sb29rQXQoMCxvW21dLDApKTooci51cC5zZXQoMCxhW21dLDApLHIubG9va0F0KDAsMCxvW21dKSksbmgoaSx2Kk91LG0+Mj9PdTowLE91LE91KSxzLnNldFJlbmRlclRhcmdldChpKSxoJiZzLnJlbmRlcihHdSxyKSxzLnJlbmRlcih0LHIpfXMudG9uZU1hcHBpbmc9dSxzLm91dHB1dEVuY29kaW5nPWwscy5hdXRvQ2xlYXI9Y30sZS5fdGV4dHVyZVRvQ3ViZVVWPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fcmVuZGVyZXI7dC5pc0N1YmVUZXh0dXJlP251bGw9PXRoaXMuX2N1YmVtYXBTaGFkZXImJih0aGlzLl9jdWJlbWFwU2hhZGVyPXJoKCkpOm51bGw9PXRoaXMuX2VxdWlyZWN0U2hhZGVyJiYodGhpcy5fZXF1aXJlY3RTaGFkZXI9aWgoKSk7dmFyIGk9dC5pc0N1YmVUZXh0dXJlP3RoaXMuX2N1YmVtYXBTaGFkZXI6dGhpcy5fZXF1aXJlY3RTaGFkZXIscj1uZXcgVW4oVnVbMF0saSksYT1pLnVuaWZvcm1zO2EuZW52TWFwLnZhbHVlPXQsdC5pc0N1YmVUZXh0dXJlfHxhLnRleGVsU2l6ZS52YWx1ZS5zZXQoMS90LmltYWdlLndpZHRoLDEvdC5pbWFnZS5oZWlnaHQpLGEuaW5wdXRFbmNvZGluZy52YWx1ZT1GdVt0LmVuY29kaW5nXSxhLm91dHB1dEVuY29kaW5nLnZhbHVlPUZ1W2UudGV4dHVyZS5lbmNvZGluZ10sbmgoZSwwLDAsMypPdSwyKk91KSxuLnNldFJlbmRlclRhcmdldChlKSxuLnJlbmRlcihyLFV1KX0sZS5fYXBwbHlQTVJFTT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9yZW5kZXJlcixuPWUuYXV0b0NsZWFyO2UuYXV0b0NsZWFyPSExO2Zvcih2YXIgaT0xO2k8QnU7aSsrKXt2YXIgcj1NYXRoLnNxcnQoanVbaV0qanVbaV0tanVbaS0xXSpqdVtpLTFdKSxhPUp1WyhpLTEpJUp1Lmxlbmd0aF07dGhpcy5fYmx1cih0LGktMSxpLHIsYSl9ZS5hdXRvQ2xlYXI9bn0sZS5fYmx1cj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBhPXRoaXMuX3BpbmdQb25nUmVuZGVyVGFyZ2V0O3RoaXMuX2hhbGZCbHVyKHQsYSxlLG4saSwibGF0aXR1ZGluYWwiLHIpLHRoaXMuX2hhbGZCbHVyKGEsdCxuLG4saSwibG9uZ2l0dWRpbmFsIixyKX0sZS5faGFsZkJsdXI9ZnVuY3Rpb24odCxlLG4saSxyLGEsbyl7dmFyIHM9dGhpcy5fcmVuZGVyZXIsYz10aGlzLl9ibHVyTWF0ZXJpYWw7ImxhdGl0dWRpbmFsIiE9PWEmJiJsb25naXR1ZGluYWwiIT09YSYmY29uc29sZS5lcnJvcigiYmx1ciBkaXJlY3Rpb24gbXVzdCBiZSBlaXRoZXIgbGF0aXR1ZGluYWwgb3IgbG9uZ2l0dWRpbmFsISIpO3ZhciBsPW5ldyBVbihWdVtpXSxjKSx1PWMudW5pZm9ybXMsaD1XdVtuXS0xLGQ9aXNGaW5pdGUocik/TWF0aC5QSS8oMipoKToyKk1hdGguUEkvMzkscD1yL2QsZj1pc0Zpbml0ZShyKT8xK01hdGguZmxvb3IoMypwKTp6dTtmPnp1JiZjb25zb2xlLndhcm4oInNpZ21hUmFkaWFucywgIityKyIsIGlzIHRvbyBsYXJnZSBhbmQgd2lsbCBjbGlwLCBhcyBpdCByZXF1ZXN0ZWQgIitmKyIgc2FtcGxlcyB3aGVuIHRoZSBtYXhpbXVtIGlzIHNldCB0byAiK3p1KTtmb3IodmFyIG09W10sdj0wLGc9MDtnPHp1OysrZyl7dmFyIHk9Zy9wLHg9TWF0aC5leHAoLXkqeS8yKTttLnB1c2goeCksMD09Zz92Kz14Omc8ZiYmKHYrPTIqeCl9Zm9yKHZhciBfPTA7XzxtLmxlbmd0aDtfKyspbVtfXT1tW19dL3Y7dS5lbnZNYXAudmFsdWU9dC50ZXh0dXJlLHUuc2FtcGxlcy52YWx1ZT1mLHUud2VpZ2h0cy52YWx1ZT1tLHUubGF0aXR1ZGluYWwudmFsdWU9ImxhdGl0dWRpbmFsIj09PWEsbyYmKHUucG9sZUF4aXMudmFsdWU9byksdS5kVGhldGEudmFsdWU9ZCx1Lm1pcEludC52YWx1ZT04LW4sdS5pbnB1dEVuY29kaW5nLnZhbHVlPUZ1W3QudGV4dHVyZS5lbmNvZGluZ10sdS5vdXRwdXRFbmNvZGluZy52YWx1ZT1GdVt0LnRleHR1cmUuZW5jb2RpbmddO3ZhciBiPVd1W2ldO25oKGUsMypNYXRoLm1heCgwLE91LTIqYiksKDA9PT1pPzA6MipPdSkrMipiKihpPjQ/aS04KzQ6MCksMypiLDIqYikscy5zZXRSZW5kZXJUYXJnZXQoZSkscy5yZW5kZXIobCxVdSl9LHR9KCk7ZnVuY3Rpb24gJHUodCl7cmV0dXJuIHZvaWQgMCE9PXQmJnQudHlwZT09PV8mJih0LmVuY29kaW5nPT09WXx8dC5lbmNvZGluZz09PVp8fHQuZW5jb2Rpbmc9PT1KKX1mdW5jdGlvbiB0aCgpe2Zvcih2YXIgdD1bXSxlPVtdLG49W10saT04LHI9MDtyPEJ1O3IrKyl7dmFyIGE9TWF0aC5wb3coMixpKTtlLnB1c2goYSk7dmFyIG89MS9hO3I+ND9vPU51W3ItOCs0LTFdOjA9PXImJihvPTApLG4ucHVzaChvKTtmb3IodmFyIHM9MS8oYS0xKSxjPS1zLzIsbD0xK3MvMix1PVtjLGMsbCxjLGwsbCxjLGMsbCxsLGMsbF0saD1uZXcgRmxvYXQzMkFycmF5KDEwOCksZD1uZXcgRmxvYXQzMkFycmF5KDcyKSxwPW5ldyBGbG9hdDMyQXJyYXkoMzYpLGY9MDtmPDY7ZisrKXt2YXIgbT1mJTMqMi8zLTEsdj1mPjI/MDotMSxnPVttLHYsMCxtKzIvMyx2LDAsbSsyLzMsdisxLDAsbSx2LDAsbSsyLzMsdisxLDAsbSx2KzEsMF07aC5zZXQoZywxOCpmKSxkLnNldCh1LDEyKmYpO3ZhciB5PVtmLGYsZixmLGYsZl07cC5zZXQoeSw2KmYpfXZhciB4PW5ldyBNbjt4LnNldEF0dHJpYnV0ZSgicG9zaXRpb24iLG5ldyBlbihoLDMpKSx4LnNldEF0dHJpYnV0ZSgidXYiLG5ldyBlbihkLDIpKSx4LnNldEF0dHJpYnV0ZSgiZmFjZUluZGV4IixuZXcgZW4ocCwxKSksdC5wdXNoKHgpLGk+NCYmaS0tfXJldHVybntfbG9kUGxhbmVzOnQsX3NpemVMb2RzOmUsX3NpZ21hczpufX1mdW5jdGlvbiBlaCh0KXt2YXIgZT1uZXcgVHQoMypPdSwzKk91LHQpO3JldHVybiBlLnRleHR1cmUubWFwcGluZz1sLGUudGV4dHVyZS5uYW1lPSJQTVJFTS5jdWJlVXYiLGUuc2Npc3NvclRlc3Q9ITAsZX1mdW5jdGlvbiBuaCh0LGUsbixpLHIpe3Qudmlld3BvcnQuc2V0KGUsbixpLHIpLHQuc2Npc3Nvci5zZXQoZSxuLGkscil9ZnVuY3Rpb24gaWgoKXtyZXR1cm4gbmV3IGJzKHtuYW1lOiJFcXVpcmVjdGFuZ3VsYXJUb0N1YmVVViIsdW5pZm9ybXM6e2Vudk1hcDp7dmFsdWU6bnVsbH0sdGV4ZWxTaXplOnt2YWx1ZTpuZXcgeXQoMSwxKX0saW5wdXRFbmNvZGluZzp7dmFsdWU6RnVbM2UzXX0sb3V0cHV0RW5jb2Rpbmc6e3ZhbHVlOkZ1WzNlM119fSx2ZXJ0ZXhTaGFkZXI6IlxuXG5cdFx0cHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cdFx0cHJlY2lzaW9uIG1lZGl1bXAgaW50O1xuXG5cdFx0YXR0cmlidXRlIHZlYzMgcG9zaXRpb247XG5cdFx0YXR0cmlidXRlIHZlYzIgdXY7XG5cdFx0YXR0cmlidXRlIGZsb2F0IGZhY2VJbmRleDtcblxuXHRcdHZhcnlpbmcgdmVjMyB2T3V0cHV0RGlyZWN0aW9uO1xuXG5cdFx0Ly8gUkggY29vcmRpbmF0ZSBzeXN0ZW07IFBNUkVNIGZhY2UtaW5kZXhpbmcgY29udmVudGlvblxuXHRcdHZlYzMgZ2V0RGlyZWN0aW9uKCB2ZWMyIHV2LCBmbG9hdCBmYWNlICkge1xuXG5cdFx0XHR1diA9IDIuMCAqIHV2IC0gMS4wO1xuXG5cdFx0XHR2ZWMzIGRpcmVjdGlvbiA9IHZlYzMoIHV2LCAxLjAgKTtcblxuXHRcdFx0aWYgKCBmYWNlID09IDAuMCApIHtcblxuXHRcdFx0XHRkaXJlY3Rpb24gPSBkaXJlY3Rpb24uenl4OyAvLyAoIDEsIHYsIHUgKSBwb3MgeFxuXG5cdFx0XHR9IGVsc2UgaWYgKCBmYWNlID09IDEuMCApIHtcblxuXHRcdFx0XHRkaXJlY3Rpb24gPSBkaXJlY3Rpb24ueHp5O1xuXHRcdFx0XHRkaXJlY3Rpb24ueHogKj0gLTEuMDsgLy8gKCAtdSwgMSwgLXYgKSBwb3MgeVxuXG5cdFx0XHR9IGVsc2UgaWYgKCBmYWNlID09IDIuMCApIHtcblxuXHRcdFx0XHRkaXJlY3Rpb24ueCAqPSAtMS4wOyAvLyAoIC11LCB2LCAxICkgcG9zIHpcblxuXHRcdFx0fSBlbHNlIGlmICggZmFjZSA9PSAzLjAgKSB7XG5cblx0XHRcdFx0ZGlyZWN0aW9uID0gZGlyZWN0aW9uLnp5eDtcblx0XHRcdFx0ZGlyZWN0aW9uLnh6ICo9IC0xLjA7IC8vICggLTEsIHYsIC11ICkgbmVnIHhcblxuXHRcdFx0fSBlbHNlIGlmICggZmFjZSA9PSA0LjAgKSB7XG5cblx0XHRcdFx0ZGlyZWN0aW9uID0gZGlyZWN0aW9uLnh6eTtcblx0XHRcdFx0ZGlyZWN0aW9uLnh5ICo9IC0xLjA7IC8vICggLXUsIC0xLCB2ICkgbmVnIHlcblxuXHRcdFx0fSBlbHNlIGlmICggZmFjZSA9PSA1LjAgKSB7XG5cblx0XHRcdFx0ZGlyZWN0aW9uLnogKj0gLTEuMDsgLy8gKCB1LCB2LCAtMSApIG5lZyB6XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGRpcmVjdGlvbjtcblxuXHRcdH1cblxuXHRcdHZvaWQgbWFpbigpIHtcblxuXHRcdFx0dk91dHB1dERpcmVjdGlvbiA9IGdldERpcmVjdGlvbiggdXYsIGZhY2VJbmRleCApO1xuXHRcdFx0Z2xfUG9zaXRpb24gPSB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG5cblx0XHR9XG5cdCIsZnJhZ21lbnRTaGFkZXI6IlxuXG5cdFx0XHRwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblx0XHRcdHByZWNpc2lvbiBtZWRpdW1wIGludDtcblxuXHRcdFx0dmFyeWluZyB2ZWMzIHZPdXRwdXREaXJlY3Rpb247XG5cblx0XHRcdHVuaWZvcm0gc2FtcGxlcjJEIGVudk1hcDtcblx0XHRcdHVuaWZvcm0gdmVjMiB0ZXhlbFNpemU7XG5cblx0XHRcdFxuXG5cdFx0dW5pZm9ybSBpbnQgaW5wdXRFbmNvZGluZztcblx0XHR1bmlmb3JtIGludCBvdXRwdXRFbmNvZGluZztcblxuXHRcdCNpbmNsdWRlIDxlbmNvZGluZ3NfcGFyc19mcmFnbWVudD5cblxuXHRcdHZlYzQgaW5wdXRUZXhlbFRvTGluZWFyKCB2ZWM0IHZhbHVlICkge1xuXG5cdFx0XHRpZiAoIGlucHV0RW5jb2RpbmcgPT0gMCApIHtcblxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGlucHV0RW5jb2RpbmcgPT0gMSApIHtcblxuXHRcdFx0XHRyZXR1cm4gc1JHQlRvTGluZWFyKCB2YWx1ZSApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBpbnB1dEVuY29kaW5nID09IDIgKSB7XG5cblx0XHRcdFx0cmV0dXJuIFJHQkVUb0xpbmVhciggdmFsdWUgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggaW5wdXRFbmNvZGluZyA9PSAzICkge1xuXG5cdFx0XHRcdHJldHVybiBSR0JNVG9MaW5lYXIoIHZhbHVlLCA3LjAgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggaW5wdXRFbmNvZGluZyA9PSA0ICkge1xuXG5cdFx0XHRcdHJldHVybiBSR0JNVG9MaW5lYXIoIHZhbHVlLCAxNi4wICk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGlucHV0RW5jb2RpbmcgPT0gNSApIHtcblxuXHRcdFx0XHRyZXR1cm4gUkdCRFRvTGluZWFyKCB2YWx1ZSwgMjU2LjAgKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRyZXR1cm4gR2FtbWFUb0xpbmVhciggdmFsdWUsIDIuMiApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHR2ZWM0IGxpbmVhclRvT3V0cHV0VGV4ZWwoIHZlYzQgdmFsdWUgKSB7XG5cblx0XHRcdGlmICggb3V0cHV0RW5jb2RpbmcgPT0gMCApIHtcblxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cblx0XHRcdH0gZWxzZSBpZiAoIG91dHB1dEVuY29kaW5nID09IDEgKSB7XG5cblx0XHRcdFx0cmV0dXJuIExpbmVhclRvc1JHQiggdmFsdWUgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggb3V0cHV0RW5jb2RpbmcgPT0gMiApIHtcblxuXHRcdFx0XHRyZXR1cm4gTGluZWFyVG9SR0JFKCB2YWx1ZSApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBvdXRwdXRFbmNvZGluZyA9PSAzICkge1xuXG5cdFx0XHRcdHJldHVybiBMaW5lYXJUb1JHQk0oIHZhbHVlLCA3LjAgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggb3V0cHV0RW5jb2RpbmcgPT0gNCApIHtcblxuXHRcdFx0XHRyZXR1cm4gTGluZWFyVG9SR0JNKCB2YWx1ZSwgMTYuMCApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBvdXRwdXRFbmNvZGluZyA9PSA1ICkge1xuXG5cdFx0XHRcdHJldHVybiBMaW5lYXJUb1JHQkQoIHZhbHVlLCAyNTYuMCApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdHJldHVybiBMaW5lYXJUb0dhbW1hKCB2YWx1ZSwgMi4yICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHZlYzQgZW52TWFwVGV4ZWxUb0xpbmVhciggdmVjNCBjb2xvciApIHtcblxuXHRcdFx0cmV0dXJuIGlucHV0VGV4ZWxUb0xpbmVhciggY29sb3IgKTtcblxuXHRcdH1cblx0XG5cblx0XHRcdCNpbmNsdWRlIDxjb21tb24+XG5cblx0XHRcdHZvaWQgbWFpbigpIHtcblxuXHRcdFx0XHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCAwLjAsIDAuMCwgMC4wLCAxLjAgKTtcblxuXHRcdFx0XHR2ZWMzIG91dHB1dERpcmVjdGlvbiA9IG5vcm1hbGl6ZSggdk91dHB1dERpcmVjdGlvbiApO1xuXHRcdFx0XHR2ZWMyIHV2ID0gZXF1aXJlY3RVdiggb3V0cHV0RGlyZWN0aW9uICk7XG5cblx0XHRcdFx0dmVjMiBmID0gZnJhY3QoIHV2IC8gdGV4ZWxTaXplIC0gMC41ICk7XG5cdFx0XHRcdHV2IC09IGYgKiB0ZXhlbFNpemU7XG5cdFx0XHRcdHZlYzMgdGwgPSBlbnZNYXBUZXhlbFRvTGluZWFyKCB0ZXh0dXJlMkQgKCBlbnZNYXAsIHV2ICkgKS5yZ2I7XG5cdFx0XHRcdHV2LnggKz0gdGV4ZWxTaXplLng7XG5cdFx0XHRcdHZlYzMgdHIgPSBlbnZNYXBUZXhlbFRvTGluZWFyKCB0ZXh0dXJlMkQgKCBlbnZNYXAsIHV2ICkgKS5yZ2I7XG5cdFx0XHRcdHV2LnkgKz0gdGV4ZWxTaXplLnk7XG5cdFx0XHRcdHZlYzMgYnIgPSBlbnZNYXBUZXhlbFRvTGluZWFyKCB0ZXh0dXJlMkQgKCBlbnZNYXAsIHV2ICkgKS5yZ2I7XG5cdFx0XHRcdHV2LnggLT0gdGV4ZWxTaXplLng7XG5cdFx0XHRcdHZlYzMgYmwgPSBlbnZNYXBUZXhlbFRvTGluZWFyKCB0ZXh0dXJlMkQgKCBlbnZNYXAsIHV2ICkgKS5yZ2I7XG5cblx0XHRcdFx0dmVjMyB0bSA9IG1peCggdGwsIHRyLCBmLnggKTtcblx0XHRcdFx0dmVjMyBibSA9IG1peCggYmwsIGJyLCBmLnggKTtcblx0XHRcdFx0Z2xfRnJhZ0NvbG9yLnJnYiA9IG1peCggdG0sIGJtLCBmLnkgKTtcblxuXHRcdFx0XHRnbF9GcmFnQ29sb3IgPSBsaW5lYXJUb091dHB1dFRleGVsKCBnbF9GcmFnQ29sb3IgKTtcblxuXHRcdFx0fVxuXHRcdCIsYmxlbmRpbmc6MCxkZXB0aFRlc3Q6ITEsZGVwdGhXcml0ZTohMX0pfWZ1bmN0aW9uIHJoKCl7cmV0dXJuIG5ldyBicyh7bmFtZToiQ3ViZW1hcFRvQ3ViZVVWIix1bmlmb3Jtczp7ZW52TWFwOnt2YWx1ZTpudWxsfSxpbnB1dEVuY29kaW5nOnt2YWx1ZTpGdVszZTNdfSxvdXRwdXRFbmNvZGluZzp7dmFsdWU6RnVbM2UzXX19LHZlcnRleFNoYWRlcjoiXG5cblx0XHRwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblx0XHRwcmVjaXNpb24gbWVkaXVtcCBpbnQ7XG5cblx0XHRhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjtcblx0XHRhdHRyaWJ1dGUgdmVjMiB1djtcblx0XHRhdHRyaWJ1dGUgZmxvYXQgZmFjZUluZGV4O1xuXG5cdFx0dmFyeWluZyB2ZWMzIHZPdXRwdXREaXJlY3Rpb247XG5cblx0XHQvLyBSSCBjb29yZGluYXRlIHN5c3RlbTsgUE1SRU0gZmFjZS1pbmRleGluZyBjb252ZW50aW9uXG5cdFx0dmVjMyBnZXREaXJlY3Rpb24oIHZlYzIgdXYsIGZsb2F0IGZhY2UgKSB7XG5cblx0XHRcdHV2ID0gMi4wICogdXYgLSAxLjA7XG5cblx0XHRcdHZlYzMgZGlyZWN0aW9uID0gdmVjMyggdXYsIDEuMCApO1xuXG5cdFx0XHRpZiAoIGZhY2UgPT0gMC4wICkge1xuXG5cdFx0XHRcdGRpcmVjdGlvbiA9IGRpcmVjdGlvbi56eXg7IC8vICggMSwgdiwgdSApIHBvcyB4XG5cblx0XHRcdH0gZWxzZSBpZiAoIGZhY2UgPT0gMS4wICkge1xuXG5cdFx0XHRcdGRpcmVjdGlvbiA9IGRpcmVjdGlvbi54enk7XG5cdFx0XHRcdGRpcmVjdGlvbi54eiAqPSAtMS4wOyAvLyAoIC11LCAxLCAtdiApIHBvcyB5XG5cblx0XHRcdH0gZWxzZSBpZiAoIGZhY2UgPT0gMi4wICkge1xuXG5cdFx0XHRcdGRpcmVjdGlvbi54ICo9IC0xLjA7IC8vICggLXUsIHYsIDEgKSBwb3MgelxuXG5cdFx0XHR9IGVsc2UgaWYgKCBmYWNlID09IDMuMCApIHtcblxuXHRcdFx0XHRkaXJlY3Rpb24gPSBkaXJlY3Rpb24uenl4O1xuXHRcdFx0XHRkaXJlY3Rpb24ueHogKj0gLTEuMDsgLy8gKCAtMSwgdiwgLXUgKSBuZWcgeFxuXG5cdFx0XHR9IGVsc2UgaWYgKCBmYWNlID09IDQuMCApIHtcblxuXHRcdFx0XHRkaXJlY3Rpb24gPSBkaXJlY3Rpb24ueHp5O1xuXHRcdFx0XHRkaXJlY3Rpb24ueHkgKj0gLTEuMDsgLy8gKCAtdSwgLTEsIHYgKSBuZWcgeVxuXG5cdFx0XHR9IGVsc2UgaWYgKCBmYWNlID09IDUuMCApIHtcblxuXHRcdFx0XHRkaXJlY3Rpb24ueiAqPSAtMS4wOyAvLyAoIHUsIHYsIC0xICkgbmVnIHpcblxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZGlyZWN0aW9uO1xuXG5cdFx0fVxuXG5cdFx0dm9pZCBtYWluKCkge1xuXG5cdFx0XHR2T3V0cHV0RGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKCB1diwgZmFjZUluZGV4ICk7XG5cdFx0XHRnbF9Qb3NpdGlvbiA9IHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcblxuXHRcdH1cblx0IixmcmFnbWVudFNoYWRlcjoiXG5cblx0XHRcdHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXHRcdFx0cHJlY2lzaW9uIG1lZGl1bXAgaW50O1xuXG5cdFx0XHR2YXJ5aW5nIHZlYzMgdk91dHB1dERpcmVjdGlvbjtcblxuXHRcdFx0dW5pZm9ybSBzYW1wbGVyQ3ViZSBlbnZNYXA7XG5cblx0XHRcdFxuXG5cdFx0dW5pZm9ybSBpbnQgaW5wdXRFbmNvZGluZztcblx0XHR1bmlmb3JtIGludCBvdXRwdXRFbmNvZGluZztcblxuXHRcdCNpbmNsdWRlIDxlbmNvZGluZ3NfcGFyc19mcmFnbWVudD5cblxuXHRcdHZlYzQgaW5wdXRUZXhlbFRvTGluZWFyKCB2ZWM0IHZhbHVlICkge1xuXG5cdFx0XHRpZiAoIGlucHV0RW5jb2RpbmcgPT0gMCApIHtcblxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGlucHV0RW5jb2RpbmcgPT0gMSApIHtcblxuXHRcdFx0XHRyZXR1cm4gc1JHQlRvTGluZWFyKCB2YWx1ZSApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBpbnB1dEVuY29kaW5nID09IDIgKSB7XG5cblx0XHRcdFx0cmV0dXJuIFJHQkVUb0xpbmVhciggdmFsdWUgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggaW5wdXRFbmNvZGluZyA9PSAzICkge1xuXG5cdFx0XHRcdHJldHVybiBSR0JNVG9MaW5lYXIoIHZhbHVlLCA3LjAgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggaW5wdXRFbmNvZGluZyA9PSA0ICkge1xuXG5cdFx0XHRcdHJldHVybiBSR0JNVG9MaW5lYXIoIHZhbHVlLCAxNi4wICk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIGlucHV0RW5jb2RpbmcgPT0gNSApIHtcblxuXHRcdFx0XHRyZXR1cm4gUkdCRFRvTGluZWFyKCB2YWx1ZSwgMjU2LjAgKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRyZXR1cm4gR2FtbWFUb0xpbmVhciggdmFsdWUsIDIuMiApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0XHR2ZWM0IGxpbmVhclRvT3V0cHV0VGV4ZWwoIHZlYzQgdmFsdWUgKSB7XG5cblx0XHRcdGlmICggb3V0cHV0RW5jb2RpbmcgPT0gMCApIHtcblxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cblx0XHRcdH0gZWxzZSBpZiAoIG91dHB1dEVuY29kaW5nID09IDEgKSB7XG5cblx0XHRcdFx0cmV0dXJuIExpbmVhclRvc1JHQiggdmFsdWUgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggb3V0cHV0RW5jb2RpbmcgPT0gMiApIHtcblxuXHRcdFx0XHRyZXR1cm4gTGluZWFyVG9SR0JFKCB2YWx1ZSApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBvdXRwdXRFbmNvZGluZyA9PSAzICkge1xuXG5cdFx0XHRcdHJldHVybiBMaW5lYXJUb1JHQk0oIHZhbHVlLCA3LjAgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggb3V0cHV0RW5jb2RpbmcgPT0gNCApIHtcblxuXHRcdFx0XHRyZXR1cm4gTGluZWFyVG9SR0JNKCB2YWx1ZSwgMTYuMCApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBvdXRwdXRFbmNvZGluZyA9PSA1ICkge1xuXG5cdFx0XHRcdHJldHVybiBMaW5lYXJUb1JHQkQoIHZhbHVlLCAyNTYuMCApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdHJldHVybiBMaW5lYXJUb0dhbW1hKCB2YWx1ZSwgMi4yICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHZlYzQgZW52TWFwVGV4ZWxUb0xpbmVhciggdmVjNCBjb2xvciApIHtcblxuXHRcdFx0cmV0dXJuIGlucHV0VGV4ZWxUb0xpbmVhciggY29sb3IgKTtcblxuXHRcdH1cblx0XG5cblx0XHRcdHZvaWQgbWFpbigpIHtcblxuXHRcdFx0XHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCAwLjAsIDAuMCwgMC4wLCAxLjAgKTtcblx0XHRcdFx0Z2xfRnJhZ0NvbG9yLnJnYiA9IGVudk1hcFRleGVsVG9MaW5lYXIoIHRleHR1cmVDdWJlKCBlbnZNYXAsIHZlYzMoIC0gdk91dHB1dERpcmVjdGlvbi54LCB2T3V0cHV0RGlyZWN0aW9uLnl6ICkgKSApLnJnYjtcblx0XHRcdFx0Z2xfRnJhZ0NvbG9yID0gbGluZWFyVG9PdXRwdXRUZXhlbCggZ2xfRnJhZ0NvbG9yICk7XG5cblx0XHRcdH1cblx0XHQiLGJsZW5kaW5nOjAsZGVwdGhUZXN0OiExLGRlcHRoV3JpdGU6ITF9KX1mdW5jdGlvbiBhaCh0KXtjb25zb2xlLndhcm4oIlRIUkVFLkNsb3NlZFNwbGluZUN1cnZlMyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuQ2F0bXVsbFJvbUN1cnZlMyBpbnN0ZWFkLiIpLGRjLmNhbGwodGhpcyx0KSx0aGlzLnR5cGU9ImNhdG11bGxyb20iLHRoaXMuY2xvc2VkPSEwfWZ1bmN0aW9uIG9oKHQpe2NvbnNvbGUud2FybigiVEhSRUUuU3BsaW5lQ3VydmUzIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBUSFJFRS5DYXRtdWxsUm9tQ3VydmUzIGluc3RlYWQuIiksZGMuY2FsbCh0aGlzLHQpLHRoaXMudHlwZT0iY2F0bXVsbHJvbSJ9ZnVuY3Rpb24gc2godCl7Y29uc29sZS53YXJuKCJUSFJFRS5TcGxpbmUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLkNhdG11bGxSb21DdXJ2ZTMgaW5zdGVhZC4iKSxkYy5jYWxsKHRoaXMsdCksdGhpcy50eXBlPSJjYXRtdWxscm9tIn1yYy5jcmVhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS5sb2coIlRIUkVFLkN1cnZlLmNyZWF0ZSgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQiKSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHJjLnByb3RvdHlwZSksdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCx0LnByb3RvdHlwZS5nZXRQb2ludD1lLHR9LE9iamVjdC5hc3NpZ24oVGMucHJvdG90eXBlLHtmcm9tUG9pbnRzOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlBhdGg6IC5mcm9tUG9pbnRzKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbVBvaW50cygpLiIpLHRoaXMuc2V0RnJvbVBvaW50cyh0KX19KSxhaC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkYy5wcm90b3R5cGUpLG9oLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGRjLnByb3RvdHlwZSksc2gucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZGMucHJvdG90eXBlKSxPYmplY3QuYXNzaWduKHNoLnByb3RvdHlwZSx7aW5pdEZyb21BcnJheTpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlNwbGluZTogLmluaXRGcm9tQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxnZXRDb250cm9sUG9pbnRzQXJyYXk6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5TcGxpbmU6IC5nZXRDb250cm9sUG9pbnRzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxyZXBhcmFtZXRyaXplQnlBcmNMZW5ndGg6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5TcGxpbmU6IC5yZXBhcmFtZXRyaXplQnlBcmNMZW5ndGgoKSBoYXMgYmVlbiByZW1vdmVkLiIpfX0pLGh1LnByb3RvdHlwZS5zZXRDb2xvcnM9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5HcmlkSGVscGVyOiBzZXRDb2xvcnMoKSBoYXMgYmVlbiBkZXByZWNhdGVkLCBwYXNzIHRoZW0gaW4gdGhlIGNvbnN0cnVjdG9yIGluc3RlYWQuIil9LHJ1LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Ta2VsZXRvbkhlbHBlcjogdXBkYXRlKCkgbm8gbG9uZ2VyIG5lZWRzIHRvIGJlIGNhbGxlZC4iKX0sT2JqZWN0LmFzc2lnbihacy5wcm90b3R5cGUse2V4dHJhY3RVcmxCYXNlOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkxvYWRlcjogLmV4dHJhY3RVcmxCYXNlKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIFRIUkVFLkxvYWRlclV0aWxzLmV4dHJhY3RVcmxCYXNlKCkgaW5zdGVhZC4iKSxrYy5leHRyYWN0VXJsQmFzZSh0KX19KSxacy5IYW5kbGVycz17YWRkOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTG9hZGVyOiBIYW5kbGVycy5hZGQoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgTG9hZGluZ01hbmFnZXIuYWRkSGFuZGxlcigpIGluc3RlYWQuIil9LGdldDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkxvYWRlcjogSGFuZGxlcnMuZ2V0KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIExvYWRpbmdNYW5hZ2VyLmdldEhhbmRsZXIoKSBpbnN0ZWFkLiIpfX0sT2JqZWN0LmFzc2lnbihZbC5wcm90b3R5cGUse2NlbnRlcjpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5Cb3gyOiAuY2VudGVyKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0Q2VudGVyKCkuIiksdGhpcy5nZXRDZW50ZXIodCl9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQm94MjogLmVtcHR5KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaXNFbXB0eSgpLiIpLHRoaXMuaXNFbXB0eSgpfSxpc0ludGVyc2VjdGlvbkJveDpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5Cb3gyOiAuaXNJbnRlcnNlY3Rpb25Cb3goKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzQm94KCkuIiksdGhpcy5pbnRlcnNlY3RzQm94KHQpfSxzaXplOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJveDI6IC5zaXplKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0U2l6ZSgpLiIpLHRoaXMuZ2V0U2l6ZSh0KX19KSxPYmplY3QuYXNzaWduKFB0LnByb3RvdHlwZSx7Y2VudGVyOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJveDM6IC5jZW50ZXIoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRDZW50ZXIoKS4iKSx0aGlzLmdldENlbnRlcih0KX0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5Cb3gzOiAuZW1wdHkoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pc0VtcHR5KCkuIiksdGhpcy5pc0VtcHR5KCl9LGlzSW50ZXJzZWN0aW9uQm94OmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJveDM6IC5pc0ludGVyc2VjdGlvbkJveCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNCb3goKS4iKSx0aGlzLmludGVyc2VjdHNCb3godCl9LGlzSW50ZXJzZWN0aW9uU3BoZXJlOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJveDM6IC5pc0ludGVyc2VjdGlvblNwaGVyZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNTcGhlcmUoKS4iKSx0aGlzLmludGVyc2VjdHNTcGhlcmUodCl9LHNpemU6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQm94MzogLnNpemUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRTaXplKCkuIiksdGhpcy5nZXRTaXplKHQpfX0pLE9iamVjdC5hc3NpZ24oWHQucHJvdG90eXBlLHtlbXB0eTpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlNwaGVyZTogLmVtcHR5KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaXNFbXB0eSgpLiIpLHRoaXMuaXNFbXB0eSgpfX0pLGlpLnByb3RvdHlwZS5zZXRGcm9tTWF0cml4PWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkZydXN0dW06IC5zZXRGcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbVByb2plY3Rpb25NYXRyaXgoKS4iKSx0aGlzLnNldEZyb21Qcm9qZWN0aW9uTWF0cml4KHQpfSxRbC5wcm90b3R5cGUuY2VudGVyPWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkxpbmUzOiAuY2VudGVyKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0Q2VudGVyKCkuIiksdGhpcy5nZXRDZW50ZXIodCl9LE9iamVjdC5hc3NpZ24oZ3Qse3JhbmRvbTE2OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0aDogLnJhbmRvbTE2KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIE1hdGgucmFuZG9tKCkgaW5zdGVhZC4iKSxNYXRoLnJhbmRvbSgpfSxuZWFyZXN0UG93ZXJPZlR3bzpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRoOiAubmVhcmVzdFBvd2VyT2ZUd28oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5mbG9vclBvd2VyT2ZUd28oKS4iKSxndC5mbG9vclBvd2VyT2ZUd28odCl9LG5leHRQb3dlck9mVHdvOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdGg6IC5uZXh0UG93ZXJPZlR3bygpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmNlaWxQb3dlck9mVHdvKCkuIiksZ3QuY2VpbFBvd2VyT2ZUd28odCl9fSksT2JqZWN0LmFzc2lnbih4dC5wcm90b3R5cGUse2ZsYXR0ZW5Ub0FycmF5T2Zmc2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4MzogLmZsYXR0ZW5Ub0FycmF5T2Zmc2V0KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC50b0FycmF5KCkgaW5zdGVhZC4iKSx0aGlzLnRvQXJyYXkodCxlKX0sbXVsdGlwbHlWZWN0b3IzOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDM6IC5tdWx0aXBseVZlY3RvcjMoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdmVjdG9yLmFwcGx5TWF0cml4MyggbWF0cml4ICkgaW5zdGVhZC4iKSx0LmFwcGx5TWF0cml4Myh0aGlzKX0sbXVsdGlwbHlWZWN0b3IzQXJyYXk6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXgzOiAubXVsdGlwbHlWZWN0b3IzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxhcHBseVRvQnVmZmVyQXR0cmlidXRlOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDM6IC5hcHBseVRvQnVmZmVyQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGF0dHJpYnV0ZS5hcHBseU1hdHJpeDMoIG1hdHJpeCApIGluc3RlYWQuIiksdC5hcHBseU1hdHJpeDModGhpcyl9LGFwcGx5VG9WZWN0b3IzQXJyYXk6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXgzOiAuYXBwbHlUb1ZlY3RvcjNBcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LGdldEludmVyc2U6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4MzogLmdldEludmVyc2UoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbWF0cml4SW52LmNvcHkoIG1hdHJpeCApLmludmVydCgpOyBpbnN0ZWFkLiIpLHRoaXMuY29weSh0KS5pbnZlcnQoKX19KSxPYmplY3QuYXNzaWduKG5lLnByb3RvdHlwZSx7ZXh0cmFjdFBvc2l0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5leHRyYWN0UG9zaXRpb24oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5jb3B5UG9zaXRpb24oKS4iKSx0aGlzLmNvcHlQb3NpdGlvbih0KX0sZmxhdHRlblRvQXJyYXlPZmZzZXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAuZmxhdHRlblRvQXJyYXlPZmZzZXQoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnRvQXJyYXkoKSBpbnN0ZWFkLiIpLHRoaXMudG9BcnJheSh0LGUpfSxnZXRQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5nZXRQb3NpdGlvbigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBWZWN0b3IzLnNldEZyb21NYXRyaXhQb3NpdGlvbiggbWF0cml4ICkgaW5zdGVhZC4iKSwobmV3IEx0KS5zZXRGcm9tTWF0cml4Q29sdW1uKHRoaXMsMyl9LHNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb246ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLnNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb24oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbigpLiIpLHRoaXMubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24odCl9LG11bHRpcGx5VG9BcnJheTpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VG9BcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LG11bHRpcGx5VmVjdG9yMzpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAubXVsdGlwbHlWZWN0b3IzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZlY3Rvci5hcHBseU1hdHJpeDQoIG1hdHJpeCApIGluc3RlYWQuIiksdC5hcHBseU1hdHJpeDQodGhpcyl9LG11bHRpcGx5VmVjdG9yNDpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAubXVsdGlwbHlWZWN0b3I0KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZlY3Rvci5hcHBseU1hdHJpeDQoIG1hdHJpeCApIGluc3RlYWQuIiksdC5hcHBseU1hdHJpeDQodGhpcyl9LG11bHRpcGx5VmVjdG9yM0FycmF5OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VmVjdG9yM0FycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0scm90YXRlQXhpczpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5yb3RhdGVBeGlzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFZlY3RvcjMudHJhbnNmb3JtRGlyZWN0aW9uKCBtYXRyaXggKSBpbnN0ZWFkLiIpLHQudHJhbnNmb3JtRGlyZWN0aW9uKHRoaXMpfSxjcm9zc1ZlY3RvcjpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAuY3Jvc3NWZWN0b3IoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdmVjdG9yLmFwcGx5TWF0cml4NCggbWF0cml4ICkgaW5zdGVhZC4iKSx0LmFwcGx5TWF0cml4NCh0aGlzKX0sdHJhbnNsYXRlOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuTWF0cml4NDogLnRyYW5zbGF0ZSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LHJvdGF0ZVg6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiAucm90YXRlWCgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LHJvdGF0ZVk6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiAucm90YXRlWSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LHJvdGF0ZVo6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiAucm90YXRlWigpIGhhcyBiZWVuIHJlbW92ZWQuIil9LHJvdGF0ZUJ5QXhpczpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLk1hdHJpeDQ6IC5yb3RhdGVCeUF4aXMoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxhcHBseVRvQnVmZmVyQXR0cmlidXRlOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1hdHJpeDQ6IC5hcHBseVRvQnVmZmVyQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGF0dHJpYnV0ZS5hcHBseU1hdHJpeDQoIG1hdHJpeCApIGluc3RlYWQuIiksdC5hcHBseU1hdHJpeDQodGhpcyl9LGFwcGx5VG9WZWN0b3IzQXJyYXk6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NYXRyaXg0OiAuYXBwbHlUb1ZlY3RvcjNBcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LG1ha2VGcnVzdHVtOmZ1bmN0aW9uKHQsZSxuLGkscixhKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAubWFrZUZydXN0dW0oKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLm1ha2VQZXJzcGVjdGl2ZSggbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tLCBuZWFyLCBmYXIgKSBpbnN0ZWFkLiIpLHRoaXMubWFrZVBlcnNwZWN0aXZlKHQsZSxpLG4scixhKX0sZ2V0SW52ZXJzZTpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRyaXg0OiAuZ2V0SW52ZXJzZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBtYXRyaXhJbnYuY29weSggbWF0cml4ICkuaW52ZXJ0KCk7IGluc3RlYWQuIiksdGhpcy5jb3B5KHQpLmludmVydCgpfX0pLFBlLnByb3RvdHlwZS5pc0ludGVyc2VjdGlvbkxpbmU9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUGxhbmU6IC5pc0ludGVyc2VjdGlvbkxpbmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzTGluZSgpLiIpLHRoaXMuaW50ZXJzZWN0c0xpbmUodCl9LE9iamVjdC5hc3NpZ24oQXQucHJvdG90eXBlLHttdWx0aXBseVZlY3RvcjM6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUXVhdGVybmlvbjogLm11bHRpcGx5VmVjdG9yMygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBpcyBub3cgdmVjdG9yLmFwcGx5UXVhdGVybmlvbiggcXVhdGVybmlvbiApIGluc3RlYWQuIiksdC5hcHBseVF1YXRlcm5pb24odGhpcyl9LGludmVyc2U6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5RdWF0ZXJuaW9uOiAuaW52ZXJzZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gaW52ZXJ0KCkuIiksdGhpcy5pbnZlcnQoKX19KSxPYmplY3QuYXNzaWduKGVlLnByb3RvdHlwZSx7aXNJbnRlcnNlY3Rpb25Cb3g6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUmF5OiAuaXNJbnRlcnNlY3Rpb25Cb3goKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzQm94KCkuIiksdGhpcy5pbnRlcnNlY3RzQm94KHQpfSxpc0ludGVyc2VjdGlvblBsYW5lOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlJheTogLmlzSW50ZXJzZWN0aW9uUGxhbmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzUGxhbmUoKS4iKSx0aGlzLmludGVyc2VjdHNQbGFuZSh0KX0saXNJbnRlcnNlY3Rpb25TcGhlcmU6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUmF5OiAuaXNJbnRlcnNlY3Rpb25TcGhlcmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzU3BoZXJlKCkuIiksdGhpcy5pbnRlcnNlY3RzU3BoZXJlKHQpfX0pLE9iamVjdC5hc3NpZ24oa2UucHJvdG90eXBlLHthcmVhOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVHJpYW5nbGU6IC5hcmVhKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0QXJlYSgpLiIpLHRoaXMuZ2V0QXJlYSgpfSxiYXJ5Y29vcmRGcm9tUG9pbnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLmJhcnljb29yZEZyb21Qb2ludCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldEJhcnljb29yZCgpLiIpLHRoaXMuZ2V0QmFyeWNvb3JkKHQsZSl9LG1pZHBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlRyaWFuZ2xlOiAubWlkcG9pbnQoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRNaWRwb2ludCgpLiIpLHRoaXMuZ2V0TWlkcG9pbnQodCl9LG5vcm1hbDpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLm5vcm1hbCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldE5vcm1hbCgpLiIpLHRoaXMuZ2V0Tm9ybWFsKHQpfSxwbGFuZTpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLnBsYW5lKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0UGxhbmUoKS4iKSx0aGlzLmdldFBsYW5lKHQpfX0pLE9iamVjdC5hc3NpZ24oa2Use2Jhcnljb29yZEZyb21Qb2ludDpmdW5jdGlvbih0LGUsbixpLHIpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlRyaWFuZ2xlOiAuYmFyeWNvb3JkRnJvbVBvaW50KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0QmFyeWNvb3JkKCkuIiksa2UuZ2V0QmFyeWNvb3JkKHQsZSxuLGkscil9LG5vcm1hbDpmdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5UcmlhbmdsZTogLm5vcm1hbCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldE5vcm1hbCgpLiIpLGtlLmdldE5vcm1hbCh0LGUsbixpKX19KSxPYmplY3QuYXNzaWduKEVjLnByb3RvdHlwZSx7ZXh0cmFjdEFsbFBvaW50czpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5TaGFwZTogLmV4dHJhY3RBbGxQb2ludHMoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLmV4dHJhY3RQb2ludHMoKSBpbnN0ZWFkLiIpLHRoaXMuZXh0cmFjdFBvaW50cyh0KX0sZXh0cnVkZTpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5TaGFwZTogLmV4dHJ1ZGUoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgRXh0cnVkZUdlb21ldHJ5KCkgaW5zdGVhZC4iKSxuZXcgcnModGhpcyx0KX0sbWFrZUdlb21ldHJ5OmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlNoYXBlOiAubWFrZUdlb21ldHJ5KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFNoYXBlR2VvbWV0cnkoKSBpbnN0ZWFkLiIpLG5ldyBocyh0aGlzLHQpfX0pLE9iamVjdC5hc3NpZ24oeXQucHJvdG90eXBlLHtmcm9tQXR0cmlidXRlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IyOiAuZnJvbUF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4iKSx0aGlzLmZyb21CdWZmZXJBdHRyaWJ1dGUodCxlLG4pfSxkaXN0YW5jZVRvTWFuaGF0dGFuOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjI6IC5kaXN0YW5jZVRvTWFuaGF0dGFuKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFuaGF0dGFuRGlzdGFuY2VUbygpLiIpLHRoaXMubWFuaGF0dGFuRGlzdGFuY2VUbyh0KX0sbGVuZ3RoTWFuaGF0dGFuOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMjogLmxlbmd0aE1hbmhhdHRhbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1hbmhhdHRhbkxlbmd0aCgpLiIpLHRoaXMubWFuaGF0dGFuTGVuZ3RoKCl9fSksT2JqZWN0LmFzc2lnbihMdC5wcm90b3R5cGUse3NldEV1bGVyRnJvbVJvdGF0aW9uTWF0cml4OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuVmVjdG9yMzogLnNldEV1bGVyRnJvbVJvdGF0aW9uTWF0cml4KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIEV1bGVyLnNldEZyb21Sb3RhdGlvbk1hdHJpeCgpIGluc3RlYWQuIil9LHNldEV1bGVyRnJvbVF1YXRlcm5pb246ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5WZWN0b3IzOiAuc2V0RXVsZXJGcm9tUXVhdGVybmlvbigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBFdWxlci5zZXRGcm9tUXVhdGVybmlvbigpIGluc3RlYWQuIil9LGdldFBvc2l0aW9uRnJvbU1hdHJpeDpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuZ2V0UG9zaXRpb25Gcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKCkuIiksdGhpcy5zZXRGcm9tTWF0cml4UG9zaXRpb24odCl9LGdldFNjYWxlRnJvbU1hdHJpeDpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuZ2V0U2NhbGVGcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeFNjYWxlKCkuIiksdGhpcy5zZXRGcm9tTWF0cml4U2NhbGUodCl9LGdldENvbHVtbkZyb21NYXRyaXg6ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAuZ2V0Q29sdW1uRnJvbU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEZyb21NYXRyaXhDb2x1bW4oKS4iKSx0aGlzLnNldEZyb21NYXRyaXhDb2x1bW4oZSx0KX0sYXBwbHlQcm9qZWN0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5hcHBseVByb2plY3Rpb24oKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLmFwcGx5TWF0cml4NCggbSApIGluc3RlYWQuIiksdGhpcy5hcHBseU1hdHJpeDQodCl9LGZyb21BdHRyaWJ1dGU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlZlY3RvcjM6IC5mcm9tQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLiIpLHRoaXMuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0LGUsbil9LGRpc3RhbmNlVG9NYW5oYXR0YW46ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yMzogLmRpc3RhbmNlVG9NYW5oYXR0YW4oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYW5oYXR0YW5EaXN0YW5jZVRvKCkuIiksdGhpcy5tYW5oYXR0YW5EaXN0YW5jZVRvKHQpfSxsZW5ndGhNYW5oYXR0YW46ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5WZWN0b3IzOiAubGVuZ3RoTWFuaGF0dGFuKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFuaGF0dGFuTGVuZ3RoKCkuIiksdGhpcy5tYW5oYXR0YW5MZW5ndGgoKX19KSxPYmplY3QuYXNzaWduKFN0LnByb3RvdHlwZSx7ZnJvbUF0dHJpYnV0ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yNDogLmZyb21BdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5mcm9tQnVmZmVyQXR0cmlidXRlKCkuIiksdGhpcy5mcm9tQnVmZmVyQXR0cmlidXRlKHQsZSxuKX0sbGVuZ3RoTWFuaGF0dGFuOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVjdG9yNDogLmxlbmd0aE1hbmhhdHRhbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1hbmhhdHRhbkxlbmd0aCgpLiIpLHRoaXMubWFuaGF0dGFuTGVuZ3RoKCl9fSksT2JqZWN0LmFzc2lnbihBZS5wcm90b3R5cGUse2dldENoaWxkQnlOYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAuZ2V0Q2hpbGRCeU5hbWUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRPYmplY3RCeU5hbWUoKS4iKSx0aGlzLmdldE9iamVjdEJ5TmFtZSh0KX0scmVuZGVyRGVwdGg6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAucmVuZGVyRGVwdGggaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5yZW5kZXJPcmRlciwgaW5zdGVhZC4iKX0sdHJhbnNsYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuT2JqZWN0M0Q6IC50cmFuc2xhdGUoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLnRyYW5zbGF0ZU9uQXhpcyggYXhpcywgZGlzdGFuY2UgKSBpbnN0ZWFkLiIpLHRoaXMudHJhbnNsYXRlT25BeGlzKGUsdCl9LGdldFdvcmxkUm90YXRpb246ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5PYmplY3QzRDogLmdldFdvcmxkUm90YXRpb24oKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuT2JqZWN0M0QuZ2V0V29ybGRRdWF0ZXJuaW9uKCB0YXJnZXQgKSBpbnN0ZWFkLiIpfSxhcHBseU1hdHJpeDpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLmFwcGx5TWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuYXBwbHlNYXRyaXg0KCkuIiksdGhpcy5hcHBseU1hdHJpeDQodCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQWUucHJvdG90eXBlLHtldWxlck9yZGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLmV1bGVyT3JkZXIgaXMgbm93IC5yb3RhdGlvbi5vcmRlci4iKSx0aGlzLnJvdGF0aW9uLm9yZGVyfSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5PYmplY3QzRDogLmV1bGVyT3JkZXIgaXMgbm93IC5yb3RhdGlvbi5vcmRlci4iKSx0aGlzLnJvdGF0aW9uLm9yZGVyPXR9fSx1c2VRdWF0ZXJuaW9uOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAudXNlUXVhdGVybmlvbiBoYXMgYmVlbiByZW1vdmVkLiBUaGUgbGlicmFyeSBub3cgdXNlcyBxdWF0ZXJuaW9ucyBieSBkZWZhdWx0LiIpfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLk9iamVjdDNEOiAudXNlUXVhdGVybmlvbiBoYXMgYmVlbiByZW1vdmVkLiBUaGUgbGlicmFyeSBub3cgdXNlcyBxdWF0ZXJuaW9ucyBieSBkZWZhdWx0LiIpfX19KSxPYmplY3QuYXNzaWduKFVuLnByb3RvdHlwZSx7c2V0RHJhd01vZGU6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NZXNoOiAuc2V0RHJhd01vZGUoKSBoYXMgYmVlbiByZW1vdmVkLiBUaGUgcmVuZGVyZXIgbm93IGFsd2F5cyBhc3N1bWVzIFRIUkVFLlRyaWFuZ2xlc0RyYXdNb2RlLiBUcmFuc2Zvcm0geW91ciBnZW9tZXRyeSB2aWEgQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCkgaWYgbmVjZXNzYXJ5LiIpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFVuLnByb3RvdHlwZSx7ZHJhd01vZGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLmVycm9yKCJUSFJFRS5NZXNoOiAuZHJhd01vZGUgaGFzIGJlZW4gcmVtb3ZlZC4gVGhlIHJlbmRlcmVyIG5vdyBhbHdheXMgYXNzdW1lcyBUSFJFRS5UcmlhbmdsZXNEcmF3TW9kZS4iKSwwfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5NZXNoOiAuZHJhd01vZGUgaGFzIGJlZW4gcmVtb3ZlZC4gVGhlIHJlbmRlcmVyIG5vdyBhbHdheXMgYXNzdW1lcyBUSFJFRS5UcmlhbmdsZXNEcmF3TW9kZS4gVHJhbnNmb3JtIHlvdXIgZ2VvbWV0cnkgdmlhIEJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpIGlmIG5lY2Vzc2FyeS4iKX19fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTmEucHJvdG90eXBlLHtvYmplY3RzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5MT0Q6IC5vYmplY3RzIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmxldmVscy4iKSx0aGlzLmxldmVsc319fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGphLnByb3RvdHlwZSwidXNlVmVydGV4VGV4dHVyZSIse2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuU2tlbGV0b246IHVzZVZlcnRleFRleHR1cmUgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5Ta2VsZXRvbjogdXNlVmVydGV4VGV4dHVyZSBoYXMgYmVlbiByZW1vdmVkLiIpfX0pLFVhLnByb3RvdHlwZS5pbml0Qm9uZXM9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5Ta2lubmVkTWVzaDogaW5pdEJvbmVzKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHJjLnByb3RvdHlwZSwiX19hcmNMZW5ndGhEaXZpc2lvbnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5DdXJ2ZTogLl9fYXJjTGVuZ3RoRGl2aXNpb25zIGlzIG5vdyAuYXJjTGVuZ3RoRGl2aXNpb25zLiIpLHRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zfSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5DdXJ2ZTogLl9fYXJjTGVuZ3RoRGl2aXNpb25zIGlzIG5vdyAuYXJjTGVuZ3RoRGl2aXNpb25zLiIpLHRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zPXR9fSksWm4ucHJvdG90eXBlLnNldExlbnM9ZnVuY3Rpb24odCxlKXtjb25zb2xlLndhcm4oIlRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhLnNldExlbnMgaXMgZGVwcmVjYXRlZC4gVXNlIC5zZXRGb2NhbExlbmd0aCBhbmQgLmZpbG1HYXVnZSBmb3IgYSBwaG90b2dyYXBoaWMgc2V0dXAuIiksdm9pZCAwIT09ZSYmKHRoaXMuZmlsbUdhdWdlPWUpLHRoaXMuc2V0Rm9jYWxMZW5ndGgodCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEFjLnByb3RvdHlwZSx7b25seVNoYWRvdzp7c2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLm9ubHlTaGFkb3cgaGFzIGJlZW4gcmVtb3ZlZC4iKX19LHNoYWRvd0NhbWVyYUZvdjp7c2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFGb3YgaXMgbm93IC5zaGFkb3cuY2FtZXJhLmZvdi4iKSx0aGlzLnNoYWRvdy5jYW1lcmEuZm92PXR9fSxzaGFkb3dDYW1lcmFMZWZ0OntzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYUxlZnQgaXMgbm93IC5zaGFkb3cuY2FtZXJhLmxlZnQuIiksdGhpcy5zaGFkb3cuY2FtZXJhLmxlZnQ9dH19LHNoYWRvd0NhbWVyYVJpZ2h0OntzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYVJpZ2h0IGlzIG5vdyAuc2hhZG93LmNhbWVyYS5yaWdodC4iKSx0aGlzLnNoYWRvdy5jYW1lcmEucmlnaHQ9dH19LHNoYWRvd0NhbWVyYVRvcDp7c2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFUb3AgaXMgbm93IC5zaGFkb3cuY2FtZXJhLnRvcC4iKSx0aGlzLnNoYWRvdy5jYW1lcmEudG9wPXR9fSxzaGFkb3dDYW1lcmFCb3R0b206e3NldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhQm90dG9tIGlzIG5vdyAuc2hhZG93LmNhbWVyYS5ib3R0b20uIiksdGhpcy5zaGFkb3cuY2FtZXJhLmJvdHRvbT10fX0sc2hhZG93Q2FtZXJhTmVhcjp7c2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFOZWFyIGlzIG5vdyAuc2hhZG93LmNhbWVyYS5uZWFyLiIpLHRoaXMuc2hhZG93LmNhbWVyYS5uZWFyPXR9fSxzaGFkb3dDYW1lcmFGYXI6e3NldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhRmFyIGlzIG5vdyAuc2hhZG93LmNhbWVyYS5mYXIuIiksdGhpcy5zaGFkb3cuY2FtZXJhLmZhcj10fX0sc2hhZG93Q2FtZXJhVmlzaWJsZTp7c2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYVZpc2libGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIoIGxpZ2h0LnNoYWRvdy5jYW1lcmEgKSBpbnN0ZWFkLiIpfX0sc2hhZG93Qmlhczp7c2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dCaWFzIGlzIG5vdyAuc2hhZG93LmJpYXMuIiksdGhpcy5zaGFkb3cuYmlhcz10fX0sc2hhZG93RGFya25lc3M6e3NldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuTGlnaHQ6IC5zaGFkb3dEYXJrbmVzcyBoYXMgYmVlbiByZW1vdmVkLiIpfX0sc2hhZG93TWFwV2lkdGg6e3NldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93TWFwV2lkdGggaXMgbm93IC5zaGFkb3cubWFwU2l6ZS53aWR0aC4iKSx0aGlzLnNoYWRvdy5tYXBTaXplLndpZHRoPXR9fSxzaGFkb3dNYXBIZWlnaHQ6e3NldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLkxpZ2h0OiAuc2hhZG93TWFwSGVpZ2h0IGlzIG5vdyAuc2hhZG93Lm1hcFNpemUuaGVpZ2h0LiIpLHRoaXMuc2hhZG93Lm1hcFNpemUuaGVpZ2h0PXR9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGVuLnByb3RvdHlwZSx7bGVuZ3RoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5sZW5ndGggaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5jb3VudCBpbnN0ZWFkLiIpLHRoaXMuYXJyYXkubGVuZ3RofX0sZHluYW1pYzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAuZHluYW1pYyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnVzYWdlIGluc3RlYWQuIiksdGhpcy51c2FnZT09PWl0fSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLmR5bmFtaWMgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC51c2FnZSBpbnN0ZWFkLiIpLHRoaXMuc2V0VXNhZ2UoaXQpfX19KSxPYmplY3QuYXNzaWduKGVuLnByb3RvdHlwZSx7c2V0RHluYW1pYzpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5zZXREeW5hbWljKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5zZXRVc2FnZSgpIGluc3RlYWQuIiksdGhpcy5zZXRVc2FnZSghMD09PXQ/aXQ6bnQpLHRoaXN9LGNvcHlJbmRpY2VzQXJyYXk6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5jb3B5SW5kaWNlc0FycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sc2V0QXJyYXk6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5zZXRBcnJheSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgQnVmZmVyR2VvbWV0cnkgLnNldEF0dHJpYnV0ZSB0byByZXBsYWNlL3Jlc2l6ZSBhdHRyaWJ1dGUgYnVmZmVycyIpfX0pLE9iamVjdC5hc3NpZ24oTW4ucHJvdG90eXBlLHthZGRJbmRleDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkSW5kZXgoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRJbmRleCgpLiIpLHRoaXMuc2V0SW5kZXgodCl9LGFkZEF0dHJpYnV0ZTpmdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0QXR0cmlidXRlKCkuIiksZSYmZS5pc0J1ZmZlckF0dHJpYnV0ZXx8ZSYmZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlPyJpbmRleCI9PT10Pyhjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5LmFkZEF0dHJpYnV0ZTogVXNlIC5zZXRJbmRleCgpIGZvciBpbmRleCBhdHRyaWJ1dGUuIiksdGhpcy5zZXRJbmRleChlKSx0aGlzKTp0aGlzLnNldEF0dHJpYnV0ZSh0LGUpOihjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkQXR0cmlidXRlKCkgbm93IGV4cGVjdHMgKCBuYW1lLCBhdHRyaWJ1dGUgKS4iKSx0aGlzLnNldEF0dHJpYnV0ZSh0LG5ldyBlbihhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKSkpfSxhZGREcmF3Q2FsbDpmdW5jdGlvbih0LGUsbil7dm9pZCAwIT09biYmY29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZERyYXdDYWxsKCkgbm8gbG9uZ2VyIHN1cHBvcnRzIGluZGV4T2Zmc2V0LiIpLGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5hZGREcmF3Q2FsbCgpIGlzIG5vdyAuYWRkR3JvdXAoKS4iKSx0aGlzLmFkZEdyb3VwKHQsZSl9LGNsZWFyRHJhd0NhbGxzOmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmNsZWFyRHJhd0NhbGxzKCkgaXMgbm93IC5jbGVhckdyb3VwcygpLiIpLHRoaXMuY2xlYXJHcm91cHMoKX0sY29tcHV0ZU9mZnNldHM6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuY29tcHV0ZU9mZnNldHMoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5yZW1vdmVBdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5kZWxldGVBdHRyaWJ1dGUoKS4iKSx0aGlzLmRlbGV0ZUF0dHJpYnV0ZSh0KX0sYXBwbHlNYXRyaXg6ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5hcHBseU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmFwcGx5TWF0cml4NCgpLiIpLHRoaXMuYXBwbHlNYXRyaXg0KHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKE1uLnByb3RvdHlwZSx7ZHJhd2NhbGxzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS5lcnJvcigiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5kcmF3Y2FsbHMgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ3JvdXBzLiIpLHRoaXMuZ3JvdXBzfX0sb2Zmc2V0czp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5vZmZzZXRzIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdyb3Vwcy4iKSx0aGlzLmdyb3Vwc319fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVmMucHJvdG90eXBlLHttYXhJbnN0YW5jZWRDb3VudDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnk6IC5tYXhJbnN0YW5jZWRDb3VudCBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnN0YW5jZUNvdW50LiIpLHRoaXMuaW5zdGFuY2VDb3VudH0sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnk6IC5tYXhJbnN0YW5jZWRDb3VudCBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnN0YW5jZUNvdW50LiIpLHRoaXMuaW5zdGFuY2VDb3VudD10fX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhrbC5wcm90b3R5cGUse2xpbmVQcmVjaXNpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlJheWNhc3RlcjogLmxpbmVQcmVjaXNpb24gaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5wYXJhbXMuTGluZS50aHJlc2hvbGQgaW5zdGVhZC4iKSx0aGlzLnBhcmFtcy5MaW5lLnRocmVzaG9sZH0sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuUmF5Y2FzdGVyOiAubGluZVByZWNpc2lvbiBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnBhcmFtcy5MaW5lLnRocmVzaG9sZCBpbnN0ZWFkLiIpLHRoaXMucGFyYW1zLkxpbmUudGhyZXNob2xkPXR9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGZhLnByb3RvdHlwZSx7ZHluYW1pYzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuSW50ZXJsZWF2ZWRCdWZmZXI6IC5sZW5ndGggaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC51c2FnZSBpbnN0ZWFkLiIpLHRoaXMudXNhZ2U9PT1pdH0sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuSW50ZXJsZWF2ZWRCdWZmZXI6IC5sZW5ndGggaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC51c2FnZSBpbnN0ZWFkLiIpLHRoaXMuc2V0VXNhZ2UodCl9fX0pLE9iamVjdC5hc3NpZ24oZmEucHJvdG90eXBlLHtzZXREeW5hbWljOmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkludGVybGVhdmVkQnVmZmVyOiAuc2V0RHluYW1pYygpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuc2V0VXNhZ2UoKSBpbnN0ZWFkLiIpLHRoaXMuc2V0VXNhZ2UoITA9PT10P2l0Om50KSx0aGlzfSxzZXRBcnJheTpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkludGVybGVhdmVkQnVmZmVyOiAuc2V0QXJyYXkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIEJ1ZmZlckdlb21ldHJ5IC5zZXRBdHRyaWJ1dGUgdG8gcmVwbGFjZS9yZXNpemUgYXR0cmlidXRlIGJ1ZmZlcnMiKX19KSxPYmplY3QuYXNzaWduKHJzLnByb3RvdHlwZSx7Z2V0QXJyYXlzOmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuRXh0cnVkZUdlb21ldHJ5OiAuZ2V0QXJyYXlzKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sYWRkU2hhcGVMaXN0OmZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuRXh0cnVkZUdlb21ldHJ5OiAuYWRkU2hhcGVMaXN0KCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sYWRkU2hhcGU6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5FeHRydWRlR2VvbWV0cnk6IC5hZGRTaGFwZSgpIGhhcyBiZWVuIHJlbW92ZWQuIil9fSksT2JqZWN0LmFzc2lnbihwYS5wcm90b3R5cGUse2Rpc3Bvc2U6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5TY2VuZTogLmRpc3Bvc2UoKSBoYXMgYmVlbiByZW1vdmVkLiIpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEhsLnByb3RvdHlwZSx7ZHluYW1pYzp7c2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5Vbmlmb3JtOiAuZHluYW1pYyBoYXMgYmVlbiByZW1vdmVkLiBVc2Ugb2JqZWN0Lm9uQmVmb3JlUmVuZGVyKCkgaW5zdGVhZC4iKX19LG9uVXBkYXRlOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlVuaWZvcm06IC5vblVwZGF0ZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBvYmplY3Qub25CZWZvcmVSZW5kZXIoKSBpbnN0ZWFkLiIpLHRoaXN9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFdlLnByb3RvdHlwZSx7d3JhcEFyb3VuZDp7Z2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLndyYXBBcm91bmQgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLndyYXBBcm91bmQgaGFzIGJlZW4gcmVtb3ZlZC4iKX19LG92ZXJkcmF3OntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLk1hdGVyaWFsOiAub3ZlcmRyYXcgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLm92ZXJkcmF3IGhhcyBiZWVuIHJlbW92ZWQuIil9fSx3cmFwUkdCOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NYXRlcmlhbDogLndyYXBSR0IgaGFzIGJlZW4gcmVtb3ZlZC4iKSxuZXcgUWV9fSxzaGFkaW5nOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS4iK3RoaXMudHlwZSsiOiAuc2hhZGluZyBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdGhlIGJvb2xlYW4gLmZsYXRTaGFkaW5nIGluc3RlYWQuIil9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLiIrdGhpcy50eXBlKyI6IC5zaGFkaW5nIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB0aGUgYm9vbGVhbiAuZmxhdFNoYWRpbmcgaW5zdGVhZC4iKSx0aGlzLmZsYXRTaGFkaW5nPTE9PT10fX0sc3RlbmNpbE1hc2s6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLiIrdGhpcy50eXBlKyI6IC5zdGVuY2lsTWFzayBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLnN0ZW5jaWxGdW5jTWFzayBpbnN0ZWFkLiIpLHRoaXMuc3RlbmNpbEZ1bmNNYXNrfSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS4iK3RoaXMudHlwZSsiOiAuc3RlbmNpbE1hc2sgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5zdGVuY2lsRnVuY01hc2sgaW5zdGVhZC4iKSx0aGlzLnN0ZW5jaWxGdW5jTWFzaz10fX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhTcy5wcm90b3R5cGUse21ldGFsOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbDogLm1ldGFsIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCBpbnN0ZWFkLiIpLCExfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsOiAubWV0YWwgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsIGluc3RlYWQiKX19fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTXMucHJvdG90eXBlLHt0cmFuc3BhcmVuY3k6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1lc2hQaHlzaWNhbE1hdGVyaWFsOiAudHJhbnNwYXJlbmN5IGhhcyBiZWVuIHJlbmFtZWQgdG8gLnRyYW5zbWlzc2lvbi4iKSx0aGlzLnRyYW5zbWlzc2lvbn0sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuTWVzaFBoeXNpY2FsTWF0ZXJpYWw6IC50cmFuc3BhcmVuY3kgaGFzIGJlZW4gcmVuYW1lZCB0byAudHJhbnNtaXNzaW9uLiIpLHRoaXMudHJhbnNtaXNzaW9uPXR9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFhuLnByb3RvdHlwZSx7ZGVyaXZhdGl2ZXM6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlNoYWRlck1hdGVyaWFsOiAuZGVyaXZhdGl2ZXMgaGFzIGJlZW4gbW92ZWQgdG8gLmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXMuIiksdGhpcy5leHRlbnNpb25zLmRlcml2YXRpdmVzfSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS4gU2hhZGVyTWF0ZXJpYWw6IC5kZXJpdmF0aXZlcyBoYXMgYmVlbiBtb3ZlZCB0byAuZXh0ZW5zaW9ucy5kZXJpdmF0aXZlcy4iKSx0aGlzLmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXM9dH19fSksT2JqZWN0LmFzc2lnbihsYS5wcm90b3R5cGUse2NsZWFyVGFyZ2V0OmZ1bmN0aW9uKHQsZSxuLGkpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmNsZWFyVGFyZ2V0KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5zZXRSZW5kZXJUYXJnZXQoKSBhbmQgLmNsZWFyKCkgaW5zdGVhZC4iKSx0aGlzLnNldFJlbmRlclRhcmdldCh0KSx0aGlzLmNsZWFyKGUsbixpKX0sYW5pbWF0ZTpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5hbmltYXRlKCkgaXMgbm93IC5zZXRBbmltYXRpb25Mb29wKCkuIiksdGhpcy5zZXRBbmltYXRpb25Mb29wKHQpfSxnZXRDdXJyZW50UmVuZGVyVGFyZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdldEN1cnJlbnRSZW5kZXJUYXJnZXQoKSBpcyBub3cgLmdldFJlbmRlclRhcmdldCgpLiIpLHRoaXMuZ2V0UmVuZGVyVGFyZ2V0KCl9LGdldE1heEFuaXNvdHJvcHk6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2V0TWF4QW5pc290cm9weSgpIGlzIG5vdyAuY2FwYWJpbGl0aWVzLmdldE1heEFuaXNvdHJvcHkoKS4iKSx0aGlzLmNhcGFiaWxpdGllcy5nZXRNYXhBbmlzb3Ryb3B5KCl9LGdldFByZWNpc2lvbjpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nZXRQcmVjaXNpb24oKSBpcyBub3cgLmNhcGFiaWxpdGllcy5wcmVjaXNpb24uIiksdGhpcy5jYXBhYmlsaXRpZXMucHJlY2lzaW9ufSxyZXNldEdMU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAucmVzZXRHTFN0YXRlKCkgaXMgbm93IC5zdGF0ZS5yZXNldCgpLiIpLHRoaXMuc3RhdGUucmVzZXQoKX0sc3VwcG9ydHNGbG9hdFRleHR1cmVzOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzRmxvYXRUZXh0dXJlcygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdPRVNfdGV4dHVyZV9mbG9hdCcgKS4iKSx0aGlzLmV4dGVuc2lvbnMuZ2V0KCJPRVNfdGV4dHVyZV9mbG9hdCIpfSxzdXBwb3J0c0hhbGZGbG9hdFRleHR1cmVzOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzSGFsZkZsb2F0VGV4dHVyZXMoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnT0VTX3RleHR1cmVfaGFsZl9mbG9hdCcgKS4iKSx0aGlzLmV4dGVuc2lvbnMuZ2V0KCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0Iil9LHN1cHBvcnRzU3RhbmRhcmREZXJpdmF0aXZlczpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c1N0YW5kYXJkRGVyaXZhdGl2ZXMoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzJyApLiIpLHRoaXMuZXh0ZW5zaW9ucy5nZXQoIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyIpfSxzdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUzNUQzpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUzNUQygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoICdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YycgKS4iKSx0aGlzLmV4dGVuc2lvbnMuZ2V0KCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpfSxzdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUFZSVEM6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNDb21wcmVzc2VkVGV4dHVyZVBWUlRDKCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YycgKS4iKSx0aGlzLmV4dGVuc2lvbnMuZ2V0KCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMiKX0sc3VwcG9ydHNCbGVuZE1pbk1heDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0JsZW5kTWluTWF4KCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggJ0VYVF9ibGVuZF9taW5tYXgnICkuIiksdGhpcy5leHRlbnNpb25zLmdldCgiRVhUX2JsZW5kX21pbm1heCIpfSxzdXBwb3J0c1ZlcnRleFRleHR1cmVzOmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzVmVydGV4VGV4dHVyZXMoKSBpcyBub3cgLmNhcGFiaWxpdGllcy52ZXJ0ZXhUZXh0dXJlcy4iKSx0aGlzLmNhcGFiaWxpdGllcy52ZXJ0ZXhUZXh0dXJlc30sc3VwcG9ydHNJbnN0YW5jZWRBcnJheXM6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNJbnN0YW5jZWRBcnJheXMoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCAnQU5HTEVfaW5zdGFuY2VkX2FycmF5cycgKS4iKSx0aGlzLmV4dGVuc2lvbnMuZ2V0KCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIil9LGVuYWJsZVNjaXNzb3JUZXN0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmVuYWJsZVNjaXNzb3JUZXN0KCkgaXMgbm93IC5zZXRTY2lzc29yVGVzdCgpLiIpLHRoaXMuc2V0U2Npc3NvclRlc3QodCl9LGluaXRNYXRlcmlhbDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmluaXRNYXRlcmlhbCgpIGhhcyBiZWVuIHJlbW92ZWQuIil9LGFkZFByZVBsdWdpbjpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmFkZFByZVBsdWdpbigpIGhhcyBiZWVuIHJlbW92ZWQuIil9LGFkZFBvc3RQbHVnaW46ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5hZGRQb3N0UGx1Z2luKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sdXBkYXRlU2hhZG93TWFwOmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAudXBkYXRlU2hhZG93TWFwKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sc2V0RmFjZUN1bGxpbmc6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zZXRGYWNlQ3VsbGluZygpIGhhcyBiZWVuIHJlbW92ZWQuIil9LGFsbG9jVGV4dHVyZVVuaXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5hbGxvY1RleHR1cmVVbml0KCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sc2V0VGV4dHVyZTpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNldFRleHR1cmUoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxzZXRUZXh0dXJlMkQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zZXRUZXh0dXJlMkQoKSBoYXMgYmVlbiByZW1vdmVkLiIpfSxzZXRUZXh0dXJlQ3ViZTpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNldFRleHR1cmVDdWJlKCkgaGFzIGJlZW4gcmVtb3ZlZC4iKX0sZ2V0QWN0aXZlTWlwTWFwTGV2ZWw6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2V0QWN0aXZlTWlwTWFwTGV2ZWwoKSBpcyBub3cgLmdldEFjdGl2ZU1pcG1hcExldmVsKCkuIiksdGhpcy5nZXRBY3RpdmVNaXBtYXBMZXZlbCgpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGxhLnByb3RvdHlwZSx7c2hhZG93TWFwRW5hYmxlZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hhZG93TWFwLmVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXBFbmFibGVkIGlzIG5vdyAuc2hhZG93TWFwLmVuYWJsZWQuIiksdGhpcy5zaGFkb3dNYXAuZW5hYmxlZD10fX0sc2hhZG93TWFwVHlwZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hhZG93TWFwLnR5cGV9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXBUeXBlIGlzIG5vdyAuc2hhZG93TWFwLnR5cGUuIiksdGhpcy5zaGFkb3dNYXAudHlwZT10fX0sc2hhZG93TWFwQ3VsbEZhY2U6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcEN1bGxGYWNlIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuIil9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcEN1bGxGYWNlIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuIil9fSxjb250ZXh0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuY29udGV4dCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLmdldENvbnRleHQoKSBpbnN0ZWFkLiIpLHRoaXMuZ2V0Q29udGV4dCgpfX0sdnI6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC52ciBoYXMgYmVlbiByZW5hbWVkIHRvIC54ciIpLHRoaXMueHJ9fSxnYW1tYUlucHV0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2FtbWFJbnB1dCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgdGhlIGVuY29kaW5nIGZvciB0ZXh0dXJlcyB2aWEgVGV4dHVyZS5lbmNvZGluZyBpbnN0ZWFkLiIpLCExfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nYW1tYUlucHV0IGhhcyBiZWVuIHJlbW92ZWQuIFNldCB0aGUgZW5jb2RpbmcgZm9yIHRleHR1cmVzIHZpYSBUZXh0dXJlLmVuY29kaW5nIGluc3RlYWQuIil9fSxnYW1tYU91dHB1dDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdhbW1hT3V0cHV0IGhhcyBiZWVuIHJlbW92ZWQuIFNldCBXZWJHTFJlbmRlcmVyLm91dHB1dEVuY29kaW5nIGluc3RlYWQuIiksITF9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5nYW1tYU91dHB1dCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgV2ViR0xSZW5kZXJlci5vdXRwdXRFbmNvZGluZyBpbnN0ZWFkLiIpLHRoaXMub3V0cHV0RW5jb2Rpbmc9ITA9PT10P1o6WX19LHRvbmVNYXBwaW5nV2hpdGVQb2ludDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnRvbmVNYXBwaW5nV2hpdGVQb2ludCBoYXMgYmVlbiByZW1vdmVkLiIpLDF9LHNldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnRvbmVNYXBwaW5nV2hpdGVQb2ludCBoYXMgYmVlbiByZW1vdmVkLiIpfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YS5wcm90b3R5cGUse2N1bGxGYWNlOntnZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAuY3VsbEZhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLmN1bGxGYWNlIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuIil9fSxyZW5kZXJSZXZlcnNlU2lkZWQ6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcC5yZW5kZXJSZXZlcnNlU2lkZWQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX0sc2V0OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLnJlbmRlclJldmVyc2VTaWRlZCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLiIpfX0scmVuZGVyU2luZ2xlU2lkZWQ6e2dldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcC5yZW5kZXJTaW5nbGVTaWRlZCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLiIpfSxzZXQ6ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXAucmVuZGVyU2luZ2xlU2lkZWQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4iKX19fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVHQucHJvdG90eXBlLHt3cmFwUzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC53cmFwUyBpcyBub3cgLnRleHR1cmUud3JhcFMuIiksdGhpcy50ZXh0dXJlLndyYXBTfSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLndyYXBTIGlzIG5vdyAudGV4dHVyZS53cmFwUy4iKSx0aGlzLnRleHR1cmUud3JhcFM9dH19LHdyYXBUOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLndyYXBUIGlzIG5vdyAudGV4dHVyZS53cmFwVC4iKSx0aGlzLnRleHR1cmUud3JhcFR9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAud3JhcFQgaXMgbm93IC50ZXh0dXJlLndyYXBULiIpLHRoaXMudGV4dHVyZS53cmFwVD10fX0sbWFnRmlsdGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm1hZ0ZpbHRlciBpcyBub3cgLnRleHR1cmUubWFnRmlsdGVyLiIpLHRoaXMudGV4dHVyZS5tYWdGaWx0ZXJ9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWFnRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5tYWdGaWx0ZXIuIiksdGhpcy50ZXh0dXJlLm1hZ0ZpbHRlcj10fX0sbWluRmlsdGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm1pbkZpbHRlciBpcyBub3cgLnRleHR1cmUubWluRmlsdGVyLiIpLHRoaXMudGV4dHVyZS5taW5GaWx0ZXJ9LHNldDpmdW5jdGlvbih0KXtjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWluRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5taW5GaWx0ZXIuIiksdGhpcy50ZXh0dXJlLm1pbkZpbHRlcj10fX0sYW5pc290cm9weTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5hbmlzb3Ryb3B5IGlzIG5vdyAudGV4dHVyZS5hbmlzb3Ryb3B5LiIpLHRoaXMudGV4dHVyZS5hbmlzb3Ryb3B5fSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmFuaXNvdHJvcHkgaXMgbm93IC50ZXh0dXJlLmFuaXNvdHJvcHkuIiksdGhpcy50ZXh0dXJlLmFuaXNvdHJvcHk9dH19LG9mZnNldDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5vZmZzZXQgaXMgbm93IC50ZXh0dXJlLm9mZnNldC4iKSx0aGlzLnRleHR1cmUub2Zmc2V0fSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm9mZnNldCBpcyBub3cgLnRleHR1cmUub2Zmc2V0LiIpLHRoaXMudGV4dHVyZS5vZmZzZXQ9dH19LHJlcGVhdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5yZXBlYXQgaXMgbm93IC50ZXh0dXJlLnJlcGVhdC4iKSx0aGlzLnRleHR1cmUucmVwZWF0fSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLnJlcGVhdCBpcyBub3cgLnRleHR1cmUucmVwZWF0LiIpLHRoaXMudGV4dHVyZS5yZXBlYXQ9dH19LGZvcm1hdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5mb3JtYXQgaXMgbm93IC50ZXh0dXJlLmZvcm1hdC4iKSx0aGlzLnRleHR1cmUuZm9ybWF0fSxzZXQ6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmZvcm1hdCBpcyBub3cgLnRleHR1cmUuZm9ybWF0LiIpLHRoaXMudGV4dHVyZS5mb3JtYXQ9dH19LHR5cGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAudHlwZSBpcyBub3cgLnRleHR1cmUudHlwZS4iKSx0aGlzLnRleHR1cmUudHlwZX0sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC50eXBlIGlzIG5vdyAudGV4dHVyZS50eXBlLiIpLHRoaXMudGV4dHVyZS50eXBlPXR9fSxnZW5lcmF0ZU1pcG1hcHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAuZ2VuZXJhdGVNaXBtYXBzIGlzIG5vdyAudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHMuIiksdGhpcy50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwc30sc2V0OmZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybigiVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5nZW5lcmF0ZU1pcG1hcHMgaXMgbm93IC50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcy4iKSx0aGlzLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPXR9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHZsLnByb3RvdHlwZSx7bG9hZDp7dmFsdWU6ZnVuY3Rpb24odCl7Y29uc29sZS53YXJuKCJUSFJFRS5BdWRpbzogLmxvYWQgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIFRIUkVFLkF1ZGlvTG9hZGVyIGluc3RlYWQuIik7dmFyIGU9dGhpcztyZXR1cm4obmV3IGlsKS5sb2FkKHQsKGZ1bmN0aW9uKHQpe2Uuc2V0QnVmZmVyKHQpfSkpLHRoaXN9fSxzdGFydFRpbWU6e3NldDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiVEhSRUUuQXVkaW86IC5zdGFydFRpbWUgaXMgbm93IC5wbGF5KCBkZWxheSApLiIpfX19KSx3bC5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkF1ZGlvQW5hbHlzZXI6IC5nZXREYXRhKCkgaXMgbm93IC5nZXRGcmVxdWVuY3lEYXRhKCkuIiksdGhpcy5nZXRGcmVxdWVuY3lEYXRhKCl9LFFuLnByb3RvdHlwZS51cGRhdGVDdWJlTWFwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuQ3ViZUNhbWVyYTogLnVwZGF0ZUN1YmVNYXAoKSBpcyBub3cgLnVwZGF0ZSgpLiIpLHRoaXMudXBkYXRlKHQsZSl9LFFuLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5DdWJlQ2FtZXJhOiAuY2xlYXIoKSBpcyBub3cgLnJlbmRlclRhcmdldC5jbGVhcigpLiIpLHRoaXMucmVuZGVyVGFyZ2V0LmNsZWFyKHQsZSxuLGkpfSxfdC5jcm9zc09yaWdpbj12b2lkIDAsX3QubG9hZFRleHR1cmU9ZnVuY3Rpb24odCxlLG4saSl7Y29uc29sZS53YXJuKCJUSFJFRS5JbWFnZVV0aWxzLmxvYWRUZXh0dXJlIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBUSFJFRS5UZXh0dXJlTG9hZGVyKCkgaW5zdGVhZC4iKTt2YXIgcj1uZXcgaWM7ci5zZXRDcm9zc09yaWdpbih0aGlzLmNyb3NzT3JpZ2luKTt2YXIgYT1yLmxvYWQodCxuLHZvaWQgMCxpKTtyZXR1cm4gZSYmKGEubWFwcGluZz1lKSxhfSxfdC5sb2FkVGV4dHVyZUN1YmU9ZnVuY3Rpb24odCxlLG4saSl7Y29uc29sZS53YXJuKCJUSFJFRS5JbWFnZVV0aWxzLmxvYWRUZXh0dXJlQ3ViZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuQ3ViZVRleHR1cmVMb2FkZXIoKSBpbnN0ZWFkLiIpO3ZhciByPW5ldyBlYztyLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pO3ZhciBhPXIubG9hZCh0LG4sdm9pZCAwLGkpO3JldHVybiBlJiYoYS5tYXBwaW5nPWUpLGF9LF90LmxvYWRDb21wcmVzc2VkVGV4dHVyZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkltYWdlVXRpbHMubG9hZENvbXByZXNzZWRUZXh0dXJlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5ERFNMb2FkZXIgaW5zdGVhZC4iKX0sX3QubG9hZENvbXByZXNzZWRUZXh0dXJlQ3ViZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLkltYWdlVXRpbHMubG9hZENvbXByZXNzZWRUZXh0dXJlQ3ViZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuRERTTG9hZGVyIGluc3RlYWQuIil9O3ZhciBjaD17Y3JlYXRlTXVsdGlNYXRlcmlhbE9iamVjdDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlNjZW5lVXRpbHMgaGFzIGJlZW4gbW92ZWQgdG8gL2V4YW1wbGVzL2pzbS91dGlscy9TY2VuZVV0aWxzLmpzIil9LGRldGFjaDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlNjZW5lVXRpbHMgaGFzIGJlZW4gbW92ZWQgdG8gL2V4YW1wbGVzL2pzbS91dGlscy9TY2VuZVV0aWxzLmpzIil9LGF0dGFjaDpmdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoIlRIUkVFLlNjZW5lVXRpbHMgaGFzIGJlZW4gbW92ZWQgdG8gL2V4YW1wbGVzL2pzbS91dGlscy9TY2VuZVV0aWxzLmpzIil9fTsidW5kZWZpbmVkIiE9dHlwZW9mIF9fVEhSRUVfREVWVE9PTFNfXyYmX19USFJFRV9ERVZUT09MU19fLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCJyZWdpc3RlciIse2RldGFpbDp7cmV2aXNpb246bn19KSksInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuX19USFJFRV9fP2NvbnNvbGUud2FybigiV0FSTklORzogTXVsdGlwbGUgaW5zdGFuY2VzIG9mIFRocmVlLmpzIGJlaW5nIGltcG9ydGVkLiIpOndpbmRvdy5fX1RIUkVFX189biksdC5BQ0VTRmlsbWljVG9uZU1hcHBpbmc9NCx0LkFkZEVxdWF0aW9uPWksdC5BZGRPcGVyYXRpb249Mix0LkFkZGl0aXZlQW5pbWF0aW9uQmxlbmRNb2RlPVgsdC5BZGRpdGl2ZUJsZW5kaW5nPTIsdC5BbHBoYUZvcm1hdD0xMDIxLHQuQWx3YXlzRGVwdGg9MSx0LkFsd2F5c1N0ZW5jaWxGdW5jPTUxOSx0LkFtYmllbnRMaWdodD16Yyx0LkFtYmllbnRMaWdodFByb2JlPWFsLHQuQW5pbWF0aW9uQ2xpcD1Xcyx0LkFuaW1hdGlvbkxvYWRlcj1Lcyx0LkFuaW1hdGlvbk1peGVyPUZsLHQuQW5pbWF0aW9uT2JqZWN0R3JvdXA9QmwsdC5BbmltYXRpb25VdGlscz1Qcyx0LkFyY0N1cnZlPW9jLHQuQXJyYXlDYW1lcmE9cmEsdC5BcnJvd0hlbHBlcj1SdSx0LkF1ZGlvPXZsLHQuQXVkaW9BbmFseXNlcj13bCx0LkF1ZGlvQ29udGV4dD1ubCx0LkF1ZGlvTGlzdGVuZXI9bWwsdC5BdWRpb0xvYWRlcj1pbCx0LkF4ZXNIZWxwZXI9Q3UsdC5BeGlzSGVscGVyPWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkF4aXNIZWxwZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5BeGVzSGVscGVyLiIpLG5ldyBDdSh0KX0sdC5CYWNrU2lkZT0xLHQuQmFzaWNEZXB0aFBhY2tpbmc9MzIwMCx0LkJhc2ljU2hhZG93TWFwPTAsdC5CaW5hcnlUZXh0dXJlTG9hZGVyPWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkJpbmFyeVRleHR1cmVMb2FkZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5EYXRhVGV4dHVyZUxvYWRlci4iKSxuZXcgbmModCl9LHQuQm9uZT1rYSx0LkJvb2xlYW5LZXlmcmFtZVRyYWNrPXpzLHQuQm91bmRpbmdCb3hIZWxwZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5Cb3VuZGluZ0JveEhlbHBlciBoYXMgYmVlbiBkZXByZWNhdGVkLiBDcmVhdGluZyBhIFRIUkVFLkJveEhlbHBlciBpbnN0ZWFkLiIpLG5ldyBUdSh0LGUpfSx0LkJveDI9WWwsdC5Cb3gzPVB0LHQuQm94M0hlbHBlcj1FdSx0LkJveEJ1ZmZlckdlb21ldHJ5PVZuLHQuQm94R2VvbWV0cnk9Vm4sdC5Cb3hIZWxwZXI9VHUsdC5CdWZmZXJBdHRyaWJ1dGU9ZW4sdC5CdWZmZXJHZW9tZXRyeT1Nbix0LkJ1ZmZlckdlb21ldHJ5TG9hZGVyPWpjLHQuQnl0ZVR5cGU9MTAxMCx0LkNhY2hlPXFzLHQuQ2FtZXJhPVluLHQuQ2FtZXJhSGVscGVyPXh1LHQuQ2FudmFzUmVuZGVyZXI9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5DYW52YXNSZW5kZXJlciBoYXMgYmVlbiByZW1vdmVkIil9LHQuQ2FudmFzVGV4dHVyZT15byx0LkNhdG11bGxSb21DdXJ2ZTM9ZGMsdC5DaW5lb25Ub25lTWFwcGluZz0zLHQuQ2lyY2xlQnVmZmVyR2VvbWV0cnk9X28sdC5DaXJjbGVHZW9tZXRyeT1fbyx0LkNsYW1wVG9FZGdlV3JhcHBpbmc9ZCx0LkNsb2NrPWxsLHQuQ2xvc2VkU3BsaW5lQ3VydmUzPWFoLHQuQ29sb3I9UWUsdC5Db2xvcktleWZyYW1lVHJhY2s9RnMsdC5Db21wcmVzc2VkVGV4dHVyZT1nbyx0LkNvbXByZXNzZWRUZXh0dXJlTG9hZGVyPSRzLHQuQ29uZUJ1ZmZlckdlb21ldHJ5PXdvLHQuQ29uZUdlb21ldHJ5PXdvLHQuQ3ViZUNhbWVyYT1Rbix0LkN1YmVSZWZsZWN0aW9uTWFwcGluZz1hLHQuQ3ViZVJlZnJhY3Rpb25NYXBwaW5nPW8sdC5DdWJlVGV4dHVyZT1Lbix0LkN1YmVUZXh0dXJlTG9hZGVyPWVjLHQuQ3ViZVVWUmVmbGVjdGlvbk1hcHBpbmc9bCx0LkN1YmVVVlJlZnJhY3Rpb25NYXBwaW5nPXUsdC5DdWJpY0JlemllckN1cnZlPXZjLHQuQ3ViaWNCZXppZXJDdXJ2ZTM9Z2MsdC5DdWJpY0ludGVycG9sYW50PUlzLHQuQ3VsbEZhY2VCYWNrPTEsdC5DdWxsRmFjZUZyb250PTIsdC5DdWxsRmFjZUZyb250QmFjaz0zLHQuQ3VsbEZhY2VOb25lPTAsdC5DdXJ2ZT1yYyx0LkN1cnZlUGF0aD1TYyx0LkN1c3RvbUJsZW5kaW5nPTUsdC5DdXN0b21Ub25lTWFwcGluZz01LHQuQ3lsaW5kZXJCdWZmZXJHZW9tZXRyeT1ibyx0LkN5bGluZGVyR2VvbWV0cnk9Ym8sdC5DeWxpbmRyaWNhbD1xbCx0LkRhdGFUZXh0dXJlPXRpLHQuRGF0YVRleHR1cmUyREFycmF5PVNpLHQuRGF0YVRleHR1cmUzRD1UaSx0LkRhdGFUZXh0dXJlTG9hZGVyPW5jLHQuRGF0YVV0aWxzPUl1LHQuRGVjcmVtZW50U3RlbmNpbE9wPTc2ODMsdC5EZWNyZW1lbnRXcmFwU3RlbmNpbE9wPTM0MDU2LHQuRGVmYXVsdExvYWRpbmdNYW5hZ2VyPVlzLHQuRGVwdGhGb3JtYXQ9TCx0LkRlcHRoU3RlbmNpbEZvcm1hdD1SLHQuRGVwdGhUZXh0dXJlPXhvLHQuRGlyZWN0aW9uYWxMaWdodD1CYyx0LkRpcmVjdGlvbmFsTGlnaHRIZWxwZXI9dnUsdC5EaXNjcmV0ZUludGVycG9sYW50PU5zLHQuRG9kZWNhaGVkcm9uQnVmZmVyR2VvbWV0cnk9U28sdC5Eb2RlY2FoZWRyb25HZW9tZXRyeT1Tbyx0LkRvdWJsZVNpZGU9Mix0LkRzdEFscGhhRmFjdG9yPTIwNix0LkRzdENvbG9yRmFjdG9yPTIwOCx0LkR5bmFtaWNCdWZmZXJBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5EeW5hbWljQnVmZmVyQXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCkuc2V0VXNhZ2UoIFRIUkVFLkR5bmFtaWNEcmF3VXNhZ2UgKSBpbnN0ZWFkLiIpLG5ldyBlbih0LGUpLnNldFVzYWdlKGl0KX0sdC5EeW5hbWljQ29weVVzYWdlPTM1MDUwLHQuRHluYW1pY0RyYXdVc2FnZT1pdCx0LkR5bmFtaWNSZWFkVXNhZ2U9MzUwNDksdC5FZGdlc0dlb21ldHJ5PVJvLHQuRWRnZXNIZWxwZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5FZGdlc0hlbHBlciBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuRWRnZXNHZW9tZXRyeSBpbnN0ZWFkLiIpLG5ldyBvbyhuZXcgUm8odC5nZW9tZXRyeSksbmV3IFFhKHtjb2xvcjp2b2lkIDAhPT1lP2U6MTY3NzcyMTV9KSl9LHQuRWxsaXBzZUN1cnZlPWFjLHQuRXF1YWxEZXB0aD00LHQuRXF1YWxTdGVuY2lsRnVuYz01MTQsdC5FcXVpcmVjdGFuZ3VsYXJSZWZsZWN0aW9uTWFwcGluZz1zLHQuRXF1aXJlY3Rhbmd1bGFyUmVmcmFjdGlvbk1hcHBpbmc9Yyx0LkV1bGVyPXVlLHQuRXZlbnREaXNwYXRjaGVyPWR0LHQuRXh0cnVkZUJ1ZmZlckdlb21ldHJ5PXJzLHQuRXh0cnVkZUdlb21ldHJ5PXJzLHQuRmFjZUNvbG9ycz0xLHQuRmlsZUxvYWRlcj1Rcyx0LkZsYXRTaGFkaW5nPTEsdC5GbG9hdDE2QnVmZmVyQXR0cmlidXRlPXVuLHQuRmxvYXQzMkF0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkZsb2F0MzJBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4iKSxuZXcgaG4odCxlKX0sdC5GbG9hdDMyQnVmZmVyQXR0cmlidXRlPWhuLHQuRmxvYXQ2NEF0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkZsb2F0NjRBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5GbG9hdDY0QnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4iKSxuZXcgZG4odCxlKX0sdC5GbG9hdDY0QnVmZmVyQXR0cmlidXRlPWRuLHQuRmxvYXRUeXBlPU0sdC5Gb2c9ZGEsdC5Gb2dFeHAyPWhhLHQuRm9udD1LYyx0LkZvbnRMb2FkZXI9ZWwsdC5Gcm9udFNpZGU9MCx0LkZydXN0dW09aWksdC5HTEJ1ZmZlckF0dHJpYnV0ZT1VbCx0LkdMU0wxPSIxMDAiLHQuR0xTTDM9cnQsdC5HYW1tYUVuY29kaW5nPUosdC5HcmVhdGVyRGVwdGg9Nix0LkdyZWF0ZXJFcXVhbERlcHRoPTUsdC5HcmVhdGVyRXF1YWxTdGVuY2lsRnVuYz01MTgsdC5HcmVhdGVyU3RlbmNpbEZ1bmM9NTE2LHQuR3JpZEhlbHBlcj1odSx0Lkdyb3VwPWFhLHQuSGFsZkZsb2F0VHlwZT1TLHQuSGVtaXNwaGVyZUxpZ2h0PUxjLHQuSGVtaXNwaGVyZUxpZ2h0SGVscGVyPXV1LHQuSGVtaXNwaGVyZUxpZ2h0UHJvYmU9cmwsdC5JY29zYWhlZHJvbkJ1ZmZlckdlb21ldHJ5PW9zLHQuSWNvc2FoZWRyb25HZW9tZXRyeT1vcyx0LkltYWdlQml0bWFwTG9hZGVyPUpjLHQuSW1hZ2VMb2FkZXI9dGMsdC5JbWFnZVV0aWxzPV90LHQuSW1tZWRpYXRlUmVuZGVyT2JqZWN0PUtsLHQuSW5jcmVtZW50U3RlbmNpbE9wPTc2ODIsdC5JbmNyZW1lbnRXcmFwU3RlbmNpbE9wPTM0MDU1LHQuSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlPVdjLHQuSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnk9VmMsdC5JbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlcj1HbCx0Lkluc3RhbmNlZE1lc2g9SmEsdC5JbnQxNkF0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLkludDE2QXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuSW50MTZCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLiIpLG5ldyBvbih0LGUpfSx0LkludDE2QnVmZmVyQXR0cmlidXRlPW9uLHQuSW50MzJBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5JbnQzMkF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLkludDMyQnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4iKSxuZXcgY24odCxlKX0sdC5JbnQzMkJ1ZmZlckF0dHJpYnV0ZT1jbix0LkludDhBdHRyaWJ1dGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5JbnQ4QXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuSW50OEJ1ZmZlckF0dHJpYnV0ZSgpIGluc3RlYWQuIiksbmV3IG5uKHQsZSl9LHQuSW50OEJ1ZmZlckF0dHJpYnV0ZT1ubix0LkludFR5cGU9MTAxMyx0LkludGVybGVhdmVkQnVmZmVyPWZhLHQuSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU9Z2EsdC5JbnRlcnBvbGFudD1Ecyx0LkludGVycG9sYXRlRGlzY3JldGU9Ryx0LkludGVycG9sYXRlTGluZWFyPVUsdC5JbnRlcnBvbGF0ZVNtb290aD1rLHQuSW52ZXJ0U3RlbmNpbE9wPTUzODYsdC5KU09OTG9hZGVyPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcigiVEhSRUUuSlNPTkxvYWRlciBoYXMgYmVlbiByZW1vdmVkLiIpfSx0LktlZXBTdGVuY2lsT3A9ZXQsdC5LZXlmcmFtZVRyYWNrPUJzLHQuTE9EPU5hLHQuTGF0aGVCdWZmZXJHZW9tZXRyeT1zcyx0LkxhdGhlR2VvbWV0cnk9c3MsdC5MYXllcnM9cGUsdC5MZW5zRmxhcmU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCJUSFJFRS5MZW5zRmxhcmUgaGFzIGJlZW4gbW92ZWQgdG8gL2V4YW1wbGVzL2pzbS9vYmplY3RzL0xlbnNmbGFyZS5qcyIpfSx0Lkxlc3NEZXB0aD0yLHQuTGVzc0VxdWFsRGVwdGg9Myx0Lkxlc3NFcXVhbFN0ZW5jaWxGdW5jPTUxNSx0Lkxlc3NTdGVuY2lsRnVuYz01MTMsdC5MaWdodD1BYyx0LkxpZ2h0UHJvYmU9R2MsdC5MaW5lPWlvLHQuTGluZTM9UWwsdC5MaW5lQmFzaWNNYXRlcmlhbD1RYSx0LkxpbmVDdXJ2ZT15Yyx0LkxpbmVDdXJ2ZTM9eGMsdC5MaW5lRGFzaGVkTWF0ZXJpYWw9UnMsdC5MaW5lTG9vcD1zbyx0LkxpbmVQaWVjZXM9MSx0LkxpbmVTZWdtZW50cz1vbyx0LkxpbmVTdHJpcD0wLHQuTGluZWFyRW5jb2Rpbmc9WSx0LkxpbmVhckZpbHRlcj1nLHQuTGluZWFySW50ZXJwb2xhbnQ9T3MsdC5MaW5lYXJNaXBNYXBMaW5lYXJGaWx0ZXI9MTAwOCx0LkxpbmVhck1pcE1hcE5lYXJlc3RGaWx0ZXI9MTAwNyx0LkxpbmVhck1pcG1hcExpbmVhckZpbHRlcj14LHQuTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlcj15LHQuTGluZWFyVG9uZU1hcHBpbmc9MSx0LkxvYWRlcj1acyx0LkxvYWRlclV0aWxzPWtjLHQuTG9hZGluZ01hbmFnZXI9WHMsdC5Mb2dMdXZFbmNvZGluZz0zMDAzLHQuTG9vcE9uY2U9MjIwMCx0Lkxvb3BQaW5nUG9uZz0yMjAyLHQuTG9vcFJlcGVhdD0yMjAxLHQuTHVtaW5hbmNlQWxwaGFGb3JtYXQ9MTAyNSx0Lkx1bWluYW5jZUZvcm1hdD0xMDI0LHQuTU9VU0U9e0xFRlQ6MCxNSURETEU6MSxSSUdIVDoyLFJPVEFURTowLERPTExZOjEsUEFOOjJ9LHQuTWF0ZXJpYWw9V2UsdC5NYXRlcmlhbExvYWRlcj1VYyx0Lk1hdGg9Z3QsdC5NYXRoVXRpbHM9Z3QsdC5NYXRyaXgzPXh0LHQuTWF0cml4ND1uZSx0Lk1heEVxdWF0aW9uPTEwNCx0Lk1lc2g9VW4sdC5NZXNoQmFzaWNNYXRlcmlhbD1LZSx0Lk1lc2hEZXB0aE1hdGVyaWFsPUtyLHQuTWVzaERpc3RhbmNlTWF0ZXJpYWw9JHIsdC5NZXNoRmFjZU1hdGVyaWFsPWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLk1lc2hGYWNlTWF0ZXJpYWwgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGFuIEFycmF5IGluc3RlYWQuIiksdH0sdC5NZXNoTGFtYmVydE1hdGVyaWFsPUFzLHQuTWVzaE1hdGNhcE1hdGVyaWFsPUxzLHQuTWVzaE5vcm1hbE1hdGVyaWFsPUVzLHQuTWVzaFBob25nTWF0ZXJpYWw9U3MsdC5NZXNoUGh5c2ljYWxNYXRlcmlhbD1Ncyx0Lk1lc2hTdGFuZGFyZE1hdGVyaWFsPXdzLHQuTWVzaFRvb25NYXRlcmlhbD1Ucyx0Lk1pbkVxdWF0aW9uPTEwMyx0Lk1pcnJvcmVkUmVwZWF0V3JhcHBpbmc9cCx0Lk1peE9wZXJhdGlvbj0xLHQuTXVsdGlNYXRlcmlhbD1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9W10pLGNvbnNvbGUud2FybigiVEhSRUUuTXVsdGlNYXRlcmlhbCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYW4gQXJyYXkgaW5zdGVhZC4iKSx0LmlzTXVsdGlNYXRlcmlhbD0hMCx0Lm1hdGVyaWFscz10LHQuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5zbGljZSgpfSx0fSx0Lk11bHRpcGx5QmxlbmRpbmc9NCx0Lk11bHRpcGx5T3BlcmF0aW9uPTAsdC5OZWFyZXN0RmlsdGVyPWYsdC5OZWFyZXN0TWlwTWFwTGluZWFyRmlsdGVyPTEwMDUsdC5OZWFyZXN0TWlwTWFwTmVhcmVzdEZpbHRlcj0xMDA0LHQuTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcj12LHQuTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXI9bSx0Lk5ldmVyRGVwdGg9MCx0Lk5ldmVyU3RlbmNpbEZ1bmM9NTEyLHQuTm9CbGVuZGluZz0wLHQuTm9Db2xvcnM9MCx0Lk5vVG9uZU1hcHBpbmc9MCx0Lk5vcm1hbEFuaW1hdGlvbkJsZW5kTW9kZT1xLHQuTm9ybWFsQmxlbmRpbmc9MSx0Lk5vdEVxdWFsRGVwdGg9Nyx0Lk5vdEVxdWFsU3RlbmNpbEZ1bmM9NTE3LHQuTnVtYmVyS2V5ZnJhbWVUcmFjaz1Icyx0Lk9iamVjdDNEPUFlLHQuT2JqZWN0TG9hZGVyPXFjLHQuT2JqZWN0U3BhY2VOb3JtYWxNYXA9MSx0Lk9jdGFoZWRyb25CdWZmZXJHZW9tZXRyeT1jcyx0Lk9jdGFoZWRyb25HZW9tZXRyeT1jcyx0Lk9uZUZhY3Rvcj0yMDEsdC5PbmVNaW51c0RzdEFscGhhRmFjdG9yPTIwNyx0Lk9uZU1pbnVzRHN0Q29sb3JGYWN0b3I9MjA5LHQuT25lTWludXNTcmNBbHBoYUZhY3Rvcj0yMDUsdC5PbmVNaW51c1NyY0NvbG9yRmFjdG9yPTIwMyx0Lk9ydGhvZ3JhcGhpY0NhbWVyYT1PYyx0LlBDRlNoYWRvd01hcD0xLHQuUENGU29mdFNoYWRvd01hcD0yLHQuUE1SRU1HZW5lcmF0b3I9S3UsdC5QYXJhbWV0cmljQnVmZmVyR2VvbWV0cnk9bHMsdC5QYXJhbWV0cmljR2VvbWV0cnk9bHMsdC5QYXJ0aWNsZT1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5QYXJ0aWNsZSBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLlNwcml0ZS4iKSxuZXcgUGEodCl9LHQuUGFydGljbGVCYXNpY01hdGVyaWFsPWZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlBhcnRpY2xlQmFzaWNNYXRlcmlhbCBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLlBvaW50c01hdGVyaWFsLiIpLG5ldyBjbyh0KX0sdC5QYXJ0aWNsZVN5c3RlbT1mdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlBhcnRpY2xlU3lzdGVtIGhhcyBiZWVuIHJlbmFtZWQgdG8gVEhSRUUuUG9pbnRzLiIpLG5ldyBmbyh0LGUpfSx0LlBhcnRpY2xlU3lzdGVtTWF0ZXJpYWw9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUGFydGljbGVTeXN0ZW1NYXRlcmlhbCBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLlBvaW50c01hdGVyaWFsLiIpLG5ldyBjbyh0KX0sdC5QYXRoPVRjLHQuUGVyc3BlY3RpdmVDYW1lcmE9Wm4sdC5QbGFuZT1QZSx0LlBsYW5lQnVmZmVyR2VvbWV0cnk9b2ksdC5QbGFuZUdlb21ldHJ5PW9pLHQuUGxhbmVIZWxwZXI9QXUsdC5Qb2ludENsb3VkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUG9pbnRDbG91ZCBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLlBvaW50cy4iKSxuZXcgZm8odCxlKX0sdC5Qb2ludENsb3VkTWF0ZXJpYWw9ZnVuY3Rpb24odCl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuUG9pbnRDbG91ZE1hdGVyaWFsIGhhcyBiZWVuIHJlbmFtZWQgdG8gVEhSRUUuUG9pbnRzTWF0ZXJpYWwuIiksbmV3IGNvKHQpfSx0LlBvaW50TGlnaHQ9SWMsdC5Qb2ludExpZ2h0SGVscGVyPW91LHQuUG9pbnRzPWZvLHQuUG9pbnRzTWF0ZXJpYWw9Y28sdC5Qb2xhckdyaWRIZWxwZXI9ZHUsdC5Qb2x5aGVkcm9uQnVmZmVyR2VvbWV0cnk9TW8sdC5Qb2x5aGVkcm9uR2VvbWV0cnk9TW8sdC5Qb3NpdGlvbmFsQXVkaW89YmwsdC5Qcm9wZXJ0eUJpbmRpbmc9TmwsdC5Qcm9wZXJ0eU1peGVyPU1sLHQuUXVhZHJhdGljQmV6aWVyQ3VydmU9X2MsdC5RdWFkcmF0aWNCZXppZXJDdXJ2ZTM9YmMsdC5RdWF0ZXJuaW9uPUF0LHQuUXVhdGVybmlvbktleWZyYW1lVHJhY2s9VXMsdC5RdWF0ZXJuaW9uTGluZWFySW50ZXJwb2xhbnQ9R3MsdC5SRVZJU0lPTj1uLHQuUkdCQURlcHRoUGFja2luZz0zMjAxLHQuUkdCQUZvcm1hdD1BLHQuUkdCQUludGVnZXJGb3JtYXQ9MTAzMyx0LlJHQkFfQVNUQ18xMHgxMF9Gb3JtYXQ9Mzc4MTksdC5SR0JBX0FTVENfMTB4NV9Gb3JtYXQ9Mzc4MTYsdC5SR0JBX0FTVENfMTB4Nl9Gb3JtYXQ9Mzc4MTcsdC5SR0JBX0FTVENfMTB4OF9Gb3JtYXQ9Mzc4MTgsdC5SR0JBX0FTVENfMTJ4MTBfRm9ybWF0PTM3ODIwLHQuUkdCQV9BU1RDXzEyeDEyX0Zvcm1hdD0zNzgyMSx0LlJHQkFfQVNUQ180eDRfRm9ybWF0PTM3ODA4LHQuUkdCQV9BU1RDXzV4NF9Gb3JtYXQ9Mzc4MDksdC5SR0JBX0FTVENfNXg1X0Zvcm1hdD0zNzgxMCx0LlJHQkFfQVNUQ182eDVfRm9ybWF0PTM3ODExLHQuUkdCQV9BU1RDXzZ4Nl9Gb3JtYXQ9Mzc4MTIsdC5SR0JBX0FTVENfOHg1X0Zvcm1hdD0zNzgxMyx0LlJHQkFfQVNUQ184eDZfRm9ybWF0PTM3ODE0LHQuUkdCQV9BU1RDXzh4OF9Gb3JtYXQ9Mzc4MTUsdC5SR0JBX0JQVENfRm9ybWF0PTM2NDkyLHQuUkdCQV9FVEMyX0VBQ19Gb3JtYXQ9SCx0LlJHQkFfUFZSVENfMkJQUFYxX0Zvcm1hdD16LHQuUkdCQV9QVlJUQ180QlBQVjFfRm9ybWF0PUIsdC5SR0JBX1MzVENfRFhUMV9Gb3JtYXQ9UCx0LlJHQkFfUzNUQ19EWFQzX0Zvcm1hdD1ELHQuUkdCQV9TM1RDX0RYVDVfRm9ybWF0PUksdC5SR0JERW5jb2Rpbmc9dHQsdC5SR0JFRW5jb2Rpbmc9USx0LlJHQkVGb3JtYXQ9MTAyMyx0LlJHQkZvcm1hdD1FLHQuUkdCSW50ZWdlckZvcm1hdD0xMDMyLHQuUkdCTTE2RW5jb2Rpbmc9JCx0LlJHQk03RW5jb2Rpbmc9Syx0LlJHQl9FVEMxX0Zvcm1hdD0zNjE5Nix0LlJHQl9FVEMyX0Zvcm1hdD1GLHQuUkdCX1BWUlRDXzJCUFBWMV9Gb3JtYXQ9Tix0LlJHQl9QVlJUQ180QlBQVjFfRm9ybWF0PU8sdC5SR0JfUzNUQ19EWFQxX0Zvcm1hdD1DLHQuUkdGb3JtYXQ9MTAzMCx0LlJHSW50ZWdlckZvcm1hdD0xMDMxLHQuUmF3U2hhZGVyTWF0ZXJpYWw9YnMsdC5SYXk9ZWUsdC5SYXljYXN0ZXI9a2wsdC5SZWN0QXJlYUxpZ2h0PUZjLHQuUmVkRm9ybWF0PTEwMjgsdC5SZWRJbnRlZ2VyRm9ybWF0PTEwMjksdC5SZWluaGFyZFRvbmVNYXBwaW5nPTIsdC5SZXBlYXRXcmFwcGluZz1oLHQuUmVwbGFjZVN0ZW5jaWxPcD03NjgxLHQuUmV2ZXJzZVN1YnRyYWN0RXF1YXRpb249MTAyLHQuUmluZ0J1ZmZlckdlb21ldHJ5PXVzLHQuUmluZ0dlb21ldHJ5PXVzLHQuU1JHQjhfQUxQSEE4X0FTVENfMTB4MTBfRm9ybWF0PTM3ODUxLHQuU1JHQjhfQUxQSEE4X0FTVENfMTB4NV9Gb3JtYXQ9Mzc4NDgsdC5TUkdCOF9BTFBIQThfQVNUQ18xMHg2X0Zvcm1hdD0zNzg0OSx0LlNSR0I4X0FMUEhBOF9BU1RDXzEweDhfRm9ybWF0PTM3ODUwLHQuU1JHQjhfQUxQSEE4X0FTVENfMTJ4MTBfRm9ybWF0PTM3ODUyLHQuU1JHQjhfQUxQSEE4X0FTVENfMTJ4MTJfRm9ybWF0PTM3ODUzLHQuU1JHQjhfQUxQSEE4X0FTVENfNHg0X0Zvcm1hdD0zNzg0MCx0LlNSR0I4X0FMUEhBOF9BU1RDXzV4NF9Gb3JtYXQ9Mzc4NDEsdC5TUkdCOF9BTFBIQThfQVNUQ181eDVfRm9ybWF0PTM3ODQyLHQuU1JHQjhfQUxQSEE4X0FTVENfNng1X0Zvcm1hdD0zNzg0Myx0LlNSR0I4X0FMUEhBOF9BU1RDXzZ4Nl9Gb3JtYXQ9Mzc4NDQsdC5TUkdCOF9BTFBIQThfQVNUQ184eDVfRm9ybWF0PTM3ODQ1LHQuU1JHQjhfQUxQSEE4X0FTVENfOHg2X0Zvcm1hdD0zNzg0Nix0LlNSR0I4X0FMUEhBOF9BU1RDXzh4OF9Gb3JtYXQ9Mzc4NDcsdC5TY2VuZT1wYSx0LlNjZW5lVXRpbHM9Y2gsdC5TaGFkZXJDaHVuaz1zaSx0LlNoYWRlckxpYj1saSx0LlNoYWRlck1hdGVyaWFsPVhuLHQuU2hhZG93TWF0ZXJpYWw9X3MsdC5TaGFwZT1FYyx0LlNoYXBlQnVmZmVyR2VvbWV0cnk9aHMsdC5TaGFwZUdlb21ldHJ5PWhzLHQuU2hhcGVQYXRoPVFjLHQuU2hhcGVVdGlscz1lcyx0LlNob3J0VHlwZT0xMDExLHQuU2tlbGV0b249amEsdC5Ta2VsZXRvbkhlbHBlcj1ydSx0LlNraW5uZWRNZXNoPVVhLHQuU21vb3RoU2hhZGluZz0yLHQuU3BoZXJlPVh0LHQuU3BoZXJlQnVmZmVyR2VvbWV0cnk9ZHMsdC5TcGhlcmVHZW9tZXRyeT1kcyx0LlNwaGVyaWNhbD1qbCx0LlNwaGVyaWNhbEhhcm1vbmljczM9SGMsdC5TcGxpbmU9c2gsdC5TcGxpbmVDdXJ2ZT13Yyx0LlNwbGluZUN1cnZlMz1vaCx0LlNwb3RMaWdodD1QYyx0LlNwb3RMaWdodEhlbHBlcj10dSx0LlNwcml0ZT1QYSx0LlNwcml0ZU1hdGVyaWFsPXlhLHQuU3JjQWxwaGFGYWN0b3I9MjA0LHQuU3JjQWxwaGFTYXR1cmF0ZUZhY3Rvcj0yMTAsdC5TcmNDb2xvckZhY3Rvcj0yMDIsdC5TdGF0aWNDb3B5VXNhZ2U9MzUwNDYsdC5TdGF0aWNEcmF3VXNhZ2U9bnQsdC5TdGF0aWNSZWFkVXNhZ2U9MzUwNDUsdC5TdGVyZW9DYW1lcmE9Y2wsdC5TdHJlYW1Db3B5VXNhZ2U9MzUwNDIsdC5TdHJlYW1EcmF3VXNhZ2U9MzUwNDAsdC5TdHJlYW1SZWFkVXNhZ2U9MzUwNDEsdC5TdHJpbmdLZXlmcmFtZVRyYWNrPWtzLHQuU3VidHJhY3RFcXVhdGlvbj0xMDEsdC5TdWJ0cmFjdGl2ZUJsZW5kaW5nPTMsdC5UT1VDSD17Uk9UQVRFOjAsUEFOOjEsRE9MTFlfUEFOOjIsRE9MTFlfUk9UQVRFOjN9LHQuVGFuZ2VudFNwYWNlTm9ybWFsTWFwPTAsdC5UZXRyYWhlZHJvbkJ1ZmZlckdlb21ldHJ5PXBzLHQuVGV0cmFoZWRyb25HZW9tZXRyeT1wcyx0LlRleHRCdWZmZXJHZW9tZXRyeT1mcyx0LlRleHRHZW9tZXRyeT1mcyx0LlRleHR1cmU9d3QsdC5UZXh0dXJlTG9hZGVyPWljLHQuVG9ydXNCdWZmZXJHZW9tZXRyeT1tcyx0LlRvcnVzR2VvbWV0cnk9bXMsdC5Ub3J1c0tub3RCdWZmZXJHZW9tZXRyeT12cyx0LlRvcnVzS25vdEdlb21ldHJ5PXZzLHQuVHJpYW5nbGU9a2UsdC5UcmlhbmdsZUZhbkRyYXdNb2RlPTIsdC5UcmlhbmdsZVN0cmlwRHJhd01vZGU9MSx0LlRyaWFuZ2xlc0RyYXdNb2RlPTAsdC5UdWJlQnVmZmVyR2VvbWV0cnk9Z3MsdC5UdWJlR2VvbWV0cnk9Z3MsdC5VVk1hcHBpbmc9cix0LlVpbnQxNkF0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlVpbnQxNkF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLlVpbnQxNkJ1ZmZlckF0dHJpYnV0ZSgpIGluc3RlYWQuIiksbmV3IHNuKHQsZSl9LHQuVWludDE2QnVmZmVyQXR0cmlidXRlPXNuLHQuVWludDMyQXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVWludDMyQXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuVWludDMyQnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4iKSxuZXcgbG4odCxlKX0sdC5VaW50MzJCdWZmZXJBdHRyaWJ1dGU9bG4sdC5VaW50OEF0dHJpYnV0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLlVpbnQ4QXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuVWludDhCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLiIpLG5ldyBybih0LGUpfSx0LlVpbnQ4QnVmZmVyQXR0cmlidXRlPXJuLHQuVWludDhDbGFtcGVkQXR0cmlidXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVWludDhDbGFtcGVkQXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuVWludDhDbGFtcGVkQnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4iKSxuZXcgYW4odCxlKX0sdC5VaW50OENsYW1wZWRCdWZmZXJBdHRyaWJ1dGU9YW4sdC5Vbmlmb3JtPUhsLHQuVW5pZm9ybXNMaWI9Y2ksdC5Vbmlmb3Jtc1V0aWxzPXFuLHQuVW5zaWduZWRCeXRlVHlwZT1fLHQuVW5zaWduZWRJbnQyNDhUeXBlPVQsdC5VbnNpZ25lZEludFR5cGU9dyx0LlVuc2lnbmVkU2hvcnQ0NDQ0VHlwZT0xMDE3LHQuVW5zaWduZWRTaG9ydDU1NTFUeXBlPTEwMTgsdC5VbnNpZ25lZFNob3J0NTY1VHlwZT0xMDE5LHQuVW5zaWduZWRTaG9ydFR5cGU9Yix0LlZTTVNoYWRvd01hcD0zLHQuVmVjdG9yMj15dCx0LlZlY3RvcjM9THQsdC5WZWN0b3I0PVN0LHQuVmVjdG9yS2V5ZnJhbWVUcmFjaz1Wcyx0LlZlcnRleD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGNvbnNvbGUud2FybigiVEhSRUUuVmVydGV4IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5WZWN0b3IzIGluc3RlYWQuIiksbmV3IEx0KHQsZSxuKX0sdC5WZXJ0ZXhDb2xvcnM9Mix0LlZpZGVvVGV4dHVyZT12byx0LldlYkdMMVJlbmRlcmVyPXVhLHQuV2ViR0xDdWJlUmVuZGVyVGFyZ2V0PSRuLHQuV2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldD1FdCx0LldlYkdMUmVuZGVyVGFyZ2V0PVR0LHQuV2ViR0xSZW5kZXJUYXJnZXRDdWJlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5XZWJHTFJlbmRlclRhcmdldEN1YmUoIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMgKSBpcyBub3cgV2ViR0xDdWJlUmVuZGVyVGFyZ2V0KCBzaXplLCBvcHRpb25zICkuIiksbmV3ICRuKHQsbil9LHQuV2ViR0xSZW5kZXJlcj1sYSx0LldlYkdMVXRpbHM9aWEsdC5XaXJlZnJhbWVHZW9tZXRyeT15cyx0LldpcmVmcmFtZUhlbHBlcj1mdW5jdGlvbih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIlRIUkVFLldpcmVmcmFtZUhlbHBlciBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuV2lyZWZyYW1lR2VvbWV0cnkgaW5zdGVhZC4iKSxuZXcgb28obmV3IHlzKHQuZ2VvbWV0cnkpLG5ldyBRYSh7Y29sb3I6dm9pZCAwIT09ZT9lOjE2Nzc3MjE1fSkpfSx0LldyYXBBcm91bmRFbmRpbmc9aix0LlhIUkxvYWRlcj1mdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS53YXJuKCJUSFJFRS5YSFJMb2FkZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5GaWxlTG9hZGVyLiIpLG5ldyBRcyh0KX0sdC5aZXJvQ3VydmF0dXJlRW5kaW5nPVYsdC5aZXJvRmFjdG9yPTIwMCx0Llplcm9TbG9wZUVuZGluZz1XLHQuWmVyb1N0ZW5jaWxPcD0wLHQuc1JHQkVuY29kaW5nPVosT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSkpOwo=`)});
            }());

            (function(for_THREE_OrbitControls)
            {
                HEAD.insert({script:`#THREE_OrbitControls`,$:decode.b64(`VEhSRUUuT3JiaXRDb250cm9scz1mdW5jdGlvbihDLEEpe2Z1bmN0aW9uIEQoKXtyZXR1cm4gTWF0aC5wb3coLjk1LGEuem9vbVNwZWVkKX1mdW5jdGlvbiBIKGIpe2Eub2JqZWN0LmlzUGVyc3BlY3RpdmVDYW1lcmE/RS89YjphLm9iamVjdC5pc09ydGhvZ3JhcGhpY0NhbWVyYT8oYS5vYmplY3Quem9vbT1NYXRoLm1heChhLm1pblpvb20sTWF0aC5taW4oYS5tYXhab29tLGEub2JqZWN0Lnpvb20qYikpLGEub2JqZWN0LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSxGPSEwKTooY29uc29sZS53YXJuKCJXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBkb2xseS96b29tIGRpc2FibGVkLiIpLGEuZW5hYmxlWm9vbT0hMSl9ZnVuY3Rpb24gTShiKXthLm9iamVjdC5pc1BlcnNwZWN0aXZlQ2FtZXJhP0UqPWI6YS5vYmplY3QuaXNPcnRob2dyYXBoaWNDYW1lcmE/KGEub2JqZWN0Lnpvb209TWF0aC5tYXgoYS5taW5ab29tLE1hdGgubWluKGEubWF4Wm9vbSwKYS5vYmplY3Quem9vbS9iKSksYS5vYmplY3QudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpLEY9ITApOihjb25zb2xlLndhcm4oIldBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIGRvbGx5L3pvb20gZGlzYWJsZWQuIiksYS5lbmFibGVab29tPSExKX1mdW5jdGlvbiBOKGIpezE9PWIudG91Y2hlcy5sZW5ndGg/bS5zZXQoYi50b3VjaGVzWzBdLnBhZ2VYLGIudG91Y2hlc1swXS5wYWdlWSk6bS5zZXQoLjUqKGIudG91Y2hlc1swXS5wYWdlWCtiLnRvdWNoZXNbMV0ucGFnZVgpLC41KihiLnRvdWNoZXNbMF0ucGFnZVkrYi50b3VjaGVzWzFdLnBhZ2VZKSl9ZnVuY3Rpb24gTyhiKXsxPT1iLnRvdWNoZXMubGVuZ3RoP24uc2V0KGIudG91Y2hlc1swXS5wYWdlWCxiLnRvdWNoZXNbMF0ucGFnZVkpOm4uc2V0KC41KihiLnRvdWNoZXNbMF0ucGFnZVgrYi50b3VjaGVzWzFdLnBhZ2VYKSwuNSooYi50b3VjaGVzWzBdLnBhZ2VZK2IudG91Y2hlc1sxXS5wYWdlWSkpfQpmdW5jdGlvbiBQKGIpe3ZhciBkPWIudG91Y2hlc1swXS5wYWdlWC1iLnRvdWNoZXNbMV0ucGFnZVg7Yj1iLnRvdWNoZXNbMF0ucGFnZVktYi50b3VjaGVzWzFdLnBhZ2VZO3Quc2V0KDAsTWF0aC5zcXJ0KGQqZCtiKmIpKX1mdW5jdGlvbiBRKGIpezE9PWIudG91Y2hlcy5sZW5ndGg/cC5zZXQoYi50b3VjaGVzWzBdLnBhZ2VYLGIudG91Y2hlc1swXS5wYWdlWSk6cC5zZXQoLjUqKGIudG91Y2hlc1swXS5wYWdlWCtiLnRvdWNoZXNbMV0ucGFnZVgpLC41KihiLnRvdWNoZXNbMF0ucGFnZVkrYi50b3VjaGVzWzFdLnBhZ2VZKSk7dS5zdWJWZWN0b3JzKHAsbSkubXVsdGlwbHlTY2FsYXIoYS5yb3RhdGVTcGVlZCk7Yj1hLmRvbUVsZW1lbnQ7Zy50aGV0YS09MipNYXRoLlBJKnUueC9iLmNsaWVudEhlaWdodDtnLnBoaS09MipNYXRoLlBJKnUueS9iLmNsaWVudEhlaWdodDttLmNvcHkocCl9ZnVuY3Rpb24gUihiKXsxPT1iLnRvdWNoZXMubGVuZ3RoP3Euc2V0KGIudG91Y2hlc1swXS5wYWdlWCwKYi50b3VjaGVzWzBdLnBhZ2VZKTpxLnNldCguNSooYi50b3VjaGVzWzBdLnBhZ2VYK2IudG91Y2hlc1sxXS5wYWdlWCksLjUqKGIudG91Y2hlc1swXS5wYWdlWStiLnRvdWNoZXNbMV0ucGFnZVkpKTt2LnN1YlZlY3RvcnMocSxuKS5tdWx0aXBseVNjYWxhcihhLnBhblNwZWVkKTt3KHYueCx2LnkpO24uY29weShxKX1mdW5jdGlvbiBTKGIpe3ZhciBkPWIudG91Y2hlc1swXS5wYWdlWC1iLnRvdWNoZXNbMV0ucGFnZVg7Yj1iLnRvdWNoZXNbMF0ucGFnZVktYi50b3VjaGVzWzFdLnBhZ2VZO3guc2V0KDAsTWF0aC5zcXJ0KGQqZCtiKmIpKTtCLnNldCgwLE1hdGgucG93KHgueS90LnksYS56b29tU3BlZWQpKTtIKEIueSk7dC5jb3B5KHgpfWZ1bmN0aW9uIFQoYil7aWYoITEhPT1hLmVuYWJsZWQpc3dpdGNoKGIucG9pbnRlclR5cGUpe2Nhc2UgIm1vdXNlIjpjYXNlICJwZW4iOmZhKGIpfX1mdW5jdGlvbiBJKGIpe2lmKCExIT09YS5lbmFibGVkKXN3aXRjaChiLnBvaW50ZXJUeXBlKXtjYXNlICJtb3VzZSI6Y2FzZSAicGVuIjppZighMSE9PQphLmVuYWJsZWQpc3dpdGNoKGIucHJldmVudERlZmF1bHQoKSxlKXtjYXNlIGMuUk9UQVRFOmlmKCExPT09YS5lbmFibGVSb3RhdGUpYnJlYWs7cC5zZXQoYi5jbGllbnRYLGIuY2xpZW50WSk7dS5zdWJWZWN0b3JzKHAsbSkubXVsdGlwbHlTY2FsYXIoYS5yb3RhdGVTcGVlZCk7Yj1hLmRvbUVsZW1lbnQ7Zy50aGV0YS09MipNYXRoLlBJKnUueC9iLmNsaWVudEhlaWdodDtnLnBoaS09MipNYXRoLlBJKnUueS9iLmNsaWVudEhlaWdodDttLmNvcHkocCk7YS51cGRhdGUoKTticmVhaztjYXNlIGMuRE9MTFk6aWYoITE9PT1hLmVuYWJsZVpvb20pYnJlYWs7eC5zZXQoYi5jbGllbnRYLGIuY2xpZW50WSk7Qi5zdWJWZWN0b3JzKHgsdCk7MDxCLnk/SChEKCkpOjA+Qi55JiZNKEQoKSk7dC5jb3B5KHgpO2EudXBkYXRlKCk7YnJlYWs7Y2FzZSBjLlBBTjohMSE9PWEuZW5hYmxlUGFuJiYocS5zZXQoYi5jbGllbnRYLGIuY2xpZW50WSksdi5zdWJWZWN0b3JzKHEsbikubXVsdGlwbHlTY2FsYXIoYS5wYW5TcGVlZCksCncodi54LHYueSksbi5jb3B5KHEpLGEudXBkYXRlKCkpfX19ZnVuY3Rpb24gSihiKXtzd2l0Y2goYi5wb2ludGVyVHlwZSl7Y2FzZSAibW91c2UiOmNhc2UgInBlbiI6YS5kb21FbGVtZW50Lm93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcm1vdmUiLEkpLGEuZG9tRWxlbWVudC5vd25lckRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJ1cCIsSiksITEhPT1hLmVuYWJsZWQmJihhLmRpc3BhdGNoRXZlbnQoSyksZT1jLk5PTkUpfX1mdW5jdGlvbiBmYShiKXtiLnByZXZlbnREZWZhdWx0KCk7YS5kb21FbGVtZW50LmZvY3VzP2EuZG9tRWxlbWVudC5mb2N1cygpOndpbmRvdy5mb2N1cygpO3N3aXRjaChiLmJ1dHRvbil7Y2FzZSAwOnZhciBkPWEubW91c2VCdXR0b25zLkxFRlQ7YnJlYWs7Y2FzZSAxOmQ9YS5tb3VzZUJ1dHRvbnMuTUlERExFO2JyZWFrO2Nhc2UgMjpkPWEubW91c2VCdXR0b25zLlJJR0hUO2JyZWFrO2RlZmF1bHQ6ZD0tMX1zd2l0Y2goZCl7Y2FzZSBUSFJFRS5NT1VTRS5ET0xMWTppZighMT09PQphLmVuYWJsZVpvb20pcmV0dXJuO3Quc2V0KGIuY2xpZW50WCxiLmNsaWVudFkpO2U9Yy5ET0xMWTticmVhaztjYXNlIFRIUkVFLk1PVVNFLlJPVEFURTppZihiLmN0cmxLZXl8fGIubWV0YUtleXx8Yi5zaGlmdEtleSl7aWYoITE9PT1hLmVuYWJsZVBhbilyZXR1cm47bi5zZXQoYi5jbGllbnRYLGIuY2xpZW50WSk7ZT1jLlBBTn1lbHNle2lmKCExPT09YS5lbmFibGVSb3RhdGUpcmV0dXJuO20uc2V0KGIuY2xpZW50WCxiLmNsaWVudFkpO2U9Yy5ST1RBVEV9YnJlYWs7Y2FzZSBUSFJFRS5NT1VTRS5QQU46aWYoYi5jdHJsS2V5fHxiLm1ldGFLZXl8fGIuc2hpZnRLZXkpe2lmKCExPT09YS5lbmFibGVSb3RhdGUpcmV0dXJuO20uc2V0KGIuY2xpZW50WCxiLmNsaWVudFkpO2U9Yy5ST1RBVEV9ZWxzZXtpZighMT09PWEuZW5hYmxlUGFuKXJldHVybjtuLnNldChiLmNsaWVudFgsYi5jbGllbnRZKTtlPWMuUEFOfWJyZWFrO2RlZmF1bHQ6ZT1jLk5PTkV9ZSE9PWMuTk9ORSYmKGEuZG9tRWxlbWVudC5vd25lckRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJtb3ZlIiwKSSksYS5kb21FbGVtZW50Lm93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcnVwIixKKSxhLmRpc3BhdGNoRXZlbnQoTCkpfWZ1bmN0aW9uIFUoYil7ITE9PT1hLmVuYWJsZWR8fCExPT09YS5lbmFibGVab29tfHxlIT09Yy5OT05FJiZlIT09Yy5ST1RBVEV8fChiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wUHJvcGFnYXRpb24oKSxhLmRpc3BhdGNoRXZlbnQoTCksMD5iLmRlbHRhWT9NKEQoKSk6MDxiLmRlbHRhWSYmSChEKCkpLGEudXBkYXRlKCksYS5kaXNwYXRjaEV2ZW50KEspKX1mdW5jdGlvbiBWKGIpe2lmKCExIT09YS5lbmFibGVkJiYhMSE9PWEuZW5hYmxlUGFuKXt2YXIgZD0hMTtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEua2V5cy5VUDp3KDAsYS5rZXlQYW5TcGVlZCk7ZD0hMDticmVhaztjYXNlIGEua2V5cy5CT1RUT006dygwLC1hLmtleVBhblNwZWVkKTtkPSEwO2JyZWFrO2Nhc2UgYS5rZXlzLkxFRlQ6dyhhLmtleVBhblNwZWVkLDApO2Q9ITA7YnJlYWs7CmNhc2UgYS5rZXlzLlJJR0hUOncoLWEua2V5UGFuU3BlZWQsMCksZD0hMH1kJiYoYi5wcmV2ZW50RGVmYXVsdCgpLGEudXBkYXRlKCkpfX1mdW5jdGlvbiBXKGIpe2lmKCExIT09YS5lbmFibGVkKXtiLnByZXZlbnREZWZhdWx0KCk7c3dpdGNoKGIudG91Y2hlcy5sZW5ndGgpe2Nhc2UgMTpzd2l0Y2goYS50b3VjaGVzLk9ORSl7Y2FzZSBUSFJFRS5UT1VDSC5ST1RBVEU6aWYoITE9PT1hLmVuYWJsZVJvdGF0ZSlyZXR1cm47TihiKTtlPWMuVE9VQ0hfUk9UQVRFO2JyZWFrO2Nhc2UgVEhSRUUuVE9VQ0guUEFOOmlmKCExPT09YS5lbmFibGVQYW4pcmV0dXJuO08oYik7ZT1jLlRPVUNIX1BBTjticmVhaztkZWZhdWx0OmU9Yy5OT05FfWJyZWFrO2Nhc2UgMjpzd2l0Y2goYS50b3VjaGVzLlRXTyl7Y2FzZSBUSFJFRS5UT1VDSC5ET0xMWV9QQU46aWYoITE9PT1hLmVuYWJsZVpvb20mJiExPT09YS5lbmFibGVQYW4pcmV0dXJuO2EuZW5hYmxlWm9vbSYmUChiKTthLmVuYWJsZVBhbiYmTyhiKTsKZT1jLlRPVUNIX0RPTExZX1BBTjticmVhaztjYXNlIFRIUkVFLlRPVUNILkRPTExZX1JPVEFURTppZighMT09PWEuZW5hYmxlWm9vbSYmITE9PT1hLmVuYWJsZVJvdGF0ZSlyZXR1cm47YS5lbmFibGVab29tJiZQKGIpO2EuZW5hYmxlUm90YXRlJiZOKGIpO2U9Yy5UT1VDSF9ET0xMWV9ST1RBVEU7YnJlYWs7ZGVmYXVsdDplPWMuTk9ORX1icmVhaztkZWZhdWx0OmU9Yy5OT05FfWUhPT1jLk5PTkUmJmEuZGlzcGF0Y2hFdmVudChMKX19ZnVuY3Rpb24gWChiKXtpZighMSE9PWEuZW5hYmxlZClzd2l0Y2goYi5wcmV2ZW50RGVmYXVsdCgpLGIuc3RvcFByb3BhZ2F0aW9uKCksZSl7Y2FzZSBjLlRPVUNIX1JPVEFURTppZighMT09PWEuZW5hYmxlUm90YXRlKWJyZWFrO1EoYik7YS51cGRhdGUoKTticmVhaztjYXNlIGMuVE9VQ0hfUEFOOmlmKCExPT09YS5lbmFibGVQYW4pYnJlYWs7UihiKTthLnVwZGF0ZSgpO2JyZWFrO2Nhc2UgYy5UT1VDSF9ET0xMWV9QQU46aWYoITE9PT1hLmVuYWJsZVpvb20mJgohMT09PWEuZW5hYmxlUGFuKWJyZWFrO2EuZW5hYmxlWm9vbSYmUyhiKTthLmVuYWJsZVBhbiYmUihiKTthLnVwZGF0ZSgpO2JyZWFrO2Nhc2UgYy5UT1VDSF9ET0xMWV9ST1RBVEU6aWYoITE9PT1hLmVuYWJsZVpvb20mJiExPT09YS5lbmFibGVSb3RhdGUpYnJlYWs7YS5lbmFibGVab29tJiZTKGIpO2EuZW5hYmxlUm90YXRlJiZRKGIpO2EudXBkYXRlKCk7YnJlYWs7ZGVmYXVsdDplPWMuTk9ORX19ZnVuY3Rpb24gWShiKXshMSE9PWEuZW5hYmxlZCYmKGEuZGlzcGF0Y2hFdmVudChLKSxlPWMuTk9ORSl9ZnVuY3Rpb24gWihiKXshMSE9PWEuZW5hYmxlZCYmYi5wcmV2ZW50RGVmYXVsdCgpfXZvaWQgMD09PUEmJmNvbnNvbGUud2FybignVEhSRUUuT3JiaXRDb250cm9sczogVGhlIHNlY29uZCBwYXJhbWV0ZXIgImRvbUVsZW1lbnQiIGlzIG5vdyBtYW5kYXRvcnkuJyk7QT09PWRvY3VtZW50JiZjb25zb2xlLmVycm9yKCdUSFJFRS5PcmJpdENvbnRyb2xzOiAiZG9jdW1lbnQiIHNob3VsZCBub3QgYmUgdXNlZCBhcyB0aGUgdGFyZ2V0ICJkb21FbGVtZW50Ii4gUGxlYXNlIHVzZSAicmVuZGVyZXIuZG9tRWxlbWVudCIgaW5zdGVhZC4nKTsKdGhpcy5vYmplY3Q9Qzt0aGlzLmRvbUVsZW1lbnQ9QTt0aGlzLmVuYWJsZWQ9ITA7dGhpcy50YXJnZXQ9bmV3IFRIUkVFLlZlY3RvcjM7dGhpcy5taW5EaXN0YW5jZT0wO3RoaXMubWF4RGlzdGFuY2U9SW5maW5pdHk7dGhpcy5taW5ab29tPTA7dGhpcy5tYXhab29tPUluZmluaXR5O3RoaXMubWluUG9sYXJBbmdsZT0wO3RoaXMubWF4UG9sYXJBbmdsZT1NYXRoLlBJO3RoaXMubWluQXppbXV0aEFuZ2xlPS1JbmZpbml0eTt0aGlzLm1heEF6aW11dGhBbmdsZT1JbmZpbml0eTt0aGlzLmVuYWJsZURhbXBpbmc9ITE7dGhpcy5kYW1waW5nRmFjdG9yPS4wNTt0aGlzLmVuYWJsZVpvb209ITA7dGhpcy56b29tU3BlZWQ9MTt0aGlzLmVuYWJsZVJvdGF0ZT0hMDt0aGlzLnJvdGF0ZVNwZWVkPTE7dGhpcy5lbmFibGVQYW49ITA7dGhpcy5wYW5TcGVlZD0xO3RoaXMuc2NyZWVuU3BhY2VQYW5uaW5nPSEwO3RoaXMua2V5UGFuU3BlZWQ9Nzt0aGlzLmF1dG9Sb3RhdGU9ITE7dGhpcy5hdXRvUm90YXRlU3BlZWQ9CjI7dGhpcy5rZXlzPXtMRUZUOjM3LFVQOjM4LFJJR0hUOjM5LEJPVFRPTTo0MH07dGhpcy5tb3VzZUJ1dHRvbnM9e0xFRlQ6VEhSRUUuTU9VU0UuUk9UQVRFLE1JRERMRTpUSFJFRS5NT1VTRS5ET0xMWSxSSUdIVDpUSFJFRS5NT1VTRS5QQU59O3RoaXMudG91Y2hlcz17T05FOlRIUkVFLlRPVUNILlJPVEFURSxUV086VEhSRUUuVE9VQ0guRE9MTFlfUEFOfTt0aGlzLnRhcmdldDA9dGhpcy50YXJnZXQuY2xvbmUoKTt0aGlzLnBvc2l0aW9uMD10aGlzLm9iamVjdC5wb3NpdGlvbi5jbG9uZSgpO3RoaXMuem9vbTA9dGhpcy5vYmplY3Quem9vbTt0aGlzLl9kb21FbGVtZW50S2V5RXZlbnRzPW51bGw7dGhpcy5nZXRQb2xhckFuZ2xlPWZ1bmN0aW9uKCl7cmV0dXJuIGYucGhpfTt0aGlzLmdldEF6aW11dGhhbEFuZ2xlPWZ1bmN0aW9uKCl7cmV0dXJuIGYudGhldGF9O3RoaXMubGlzdGVuVG9LZXlFdmVudHM9ZnVuY3Rpb24oYil7Yi5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIixWKTt0aGlzLl9kb21FbGVtZW50S2V5RXZlbnRzPQpifTt0aGlzLnNhdmVTdGF0ZT1mdW5jdGlvbigpe2EudGFyZ2V0MC5jb3B5KGEudGFyZ2V0KTthLnBvc2l0aW9uMC5jb3B5KGEub2JqZWN0LnBvc2l0aW9uKTthLnpvb20wPWEub2JqZWN0Lnpvb219O3RoaXMucmVzZXQ9ZnVuY3Rpb24oKXthLnRhcmdldC5jb3B5KGEudGFyZ2V0MCk7YS5vYmplY3QucG9zaXRpb24uY29weShhLnBvc2l0aW9uMCk7YS5vYmplY3Quem9vbT1hLnpvb20wO2Eub2JqZWN0LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTthLmRpc3BhdGNoRXZlbnQoYWEpO2EudXBkYXRlKCk7ZT1jLk5PTkV9O3RoaXMudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGI9bmV3IFRIUkVFLlZlY3RvcjMsZD0obmV3IFRIUkVFLlF1YXRlcm5pb24pLnNldEZyb21Vbml0VmVjdG9ycyhDLnVwLG5ldyBUSFJFRS5WZWN0b3IzKDAsMSwwKSksaD1kLmNsb25lKCkuaW52ZXJ0KCkscj1uZXcgVEhSRUUuVmVjdG9yMyx5PW5ldyBUSFJFRS5RdWF0ZXJuaW9uLEc9MipNYXRoLlBJO3JldHVybiBmdW5jdGlvbigpe3ZhciBiYT0KYS5vYmplY3QucG9zaXRpb247Yi5jb3B5KGJhKS5zdWIoYS50YXJnZXQpO2IuYXBwbHlRdWF0ZXJuaW9uKGQpO2Yuc2V0RnJvbVZlY3RvcjMoYik7YS5hdXRvUm90YXRlJiZlPT09Yy5OT05FJiYoZy50aGV0YS09MipNYXRoLlBJLzYwLzYwKmEuYXV0b1JvdGF0ZVNwZWVkKTthLmVuYWJsZURhbXBpbmc/KGYudGhldGErPWcudGhldGEqYS5kYW1waW5nRmFjdG9yLGYucGhpKz1nLnBoaSphLmRhbXBpbmdGYWN0b3IpOihmLnRoZXRhKz1nLnRoZXRhLGYucGhpKz1nLnBoaSk7dmFyIGs9YS5taW5BemltdXRoQW5nbGUsbD1hLm1heEF6aW11dGhBbmdsZTtpc0Zpbml0ZShrKSYmaXNGaW5pdGUobCkmJihrPC1NYXRoLlBJP2srPUc6az5NYXRoLlBJJiYoay09RyksbDwtTWF0aC5QST9sKz1HOmw+TWF0aC5QSSYmKGwtPUcpLGYudGhldGE9azw9bD9NYXRoLm1heChrLE1hdGgubWluKGwsZi50aGV0YSkpOmYudGhldGE+KGsrbCkvMj9NYXRoLm1heChrLGYudGhldGEpOk1hdGgubWluKGwsZi50aGV0YSkpOwpmLnBoaT1NYXRoLm1heChhLm1pblBvbGFyQW5nbGUsTWF0aC5taW4oYS5tYXhQb2xhckFuZ2xlLGYucGhpKSk7Zi5tYWtlU2FmZSgpO2YucmFkaXVzKj1FO2YucmFkaXVzPU1hdGgubWF4KGEubWluRGlzdGFuY2UsTWF0aC5taW4oYS5tYXhEaXN0YW5jZSxmLnJhZGl1cykpOyEwPT09YS5lbmFibGVEYW1waW5nP2EudGFyZ2V0LmFkZFNjYWxlZFZlY3Rvcih6LGEuZGFtcGluZ0ZhY3Rvcik6YS50YXJnZXQuYWRkKHopO2Iuc2V0RnJvbVNwaGVyaWNhbChmKTtiLmFwcGx5UXVhdGVybmlvbihoKTtiYS5jb3B5KGEudGFyZ2V0KS5hZGQoYik7YS5vYmplY3QubG9va0F0KGEudGFyZ2V0KTshMD09PWEuZW5hYmxlRGFtcGluZz8oZy50aGV0YSo9MS1hLmRhbXBpbmdGYWN0b3IsZy5waGkqPTEtYS5kYW1waW5nRmFjdG9yLHoubXVsdGlwbHlTY2FsYXIoMS1hLmRhbXBpbmdGYWN0b3IpKTooZy5zZXQoMCwwLDApLHouc2V0KDAsMCwwKSk7RT0xO3JldHVybiBGfHxyLmRpc3RhbmNlVG9TcXVhcmVkKGEub2JqZWN0LnBvc2l0aW9uKT4KY2F8fDgqKDEteS5kb3QoYS5vYmplY3QucXVhdGVybmlvbikpPmNhPyhhLmRpc3BhdGNoRXZlbnQoYWEpLHIuY29weShhLm9iamVjdC5wb3NpdGlvbikseS5jb3B5KGEub2JqZWN0LnF1YXRlcm5pb24pLEY9ITEsITApOiExfX0oKTt0aGlzLmRpc3Bvc2U9ZnVuY3Rpb24oKXthLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY29udGV4dG1lbnUiLFopO2EuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVyZG93biIsVCk7YS5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIndoZWVsIixVKTthLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsVyk7YS5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIixZKTthLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigidG91Y2htb3ZlIixYKTthLmRvbUVsZW1lbnQub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVybW92ZSIsCkkpO2EuZG9tRWxlbWVudC5vd25lckRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJ1cCIsSik7bnVsbCE9PWEuX2RvbUVsZW1lbnRLZXlFdmVudHMmJmEuX2RvbUVsZW1lbnRLZXlFdmVudHMucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsVil9O3ZhciBhPXRoaXMsYWE9e3R5cGU6ImNoYW5nZSJ9LEw9e3R5cGU6InN0YXJ0In0sSz17dHlwZToiZW5kIn0sYz17Tk9ORTotMSxST1RBVEU6MCxET0xMWToxLFBBTjoyLFRPVUNIX1JPVEFURTozLFRPVUNIX1BBTjo0LFRPVUNIX0RPTExZX1BBTjo1LFRPVUNIX0RPTExZX1JPVEFURTo2fSxlPWMuTk9ORSxjYT0xRS02LGY9bmV3IFRIUkVFLlNwaGVyaWNhbCxnPW5ldyBUSFJFRS5TcGhlcmljYWwsRT0xLHo9bmV3IFRIUkVFLlZlY3RvcjMsRj0hMSxtPW5ldyBUSFJFRS5WZWN0b3IyLHA9bmV3IFRIUkVFLlZlY3RvcjIsdT1uZXcgVEhSRUUuVmVjdG9yMixuPW5ldyBUSFJFRS5WZWN0b3IyLHE9bmV3IFRIUkVFLlZlY3RvcjIsCnY9bmV3IFRIUkVFLlZlY3RvcjIsdD1uZXcgVEhSRUUuVmVjdG9yMix4PW5ldyBUSFJFRS5WZWN0b3IyLEI9bmV3IFRIUkVFLlZlY3RvcjIsZGE9ZnVuY3Rpb24oKXt2YXIgYj1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oZCxoKXtiLnNldEZyb21NYXRyaXhDb2x1bW4oaCwwKTtiLm11bHRpcGx5U2NhbGFyKC1kKTt6LmFkZChiKX19KCksZWE9ZnVuY3Rpb24oKXt2YXIgYj1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oZCxoKXshMD09PWEuc2NyZWVuU3BhY2VQYW5uaW5nP2Iuc2V0RnJvbU1hdHJpeENvbHVtbihoLDEpOihiLnNldEZyb21NYXRyaXhDb2x1bW4oaCwwKSxiLmNyb3NzVmVjdG9ycyhhLm9iamVjdC51cCxiKSk7Yi5tdWx0aXBseVNjYWxhcihkKTt6LmFkZChiKX19KCksdz1mdW5jdGlvbigpe3ZhciBiPW5ldyBUSFJFRS5WZWN0b3IzO3JldHVybiBmdW5jdGlvbihkLGgpe3ZhciByPWEuZG9tRWxlbWVudDtpZihhLm9iamVjdC5pc1BlcnNwZWN0aXZlQ2FtZXJhKXtiLmNvcHkoYS5vYmplY3QucG9zaXRpb24pLnN1YihhLnRhcmdldCk7CnZhciB5PWIubGVuZ3RoKCk7eSo9TWF0aC50YW4oYS5vYmplY3QuZm92LzIqTWF0aC5QSS8xODApO2RhKDIqZCp5L3IuY2xpZW50SGVpZ2h0LGEub2JqZWN0Lm1hdHJpeCk7ZWEoMipoKnkvci5jbGllbnRIZWlnaHQsYS5vYmplY3QubWF0cml4KX1lbHNlIGEub2JqZWN0LmlzT3J0aG9ncmFwaGljQ2FtZXJhPyhkYShkKihhLm9iamVjdC5yaWdodC1hLm9iamVjdC5sZWZ0KS9hLm9iamVjdC56b29tL3IuY2xpZW50V2lkdGgsYS5vYmplY3QubWF0cml4KSxlYShoKihhLm9iamVjdC50b3AtYS5vYmplY3QuYm90dG9tKS9hLm9iamVjdC56b29tL3IuY2xpZW50SGVpZ2h0LGEub2JqZWN0Lm1hdHJpeCkpOihjb25zb2xlLndhcm4oIldBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIHBhbiBkaXNhYmxlZC4iKSxhLmVuYWJsZVBhbj0hMSl9fSgpO2EuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsWik7YS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJkb3duIiwKVCk7YS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIndoZWVsIixVKTthLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsVyk7YS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIixZKTthLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2htb3ZlIixYKTt0aGlzLnVwZGF0ZSgpfTtUSFJFRS5PcmJpdENvbnRyb2xzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUpO1RIUkVFLk9yYml0Q29udHJvbHMucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLk9yYml0Q29udHJvbHM7ClRIUkVFLk1hcENvbnRyb2xzPWZ1bmN0aW9uKEMsQSl7VEhSRUUuT3JiaXRDb250cm9scy5jYWxsKHRoaXMsQyxBKTt0aGlzLnNjcmVlblNwYWNlUGFubmluZz0hMTt0aGlzLm1vdXNlQnV0dG9ucy5MRUZUPVRIUkVFLk1PVVNFLlBBTjt0aGlzLm1vdXNlQnV0dG9ucy5SSUdIVD1USFJFRS5NT1VTRS5ST1RBVEU7dGhpcy50b3VjaGVzLk9ORT1USFJFRS5UT1VDSC5QQU47dGhpcy50b3VjaGVzLlRXTz1USFJFRS5UT1VDSC5ET0xMWV9ST1RBVEV9O1RIUkVFLk1hcENvbnRyb2xzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUpO1RIUkVFLk1hcENvbnRyb2xzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5NYXBDb250cm9sczs=`)});
            }());

            (function(for_THREE_OBJLoader)
            {
                HEAD.insert({script:`#THREE_OBJLoader`,$:decode.b64(`IShmdW5jdGlvbihCdWZmZXJHZW9tZXRyeSxGaWxlTG9hZGVyLEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUsR3JvdXAsTGluZUJhc2ljTWF0ZXJpYWwsTGluZVNlZ21lbnRzLExvYWRlcixNYXRlcmlhbCxNZXNoLE1lc2hQaG9uZ01hdGVyaWFsLFBvaW50cyxQb2ludHNNYXRlcmlhbCxWZWN0b3IzKQp7CkJ1ZmZlckdlb21ldHJ5ID0gVEhSRUUuQnVmZmVyR2VvbWV0cnk7CkZpbGVMb2FkZXIgPSBUSFJFRS5GaWxlTG9hZGVyOwpGbG9hdDMyQnVmZmVyQXR0cmlidXRlID0gVEhSRUUuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZTsKR3JvdXAgPSBUSFJFRS5Hcm91cDsKTGluZUJhc2ljTWF0ZXJpYWwgPSBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbDsKTGluZVNlZ21lbnRzID0gVEhSRUUuTGluZVNlZ21lbnRzOwpMb2FkZXIgPSBUSFJFRS5Mb2FkZXI7Ck1hdGVyaWFsID0gVEhSRUUuTWF0ZXJpYWw7Ck1lc2ggPSBUSFJFRS5NZXNoOwpNZXNoUGhvbmdNYXRlcmlhbCA9IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsOwpQb2ludHMgPSBUSFJFRS5Qb2ludHM7ClBvaW50c01hdGVyaWFsID0gVEhSRUUuUG9pbnRzTWF0ZXJpYWw7ClZlY3RvcjMgPSBUSFJFRS5WZWN0b3IzOwoKdmFyIE9CSkxvYWRlciA9ICggZnVuY3Rpb24gKCkgewoKCS8vIG8gb2JqZWN0X25hbWUgfCBnIGdyb3VwX25hbWUKCXZhciBvYmplY3RfcGF0dGVybiA9IC9eW29nXVxzKiguKyk/LzsKCS8vIG10bGxpYiBmaWxlX3JlZmVyZW5jZQoJdmFyIG1hdGVyaWFsX2xpYnJhcnlfcGF0dGVybiA9IC9ebXRsbGliIC87CgkvLyB1c2VtdGwgbWF0ZXJpYWxfbmFtZQoJdmFyIG1hdGVyaWFsX3VzZV9wYXR0ZXJuID0gL151c2VtdGwgLzsKCS8vIHVzZW1hcCBtYXBfbmFtZQoJdmFyIG1hcF91c2VfcGF0dGVybiA9IC9edXNlbWFwIC87CgoJdmFyIHZBID0gbmV3IFZlY3RvcjMoKTsKCXZhciB2QiA9IG5ldyBWZWN0b3IzKCk7Cgl2YXIgdkMgPSBuZXcgVmVjdG9yMygpOwoKCXZhciBhYiA9IG5ldyBWZWN0b3IzKCk7Cgl2YXIgY2IgPSBuZXcgVmVjdG9yMygpOwoKCWZ1bmN0aW9uIFBhcnNlclN0YXRlKCkgewoKCQl2YXIgc3RhdGUgPSB7CgkJCW9iamVjdHM6IFtdLAoJCQlvYmplY3Q6IHt9LAoKCQkJdmVydGljZXM6IFtdLAoJCQlub3JtYWxzOiBbXSwKCQkJY29sb3JzOiBbXSwKCQkJdXZzOiBbXSwKCgkJCW1hdGVyaWFsczoge30sCgkJCW1hdGVyaWFsTGlicmFyaWVzOiBbXSwKCgkJCXN0YXJ0T2JqZWN0OiBmdW5jdGlvbiAoIG5hbWUsIGZyb21EZWNsYXJhdGlvbiApIHsKCgkJCQkvLyBJZiB0aGUgY3VycmVudCBvYmplY3QgKGluaXRpYWwgZnJvbSByZXNldCkgaXMgbm90IGZyb20gYSBnL28gZGVjbGFyYXRpb24gaW4gdGhlIHBhcnNlZAoJCQkJLy8gZmlsZS4gV2UgbmVlZCB0byB1c2UgaXQgZm9yIHRoZSBmaXJzdCBwYXJzZWQgZy9vIHRvIGtlZXAgdGhpbmdzIGluIHN5bmMuCgkJCQlpZiAoIHRoaXMub2JqZWN0ICYmIHRoaXMub2JqZWN0LmZyb21EZWNsYXJhdGlvbiA9PT0gZmFsc2UgKSB7CgoJCQkJCXRoaXMub2JqZWN0Lm5hbWUgPSBuYW1lOwoJCQkJCXRoaXMub2JqZWN0LmZyb21EZWNsYXJhdGlvbiA9ICggZnJvbURlY2xhcmF0aW9uICE9PSBmYWxzZSApOwoJCQkJCXJldHVybjsKCgkJCQl9CgoJCQkJdmFyIHByZXZpb3VzTWF0ZXJpYWwgPSAoIHRoaXMub2JqZWN0ICYmIHR5cGVvZiB0aGlzLm9iamVjdC5jdXJyZW50TWF0ZXJpYWwgPT09ICdmdW5jdGlvbicgPyB0aGlzLm9iamVjdC5jdXJyZW50TWF0ZXJpYWwoKSA6IHVuZGVmaW5lZCApOwoKCQkJCWlmICggdGhpcy5vYmplY3QgJiYgdHlwZW9mIHRoaXMub2JqZWN0Ll9maW5hbGl6ZSA9PT0gJ2Z1bmN0aW9uJyApIHsKCgkJCQkJdGhpcy5vYmplY3QuX2ZpbmFsaXplKCB0cnVlICk7CgoJCQkJfQoKCQkJCXRoaXMub2JqZWN0ID0gewoJCQkJCW5hbWU6IG5hbWUgfHwgJycsCgkJCQkJZnJvbURlY2xhcmF0aW9uOiAoIGZyb21EZWNsYXJhdGlvbiAhPT0gZmFsc2UgKSwKCgkJCQkJZ2VvbWV0cnk6IHsKCQkJCQkJdmVydGljZXM6IFtdLAoJCQkJCQlub3JtYWxzOiBbXSwKCQkJCQkJY29sb3JzOiBbXSwKCQkJCQkJdXZzOiBbXSwKCQkJCQkJaGFzVVZJbmRpY2VzOiBmYWxzZQoJCQkJCX0sCgkJCQkJbWF0ZXJpYWxzOiBbXSwKCQkJCQlzbW9vdGg6IHRydWUsCgoJCQkJCXN0YXJ0TWF0ZXJpYWw6IGZ1bmN0aW9uICggbmFtZSwgbGlicmFyaWVzICkgewoKCQkJCQkJdmFyIHByZXZpb3VzID0gdGhpcy5fZmluYWxpemUoIGZhbHNlICk7CgoJCQkJCQkvLyBOZXcgdXNlbXRsIGRlY2xhcmF0aW9uIG92ZXJ3cml0ZXMgYW4gaW5oZXJpdGVkIG1hdGVyaWFsLCBleGNlcHQgaWYgZmFjZXMgd2VyZSBkZWNsYXJlZAoJCQkJCQkvLyBhZnRlciB0aGUgbWF0ZXJpYWwsIHRoZW4gaXQgbXVzdCBiZSBwcmVzZXJ2ZWQgZm9yIHByb3BlciBNdWx0aU1hdGVyaWFsIGNvbnRpbnVhdGlvbi4KCQkJCQkJaWYgKCBwcmV2aW91cyAmJiAoIHByZXZpb3VzLmluaGVyaXRlZCB8fCBwcmV2aW91cy5ncm91cENvdW50IDw9IDAgKSApIHsKCgkJCQkJCQl0aGlzLm1hdGVyaWFscy5zcGxpY2UoIHByZXZpb3VzLmluZGV4LCAxICk7CgoJCQkJCQl9CgoJCQkJCQl2YXIgbWF0ZXJpYWwgPSB7CgkJCQkJCQlpbmRleDogdGhpcy5tYXRlcmlhbHMubGVuZ3RoLAoJCQkJCQkJbmFtZTogbmFtZSB8fCAnJywKCQkJCQkJCW10bGxpYjogKCBBcnJheS5pc0FycmF5KCBsaWJyYXJpZXMgKSAmJiBsaWJyYXJpZXMubGVuZ3RoID4gMCA/IGxpYnJhcmllc1sgbGlicmFyaWVzLmxlbmd0aCAtIDEgXSA6ICcnICksCgkJCQkJCQlzbW9vdGg6ICggcHJldmlvdXMgIT09IHVuZGVmaW5lZCA/IHByZXZpb3VzLnNtb290aCA6IHRoaXMuc21vb3RoICksCgkJCQkJCQlncm91cFN0YXJ0OiAoIHByZXZpb3VzICE9PSB1bmRlZmluZWQgPyBwcmV2aW91cy5ncm91cEVuZCA6IDAgKSwKCQkJCQkJCWdyb3VwRW5kOiAtIDEsCgkJCQkJCQlncm91cENvdW50OiAtIDEsCgkJCQkJCQlpbmhlcml0ZWQ6IGZhbHNlLAoKCQkJCQkJCWNsb25lOiBmdW5jdGlvbiAoIGluZGV4ICkgewoKCQkJCQkJCQl2YXIgY2xvbmVkID0gewoJCQkJCQkJCQlpbmRleDogKCB0eXBlb2YgaW5kZXggPT09ICdudW1iZXInID8gaW5kZXggOiB0aGlzLmluZGV4ICksCgkJCQkJCQkJCW5hbWU6IHRoaXMubmFtZSwKCQkJCQkJCQkJbXRsbGliOiB0aGlzLm10bGxpYiwKCQkJCQkJCQkJc21vb3RoOiB0aGlzLnNtb290aCwKCQkJCQkJCQkJZ3JvdXBTdGFydDogMCwKCQkJCQkJCQkJZ3JvdXBFbmQ6IC0gMSwKCQkJCQkJCQkJZ3JvdXBDb3VudDogLSAxLAoJCQkJCQkJCQlpbmhlcml0ZWQ6IGZhbHNlCgkJCQkJCQkJfTsKCQkJCQkJCQljbG9uZWQuY2xvbmUgPSB0aGlzLmNsb25lLmJpbmQoIGNsb25lZCApOwoJCQkJCQkJCXJldHVybiBjbG9uZWQ7CgoJCQkJCQkJfQoJCQkJCQl9OwoKCQkJCQkJdGhpcy5tYXRlcmlhbHMucHVzaCggbWF0ZXJpYWwgKTsKCgkJCQkJCXJldHVybiBtYXRlcmlhbDsKCgkJCQkJfSwKCgkJCQkJY3VycmVudE1hdGVyaWFsOiBmdW5jdGlvbiAoKSB7CgoJCQkJCQlpZiAoIHRoaXMubWF0ZXJpYWxzLmxlbmd0aCA+IDAgKSB7CgoJCQkJCQkJcmV0dXJuIHRoaXMubWF0ZXJpYWxzWyB0aGlzLm1hdGVyaWFscy5sZW5ndGggLSAxIF07CgoJCQkJCQl9CgoJCQkJCQlyZXR1cm4gdW5kZWZpbmVkOwoKCQkJCQl9LAoKCQkJCQlfZmluYWxpemU6IGZ1bmN0aW9uICggZW5kICkgewoKCQkJCQkJdmFyIGxhc3RNdWx0aU1hdGVyaWFsID0gdGhpcy5jdXJyZW50TWF0ZXJpYWwoKTsKCQkJCQkJaWYgKCBsYXN0TXVsdGlNYXRlcmlhbCAmJiBsYXN0TXVsdGlNYXRlcmlhbC5ncm91cEVuZCA9PT0gLSAxICkgewoKCQkJCQkJCWxhc3RNdWx0aU1hdGVyaWFsLmdyb3VwRW5kID0gdGhpcy5nZW9tZXRyeS52ZXJ0aWNlcy5sZW5ndGggLyAzOwoJCQkJCQkJbGFzdE11bHRpTWF0ZXJpYWwuZ3JvdXBDb3VudCA9IGxhc3RNdWx0aU1hdGVyaWFsLmdyb3VwRW5kIC0gbGFzdE11bHRpTWF0ZXJpYWwuZ3JvdXBTdGFydDsKCQkJCQkJCWxhc3RNdWx0aU1hdGVyaWFsLmluaGVyaXRlZCA9IGZhbHNlOwoKCQkJCQkJfQoKCQkJCQkJLy8gSWdub3JlIG9iamVjdHMgdGFpbCBtYXRlcmlhbHMgaWYgbm8gZmFjZSBkZWNsYXJhdGlvbnMgZm9sbG93ZWQgdGhlbSBiZWZvcmUgYSBuZXcgby9nIHN0YXJ0ZWQuCgkJCQkJCWlmICggZW5kICYmIHRoaXMubWF0ZXJpYWxzLmxlbmd0aCA+IDEgKSB7CgoJCQkJCQkJZm9yICggdmFyIG1pID0gdGhpcy5tYXRlcmlhbHMubGVuZ3RoIC0gMTsgbWkgPj0gMDsgbWkgLS0gKSB7CgoJCQkJCQkJCWlmICggdGhpcy5tYXRlcmlhbHNbIG1pIF0uZ3JvdXBDb3VudCA8PSAwICkgewoKCQkJCQkJCQkJdGhpcy5tYXRlcmlhbHMuc3BsaWNlKCBtaSwgMSApOwoKCQkJCQkJCQl9CgoJCQkJCQkJfQoKCQkJCQkJfQoKCQkJCQkJLy8gR3VhcmFudGVlIGF0IGxlYXN0IG9uZSBlbXB0eSBtYXRlcmlhbCwgdGhpcyBtYWtlcyB0aGUgY3JlYXRpb24gbGF0ZXIgbW9yZSBzdHJhaWdodCBmb3J3YXJkLgoJCQkJCQlpZiAoIGVuZCAmJiB0aGlzLm1hdGVyaWFscy5sZW5ndGggPT09IDAgKSB7CgoJCQkJCQkJdGhpcy5tYXRlcmlhbHMucHVzaCggewoJCQkJCQkJCW5hbWU6ICcnLAoJCQkJCQkJCXNtb290aDogdGhpcy5zbW9vdGgKCQkJCQkJCX0gKTsKCgkJCQkJCX0KCgkJCQkJCXJldHVybiBsYXN0TXVsdGlNYXRlcmlhbDsKCgkJCQkJfQoJCQkJfTsKCgkJCQkvLyBJbmhlcml0IHByZXZpb3VzIG9iamVjdHMgbWF0ZXJpYWwuCgkJCQkvLyBTcGVjIHRlbGxzIHVzIHRoYXQgYSBkZWNsYXJlZCBtYXRlcmlhbCBtdXN0IGJlIHNldCB0byBhbGwgb2JqZWN0cyB1bnRpbCBhIG5ldyBtYXRlcmlhbCBpcyBkZWNsYXJlZC4KCQkJCS8vIElmIGEgdXNlbXRsIGRlY2xhcmF0aW9uIGlzIGVuY291bnRlcmVkIHdoaWxlIHRoaXMgbmV3IG9iamVjdCBpcyBiZWluZyBwYXJzZWQsIGl0IHdpbGwKCQkJCS8vIG92ZXJ3cml0ZSB0aGUgaW5oZXJpdGVkIG1hdGVyaWFsLiBFeGNlcHRpb24gYmVpbmcgdGhhdCB0aGVyZSB3YXMgYWxyZWFkeSBmYWNlIGRlY2xhcmF0aW9ucwoJCQkJLy8gdG8gdGhlIGluaGVyaXRlZCBtYXRlcmlhbCwgdGhlbiBpdCB3aWxsIGJlIHByZXNlcnZlZCBmb3IgcHJvcGVyIE11bHRpTWF0ZXJpYWwgY29udGludWF0aW9uLgoKCQkJCWlmICggcHJldmlvdXNNYXRlcmlhbCAmJiBwcmV2aW91c01hdGVyaWFsLm5hbWUgJiYgdHlwZW9mIHByZXZpb3VzTWF0ZXJpYWwuY2xvbmUgPT09ICdmdW5jdGlvbicgKSB7CgoJCQkJCXZhciBkZWNsYXJlZCA9IHByZXZpb3VzTWF0ZXJpYWwuY2xvbmUoIDAgKTsKCQkJCQlkZWNsYXJlZC5pbmhlcml0ZWQgPSB0cnVlOwoJCQkJCXRoaXMub2JqZWN0Lm1hdGVyaWFscy5wdXNoKCBkZWNsYXJlZCApOwoKCQkJCX0KCgkJCQl0aGlzLm9iamVjdHMucHVzaCggdGhpcy5vYmplY3QgKTsKCgkJCX0sCgoJCQlmaW5hbGl6ZTogZnVuY3Rpb24gKCkgewoKCQkJCWlmICggdGhpcy5vYmplY3QgJiYgdHlwZW9mIHRoaXMub2JqZWN0Ll9maW5hbGl6ZSA9PT0gJ2Z1bmN0aW9uJyApIHsKCgkJCQkJdGhpcy5vYmplY3QuX2ZpbmFsaXplKCB0cnVlICk7CgoJCQkJfQoKCQkJfSwKCgkJCXBhcnNlVmVydGV4SW5kZXg6IGZ1bmN0aW9uICggdmFsdWUsIGxlbiApIHsKCgkJCQl2YXIgaW5kZXggPSBwYXJzZUludCggdmFsdWUsIDEwICk7CgkJCQlyZXR1cm4gKCBpbmRleCA+PSAwID8gaW5kZXggLSAxIDogaW5kZXggKyBsZW4gLyAzICkgKiAzOwoKCQkJfSwKCgkJCXBhcnNlTm9ybWFsSW5kZXg6IGZ1bmN0aW9uICggdmFsdWUsIGxlbiApIHsKCgkJCQl2YXIgaW5kZXggPSBwYXJzZUludCggdmFsdWUsIDEwICk7CgkJCQlyZXR1cm4gKCBpbmRleCA+PSAwID8gaW5kZXggLSAxIDogaW5kZXggKyBsZW4gLyAzICkgKiAzOwoKCQkJfSwKCgkJCXBhcnNlVVZJbmRleDogZnVuY3Rpb24gKCB2YWx1ZSwgbGVuICkgewoKCQkJCXZhciBpbmRleCA9IHBhcnNlSW50KCB2YWx1ZSwgMTAgKTsKCQkJCXJldHVybiAoIGluZGV4ID49IDAgPyBpbmRleCAtIDEgOiBpbmRleCArIGxlbiAvIDIgKSAqIDI7CgoJCQl9LAoKCQkJYWRkVmVydGV4OiBmdW5jdGlvbiAoIGEsIGIsIGMgKSB7CgoJCQkJdmFyIHNyYyA9IHRoaXMudmVydGljZXM7CgkJCQl2YXIgZHN0ID0gdGhpcy5vYmplY3QuZ2VvbWV0cnkudmVydGljZXM7CgoJCQkJZHN0LnB1c2goIHNyY1sgYSArIDAgXSwgc3JjWyBhICsgMSBdLCBzcmNbIGEgKyAyIF0gKTsKCQkJCWRzdC5wdXNoKCBzcmNbIGIgKyAwIF0sIHNyY1sgYiArIDEgXSwgc3JjWyBiICsgMiBdICk7CgkJCQlkc3QucHVzaCggc3JjWyBjICsgMCBdLCBzcmNbIGMgKyAxIF0sIHNyY1sgYyArIDIgXSApOwoKCQkJfSwKCgkJCWFkZFZlcnRleFBvaW50OiBmdW5jdGlvbiAoIGEgKSB7CgoJCQkJdmFyIHNyYyA9IHRoaXMudmVydGljZXM7CgkJCQl2YXIgZHN0ID0gdGhpcy5vYmplY3QuZ2VvbWV0cnkudmVydGljZXM7CgoJCQkJZHN0LnB1c2goIHNyY1sgYSArIDAgXSwgc3JjWyBhICsgMSBdLCBzcmNbIGEgKyAyIF0gKTsKCgkJCX0sCgoJCQlhZGRWZXJ0ZXhMaW5lOiBmdW5jdGlvbiAoIGEgKSB7CgoJCQkJdmFyIHNyYyA9IHRoaXMudmVydGljZXM7CgkJCQl2YXIgZHN0ID0gdGhpcy5vYmplY3QuZ2VvbWV0cnkudmVydGljZXM7CgoJCQkJZHN0LnB1c2goIHNyY1sgYSArIDAgXSwgc3JjWyBhICsgMSBdLCBzcmNbIGEgKyAyIF0gKTsKCgkJCX0sCgoJCQlhZGROb3JtYWw6IGZ1bmN0aW9uICggYSwgYiwgYyApIHsKCgkJCQl2YXIgc3JjID0gdGhpcy5ub3JtYWxzOwoJCQkJdmFyIGRzdCA9IHRoaXMub2JqZWN0Lmdlb21ldHJ5Lm5vcm1hbHM7CgoJCQkJZHN0LnB1c2goIHNyY1sgYSArIDAgXSwgc3JjWyBhICsgMSBdLCBzcmNbIGEgKyAyIF0gKTsKCQkJCWRzdC5wdXNoKCBzcmNbIGIgKyAwIF0sIHNyY1sgYiArIDEgXSwgc3JjWyBiICsgMiBdICk7CgkJCQlkc3QucHVzaCggc3JjWyBjICsgMCBdLCBzcmNbIGMgKyAxIF0sIHNyY1sgYyArIDIgXSApOwoKCQkJfSwKCgkJCWFkZEZhY2VOb3JtYWw6IGZ1bmN0aW9uICggYSwgYiwgYyApIHsKCgkJCQl2YXIgc3JjID0gdGhpcy52ZXJ0aWNlczsKCQkJCXZhciBkc3QgPSB0aGlzLm9iamVjdC5nZW9tZXRyeS5ub3JtYWxzOwoKCQkJCXZBLmZyb21BcnJheSggc3JjLCBhICk7CgkJCQl2Qi5mcm9tQXJyYXkoIHNyYywgYiApOwoJCQkJdkMuZnJvbUFycmF5KCBzcmMsIGMgKTsKCgkJCQljYi5zdWJWZWN0b3JzKCB2QywgdkIgKTsKCQkJCWFiLnN1YlZlY3RvcnMoIHZBLCB2QiApOwoJCQkJY2IuY3Jvc3MoIGFiICk7CgoJCQkJY2Iubm9ybWFsaXplKCk7CgoJCQkJZHN0LnB1c2goIGNiLngsIGNiLnksIGNiLnogKTsKCQkJCWRzdC5wdXNoKCBjYi54LCBjYi55LCBjYi56ICk7CgkJCQlkc3QucHVzaCggY2IueCwgY2IueSwgY2IueiApOwoKCQkJfSwKCgkJCWFkZENvbG9yOiBmdW5jdGlvbiAoIGEsIGIsIGMgKSB7CgoJCQkJdmFyIHNyYyA9IHRoaXMuY29sb3JzOwoJCQkJdmFyIGRzdCA9IHRoaXMub2JqZWN0Lmdlb21ldHJ5LmNvbG9yczsKCgkJCQlpZiAoIHNyY1sgYSBdICE9PSB1bmRlZmluZWQgKSBkc3QucHVzaCggc3JjWyBhICsgMCBdLCBzcmNbIGEgKyAxIF0sIHNyY1sgYSArIDIgXSApOwoJCQkJaWYgKCBzcmNbIGIgXSAhPT0gdW5kZWZpbmVkICkgZHN0LnB1c2goIHNyY1sgYiArIDAgXSwgc3JjWyBiICsgMSBdLCBzcmNbIGIgKyAyIF0gKTsKCQkJCWlmICggc3JjWyBjIF0gIT09IHVuZGVmaW5lZCApIGRzdC5wdXNoKCBzcmNbIGMgKyAwIF0sIHNyY1sgYyArIDEgXSwgc3JjWyBjICsgMiBdICk7CgoJCQl9LAoKCQkJYWRkVVY6IGZ1bmN0aW9uICggYSwgYiwgYyApIHsKCgkJCQl2YXIgc3JjID0gdGhpcy51dnM7CgkJCQl2YXIgZHN0ID0gdGhpcy5vYmplY3QuZ2VvbWV0cnkudXZzOwoKCQkJCWRzdC5wdXNoKCBzcmNbIGEgKyAwIF0sIHNyY1sgYSArIDEgXSApOwoJCQkJZHN0LnB1c2goIHNyY1sgYiArIDAgXSwgc3JjWyBiICsgMSBdICk7CgkJCQlkc3QucHVzaCggc3JjWyBjICsgMCBdLCBzcmNbIGMgKyAxIF0gKTsKCgkJCX0sCgoJCQlhZGREZWZhdWx0VVY6IGZ1bmN0aW9uICgpIHsKCgkJCQl2YXIgZHN0ID0gdGhpcy5vYmplY3QuZ2VvbWV0cnkudXZzOwoKCQkJCWRzdC5wdXNoKCAwLCAwICk7CgkJCQlkc3QucHVzaCggMCwgMCApOwoJCQkJZHN0LnB1c2goIDAsIDAgKTsKCgkJCX0sCgoJCQlhZGRVVkxpbmU6IGZ1bmN0aW9uICggYSApIHsKCgkJCQl2YXIgc3JjID0gdGhpcy51dnM7CgkJCQl2YXIgZHN0ID0gdGhpcy5vYmplY3QuZ2VvbWV0cnkudXZzOwoKCQkJCWRzdC5wdXNoKCBzcmNbIGEgKyAwIF0sIHNyY1sgYSArIDEgXSApOwoKCQkJfSwKCgkJCWFkZEZhY2U6IGZ1bmN0aW9uICggYSwgYiwgYywgdWEsIHViLCB1YywgbmEsIG5iLCBuYyApIHsKCgkJCQl2YXIgdkxlbiA9IHRoaXMudmVydGljZXMubGVuZ3RoOwoKCQkJCXZhciBpYSA9IHRoaXMucGFyc2VWZXJ0ZXhJbmRleCggYSwgdkxlbiApOwoJCQkJdmFyIGliID0gdGhpcy5wYXJzZVZlcnRleEluZGV4KCBiLCB2TGVuICk7CgkJCQl2YXIgaWMgPSB0aGlzLnBhcnNlVmVydGV4SW5kZXgoIGMsIHZMZW4gKTsKCgkJCQl0aGlzLmFkZFZlcnRleCggaWEsIGliLCBpYyApOwoJCQkJdGhpcy5hZGRDb2xvciggaWEsIGliLCBpYyApOwoKCQkJCS8vIG5vcm1hbHMKCgkJCQlpZiAoIG5hICE9PSB1bmRlZmluZWQgJiYgbmEgIT09ICcnICkgewoKCQkJCQl2YXIgbkxlbiA9IHRoaXMubm9ybWFscy5sZW5ndGg7CgoJCQkJCWlhID0gdGhpcy5wYXJzZU5vcm1hbEluZGV4KCBuYSwgbkxlbiApOwoJCQkJCWliID0gdGhpcy5wYXJzZU5vcm1hbEluZGV4KCBuYiwgbkxlbiApOwoJCQkJCWljID0gdGhpcy5wYXJzZU5vcm1hbEluZGV4KCBuYywgbkxlbiApOwoKCQkJCQl0aGlzLmFkZE5vcm1hbCggaWEsIGliLCBpYyApOwoKCQkJCX0gZWxzZSB7CgoJCQkJCXRoaXMuYWRkRmFjZU5vcm1hbCggaWEsIGliLCBpYyApOwoKCQkJCX0KCgkJCQkvLyB1dnMKCgkJCQlpZiAoIHVhICE9PSB1bmRlZmluZWQgJiYgdWEgIT09ICcnICkgewoKCQkJCQl2YXIgdXZMZW4gPSB0aGlzLnV2cy5sZW5ndGg7CgoJCQkJCWlhID0gdGhpcy5wYXJzZVVWSW5kZXgoIHVhLCB1dkxlbiApOwoJCQkJCWliID0gdGhpcy5wYXJzZVVWSW5kZXgoIHViLCB1dkxlbiApOwoJCQkJCWljID0gdGhpcy5wYXJzZVVWSW5kZXgoIHVjLCB1dkxlbiApOwoKCQkJCQl0aGlzLmFkZFVWKCBpYSwgaWIsIGljICk7CgoJCQkJCXRoaXMub2JqZWN0Lmdlb21ldHJ5Lmhhc1VWSW5kaWNlcyA9IHRydWU7CgoJCQkJfSBlbHNlIHsKCgkJCQkJLy8gYWRkIHBsYWNlaG9sZGVyIHZhbHVlcyAoZm9yIGluY29uc2lzdGVudCBmYWNlIGRlZmluaXRpb25zKQoKCQkJCQl0aGlzLmFkZERlZmF1bHRVVigpOwoKCQkJCX0KCgkJCX0sCgoJCQlhZGRQb2ludEdlb21ldHJ5OiBmdW5jdGlvbiAoIHZlcnRpY2VzICkgewoKCQkJCXRoaXMub2JqZWN0Lmdlb21ldHJ5LnR5cGUgPSAnUG9pbnRzJzsKCgkJCQl2YXIgdkxlbiA9IHRoaXMudmVydGljZXMubGVuZ3RoOwoKCQkJCWZvciAoIHZhciB2aSA9IDAsIGwgPSB2ZXJ0aWNlcy5sZW5ndGg7IHZpIDwgbDsgdmkgKysgKSB7CgoJCQkJCXZhciBpbmRleCA9IHRoaXMucGFyc2VWZXJ0ZXhJbmRleCggdmVydGljZXNbIHZpIF0sIHZMZW4gKTsKCgkJCQkJdGhpcy5hZGRWZXJ0ZXhQb2ludCggaW5kZXggKTsKCQkJCQl0aGlzLmFkZENvbG9yKCBpbmRleCApOwoKCQkJCX0KCgkJCX0sCgoJCQlhZGRMaW5lR2VvbWV0cnk6IGZ1bmN0aW9uICggdmVydGljZXMsIHV2cyApIHsKCgkJCQl0aGlzLm9iamVjdC5nZW9tZXRyeS50eXBlID0gJ0xpbmUnOwoKCQkJCXZhciB2TGVuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7CgkJCQl2YXIgdXZMZW4gPSB0aGlzLnV2cy5sZW5ndGg7CgoJCQkJZm9yICggdmFyIHZpID0gMCwgbCA9IHZlcnRpY2VzLmxlbmd0aDsgdmkgPCBsOyB2aSArKyApIHsKCgkJCQkJdGhpcy5hZGRWZXJ0ZXhMaW5lKCB0aGlzLnBhcnNlVmVydGV4SW5kZXgoIHZlcnRpY2VzWyB2aSBdLCB2TGVuICkgKTsKCgkJCQl9CgoJCQkJZm9yICggdmFyIHV2aSA9IDAsIGwgPSB1dnMubGVuZ3RoOyB1dmkgPCBsOyB1dmkgKysgKSB7CgoJCQkJCXRoaXMuYWRkVVZMaW5lKCB0aGlzLnBhcnNlVVZJbmRleCggdXZzWyB1dmkgXSwgdXZMZW4gKSApOwoKCQkJCX0KCgkJCX0KCgkJfTsKCgkJc3RhdGUuc3RhcnRPYmplY3QoICcnLCBmYWxzZSApOwoKCQlyZXR1cm4gc3RhdGU7CgoJfQoKCS8vCgoJZnVuY3Rpb24gT0JKTG9hZGVyKCBtYW5hZ2VyICkgewoKCQlMb2FkZXIuY2FsbCggdGhpcywgbWFuYWdlciApOwoKCQl0aGlzLm1hdGVyaWFscyA9IG51bGw7CgoJfQoKCU9CSkxvYWRlci5wcm90b3R5cGUgPSBPYmplY3QuYXNzaWduKCBPYmplY3QuY3JlYXRlKCBMb2FkZXIucHJvdG90eXBlICksIHsKCgkJY29uc3RydWN0b3I6IE9CSkxvYWRlciwKCgkJbG9hZDogZnVuY3Rpb24gKCB1cmwsIG9uTG9hZCwgb25Qcm9ncmVzcywgb25FcnJvciApIHsKCgkJCXZhciBzY29wZSA9IHRoaXM7CgoJCQl2YXIgbG9hZGVyID0gbmV3IEZpbGVMb2FkZXIoIHRoaXMubWFuYWdlciApOwoJCQlsb2FkZXIuc2V0UGF0aCggdGhpcy5wYXRoICk7CgkJCWxvYWRlci5zZXRSZXF1ZXN0SGVhZGVyKCB0aGlzLnJlcXVlc3RIZWFkZXIgKTsKCQkJbG9hZGVyLnNldFdpdGhDcmVkZW50aWFscyggdGhpcy53aXRoQ3JlZGVudGlhbHMgKTsKCQkJbG9hZGVyLmxvYWQoIHVybCwgZnVuY3Rpb24gKCB0ZXh0ICkgewoKCQkJCXRyeSB7CgoJCQkJCW9uTG9hZCggc2NvcGUucGFyc2UoIHRleHQgKSApOwoKCQkJCX0gY2F0Y2ggKCBlICkgewoKCQkJCQlpZiAoIG9uRXJyb3IgKSB7CgoJCQkJCQlvbkVycm9yKCBlICk7CgoJCQkJCX0gZWxzZSB7CgoJCQkJCQljb25zb2xlLmVycm9yKCBlICk7CgoJCQkJCX0KCgkJCQkJc2NvcGUubWFuYWdlci5pdGVtRXJyb3IoIHVybCApOwoKCQkJCX0KCgkJCX0sIG9uUHJvZ3Jlc3MsIG9uRXJyb3IgKTsKCgkJfSwKCgkJc2V0TWF0ZXJpYWxzOiBmdW5jdGlvbiAoIG1hdGVyaWFscyApIHsKCgkJCXRoaXMubWF0ZXJpYWxzID0gbWF0ZXJpYWxzOwoKCQkJcmV0dXJuIHRoaXM7CgoJCX0sCgoJCXBhcnNlOiBmdW5jdGlvbiAoIHRleHQgKSB7CgoJCQl2YXIgc3RhdGUgPSBuZXcgUGFyc2VyU3RhdGUoKTsKCgkJCWlmICggdGV4dC5pbmRleE9mKCAnXHJcbicgKSAhPT0gLSAxICkgewoKCQkJCS8vIFRoaXMgaXMgZmFzdGVyIHRoYW4gU3RyaW5nLnNwbGl0IHdpdGggcmVnZXggdGhhdCBzcGxpdHMgb24gYm90aAoJCQkJdGV4dCA9IHRleHQucmVwbGFjZSggL1xyXG4vZywgJ1xuJyApOwoKCQkJfQoKCQkJaWYgKCB0ZXh0LmluZGV4T2YoICdcXFxuJyApICE9PSAtIDEgKSB7CgoJCQkJLy8gam9pbiBsaW5lcyBzZXBhcmF0ZWQgYnkgYSBsaW5lIGNvbnRpbnVhdGlvbiBjaGFyYWN0ZXIgKFwpCgkJCQl0ZXh0ID0gdGV4dC5yZXBsYWNlKCAvXFxcbi9nLCAnJyApOwoKCQkJfQoKCQkJdmFyIGxpbmVzID0gdGV4dC5zcGxpdCggJ1xuJyApOwoJCQl2YXIgbGluZSA9ICcnLCBsaW5lRmlyc3RDaGFyID0gJyc7CgkJCXZhciBsaW5lTGVuZ3RoID0gMDsKCQkJdmFyIHJlc3VsdCA9IFtdOwoKCQkJLy8gRmFzdGVyIHRvIGp1c3QgdHJpbSBsZWZ0IHNpZGUgb2YgdGhlIGxpbmUuIFVzZSBpZiBhdmFpbGFibGUuCgkJCXZhciB0cmltTGVmdCA9ICggdHlwZW9mICcnLnRyaW1MZWZ0ID09PSAnZnVuY3Rpb24nICk7CgoJCQlmb3IgKCB2YXIgaSA9IDAsIGwgPSBsaW5lcy5sZW5ndGg7IGkgPCBsOyBpICsrICkgewoKCQkJCWxpbmUgPSBsaW5lc1sgaSBdOwoKCQkJCWxpbmUgPSB0cmltTGVmdCA/IGxpbmUudHJpbUxlZnQoKSA6IGxpbmUudHJpbSgpOwoKCQkJCWxpbmVMZW5ndGggPSBsaW5lLmxlbmd0aDsKCgkJCQlpZiAoIGxpbmVMZW5ndGggPT09IDAgKSBjb250aW51ZTsKCgkJCQlsaW5lRmlyc3RDaGFyID0gbGluZS5jaGFyQXQoIDAgKTsKCgkJCQkvLyBAdG9kbyBpbnZva2UgcGFzc2VkIGluIGhhbmRsZXIgaWYgYW55CgkJCQlpZiAoIGxpbmVGaXJzdENoYXIgPT09ICcjJyApIGNvbnRpbnVlOwoKCQkJCWlmICggbGluZUZpcnN0Q2hhciA9PT0gJ3YnICkgewoKCQkJCQl2YXIgZGF0YSA9IGxpbmUuc3BsaXQoIC9ccysvICk7CgoJCQkJCXN3aXRjaCAoIGRhdGFbIDAgXSApIHsKCgkJCQkJCWNhc2UgJ3YnOgoJCQkJCQkJc3RhdGUudmVydGljZXMucHVzaCgKCQkJCQkJCQlwYXJzZUZsb2F0KCBkYXRhWyAxIF0gKSwKCQkJCQkJCQlwYXJzZUZsb2F0KCBkYXRhWyAyIF0gKSwKCQkJCQkJCQlwYXJzZUZsb2F0KCBkYXRhWyAzIF0gKQoJCQkJCQkJKTsKCQkJCQkJCWlmICggZGF0YS5sZW5ndGggPj0gNyApIHsKCgkJCQkJCQkJc3RhdGUuY29sb3JzLnB1c2goCgkJCQkJCQkJCXBhcnNlRmxvYXQoIGRhdGFbIDQgXSApLAoJCQkJCQkJCQlwYXJzZUZsb2F0KCBkYXRhWyA1IF0gKSwKCQkJCQkJCQkJcGFyc2VGbG9hdCggZGF0YVsgNiBdICkKCgkJCQkJCQkJKTsKCgkJCQkJCQl9IGVsc2UgewoKCQkJCQkJCQkvLyBpZiBubyBjb2xvcnMgYXJlIGRlZmluZWQsIGFkZCBwbGFjZWhvbGRlcnMgc28gY29sb3IgYW5kIHZlcnRleCBpbmRpY2VzIG1hdGNoCgoJCQkJCQkJCXN0YXRlLmNvbG9ycy5wdXNoKCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkICk7CgoJCQkJCQkJfQoKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICd2bic6CgkJCQkJCQlzdGF0ZS5ub3JtYWxzLnB1c2goCgkJCQkJCQkJcGFyc2VGbG9hdCggZGF0YVsgMSBdICksCgkJCQkJCQkJcGFyc2VGbG9hdCggZGF0YVsgMiBdICksCgkJCQkJCQkJcGFyc2VGbG9hdCggZGF0YVsgMyBdICkKCQkJCQkJCSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAndnQnOgoJCQkJCQkJc3RhdGUudXZzLnB1c2goCgkJCQkJCQkJcGFyc2VGbG9hdCggZGF0YVsgMSBdICksCgkJCQkJCQkJcGFyc2VGbG9hdCggZGF0YVsgMiBdICkKCQkJCQkJCSk7CgkJCQkJCQlicmVhazsKCgkJCQkJfQoKCQkJCX0gZWxzZSBpZiAoIGxpbmVGaXJzdENoYXIgPT09ICdmJyApIHsKCgkJCQkJdmFyIGxpbmVEYXRhID0gbGluZS5zdWJzdHIoIDEgKS50cmltKCk7CgkJCQkJdmFyIHZlcnRleERhdGEgPSBsaW5lRGF0YS5zcGxpdCggL1xzKy8gKTsKCQkJCQl2YXIgZmFjZVZlcnRpY2VzID0gW107CgoJCQkJCS8vIFBhcnNlIHRoZSBmYWNlIHZlcnRleCBkYXRhIGludG8gYW4gZWFzeSB0byB3b3JrIHdpdGggZm9ybWF0CgoJCQkJCWZvciAoIHZhciBqID0gMCwgamwgPSB2ZXJ0ZXhEYXRhLmxlbmd0aDsgaiA8IGpsOyBqICsrICkgewoKCQkJCQkJdmFyIHZlcnRleCA9IHZlcnRleERhdGFbIGogXTsKCgkJCQkJCWlmICggdmVydGV4Lmxlbmd0aCA+IDAgKSB7CgoJCQkJCQkJdmFyIHZlcnRleFBhcnRzID0gdmVydGV4LnNwbGl0KCAnLycgKTsKCQkJCQkJCWZhY2VWZXJ0aWNlcy5wdXNoKCB2ZXJ0ZXhQYXJ0cyApOwoKCQkJCQkJfQoKCQkJCQl9CgoJCQkJCS8vIERyYXcgYW4gZWRnZSBiZXR3ZWVuIHRoZSBmaXJzdCB2ZXJ0ZXggYW5kIGFsbCBzdWJzZXF1ZW50IHZlcnRpY2VzIHRvIGZvcm0gYW4gbi1nb24KCgkJCQkJdmFyIHYxID0gZmFjZVZlcnRpY2VzWyAwIF07CgoJCQkJCWZvciAoIHZhciBqID0gMSwgamwgPSBmYWNlVmVydGljZXMubGVuZ3RoIC0gMTsgaiA8IGpsOyBqICsrICkgewoKCQkJCQkJdmFyIHYyID0gZmFjZVZlcnRpY2VzWyBqIF07CgkJCQkJCXZhciB2MyA9IGZhY2VWZXJ0aWNlc1sgaiArIDEgXTsKCgkJCQkJCXN0YXRlLmFkZEZhY2UoCgkJCQkJCQl2MVsgMCBdLCB2MlsgMCBdLCB2M1sgMCBdLAoJCQkJCQkJdjFbIDEgXSwgdjJbIDEgXSwgdjNbIDEgXSwKCQkJCQkJCXYxWyAyIF0sIHYyWyAyIF0sIHYzWyAyIF0KCQkJCQkJKTsKCgkJCQkJfQoKCQkJCX0gZWxzZSBpZiAoIGxpbmVGaXJzdENoYXIgPT09ICdsJyApIHsKCgkJCQkJdmFyIGxpbmVQYXJ0cyA9IGxpbmUuc3Vic3RyaW5nKCAxICkudHJpbSgpLnNwbGl0KCAnICcgKTsKCQkJCQl2YXIgbGluZVZlcnRpY2VzID0gW10sIGxpbmVVVnMgPSBbXTsKCgkJCQkJaWYgKCBsaW5lLmluZGV4T2YoICcvJyApID09PSAtIDEgKSB7CgoJCQkJCQlsaW5lVmVydGljZXMgPSBsaW5lUGFydHM7CgoJCQkJCX0gZWxzZSB7CgoJCQkJCQlmb3IgKCB2YXIgbGkgPSAwLCBsbGVuID0gbGluZVBhcnRzLmxlbmd0aDsgbGkgPCBsbGVuOyBsaSArKyApIHsKCgkJCQkJCQl2YXIgcGFydHMgPSBsaW5lUGFydHNbIGxpIF0uc3BsaXQoICcvJyApOwoKCQkJCQkJCWlmICggcGFydHNbIDAgXSAhPT0gJycgKSBsaW5lVmVydGljZXMucHVzaCggcGFydHNbIDAgXSApOwoJCQkJCQkJaWYgKCBwYXJ0c1sgMSBdICE9PSAnJyApIGxpbmVVVnMucHVzaCggcGFydHNbIDEgXSApOwoKCQkJCQkJfQoKCQkJCQl9CgoJCQkJCXN0YXRlLmFkZExpbmVHZW9tZXRyeSggbGluZVZlcnRpY2VzLCBsaW5lVVZzICk7CgoJCQkJfSBlbHNlIGlmICggbGluZUZpcnN0Q2hhciA9PT0gJ3AnICkgewoKCQkJCQl2YXIgbGluZURhdGEgPSBsaW5lLnN1YnN0ciggMSApLnRyaW0oKTsKCQkJCQl2YXIgcG9pbnREYXRhID0gbGluZURhdGEuc3BsaXQoICcgJyApOwoKCQkJCQlzdGF0ZS5hZGRQb2ludEdlb21ldHJ5KCBwb2ludERhdGEgKTsKCgkJCQl9IGVsc2UgaWYgKCAoIHJlc3VsdCA9IG9iamVjdF9wYXR0ZXJuLmV4ZWMoIGxpbmUgKSApICE9PSBudWxsICkgewoKCQkJCQkvLyBvIG9iamVjdF9uYW1lCgkJCQkJLy8gb3IKCQkJCQkvLyBnIGdyb3VwX25hbWUKCgkJCQkJLy8gV09SS0FST1VORDogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Mjg2OQoJCQkJCS8vIHZhciBuYW1lID0gcmVzdWx0WyAwIF0uc3Vic3RyKCAxICkudHJpbSgpOwoJCQkJCXZhciBuYW1lID0gKCAnICcgKyByZXN1bHRbIDAgXS5zdWJzdHIoIDEgKS50cmltKCkgKS5zdWJzdHIoIDEgKTsKCgkJCQkJc3RhdGUuc3RhcnRPYmplY3QoIG5hbWUgKTsKCgkJCQl9IGVsc2UgaWYgKCBtYXRlcmlhbF91c2VfcGF0dGVybi50ZXN0KCBsaW5lICkgKSB7CgoJCQkJCS8vIG1hdGVyaWFsCgoJCQkJCXN0YXRlLm9iamVjdC5zdGFydE1hdGVyaWFsKCBsaW5lLnN1YnN0cmluZyggNyApLnRyaW0oKSwgc3RhdGUubWF0ZXJpYWxMaWJyYXJpZXMgKTsKCgkJCQl9IGVsc2UgaWYgKCBtYXRlcmlhbF9saWJyYXJ5X3BhdHRlcm4udGVzdCggbGluZSApICkgewoKCQkJCQkvLyBtdGwgZmlsZQoKCQkJCQlzdGF0ZS5tYXRlcmlhbExpYnJhcmllcy5wdXNoKCBsaW5lLnN1YnN0cmluZyggNyApLnRyaW0oKSApOwoKCQkJCX0gZWxzZSBpZiAoIG1hcF91c2VfcGF0dGVybi50ZXN0KCBsaW5lICkgKSB7CgoJCQkJCS8vIHRoZSBsaW5lIGlzIHBhcnNlZCBidXQgaWdub3JlZCBzaW5jZSB0aGUgbG9hZGVyIGFzc3VtZXMgdGV4dHVyZXMgYXJlIGRlZmluZWQgTVRMIGZpbGVzCgkJCQkJLy8gKGFjY29yZGluZyB0byBodHRwczovL3d3dy5va2luby5jb20vY29udi9pbXBfd2F2ZS5odG0sICd1c2VtYXAnIGlzIHRoZSBvbGQtc3R5bGUgV2F2ZWZyb250IHRleHR1cmUgcmVmZXJlbmNlIG1ldGhvZCkKCgkJCQkJY29uc29sZS53YXJuKCAnVEhSRUUuT0JKTG9hZGVyOiBSZW5kZXJpbmcgaWRlbnRpZmllciAidXNlbWFwIiBub3Qgc3VwcG9ydGVkLiBUZXh0dXJlcyBtdXN0IGJlIGRlZmluZWQgaW4gTVRMIGZpbGVzLicgKTsKCgkJCQl9IGVsc2UgaWYgKCBsaW5lRmlyc3RDaGFyID09PSAncycgKSB7CgoJCQkJCXJlc3VsdCA9IGxpbmUuc3BsaXQoICcgJyApOwoKCQkJCQkvLyBzbW9vdGggc2hhZGluZwoKCQkJCQkvLyBAdG9kbyBIYW5kbGUgZmlsZXMgdGhhdCBoYXZlIHZhcnlpbmcgc21vb3RoIHZhbHVlcyBmb3IgYSBzZXQgb2YgZmFjZXMgaW5zaWRlIG9uZSBnZW9tZXRyeSwKCQkJCQkvLyBidXQgZG9lcyBub3QgZGVmaW5lIGEgdXNlbXRsIGZvciBlYWNoIGZhY2Ugc2V0LgoJCQkJCS8vIFRoaXMgc2hvdWxkIGJlIGRldGVjdGVkIGFuZCBhIGR1bW15IG1hdGVyaWFsIGNyZWF0ZWQgKGxhdGVyIE11bHRpTWF0ZXJpYWwgYW5kIGdlb21ldHJ5IGdyb3VwcykuCgkJCQkJLy8gVGhpcyByZXF1aXJlcyBzb21lIGNhcmUgdG8gbm90IGNyZWF0ZSBleHRyYSBtYXRlcmlhbCBvbiBlYWNoIHNtb290aCB2YWx1ZSBmb3IgIm5vcm1hbCIgb2JqIGZpbGVzLgoJCQkJCS8vIHdoZXJlIGV4cGxpY2l0IHVzZW10bCBkZWZpbmVzIGdlb21ldHJ5IGdyb3Vwcy4KCQkJCQkvLyBFeGFtcGxlIGFzc2V0OiBleGFtcGxlcy9tb2RlbHMvb2JqL2NlcmJlcnVzL0NlcmJlcnVzLm9iagoKCQkJCQkvKgoJCQkJCSAqIGh0dHA6Ly9wYXVsYm91cmtlLm5ldC9kYXRhZm9ybWF0cy9vYmovCgkJCQkJICogb3IKCQkJCQkgKiBodHRwOi8vd3d3LmNzLnV0YWguZWR1L35ib3Vsb3MvY3MzNTA1L29ial9zcGVjLnBkZgoJCQkJCSAqCgkJCQkJICogRnJvbSBjaGFwdGVyICJHcm91cGluZyIgU3ludGF4IGV4cGxhbmF0aW9uICJzIGdyb3VwX251bWJlciI6CgkJCQkJICogImdyb3VwX251bWJlciBpcyB0aGUgc21vb3RoaW5nIGdyb3VwIG51bWJlci4gVG8gdHVybiBvZmYgc21vb3RoaW5nIGdyb3VwcywgdXNlIGEgdmFsdWUgb2YgMCBvciBvZmYuCgkJCQkJICogUG9seWdvbmFsIGVsZW1lbnRzIHVzZSBncm91cCBudW1iZXJzIHRvIHB1dCBlbGVtZW50cyBpbiBkaWZmZXJlbnQgc21vb3RoaW5nIGdyb3Vwcy4gRm9yIGZyZWUtZm9ybQoJCQkJCSAqIHN1cmZhY2VzLCBzbW9vdGhpbmcgZ3JvdXBzIGFyZSBlaXRoZXIgdHVybmVkIG9uIG9yIG9mZjsgdGhlcmUgaXMgbm8gZGlmZmVyZW5jZSBiZXR3ZWVuIHZhbHVlcyBncmVhdGVyCgkJCQkJICogdGhhbiAwLiIKCQkJCQkgKi8KCQkJCQlpZiAoIHJlc3VsdC5sZW5ndGggPiAxICkgewoKCQkJCQkJdmFyIHZhbHVlID0gcmVzdWx0WyAxIF0udHJpbSgpLnRvTG93ZXJDYXNlKCk7CgkJCQkJCXN0YXRlLm9iamVjdC5zbW9vdGggPSAoIHZhbHVlICE9PSAnMCcgJiYgdmFsdWUgIT09ICdvZmYnICk7CgoJCQkJCX0gZWxzZSB7CgoJCQkJCQkvLyBaQnJ1c2ggY2FuIHByb2R1Y2UgInMiIGxpbmVzICMxMTcwNwoJCQkJCQlzdGF0ZS5vYmplY3Quc21vb3RoID0gdHJ1ZTsKCgkJCQkJfQoKCQkJCQl2YXIgbWF0ZXJpYWwgPSBzdGF0ZS5vYmplY3QuY3VycmVudE1hdGVyaWFsKCk7CgkJCQkJaWYgKCBtYXRlcmlhbCApIG1hdGVyaWFsLnNtb290aCA9IHN0YXRlLm9iamVjdC5zbW9vdGg7CgoJCQkJfSBlbHNlIHsKCgkJCQkJLy8gSGFuZGxlIG51bGwgdGVybWluYXRlZCBmaWxlcyB3aXRob3V0IGV4Y2VwdGlvbgoJCQkJCWlmICggbGluZSA9PT0gJ1wwJyApIGNvbnRpbnVlOwoKCQkJCQljb25zb2xlLndhcm4oICdUSFJFRS5PQkpMb2FkZXI6IFVuZXhwZWN0ZWQgbGluZTogIicgKyBsaW5lICsgJyInICk7CgoJCQkJfQoKCQkJfQoKCQkJc3RhdGUuZmluYWxpemUoKTsKCgkJCXZhciBjb250YWluZXIgPSBuZXcgR3JvdXAoKTsKCQkJY29udGFpbmVyLm1hdGVyaWFsTGlicmFyaWVzID0gW10uY29uY2F0KCBzdGF0ZS5tYXRlcmlhbExpYnJhcmllcyApOwoKCQkJdmFyIGhhc1ByaW1pdGl2ZXMgPSAhICggc3RhdGUub2JqZWN0cy5sZW5ndGggPT09IDEgJiYgc3RhdGUub2JqZWN0c1sgMCBdLmdlb21ldHJ5LnZlcnRpY2VzLmxlbmd0aCA9PT0gMCApOwoKCQkJaWYgKCBoYXNQcmltaXRpdmVzID09PSB0cnVlICkgewoKCQkJCWZvciAoIHZhciBpID0gMCwgbCA9IHN0YXRlLm9iamVjdHMubGVuZ3RoOyBpIDwgbDsgaSArKyApIHsKCgkJCQkJdmFyIG9iamVjdCA9IHN0YXRlLm9iamVjdHNbIGkgXTsKCQkJCQl2YXIgZ2VvbWV0cnkgPSBvYmplY3QuZ2VvbWV0cnk7CgkJCQkJdmFyIG1hdGVyaWFscyA9IG9iamVjdC5tYXRlcmlhbHM7CgkJCQkJdmFyIGlzTGluZSA9ICggZ2VvbWV0cnkudHlwZSA9PT0gJ0xpbmUnICk7CgkJCQkJdmFyIGlzUG9pbnRzID0gKCBnZW9tZXRyeS50eXBlID09PSAnUG9pbnRzJyApOwoJCQkJCXZhciBoYXNWZXJ0ZXhDb2xvcnMgPSBmYWxzZTsKCgkJCQkJLy8gU2tpcCBvL2cgbGluZSBkZWNsYXJhdGlvbnMgdGhhdCBkaWQgbm90IGZvbGxvdyB3aXRoIGFueSBmYWNlcwoJCQkJCWlmICggZ2VvbWV0cnkudmVydGljZXMubGVuZ3RoID09PSAwICkgY29udGludWU7CgoJCQkJCXZhciBidWZmZXJnZW9tZXRyeSA9IG5ldyBCdWZmZXJHZW9tZXRyeSgpOwoKCQkJCQlidWZmZXJnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoICdwb3NpdGlvbicsIG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKCBnZW9tZXRyeS52ZXJ0aWNlcywgMyApICk7CgoJCQkJCWlmICggZ2VvbWV0cnkubm9ybWFscy5sZW5ndGggPiAwICkgewoKCQkJCQkJYnVmZmVyZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCAnbm9ybWFsJywgbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoIGdlb21ldHJ5Lm5vcm1hbHMsIDMgKSApOwoKCQkJCQl9CgoJCQkJCWlmICggZ2VvbWV0cnkuY29sb3JzLmxlbmd0aCA+IDAgKSB7CgoJCQkJCQloYXNWZXJ0ZXhDb2xvcnMgPSB0cnVlOwoJCQkJCQlidWZmZXJnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoICdjb2xvcicsIG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKCBnZW9tZXRyeS5jb2xvcnMsIDMgKSApOwoKCQkJCQl9CgoJCQkJCWlmICggZ2VvbWV0cnkuaGFzVVZJbmRpY2VzID09PSB0cnVlICkgewoKCQkJCQkJYnVmZmVyZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCAndXYnLCBuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSggZ2VvbWV0cnkudXZzLCAyICkgKTsKCgkJCQkJfQoKCQkJCQkvLyBDcmVhdGUgbWF0ZXJpYWxzCgoJCQkJCXZhciBjcmVhdGVkTWF0ZXJpYWxzID0gW107CgoJCQkJCWZvciAoIHZhciBtaSA9IDAsIG1pTGVuID0gbWF0ZXJpYWxzLmxlbmd0aDsgbWkgPCBtaUxlbjsgbWkgKysgKSB7CgoJCQkJCQl2YXIgc291cmNlTWF0ZXJpYWwgPSBtYXRlcmlhbHNbIG1pIF07CgkJCQkJCXZhciBtYXRlcmlhbEhhc2ggPSBzb3VyY2VNYXRlcmlhbC5uYW1lICsgJ18nICsgc291cmNlTWF0ZXJpYWwuc21vb3RoICsgJ18nICsgaGFzVmVydGV4Q29sb3JzOwoJCQkJCQl2YXIgbWF0ZXJpYWwgPSBzdGF0ZS5tYXRlcmlhbHNbIG1hdGVyaWFsSGFzaCBdOwoKCQkJCQkJaWYgKCB0aGlzLm1hdGVyaWFscyAhPT0gbnVsbCApIHsKCgkJCQkJCQltYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWxzLmNyZWF0ZSggc291cmNlTWF0ZXJpYWwubmFtZSApOwoKCQkJCQkJCS8vIG10bCBldGMuIGxvYWRlcnMgcHJvYmFibHkgY2FuJ3QgY3JlYXRlIGxpbmUgbWF0ZXJpYWxzIGNvcnJlY3RseSwgY29weSBwcm9wZXJ0aWVzIHRvIGEgbGluZSBtYXRlcmlhbC4KCQkJCQkJCWlmICggaXNMaW5lICYmIG1hdGVyaWFsICYmICEgKCBtYXRlcmlhbCBpbnN0YW5jZW9mIExpbmVCYXNpY01hdGVyaWFsICkgKSB7CgoJCQkJCQkJCXZhciBtYXRlcmlhbExpbmUgPSBuZXcgTGluZUJhc2ljTWF0ZXJpYWwoKTsKCQkJCQkJCQlNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKCBtYXRlcmlhbExpbmUsIG1hdGVyaWFsICk7CgkJCQkJCQkJbWF0ZXJpYWxMaW5lLmNvbG9yLmNvcHkoIG1hdGVyaWFsLmNvbG9yICk7CgkJCQkJCQkJbWF0ZXJpYWwgPSBtYXRlcmlhbExpbmU7CgoJCQkJCQkJfSBlbHNlIGlmICggaXNQb2ludHMgJiYgbWF0ZXJpYWwgJiYgISAoIG1hdGVyaWFsIGluc3RhbmNlb2YgUG9pbnRzTWF0ZXJpYWwgKSApIHsKCgkJCQkJCQkJdmFyIG1hdGVyaWFsUG9pbnRzID0gbmV3IFBvaW50c01hdGVyaWFsKCB7IHNpemU6IDEwLCBzaXplQXR0ZW51YXRpb246IGZhbHNlIH0gKTsKCQkJCQkJCQlNYXRlcmlhbC5wcm90b3R5cGUuY29weS5jYWxsKCBtYXRlcmlhbFBvaW50cywgbWF0ZXJpYWwgKTsKCQkJCQkJCQltYXRlcmlhbFBvaW50cy5jb2xvci5jb3B5KCBtYXRlcmlhbC5jb2xvciApOwoJCQkJCQkJCW1hdGVyaWFsUG9pbnRzLm1hcCA9IG1hdGVyaWFsLm1hcDsKCQkJCQkJCQltYXRlcmlhbCA9IG1hdGVyaWFsUG9pbnRzOwoKCQkJCQkJCX0KCgkJCQkJCX0KCgkJCQkJCWlmICggbWF0ZXJpYWwgPT09IHVuZGVmaW5lZCApIHsKCgkJCQkJCQlpZiAoIGlzTGluZSApIHsKCgkJCQkJCQkJbWF0ZXJpYWwgPSBuZXcgTGluZUJhc2ljTWF0ZXJpYWwoKTsKCgkJCQkJCQl9IGVsc2UgaWYgKCBpc1BvaW50cyApIHsKCgkJCQkJCQkJbWF0ZXJpYWwgPSBuZXcgUG9pbnRzTWF0ZXJpYWwoIHsgc2l6ZTogMSwgc2l6ZUF0dGVudWF0aW9uOiBmYWxzZSB9ICk7CgoJCQkJCQkJfSBlbHNlIHsKCgkJCQkJCQkJbWF0ZXJpYWwgPSBuZXcgTWVzaFBob25nTWF0ZXJpYWwoKTsKCgkJCQkJCQl9CgoJCQkJCQkJbWF0ZXJpYWwubmFtZSA9IHNvdXJjZU1hdGVyaWFsLm5hbWU7CgkJCQkJCQltYXRlcmlhbC5mbGF0U2hhZGluZyA9IHNvdXJjZU1hdGVyaWFsLnNtb290aCA/IGZhbHNlIDogdHJ1ZTsKCQkJCQkJCW1hdGVyaWFsLnZlcnRleENvbG9ycyA9IGhhc1ZlcnRleENvbG9yczsKCgkJCQkJCQlzdGF0ZS5tYXRlcmlhbHNbIG1hdGVyaWFsSGFzaCBdID0gbWF0ZXJpYWw7CgoJCQkJCQl9CgoJCQkJCQljcmVhdGVkTWF0ZXJpYWxzLnB1c2goIG1hdGVyaWFsICk7CgoJCQkJCX0KCgkJCQkJLy8gQ3JlYXRlIG1lc2gKCgkJCQkJdmFyIG1lc2g7CgoJCQkJCWlmICggY3JlYXRlZE1hdGVyaWFscy5sZW5ndGggPiAxICkgewoKCQkJCQkJZm9yICggdmFyIG1pID0gMCwgbWlMZW4gPSBtYXRlcmlhbHMubGVuZ3RoOyBtaSA8IG1pTGVuOyBtaSArKyApIHsKCgkJCQkJCQl2YXIgc291cmNlTWF0ZXJpYWwgPSBtYXRlcmlhbHNbIG1pIF07CgkJCQkJCQlidWZmZXJnZW9tZXRyeS5hZGRHcm91cCggc291cmNlTWF0ZXJpYWwuZ3JvdXBTdGFydCwgc291cmNlTWF0ZXJpYWwuZ3JvdXBDb3VudCwgbWkgKTsKCgkJCQkJCX0KCgkJCQkJCWlmICggaXNMaW5lICkgewoKCQkJCQkJCW1lc2ggPSBuZXcgTGluZVNlZ21lbnRzKCBidWZmZXJnZW9tZXRyeSwgY3JlYXRlZE1hdGVyaWFscyApOwoKCQkJCQkJfSBlbHNlIGlmICggaXNQb2ludHMgKSB7CgoJCQkJCQkJbWVzaCA9IG5ldyBQb2ludHMoIGJ1ZmZlcmdlb21ldHJ5LCBjcmVhdGVkTWF0ZXJpYWxzICk7CgoJCQkJCQl9IGVsc2UgewoKCQkJCQkJCW1lc2ggPSBuZXcgTWVzaCggYnVmZmVyZ2VvbWV0cnksIGNyZWF0ZWRNYXRlcmlhbHMgKTsKCgkJCQkJCX0KCgkJCQkJfSBlbHNlIHsKCgkJCQkJCWlmICggaXNMaW5lICkgewoKCQkJCQkJCW1lc2ggPSBuZXcgTGluZVNlZ21lbnRzKCBidWZmZXJnZW9tZXRyeSwgY3JlYXRlZE1hdGVyaWFsc1sgMCBdICk7CgoJCQkJCQl9IGVsc2UgaWYgKCBpc1BvaW50cyApIHsKCgkJCQkJCQltZXNoID0gbmV3IFBvaW50cyggYnVmZmVyZ2VvbWV0cnksIGNyZWF0ZWRNYXRlcmlhbHNbIDAgXSApOwoKCQkJCQkJfSBlbHNlIHsKCgkJCQkJCQltZXNoID0gbmV3IE1lc2goIGJ1ZmZlcmdlb21ldHJ5LCBjcmVhdGVkTWF0ZXJpYWxzWyAwIF0gKTsKCgkJCQkJCX0KCgkJCQkJfQoKCQkJCQltZXNoLm5hbWUgPSBvYmplY3QubmFtZTsKCgkJCQkJY29udGFpbmVyLmFkZCggbWVzaCApOwoKCQkJCX0KCgkJCX0gZWxzZSB7CgoJCQkJLy8gaWYgdGhlcmUgaXMgb25seSB0aGUgZGVmYXVsdCBwYXJzZXIgc3RhdGUgb2JqZWN0IHdpdGggbm8gZ2VvbWV0cnkgZGF0YSwgaW50ZXJwcmV0IGRhdGEgYXMgcG9pbnQgY2xvdWQKCgkJCQlpZiAoIHN0YXRlLnZlcnRpY2VzLmxlbmd0aCA+IDAgKSB7CgoJCQkJCXZhciBtYXRlcmlhbCA9IG5ldyBQb2ludHNNYXRlcmlhbCggeyBzaXplOiAxLCBzaXplQXR0ZW51YXRpb246IGZhbHNlIH0gKTsKCgkJCQkJdmFyIGJ1ZmZlcmdlb21ldHJ5ID0gbmV3IEJ1ZmZlckdlb21ldHJ5KCk7CgoJCQkJCWJ1ZmZlcmdlb21ldHJ5LnNldEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJywgbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoIHN0YXRlLnZlcnRpY2VzLCAzICkgKTsKCgkJCQkJaWYgKCBzdGF0ZS5jb2xvcnMubGVuZ3RoID4gMCAmJiBzdGF0ZS5jb2xvcnNbIDAgXSAhPT0gdW5kZWZpbmVkICkgewoKCQkJCQkJYnVmZmVyZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCAnY29sb3InLCBuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSggc3RhdGUuY29sb3JzLCAzICkgKTsKCQkJCQkJbWF0ZXJpYWwudmVydGV4Q29sb3JzID0gdHJ1ZTsKCgkJCQkJfQoKCQkJCQl2YXIgcG9pbnRzID0gbmV3IFBvaW50cyggYnVmZmVyZ2VvbWV0cnksIG1hdGVyaWFsICk7CgkJCQkJY29udGFpbmVyLmFkZCggcG9pbnRzICk7CgoJCQkJfQoKCQkJfQoKCQkJcmV0dXJuIGNvbnRhaW5lcjsKCgkJfQoKCX0gKTsKCglyZXR1cm4gT0JKTG9hZGVyOwoKfSApKCk7CgoKVEhSRUUuT0JKTG9hZGVyPU9CSkxvYWRlcjsKfSgpKTs=`)});
            }());

            // ======= KEEP THIS EXAMPLE HERE =======
            // (function(for_EXAMPLE)
            // {
            //     HEAD.insert({script:`#EXAMPLE_main`,$:decode.b64(``)});
            // }());
        });
    };
// ----------------------------------------------------------------------------------------------------------------------------




// tool :: renderer : 3d helper tool
// ----------------------------------------------------------------------------------------------------------------------------
    class renderer
    {
        constructor(tgt)
        {
            if(!runsAt(CLIENT)){return};
            let tmp; this.assign({loaded:{OBJLoader:THREE.OBJLoader},halted:TRUE,driver:{},recent:{}});

            if(isKnob(tgt)&&!isNode(tgt)){tgt=create("div").modify(tgt)}
            else if(isText(tgt))
            {
                tgt=trim(tgt); if(!expect.text(tgt,1)){return}; try{tmp=select(tgt);}catch(e){};
                if(isNode(tmp)){tgt=tmp}else if(isList(tmp,1)){tgt=tmp[0]}
                else if(isWord(tgt)){tgt=create(tgt)}else{tgt=create({div:tgt})};
            };

            if(!expect.node(tgt)){return}; this.holder=tgt; // must be DOM node
            herald(this); return this.vivify();
        }


        deploy(tgt)
        {
            if(!expect.node(tgt)){return};
            if(!tgt.select("^")){fail("deploy target must exist in the DOM"); return};
            tgt.appendChild(this.holder);
            return this;
        }


        obtain(obj,dmp)
        {
            if(isPath(obj)){obj={[(leaf(obj).split(".")[0])]:obj}};
            if(!expect.knob(obj,1)){return}; this.recent.busy=1;
            var d,m; d=[0,span(obj)]; m={}; obj.forEach((v,k)=>
            {
                if(!expect.path(v)){return}; let mod,ext; mod=leaf(v).split(".")[0]; ext=fext(v);
                if(isin(this.loaded,mod)){d[0]++; return NEXT};

                if(isin("jpg,jpeg,png,gif,webp,svg,bmp",ext))
                {
                    this.loaded[k]=THREE.ImageUtils.loadTexture(v,{},()=>{d[0]++});
                    return NEXT;
                };

                if(isin("js,jsm",ext))
                {
                    disk.readFile(v,(txt,hdr,obj)=>
                    {
                        let frg; frg=`var ${mod} = (`; mod=leaf(obj.path).split(".")[0];
                        let vrs,arg; vrs = expose(txt,"import {","} from "); txt=trim(txt);
                        if(!isin(txt,frg)){moan(`expecting \`${frg}\``); d[1]--; return};
                        if(!vrs){moan(`expecting import vars`); d[1]--; return};

                        arg=swap(vrs[0].trim(),["\n","\t"," "],"").split(",");
                        vrs=arg.modify((i)=>{return (i+" = THREE."+i)});
                        arg=arg.join(","); vrs=(vrs.join(";\n")+";\n");
                        txt=txt.split(frg).pop(); txt=txt.split("\n").rpop(TRUE).join("\n");
                        txt=(`!(function(${arg})\n{\n${vrs}\n${frg+txt}\n\nTHREE.${mod}=${mod}; return ${mod};\n}());`);

                        if(dmp==DUMP){dump(btoa(txt))}; HEAD.insert({script:`#THREE_${mod}`,$:txt});
                        this.loaded[mod]=THREE[mod]; m[mod]=THREE[mod]; d[0]++;
                    });
                    return NEXT;
                };

                if(isin("obj",ext))
                {
                    // let man = new THREE.LoadingManager();
                    let ldr = new this.loaded.OBJLoader(); ldr.load(v,(o)=>
                    {
                        (function(s){s.loaded[this.mod]=o; m[this.mod]=o; d[0]++;}.bind({mod:mod})).apply(null,[this]);
                    });
                };
            });

            when(()=>{return (d[0]>=d[1])}).then(()=>{this.recent.busy=0; this.emit("loaded",this.loaded)});

            enthen(this,function(cbf){when(()=>{return (d[0]>=d[1])}).then(()=>{cbf.apply(this,[((span(m)<2)?vals(m)[0]:m)])})});
            // this.then.done=m;
            return this;
        }


        vivify(opt)
        {
            if(!expect.node(this.holder)){return};
            when(()=>{return ((this.holder.select("^")&&!this.recent.busy)?this.holder:VOID)}).
            then((tgt)=>
            {
                let box=rect(tgt.parentNode);
                let req={angle:45,ratio:(box.width/box.height),place:10000,speed:1};
                if(!isKnob(opt)){opt=req}else{opt.assign(req)};

                this.driver.scene = new THREE.Scene();
                this.driver.webgl = new THREE.WebGLRenderer();
                this.driver.camra = new THREE.PerspectiveCamera(opt.angle,opt.ratio,1,opt.place);
                this.driver.rayca = new THREE.Raycaster();
                this.driver.mouse = new THREE.Vector2();
                this.driver.cntrl = new THREE.OrbitControls(this.driver.camra,this.driver.webgl.domElement);

                this.driver.cntrl.zoomSpeed = opt.speed;
                this.driver.cntrl.target = (new THREE.Vector3(0,0,0));
                this.driver.camra.position.z = 1000;
                this.driver.webgl.setPixelRatio(window.devicePixelRatio);
                this.driver.webgl.setSize(box.width, box.height);

                tgt.appendChild(this.driver.webgl.domElement);


                this.driver.cntrl.addEventListener("change",(e)=>
                {
                    if(!this.isLive()){return}; // nothing to do .. prevents errors
                    if(this.recent.ctrl){this.recent.ctrl=0; return}; // this was us .. below

                    let num,bfr,pos,rot,dir; num=(this.recent.numr||0); num++; bfr=(this.recent.bufr||[]);

                    pos=round(vals(e.target.object.position).lpop(!0),12);
                    rot=round(vals(e.target.object.rotation).lpop(!0).rpop(!0).rpop(!0),12);
                    bfr.radd({pos:pos,rot:rot}); if(bfr.length>3){bfr.lpop()}; this.recent.bufr=bfr;

                    if(bfr.length<3){this.render(1); return}; // wait for 3 objects
                    if(bfr.select({fetch:"rot",where:UNIQUE}).length == 1)
                    {
                        if((bfr[0].pos[2]<bfr[1].pos[2])&&(bfr[1].pos[2]<bfr[2].pos[2])){dir="Bck"}
                        else if((bfr[0].pos[2]>bfr[1].pos[2])&&(bfr[1].pos[2]>bfr[2].pos[2])){dir="Fwd"};
                        if(dir){this.emit("CameraDolly",{direct:dir,buffer:bfr});};
                    }
                    else if(!dir)
                    {this.emit("CameraRotate",{buffer:bfr});};

                    this.render(EXCEPT);
                });

                upon("ResizeEnd",()=>{this.resync()});

                this.halted=FALS; this.resync(); this.render();
                this.emit("ready");
            });

            after(3000)(()=>{if(!this.isLive()){moan("the renderer holder is expected inside the DOM")}});
            return this;
        }


        isLive()
        {
            return ((!isNode(this.holder)||!this.holder.select("^")||this.halted)?FALS:TRUE);
        }


        pacify()
        {
            this.halted=TRUE;
            return this;
        }


        resync()
        {
            if(!this.isLive()){return}; let box=rect(this.holder.parentNode);
            this.driver.camra.aspect = (box.width/box.height);
            this.driver.camra.updateProjectionMatrix(); this.driver.webgl.setSize(box.width,box.height);
            this.render(); return this;
        }


        render(ctrl)
        {
            this.driver.mouse.x = ((device.vars.axis.x/window.innerWidth) * 2 - 1);
            this.driver.mouse.y = ((device.vars.axis.y/window.innerHeight) * 2 + 1);

            this.driver.rayca.setFromCamera(this.driver.mouse,this.driver.camra);
            if(ctrl!==EXCEPT){this.driver.cntrl.update()};
            this.driver.webgl.render(this.driver.scene,this.driver.camra);
        }


        create(arg)
        {
            if(!expect.args(arg,{using:"text,1",named:"text,1",yield:"text,1"})){return}; // validate
            let geo,mat,yld; geo=(new THREE[arg.basis]());
            mat=(new THREE[arg.using](arg.param)); yld=(new THREE[arg.yield](geo,mat));
            yld.name=arg.named; this.driver.scene.add(yld);
            this.render(); return this;
        }


        select(arg)
        {
            if(isText(arg,2)&&arg.startsWith("#"))
            {
                return this.driver.scene.getObjectByName(arg.slice(1));
            };
        }


        insert(arg)
        {
            if(isPath(arg))
            {
                this.obtain(arg).then((m)=>{this.driver.scene.add(m)});
                return this;
            };

            return this;
        }


        remove(arg)
        {
            let tgt=this.select(arg); if(!tgt){return this}; if(!isList(tgt)){tgt=[tgt]};
            tgt.forEach((i)=>{i.remove()}); this.render();
            return this;
        }
    }
// ----------------------------------------------------------------------------------------------------------------------------




// shim :: (Element.prototype.init3D) : 3d helper tool to bind it to an HTML node
// ----------------------------------------------------------------------------------------------------------------------------
    if(CLIENTSIDE)
    {
        extend(Element.prototype)
        ({
            init3D:function init3D(arg)
            {
                return (new renderer(arg)).deploy(this);
            }
        });
    };
// ----------------------------------------------------------------------------------------------------------------------------




// dcor :: (normalize) : normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css
// ----------------------------------------------------------------------------------------------------------------------------
    if(CLIENTSIDE){upon("domReady",function()
    {
        ornate(`aHRtbHtsaW5lLWhlaWdodDoxLjE1Oy13ZWJraXQtdGV4dC1zaXplLWFkanVzdDoxMDAlfWJvZHl7bWFyZ2luOjB9bWFpbntkaXNwbGF5OmJsb2NrfWgxe2ZvbnQtc2l6ZToyZW07bWFyZ2luOjAuNjdlbSAwfWhye2JveC1zaXppbmc6Y29udGVudC1ib3g7aGVpZ2h0OjA7b3ZlcmZsb3c6dmlzaWJsZX1wcmV7Zm9udC1mYW1pbHk6bW9ub3NwYWNlLCBtb25vc3BhY2U7Zm9udC1zaXplOjFlbX1he2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9YWJiclt0aXRsZV17Ym9yZGVyLWJvdHRvbTpub25lO3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZSBkb3R0ZWR9YixzdHJvbmd7Zm9udC13ZWlnaHQ6Ym9sZGVyfWNvZGUsa2JkLHNhbXB7Zm9udC1mYW1pbHk6bW9ub3NwYWNlLCBtb25vc3BhY2U7Zm9udC1zaXplOjFlbX1zbWFsbHtmb250LXNpemU6ODAlfXN1YixzdXB7Zm9udC1zaXplOjc1JTtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfXN1Yntib3R0b206LTAuMjVlbX1zdXB7dG9wOi0wLjVlbX1pbWd7Ym9yZGVyLXN0eWxlOm5vbmV9YnV0dG9uLGlucHV0LG9wdGdyb3VwLHNlbGVjdCx0ZXh0YXJlYXtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZToxMDAlO2xpbmUtaGVpZ2h0OjEuMTU7bWFyZ2luOjB9YnV0dG9uLGlucHV0e292ZXJmbG93OnZpc2libGV9YnV0dG9uLHNlbGVjdHt0ZXh0LXRyYW5zZm9ybTpub25lfVt0eXBlPSJidXR0b24iXSxbdHlwZT0icmVzZXQiXSxbdHlwZT0ic3VibWl0Il0sYnV0dG9uey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b259W3R5cGU9ImJ1dHRvbiJdOjotbW96LWZvY3VzLWlubmVyLFt0eXBlPSJyZXNldCJdOjotbW96LWZvY3VzLWlubmVyLFt0eXBlPSJzdWJtaXQiXTo6LW1vei1mb2N1cy1pbm5lcixidXR0b246Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyLXN0eWxlOm5vbmU7cGFkZGluZzowfVt0eXBlPSJidXR0b24iXTotbW96LWZvY3VzcmluZyxbdHlwZT0icmVzZXQiXTotbW96LWZvY3VzcmluZyxbdHlwZT0ic3VibWl0Il06LW1vei1mb2N1c3JpbmcsYnV0dG9uOi1tb3otZm9jdXNyaW5ne291dGxpbmU6MXB4IGRvdHRlZCBCdXR0b25UZXh0fWZpZWxkc2V0e3BhZGRpbmc6MC4zNWVtIDAuNzVlbSAwLjYyNWVtfWxlZ2VuZHtib3gtc2l6aW5nOmJvcmRlci1ib3g7Y29sb3I6aW5oZXJpdDtkaXNwbGF5OnRhYmxlO21heC13aWR0aDoxMDAlO3BhZGRpbmc6MDt3aGl0ZS1zcGFjZTpub3JtYWx9cHJvZ3Jlc3N7dmVydGljYWwtYWxpZ246YmFzZWxpbmV9dGV4dGFyZWF7b3ZlcmZsb3c6YXV0b31bdHlwZT0iY2hlY2tib3giXSxbdHlwZT0icmFkaW8iXXtib3gtc2l6aW5nOmJvcmRlci1ib3g7cGFkZGluZzowfVt0eXBlPSJudW1iZXIiXTo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbixbdHlwZT0ibnVtYmVyIl06Oi13ZWJraXQtb3V0ZXItc3Bpbi1idXR0b257aGVpZ2h0OmF1dG99W3R5cGU9InNlYXJjaCJdey13ZWJraXQtYXBwZWFyYW5jZTp0ZXh0ZmllbGQ7b3V0bGluZS1vZmZzZXQ6LTJweH1bdHlwZT0ic2VhcmNoIl06Oi13ZWJraXQtc2VhcmNoLWRlY29yYXRpb257LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmV9Ojotd2Via2l0LWZpbGUtdXBsb2FkLWJ1dHRvbnstd2Via2l0LWFwcGVhcmFuY2U6YnV0dG9uO2ZvbnQ6aW5oZXJpdH1kZXRhaWxze2Rpc3BsYXk6YmxvY2t9c3VtbWFyeXtkaXNwbGF5Omxpc3QtaXRlbX10ZW1wbGF0ZXtkaXNwbGF5Om5vbmV9W2hpZGRlbl17ZGlzcGxheTpub25lfQ==`);

        // CSS fine-tuning :: border-box for all .. default bgcolor, font, fgcolor .. useful classes like .view & .layr
        ornate(`Kntib3gtc2l6aW5nOmJvcmRlci1ib3h9Ym9keSxodG1se2hlaWdodDoxMDAlfWJvZHl7YmFja2dyb3VuZDpoc2xhKDIxMCwzJSwxNiUsMSk7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7Y29sb3I6Izk5OX0udmlld3tkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDt6LWluZGV4OjEwMDAwMDA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0ubGF5cntkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt6LWluZGV4OjkwMDAwMDA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0=`);
    })};
// ----------------------------------------------------------------------------------------------------------------------------
